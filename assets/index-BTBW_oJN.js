(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var im=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gB(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ZE(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var yv={exports:{}},Bp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function eS(){if(Hw)return Bp;Hw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var d in i)d!=="key"&&(o[d]=i[d])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:c,ref:i!==void 0?i:null,props:o}}return Bp.Fragment=e,Bp.jsx=t,Bp.jsxs=t,Bp}var Vw;function tS(){return Vw||(Vw=1,yv.exports=eS()),yv.exports}var A=tS(),wv={exports:{}},kn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kw;function nS(){if(Kw)return kn;Kw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),b=Symbol.iterator;function x(re){return re===null||typeof re!="object"?null:(re=b&&re[b]||re["@@iterator"],typeof re=="function"?re:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,F={};function Q(re,de,K){this.props=re,this.context=de,this.refs=F,this.updater=K||w}Q.prototype.isReactComponent={},Q.prototype.setState=function(re,de){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,de,"setState")},Q.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function I(){}I.prototype=Q.prototype;function T(re,de,K){this.props=re,this.context=de,this.refs=F,this.updater=K||w}var _=T.prototype=new I;_.constructor=T,R(_,Q.prototype),_.isPureReactComponent=!0;var O=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function U(re,de,K,ne,ce,Be){return K=Be.ref,{$$typeof:n,type:re,key:de,ref:K!==void 0?K:null,props:Be}}function L(re,de){return U(re.type,de,void 0,void 0,void 0,re.props)}function G(re){return typeof re=="object"&&re!==null&&re.$$typeof===n}function X(re){var de={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(K){return de[K]})}var P=/\/+/g;function H(re,de){return typeof re=="object"&&re!==null&&re.key!=null?X(""+re.key):de.toString(36)}function V(){}function te(re){switch(re.status){case"fulfilled":return re.value;case"rejected":throw re.reason;default:switch(typeof re.status=="string"?re.then(V,V):(re.status="pending",re.then(function(de){re.status==="pending"&&(re.status="fulfilled",re.value=de)},function(de){re.status==="pending"&&(re.status="rejected",re.reason=de)})),re.status){case"fulfilled":return re.value;case"rejected":throw re.reason}}throw re}function ge(re,de,K,ne,ce){var Be=typeof re;(Be==="undefined"||Be==="boolean")&&(re=null);var he=!1;if(re===null)he=!0;else switch(Be){case"bigint":case"string":case"number":he=!0;break;case"object":switch(re.$$typeof){case n:case e:he=!0;break;case h:return he=re._init,ge(he(re._payload),de,K,ne,ce)}}if(he)return ce=ce(re),he=ne===""?"."+H(re,0):ne,O(ce)?(K="",he!=null&&(K=he.replace(P,"$&/")+"/"),ge(ce,de,K,"",function(Ie){return Ie})):ce!=null&&(G(ce)&&(ce=L(ce,K+(ce.key==null||re&&re.key===ce.key?"":(""+ce.key).replace(P,"$&/")+"/")+he)),de.push(ce)),1;he=0;var xe=ne===""?".":ne+":";if(O(re))for(var Se=0;Se<re.length;Se++)ne=re[Se],Be=xe+H(ne,Se),he+=ge(ne,de,K,Be,ce);else if(Se=x(re),typeof Se=="function")for(re=Se.call(re),Se=0;!(ne=re.next()).done;)ne=ne.value,Be=xe+H(ne,Se++),he+=ge(ne,de,K,Be,ce);else if(Be==="object"){if(typeof re.then=="function")return ge(te(re),de,K,ne,ce);throw de=String(re),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.")}return he}function oe(re,de,K){if(re==null)return re;var ne=[],ce=0;return ge(re,ne,"","",function(Be){return de.call(K,Be,ce++)}),ne}function we(re){if(re._status===-1){var de=re._result;de=de(),de.then(function(K){(re._status===0||re._status===-1)&&(re._status=1,re._result=K)},function(K){(re._status===0||re._status===-1)&&(re._status=2,re._result=K)}),re._status===-1&&(re._status=0,re._result=de)}if(re._status===1)return re._result.default;throw re._result}var be=typeof reportError=="function"?reportError:function(re){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var de=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof re=="object"&&re!==null&&typeof re.message=="string"?String(re.message):String(re),error:re});if(!window.dispatchEvent(de))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",re);return}console.error(re)};function je(){}return kn.Children={map:oe,forEach:function(re,de,K){oe(re,function(){de.apply(this,arguments)},K)},count:function(re){var de=0;return oe(re,function(){de++}),de},toArray:function(re){return oe(re,function(de){return de})||[]},only:function(re){if(!G(re))throw Error("React.Children.only expected to receive a single React element child.");return re}},kn.Component=Q,kn.Fragment=t,kn.Profiler=i,kn.PureComponent=T,kn.StrictMode=r,kn.Suspense=u,kn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,kn.__COMPILER_RUNTIME={__proto__:null,c:function(re){return z.H.useMemoCache(re)}},kn.cache=function(re){return function(){return re.apply(null,arguments)}},kn.cloneElement=function(re,de,K){if(re==null)throw Error("The argument must be a React element, but you passed "+re+".");var ne=R({},re.props),ce=re.key,Be=void 0;if(de!=null)for(he in de.ref!==void 0&&(Be=void 0),de.key!==void 0&&(ce=""+de.key),de)!$.call(de,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&de.ref===void 0||(ne[he]=de[he]);var he=arguments.length-2;if(he===1)ne.children=K;else if(1<he){for(var xe=Array(he),Se=0;Se<he;Se++)xe[Se]=arguments[Se+2];ne.children=xe}return U(re.type,ce,void 0,void 0,Be,ne)},kn.createContext=function(re){return re={$$typeof:c,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null},re.Provider=re,re.Consumer={$$typeof:o,_context:re},re},kn.createElement=function(re,de,K){var ne,ce={},Be=null;if(de!=null)for(ne in de.key!==void 0&&(Be=""+de.key),de)$.call(de,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ce[ne]=de[ne]);var he=arguments.length-2;if(he===1)ce.children=K;else if(1<he){for(var xe=Array(he),Se=0;Se<he;Se++)xe[Se]=arguments[Se+2];ce.children=xe}if(re&&re.defaultProps)for(ne in he=re.defaultProps,he)ce[ne]===void 0&&(ce[ne]=he[ne]);return U(re,Be,void 0,void 0,null,ce)},kn.createRef=function(){return{current:null}},kn.forwardRef=function(re){return{$$typeof:d,render:re}},kn.isValidElement=G,kn.lazy=function(re){return{$$typeof:h,_payload:{_status:-1,_result:re},_init:we}},kn.memo=function(re,de){return{$$typeof:p,type:re,compare:de===void 0?null:de}},kn.startTransition=function(re){var de=z.T,K={};z.T=K;try{var ne=re(),ce=z.S;ce!==null&&ce(K,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(je,be)}catch(Be){be(Be)}finally{z.T=de}},kn.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},kn.use=function(re){return z.H.use(re)},kn.useActionState=function(re,de,K){return z.H.useActionState(re,de,K)},kn.useCallback=function(re,de){return z.H.useCallback(re,de)},kn.useContext=function(re){return z.H.useContext(re)},kn.useDebugValue=function(){},kn.useDeferredValue=function(re,de){return z.H.useDeferredValue(re,de)},kn.useEffect=function(re,de,K){var ne=z.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(re,de)},kn.useId=function(){return z.H.useId()},kn.useImperativeHandle=function(re,de,K){return z.H.useImperativeHandle(re,de,K)},kn.useInsertionEffect=function(re,de){return z.H.useInsertionEffect(re,de)},kn.useLayoutEffect=function(re,de){return z.H.useLayoutEffect(re,de)},kn.useMemo=function(re,de){return z.H.useMemo(re,de)},kn.useOptimistic=function(re,de){return z.H.useOptimistic(re,de)},kn.useReducer=function(re,de,K){return z.H.useReducer(re,de,K)},kn.useRef=function(re){return z.H.useRef(re)},kn.useState=function(re){return z.H.useState(re)},kn.useSyncExternalStore=function(re,de,K){return z.H.useSyncExternalStore(re,de,K)},kn.useTransition=function(){return z.H.useTransition()},kn.version="19.1.1",kn}var Gw;function Vy(){return Gw||(Gw=1,wv.exports=nS()),wv.exports}var pe=Vy();const yf=gB(pe);var bv={exports:{}},xp={},Bv={exports:{}},xv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function rS(){return zw||(zw=1,(function(n){function e(oe,we){var be=oe.length;oe.push(we);e:for(;0<be;){var je=be-1>>>1,re=oe[je];if(0<i(re,we))oe[je]=we,oe[be]=re,be=je;else break e}}function t(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var we=oe[0],be=oe.pop();if(be!==we){oe[0]=be;e:for(var je=0,re=oe.length,de=re>>>1;je<de;){var K=2*(je+1)-1,ne=oe[K],ce=K+1,Be=oe[ce];if(0>i(ne,be))ce<re&&0>i(Be,ne)?(oe[je]=Be,oe[ce]=be,je=ce):(oe[je]=ne,oe[K]=be,je=K);else if(ce<re&&0>i(Be,be))oe[je]=Be,oe[ce]=be,je=ce;else break e}}return we}function i(oe,we){var be=oe.sortIndex-we.sortIndex;return be!==0?be:oe.id-we.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var u=[],p=[],h=1,b=null,x=3,w=!1,R=!1,F=!1,Q=!1,I=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function O(oe){for(var we=t(p);we!==null;){if(we.callback===null)r(p);else if(we.startTime<=oe)r(p),we.sortIndex=we.expirationTime,e(u,we);else break;we=t(p)}}function z(oe){if(F=!1,O(oe),!R)if(t(u)!==null)R=!0,$||($=!0,H());else{var we=t(p);we!==null&&ge(z,we.startTime-oe)}}var $=!1,U=-1,L=5,G=-1;function X(){return Q?!0:!(n.unstable_now()-G<L)}function P(){if(Q=!1,$){var oe=n.unstable_now();G=oe;var we=!0;try{e:{R=!1,F&&(F=!1,T(U),U=-1),w=!0;var be=x;try{t:{for(O(oe),b=t(u);b!==null&&!(b.expirationTime>oe&&X());){var je=b.callback;if(typeof je=="function"){b.callback=null,x=b.priorityLevel;var re=je(b.expirationTime<=oe);if(oe=n.unstable_now(),typeof re=="function"){b.callback=re,O(oe),we=!0;break t}b===t(u)&&r(u),O(oe)}else r(u);b=t(u)}if(b!==null)we=!0;else{var de=t(p);de!==null&&ge(z,de.startTime-oe),we=!1}}break e}finally{b=null,x=be,w=!1}we=void 0}}finally{we?H():$=!1}}}var H;if(typeof _=="function")H=function(){_(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,te=V.port2;V.port1.onmessage=P,H=function(){te.postMessage(null)}}else H=function(){I(P,0)};function ge(oe,we){U=I(function(){oe(n.unstable_now())},we)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(oe){switch(x){case 1:case 2:case 3:var we=3;break;default:we=x}var be=x;x=we;try{return oe()}finally{x=be}},n.unstable_requestPaint=function(){Q=!0},n.unstable_runWithPriority=function(oe,we){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var be=x;x=oe;try{return we()}finally{x=be}},n.unstable_scheduleCallback=function(oe,we,be){var je=n.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?je+be:je):be=je,oe){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=be+re,oe={id:h++,callback:we,priorityLevel:oe,startTime:be,expirationTime:re,sortIndex:-1},be>je?(oe.sortIndex=be,e(p,oe),t(u)===null&&oe===t(p)&&(F?(T(U),U=-1):F=!0,ge(z,be-je))):(oe.sortIndex=re,e(u,oe),R||w||(R=!0,$||($=!0,H()))),oe},n.unstable_shouldYield=X,n.unstable_wrapCallback=function(oe){var we=x;return function(){var be=x;x=we;try{return oe.apply(this,arguments)}finally{x=be}}}})(xv)),xv}var qw;function sS(){return qw||(qw=1,Bv.exports=rS()),Bv.exports}var Cv={exports:{}},Sa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function iS(){if($w)return Sa;$w=1;var n=Vy();function e(u){var p="https://react.dev/errors/"+u;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)p+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(u,p,h){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:u,containerInfo:p,implementation:h}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(u,p){if(u==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Sa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sa.createPortal=function(u,p){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(u,p,null,h)},Sa.flushSync=function(u){var p=c.T,h=r.p;try{if(c.T=null,r.p=2,u)return u()}finally{c.T=p,r.p=h,r.d.f()}},Sa.preconnect=function(u,p){typeof u=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(u,p))},Sa.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Sa.preinit=function(u,p){if(typeof u=="string"&&p&&typeof p.as=="string"){var h=p.as,b=d(h,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;h==="style"?r.d.S(u,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:w}):h==="script"&&r.d.X(u,{crossOrigin:b,integrity:x,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Sa.preinitModule=function(u,p){if(typeof u=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var h=d(p.as,p.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(u)},Sa.preload=function(u,p){if(typeof u=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var h=p.as,b=d(h,p.crossOrigin);r.d.L(u,h,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Sa.preloadModule=function(u,p){if(typeof u=="string")if(p){var h=d(p.as,p.crossOrigin);r.d.m(u,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:h,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(u)},Sa.requestFormReset=function(u){r.d.r(u)},Sa.unstable_batchedUpdates=function(u,p){return u(p)},Sa.useFormState=function(u,p,h){return c.H.useFormState(u,p,h)},Sa.useFormStatus=function(){return c.H.useHostTransitionStatus()},Sa.version="19.1.1",Sa}var Ww;function aS(){if(Ww)return Cv.exports;Ww=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cv.exports=iS(),Cv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yw;function oS(){if(Yw)return xp;Yw=1;var n=sS(),e=Vy(),t=aS();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(r(188))}function u(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var l=s,f=a;;){var E=l.return;if(E===null)break;var j=E.alternate;if(j===null){if(f=E.return,f!==null){l=f;continue}break}if(E.child===j.child){for(j=E.child;j;){if(j===l)return d(E),s;if(j===f)return d(E),a;j=j.sibling}throw Error(r(188))}if(l.return!==f.return)l=E,f=j;else{for(var J=!1,ue=E.child;ue;){if(ue===l){J=!0,l=E,f=j;break}if(ue===f){J=!0,f=E,l=j;break}ue=ue.sibling}if(!J){for(ue=j.child;ue;){if(ue===l){J=!0,l=j,f=E;break}if(ue===f){J=!0,f=j,l=E;break}ue=ue.sibling}if(!J)throw Error(r(189))}}if(l.alternate!==f)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:a}function p(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=p(s),a!==null)return a;s=s.sibling}return null}var h=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),_=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function te(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case Q:return"Profiler";case F:return"StrictMode";case z:return"Suspense";case $:return"SuspenseList";case G:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case _:return(s.displayName||"Context")+".Provider";case T:return(s._context.displayName||"Context")+".Consumer";case O:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case U:return a=s.displayName||null,a!==null?a:te(s.type)||"Memo";case L:a=s._payload,s=s._init;try{return te(s(a))}catch{}}return null}var ge=Array.isArray,oe=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},je=[],re=-1;function de(s){return{current:s}}function K(s){0>re||(s.current=je[re],je[re]=null,re--)}function ne(s,a){re++,je[re]=s.current,s.current=a}var ce=de(null),Be=de(null),he=de(null),xe=de(null);function Se(s,a){switch(ne(he,a),ne(Be,s),ne(ce,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?gw(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=gw(a),s=mw(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}K(ce),ne(ce,s)}function Ie(){K(ce),K(Be),K(he)}function We(s){s.memoizedState!==null&&ne(xe,s);var a=ce.current,l=mw(a,s.type);a!==l&&(ne(Be,s),ne(ce,l))}function Xe(s){Be.current===s&&(K(ce),K(Be)),xe.current===s&&(K(xe),mp._currentValue=be)}var st=Object.prototype.hasOwnProperty,dt=n.unstable_scheduleCallback,Mt=n.unstable_cancelCallback,Ze=n.unstable_shouldYield,Ee=n.unstable_requestPaint,Ht=n.unstable_now,Ct=n.unstable_getCurrentPriorityLevel,ct=n.unstable_ImmediatePriority,Oe=n.unstable_UserBlockingPriority,rt=n.unstable_NormalPriority,Je=n.unstable_LowPriority,pt=n.unstable_IdlePriority,_t=n.log,Nt=n.unstable_setDisableYieldValue,It=null,Et=null;function qt(s){if(typeof _t=="function"&&Nt(s),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(It,s)}catch{}}var kt=Math.clz32?Math.clz32:vt,ke=Math.log,ze=Math.LN2;function vt(s){return s>>>=0,s===0?32:31-(ke(s)/ze|0)|0}var yt=256,$t=4194304;function Ft(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function rn(s,a,l){var f=s.pendingLanes;if(f===0)return 0;var E=0,j=s.suspendedLanes,J=s.pingedLanes;s=s.warmLanes;var ue=f&134217727;return ue!==0?(f=ue&~j,f!==0?E=Ft(f):(J&=ue,J!==0?E=Ft(J):l||(l=ue&~s,l!==0&&(E=Ft(l))))):(ue=f&~j,ue!==0?E=Ft(ue):J!==0?E=Ft(J):l||(l=f&~s,l!==0&&(E=Ft(l)))),E===0?0:a!==0&&a!==E&&(a&j)===0&&(j=E&-E,l=a&-a,j>=l||j===32&&(l&4194048)!==0)?a:E}function wr(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function un(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qs(){var s=yt;return yt<<=1,(yt&4194048)===0&&(yt=256),s}function Ln(){var s=$t;return $t<<=1,($t&62914560)===0&&($t=4194304),s}function Rr(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function on(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Qt(s,a,l,f,E,j){var J=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var ue=s.entanglements,_e=s.expirationTimes,Ye=s.hiddenUpdates;for(l=J&~l;0<l;){var ht=31-kt(l),wt=1<<ht;ue[ht]=0,_e[ht]=-1;var et=Ye[ht];if(et!==null)for(Ye[ht]=null,ht=0;ht<et.length;ht++){var tt=et[ht];tt!==null&&(tt.lane&=-536870913)}l&=~wt}f!==0&&St(s,f,0),j!==0&&E===0&&s.tag!==0&&(s.suspendedLanes|=j&~(J&~a))}function St(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var f=31-kt(a);s.entangledLanes|=a,s.entanglements[f]=s.entanglements[f]|1073741824|l&4194090}function Kt(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var f=31-kt(l),E=1<<f;E&a|s[f]&a&&(s[f]|=a),l&=~E}}function vn(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function In(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Lr(){var s=we.p;return s!==0?s:(s=window.event,s===void 0?32:Lw(s.type))}function Vs(s,a){var l=we.p;try{return we.p=s,a()}finally{we.p=l}}var Pt=Math.random().toString(36).slice(2),hr="__reactFiber$"+Pt,fr="__reactProps$"+Pt,Er="__reactContainer$"+Pt,tn="__reactEvents$"+Pt,Tr="__reactListeners$"+Pt,Zr="__reactHandles$"+Pt,Ks="__reactResources$"+Pt,Gs="__reactMarker$"+Pt;function Es(s){delete s[hr],delete s[fr],delete s[tn],delete s[Tr],delete s[Zr]}function gs(s){var a=s[hr];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Er]||l[hr]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=bw(s);s!==null;){if(l=s[hr])return l;s=bw(s)}return a}s=l,l=s.parentNode}return null}function ms(s){if(s=s[hr]||s[Er]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function vs(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function Sr(s){var a=s[Ks];return a||(a=s[Ks]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function or(s){s[Gs]=!0}var qi=new Set,ia={};function ni(s,a){_i(s,a),_i(s+"Capture",a)}function _i(s,a){for(ia[s]=a,s=0;s<a.length;s++)qi.add(a[s])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),OA={},No={};function Dl(s){return st.call(No,s)?!0:st.call(OA,s)?!1:jo.test(s)?No[s]=!0:(OA[s]=!0,!1)}function zs(s,a,l){if(Dl(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Ii(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function es(s,a,l,f){if(f===null)s.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+f)}}var aa,io;function oa(s){if(aa===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);aa=a&&a[1]||"",io=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+aa+s+io}var oA=!1;function ji(s,a){if(!s||oA)return"";oA=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var wt=function(){throw Error()};if(Object.defineProperty(wt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(wt,[])}catch(tt){var et=tt}Reflect.construct(s,[],wt)}else{try{wt.call()}catch(tt){et=tt}s.call(wt.prototype)}}else{try{throw Error()}catch(tt){et=tt}(wt=s())&&typeof wt.catch=="function"&&wt.catch(function(){})}}catch(tt){if(tt&&et&&typeof tt.stack=="string")return[tt.stack,et.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=f.DetermineComponentFrameRoot(),J=j[0],ue=j[1];if(J&&ue){var _e=J.split(`
`),Ye=ue.split(`
`);for(E=f=0;f<_e.length&&!_e[f].includes("DetermineComponentFrameRoot");)f++;for(;E<Ye.length&&!Ye[E].includes("DetermineComponentFrameRoot");)E++;if(f===_e.length||E===Ye.length)for(f=_e.length-1,E=Ye.length-1;1<=f&&0<=E&&_e[f]!==Ye[E];)E--;for(;1<=f&&0<=E;f--,E--)if(_e[f]!==Ye[E]){if(f!==1||E!==1)do if(f--,E--,0>E||_e[f]!==Ye[E]){var ht=`
`+_e[f].replace(" at new "," at ");return s.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",s.displayName)),ht}while(1<=f&&0<=E);break}}}finally{oA=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?oa(l):""}function La(s){switch(s.tag){case 26:case 27:case 5:return oa(s.type);case 16:return oa("Lazy");case 13:return oa("Suspense");case 19:return oa("SuspenseList");case 0:case 15:return ji(s.type,!1);case 11:return ji(s.type.render,!1);case 1:return ji(s.type,!0);case 31:return oa("Activity");default:return""}}function _r(s){try{var a="";do a+=La(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Rs(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function AA(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function To(s){var a=AA(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var E=l.get,j=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return E.call(this)},set:function(J){f=""+J,j.call(this,J)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(J){f=""+J},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function $i(s){s._valueTracker||(s._valueTracker=To(s))}function Da(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),f="";return s&&(f=AA(s)?s.checked?"true":"false":s.value),s=f,s!==l?(a.setValue(s),!0):!1}function qs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var As=/[\n"\\]/g;function qn(s){return s.replace(As,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function $s(s,a,l,f,E,j,J,ue){s.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?s.type=J:s.removeAttribute("type"),a!=null?J==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Rs(a)):s.value!==""+Rs(a)&&(s.value=""+Rs(a)):J!=="submit"&&J!=="reset"||s.removeAttribute("value"),a!=null?oo(s,J,Rs(a)):l!=null?oo(s,J,Rs(l)):f!=null&&s.removeAttribute("value"),E==null&&j!=null&&(s.defaultChecked=!!j),E!=null&&(s.checked=E&&typeof E!="function"&&typeof E!="symbol"),ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?s.name=""+Rs(ue):s.removeAttribute("name")}function ao(s,a,l,f,E,j,J,ue){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(s.type=j),a!=null||l!=null){if(!(j!=="submit"&&j!=="reset"||a!=null))return;l=l!=null?""+Rs(l):"",a=a!=null?""+Rs(a):l,ue||a===s.value||(s.value=a),s.defaultValue=a}f=f??E,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=ue?s.checked:!!f,s.defaultChecked=!!f,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(s.name=J)}function oo(s,a,l){a==="number"&&qs(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Aa(s,a,l,f){if(s=s.options,a){a={};for(var E=0;E<l.length;E++)a["$"+l[E]]=!0;for(l=0;l<s.length;l++)E=a.hasOwnProperty("$"+s[l].value),s[l].selected!==E&&(s[l].selected=E),E&&f&&(s[l].defaultSelected=!0)}else{for(l=""+Rs(l),a=null,E=0;E<s.length;E++){if(s[E].value===l){s[E].selected=!0,f&&(s[E].defaultSelected=!0);return}a!==null||s[E].disabled||(a=s[E])}a!==null&&(a.selected=!0)}}function Ar(s,a,l){if(a!=null&&(a=""+Rs(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Rs(l):""}function Ao(s,a,l,f){if(a==null){if(f!=null){if(l!=null)throw Error(r(92));if(ge(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),a=l}l=Rs(a),s.defaultValue=l,f=s.textContent,f===l&&f!==""&&f!==null&&(s.value=f)}function Ni(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Ti=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ol(s,a,l){var f=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":f?s.setProperty(a,l):typeof l!="number"||l===0||Ti.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function lA(s,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var E in a)f=a[E],a.hasOwnProperty(E)&&l[E]!==f&&Ol(s,E,f)}else for(var j in a)a.hasOwnProperty(j)&&Ol(s,j,a[j])}function PA(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wi(s){return Uo.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ls=null;function br(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Pa=null,la=null;function sn(s){var a=ms(s);if(a&&(s=a.stateNode)){var l=s[fr]||null;e:switch(s=a.stateNode,a.type){case"input":if($s(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+qn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var f=l[a];if(f!==s&&f.form===s.form){var E=f[fr]||null;if(!E)throw Error(r(90));$s(f,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(a=0;a<l.length;a++)f=l[a],f.form===s.form&&Da(f)}break e;case"textarea":Ar(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Aa(s,!!l.multiple,a,!1)}}}var ca=!1;function Pl(s,a,l){if(ca)return s(a,l);ca=!0;try{var f=s(a);return f}finally{if(ca=!1,(Pa!==null||la!==null)&&(En(),Pa&&(a=Pa,s=la,la=Pa=null,sn(a),s)))for(a=0;a<s.length;a++)sn(s[a])}}function ri(s,a){var l=s.stateNode;if(l===null)return null;var f=l[fr]||null;if(f===null)return null;l=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mi=!1;if(Ui)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){mi=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{mi=!1}var Gr=null,Ma=null,da=null;function cA(){if(da)return da;var s,a=Ma,l=a.length,f,E="value"in Gr?Gr.value:Gr.textContent,j=E.length;for(s=0;s<l&&a[s]===E[s];s++);var J=l-s;for(f=1;f<=J&&a[l-f]===E[j-f];f++);return da=E.slice(s,1<f?1-f:void 0)}function Fi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function si(){return!0}function ha(){return!1}function ls(s){function a(l,f,E,j,J){this._reactName=l,this._targetInst=E,this.type=f,this.nativeEvent=j,this.target=J,this.currentTarget=null;for(var ue in s)s.hasOwnProperty(ue)&&(l=s[ue],this[ue]=l?l(j):j[ue]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?si:ha,this.isPropagationStopped=ha,this}return h(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),a}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=ls(Dn),fa=h({},Dn,{view:0,detail:0}),MA=ls(fa),Dr,Fo,Ds,ii=h({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ds&&(Ds&&s.type==="mousemove"?(Dr=s.screenX-Ds.screenX,Fo=s.screenY-Ds.screenY):Fo=Dr=0,Ds=s),Dr)},movementY:function(s){return"movementY"in s?s.movementY:Fo}}),ys=ls(ii),Ml=h({},ii,{dataTransfer:0}),lo=ls(Ml),ws=h({},fa,{relatedTarget:0}),Yi=ls(ws),pa=h({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),uA=ls(pa),ai=h({},Dn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ha=ls(ai),Qo=h({},Dn,{data:0}),Ro=ls(Qo),co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Do(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=dA[s])?!!a[s]:!1}function uo(){return Do}var kl=h({},fa,{key:function(s){if(s.key){var a=co[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Fi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Lo[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(s){return s.type==="keypress"?Fi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Fi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Va=ls(kl),ho=h({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oo=ls(ho),oi=h({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),hA=ls(oi),N=h({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ee=ls(N),Ce=h({},ii,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=ls(Ce),Pe=h({},Dn,{newState:0,oldState:0}),it=ls(Pe),xt=[9,13,27,32],Lt=Ui&&"CompositionEvent"in window,v=null;Ui&&"documentMode"in document&&(v=document.documentMode);var k=Ui&&"TextEvent"in window&&!v,W=Ui&&(!Lt||v&&8<v&&11>=v),Ae=" ",Re=!1;function Ke(s,a){switch(s){case"keyup":return xt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var cn=!1;function Fn(s,a){switch(s){case"compositionend":return ot(a);case"keypress":return a.which!==32?null:(Re=!0,Ae);case"textInput":return s=a.data,s===Ae&&Re?null:s;default:return null}}function yn(s,a){if(cn)return s==="compositionend"||!Lt&&Ke(s,a)?(s=cA(),da=Ma=Gr=null,cn=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return W&&a.locale!=="ko"?null:a.data;default:return null}}var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Kn[s.type]:a==="textarea"}function ga(s,a,l,f){Pa?la?la.push(f):la=[f]:Pa=f,a=Kg(a,"onChange"),0<a.length&&(l=new ka("onChange","change",null,l,f),s.push({event:l,listeners:a}))}var gr=null,$n=null;function Ka(s){uw(s,0)}function Or(s){var a=vs(s);if(Da(a))return s}function fA(s,a){if(s==="change")return a}var Qi=!1;if(Ui){var zr;if(Ui){var Wn="oninput"in document;if(!Wn){var pA=document.createElement("div");pA.setAttribute("oninput","return;"),Wn=typeof pA.oninput=="function"}zr=Wn}else zr=!1;Qi=zr&&(!document.documentMode||9<document.documentMode)}function gA(){gr&&(gr.detachEvent("onpropertychange",kA),$n=gr=null)}function kA(s){if(s.propertyName==="value"&&Or($n)){var a=[];ga(a,$n,s,br(s)),Pl(Ka,a)}}function vi(s,a,l){s==="focusin"?(gA(),gr=a,$n=l,gr.attachEvent("onpropertychange",kA)):s==="focusout"&&gA()}function Hl(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Or($n)}function Vl(s,a){if(s==="click")return Or(a)}function jc(s,a){if(s==="input"||s==="change")return Or(a)}function qr(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Ur=typeof Object.is=="function"?Object.is:qr;function yi(s,a){if(Ur(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),f=Object.keys(a);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var E=l[f];if(!st.call(a,E)||!Ur(s[E],a[E]))return!1}return!0}function ts(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ai(s,a){var l=ts(s);s=0;for(var f;l;){if(l.nodeType===3){if(f=s+l.textContent.length,s<=a&&f>=a)return{node:l,offset:a-s};s=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ts(l)}}function Po(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Po(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function li(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=qs(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=qs(s.document)}return a}function Ss(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var Mo=Ui&&"documentMode"in document&&11>=document.documentMode,Ri=null,wi=null,Os=null,Ga=!1;function ns(s,a,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ga||Ri==null||Ri!==qs(f)||(f=Ri,"selectionStart"in f&&Ss(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Os&&yi(Os,f)||(Os=f,f=Kg(wi,"onSelect"),0<f.length&&(a=new ka("onSelect","select",null,a,l),s.push({event:a,listeners:f}),a.target=Ri)))}function Li(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var cs={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionrun:Li("Transition","TransitionRun"),transitionstart:Li("Transition","TransitionStart"),transitioncancel:Li("Transition","TransitionCancel"),transitionend:Li("Transition","TransitionEnd")},Di={},HA={};Ui&&(HA=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function bs(s){if(Di[s])return Di[s];if(!cs[s])return s;var a=cs[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in HA)return Di[s]=a[l];return s}var VA=bs("animationend"),mA=bs("animationiteration"),vA=bs("animationstart"),za=bs("transitionrun"),KA=bs("transitionstart"),GA=bs("transitioncancel"),ko=bs("transitionend"),fo=new Map,yA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yA.push("scrollEnd");function $r(s,a){fo.set(s,a),ni(a,[s])}var Oi=new WeakMap;function Qn(s,a){if(typeof s=="object"&&s!==null){var l=Oi.get(s);return l!==void 0?l:(a={value:s,source:a,stack:_r(a)},Oi.set(s,a),a)}return{value:s,source:a,stack:_r(a)}}var Rn=[],Ir=0,Pr=0;function ma(){for(var s=Ir,a=Pr=Ir=0;a<s;){var l=Rn[a];Rn[a++]=null;var f=Rn[a];Rn[a++]=null;var E=Rn[a];Rn[a++]=null;var j=Rn[a];if(Rn[a++]=null,f!==null&&E!==null){var J=f.pending;J===null?E.next=E:(E.next=J.next,J.next=E),f.pending=E}j!==0&&Nc(l,E,j)}}function wA(s,a,l,f){Rn[Ir++]=s,Rn[Ir++]=a,Rn[Ir++]=l,Rn[Ir++]=f,Pr|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function po(s,a,l,f){return wA(s,a,l,f),zA(s)}function Ho(s,a){return wA(s,null,null,a),zA(s)}function Nc(s,a,l){s.lanes|=l;var f=s.alternate;f!==null&&(f.lanes|=l);for(var E=!1,j=s.return;j!==null;)j.childLanes|=l,f=j.alternate,f!==null&&(f.childLanes|=l),j.tag===22&&(s=j.stateNode,s===null||s._visibility&1||(E=!0)),s=j,j=j.return;return s.tag===3?(j=s.stateNode,E&&a!==null&&(E=31-kt(l),s=j.hiddenUpdates,f=s[E],f===null?s[E]=[a]:f.push(a),a.lane=l|536870912),j):null}function zA(s){if(50<Ve)throw Ve=0,At=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Ps={};function va(s,a,l,f){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(s,a,l,f){return new va(s,a,l,f)}function Kl(s){return s=s.prototype,!(!s||!s.isReactComponent)}function bi(s,a){var l=s.alternate;return l===null?(l=ci(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Tc(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function qA(s,a,l,f,E,j){var J=0;if(f=s,typeof s=="function")Kl(s)&&(J=1);else if(typeof s=="string")J=ME(s,l,ce.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case G:return s=ci(31,l,a,E),s.elementType=G,s.lanes=j,s;case R:return ya(l.children,E,j,a);case F:J=8,E|=24;break;case Q:return s=ci(12,l,a,E|2),s.elementType=Q,s.lanes=j,s;case z:return s=ci(13,l,a,E),s.elementType=z,s.lanes=j,s;case $:return s=ci(19,l,a,E),s.elementType=$,s.lanes=j,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case I:case _:J=10;break e;case T:J=9;break e;case O:J=11;break e;case U:J=14;break e;case L:J=16,f=null;break e}J=29,l=Error(r(130,s===null?"null":typeof s,"")),f=null}return a=ci(J,l,a,E),a.elementType=s,a.type=f,a.lanes=j,a}function ya(s,a,l,f){return s=ci(7,s,f,a),s.lanes=l,s}function yu(s,a,l){return s=ci(6,s,null,a),s.lanes=l,s}function Uc(s,a,l){return a=ci(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var bA=[],Vo=0,Ko=null,wu=0,wa=[],Xi=0,$A=null,ba=1,Go="";function WA(s,a){bA[Vo++]=wu,bA[Vo++]=Ko,Ko=s,wu=a}function jh(s,a,l){wa[Xi++]=ba,wa[Xi++]=Go,wa[Xi++]=$A,$A=s;var f=ba;s=Go;var E=32-kt(f)-1;f&=~(1<<E),l+=1;var j=32-kt(a)+E;if(30<j){var J=E-E%5;j=(f&(1<<J)-1).toString(32),f>>=J,E-=J,ba=1<<32-kt(a)+E|l<<E|f,Go=j+s}else ba=1<<j|l<<E|f,Go=s}function Fc(s){s.return!==null&&(WA(s,1),jh(s,1,0))}function BA(s){for(;s===Ko;)Ko=bA[--Vo],bA[Vo]=null,wu=bA[--Vo],bA[Vo]=null;for(;s===$A;)$A=wa[--Xi],wa[Xi]=null,Go=wa[--Xi],wa[Xi]=null,ba=wa[--Xi],wa[Xi]=null}var _s=null,rs=null,ar=!1,xA=null,go=!1,Sd=Error(r(519));function YA(s){var a=Error(r(418,""));throw Gl(Qn(a,s)),Sd}function Nh(s){var a=s.stateNode,l=s.type,f=s.memoizedProps;switch(a[hr]=s,a[fr]=f,l){case"dialog":Jn("cancel",a),Jn("close",a);break;case"iframe":case"object":case"embed":Jn("load",a);break;case"video":case"audio":for(l=0;l<up.length;l++)Jn(up[l],a);break;case"source":Jn("error",a);break;case"img":case"image":case"link":Jn("error",a),Jn("load",a);break;case"details":Jn("toggle",a);break;case"input":Jn("invalid",a),ao(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),$i(a);break;case"select":Jn("invalid",a);break;case"textarea":Jn("invalid",a),Ao(a,f.value,f.defaultValue,f.children),$i(a)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||f.suppressHydrationWarning===!0||pw(a.textContent,l)?(f.popover!=null&&(Jn("beforetoggle",a),Jn("toggle",a)),f.onScroll!=null&&Jn("scroll",a),f.onScrollEnd!=null&&Jn("scrollend",a),f.onClick!=null&&(a.onclick=Gg),a=!0):a=!1,a||YA(s)}function zo(s){for(_s=s.return;_s;)switch(_s.tag){case 5:case 13:go=!1;return;case 27:case 3:go=!0;return;default:_s=_s.return}}function Bi(s){if(s!==_s)return!1;if(!ar)return zo(s),ar=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||iv(s.type,s.memoizedProps)),l=!l),l&&rs&&YA(s),zo(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){rs=bl(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}rs=null}}else a===27?(a=rs,Vu(s.type)?(s=lv,lv=null,rs=s):rs=a):rs=_s?bl(s.stateNode.nextSibling):null;return!0}function ui(){rs=_s=null,ar=!1}function Th(){var s=xA;return s!==null&&(Ea===null?Ea=s:Ea.push.apply(Ea,s),xA=null),s}function Gl(s){xA===null?xA=[s]:xA.push(s)}var qa=de(null),Ms=null,qo=null;function mo(s,a,l){ne(qa,a._currentValue),a._currentValue=l}function Ji(s){s._currentValue=qa.current,K(qa)}function bu(s,a,l){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===l)break;s=s.return}}function Bu(s,a,l,f){var E=s.child;for(E!==null&&(E.return=s);E!==null;){var j=E.dependencies;if(j!==null){var J=E.child;j=j.firstContext;e:for(;j!==null;){var ue=j;j=E;for(var _e=0;_e<a.length;_e++)if(ue.context===a[_e]){j.lanes|=l,ue=j.alternate,ue!==null&&(ue.lanes|=l),bu(j.return,l,s),f||(J=null);break e}j=ue.next}}else if(E.tag===18){if(J=E.return,J===null)throw Error(r(341));J.lanes|=l,j=J.alternate,j!==null&&(j.lanes|=l),bu(J,l,s),J=null}else J=E.child;if(J!==null)J.return=E;else for(J=E;J!==null;){if(J===s){J=null;break}if(E=J.sibling,E!==null){E.return=J.return,J=E;break}J=J.return}E=J}}function zl(s,a,l,f){s=null;for(var E=a,j=!1;E!==null;){if(!j){if((E.flags&524288)!==0)j=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var J=E.alternate;if(J===null)throw Error(r(387));if(J=J.memoizedProps,J!==null){var ue=E.type;Ur(E.pendingProps.value,J.value)||(s!==null?s.push(ue):s=[ue])}}else if(E===xe.current){if(J=E.alternate,J===null)throw Error(r(387));J.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(s!==null?s.push(mp):s=[mp])}E=E.return}s!==null&&Bu(a,s,l,f),a.flags|=262144}function xu(s){for(s=s.firstContext;s!==null;){if(!Ur(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function vo(s){Ms=s,qo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Is(s){return Cu(Ms,s)}function $a(s,a){return Ms===null&&vo(s),Cu(s,a)}function Cu(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},qo===null){if(s===null)throw Error(r(308));qo=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else qo=qo.next=a;return l}var Df=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,f){s.push(f)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},Uh=n.unstable_scheduleCallback,Of=n.unstable_NormalPriority,js={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _d(){return{controller:new Df,data:new Map,refCount:0}}function Qc(s){s.refCount--,s.refCount===0&&Uh(Of,function(){s.controller.abort()})}var Rc=null,Id=0,XA=0,$o=null;function Pf(s,a){if(Rc===null){var l=Rc=[];Id=0,XA=Y0(),$o={status:"pending",value:void 0,then:function(f){l.push(f)}}}return Id++,a.then(jd,jd),a}function jd(){if(--Id===0&&Rc!==null){$o!==null&&($o.status="fulfilled");var s=Rc;Rc=null,XA=0,$o=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function Fh(s,a){var l=[],f={status:"pending",value:null,reason:null,then:function(E){l.push(E)}};return s.then(function(){f.status="fulfilled",f.value=a;for(var E=0;E<l.length;E++)(0,l[E])(a)},function(E){for(f.status="rejected",f.reason=E,E=0;E<l.length;E++)(0,l[E])(void 0)}),f}var g=oe.S;oe.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Pf(s,a),g!==null&&g(s,a)};var S=de(null);function D(){var s=S.current;return s!==null?s:kr.pooledCache}function q(s,a){a===null?ne(S,S.current):ne(S,a.pool)}function Z(){var s=D();return s===null?null:{parent:js._currentValue,pool:s}}var se=Error(r(460)),ae=Error(r(474)),le=Error(r(542)),fe={then:function(){}};function ye(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Te(){}function qe(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Te,Te),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,at(s),s;default:if(typeof a.status=="string")a.then(Te,Te);else{if(s=kr,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(f){if(a.status==="pending"){var E=a;E.status="fulfilled",E.value=f}},function(f){if(a.status==="pending"){var E=a;E.status="rejected",E.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,at(s),s}throw Ge=a,se}}var Ge=null;function Me(){if(Ge===null)throw Error(r(459));var s=Ge;return Ge=null,s}function at(s){if(s===se||s===le)throw Error(r(483))}var nt=!1;function Ue(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Le(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function lt(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function gt(s,a,l){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Cr&2)!==0){var E=f.pending;return E===null?a.next=a:(a.next=E.next,E.next=a),f.pending=a,a=zA(s),Nc(s,null,l),a}return wA(s,f,a,l),zA(s)}function ut(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var f=a.lanes;f&=s.pendingLanes,l|=f,a.lanes=l,Kt(s,l)}}function Gt(s,a){var l=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var E=null,j=null;if(l=l.firstBaseUpdate,l!==null){do{var J={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};j===null?E=j=J:j=j.next=J,l=l.next}while(l!==null);j===null?E=j=a:j=j.next=a}else E=j=a;l={baseState:f.baseState,firstBaseUpdate:E,lastBaseUpdate:j,shared:f.shared,callbacks:f.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Rt=!1;function nn(){if(Rt){var s=$o;if(s!==null)throw s}}function Dt(s,a,l,f){Rt=!1;var E=s.updateQueue;nt=!1;var j=E.firstBaseUpdate,J=E.lastBaseUpdate,ue=E.shared.pending;if(ue!==null){E.shared.pending=null;var _e=ue,Ye=_e.next;_e.next=null,J===null?j=Ye:J.next=Ye,J=_e;var ht=s.alternate;ht!==null&&(ht=ht.updateQueue,ue=ht.lastBaseUpdate,ue!==J&&(ue===null?ht.firstBaseUpdate=Ye:ue.next=Ye,ht.lastBaseUpdate=_e))}if(j!==null){var wt=E.baseState;J=0,ht=Ye=_e=null,ue=j;do{var et=ue.lane&-536870913,tt=et!==ue.lane;if(tt?(er&et)===et:(f&et)===et){et!==0&&et===XA&&(Rt=!0),ht!==null&&(ht=ht.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var Cn=s,fn=ue;et=a;var Vr=l;switch(fn.tag){case 1:if(Cn=fn.payload,typeof Cn=="function"){wt=Cn.call(Vr,wt,et);break e}wt=Cn;break e;case 3:Cn.flags=Cn.flags&-65537|128;case 0:if(Cn=fn.payload,et=typeof Cn=="function"?Cn.call(Vr,wt,et):Cn,et==null)break e;wt=h({},wt,et);break e;case 2:nt=!0}}et=ue.callback,et!==null&&(s.flags|=64,tt&&(s.flags|=8192),tt=E.callbacks,tt===null?E.callbacks=[et]:tt.push(et))}else tt={lane:et,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},ht===null?(Ye=ht=tt,_e=wt):ht=ht.next=tt,J|=et;if(ue=ue.next,ue===null){if(ue=E.shared.pending,ue===null)break;tt=ue,ue=tt.next,tt.next=null,E.lastBaseUpdate=tt,E.shared.pending=null}}while(!0);ht===null&&(_e=wt),E.baseState=_e,E.firstBaseUpdate=Ye,E.lastBaseUpdate=ht,j===null&&(E.shared.lanes=0),ic|=J,s.lanes=J,s.memoizedState=wt}}function Zn(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function lr(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Zn(l[s],a)}var Un=de(null),bt=de(0);function mr(s,a){s=vl,ne(bt,s),ne(Un,a),vl=s|a.baseLanes}function cr(){ne(bt,vl),ne(Un,Un.current)}function gn(){vl=bt.current,K(Un),K(bt)}var Hn=0,An=null,dn=null,Pn=null,Gn=!1,ks=!1,Ns=!1,us=0,Br=0,ss=null,Pi=0;function ur(){throw Error(r(321))}function ds(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!Ur(s[l],a[l]))return!1;return!0}function Wa(s,a,l,f,E,j){return Hn=j,An=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,oe.H=s===null||s.memoizedState===null?Eg:Sg,Ns=!1,j=l(f,E),Ns=!1,ks&&(j=JA(a,l,f,E)),yo(s),j}function yo(s){oe.H=kh;var a=dn!==null&&dn.next!==null;if(Hn=0,Pn=dn=An=null,Gn=!1,Br=0,ss=null,a)throw Error(r(300));s===null||di||(s=s.dependencies,s!==null&&xu(s)&&(di=!0))}function JA(s,a,l,f){An=s;var E=0;do{if(ks&&(ss=null),Br=0,ks=!1,25<=E)throw Error(r(301));if(E+=1,Pn=dn=null,s.updateQueue!=null){var j=s.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}oe.H=Hh,j=a(l,f)}while(ks);return j}function CA(){var s=oe.H,a=s.useState()[0];return a=typeof a.then=="function"?Wo(a):a,s=s.useState()[0],(dn!==null?dn.memoizedState:null)!==s&&(An.flags|=1024),a}function Mr(){var s=us!==0;return us=0,s}function Lc(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Eu(s){if(Gn){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Gn=!1}Hn=0,Pn=dn=An=null,ks=!1,Br=us=0,ss=null}function xi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?An.memoizedState=Pn=s:Pn=Pn.next=s,Pn}function Wr(){if(dn===null){var s=An.alternate;s=s!==null?s.memoizedState:null}else s=dn.next;var a=Pn===null?An.memoizedState:Pn.next;if(a!==null)Pn=a,dn=s;else{if(s===null)throw An.alternate===null?Error(r(467)):Error(r(310));dn=s,s={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},Pn===null?An.memoizedState=Pn=s:Pn=Pn.next=s}return Pn}function ZA(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(s){var a=Br;return Br+=1,ss===null&&(ss=[]),s=qe(ss,s,a),a=An,(Pn===null?a.memoizedState:Pn.next)===null&&(a=a.alternate,oe.H=a===null||a.memoizedState===null?Eg:Sg),s}function Mi(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Wo(s);if(s.$$typeof===_)return Is(s)}throw Error(r(438,String(s)))}function EA(s){var a=null,l=An.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var f=An.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(E){return E.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=ZA(),An.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),f=0;f<s;f++)l[f]=X;return a.index++,l}function ki(s,a){return typeof a=="function"?a(s):a}function ql(s){var a=Wr();return $l(a,dn,s)}function $l(s,a,l){var f=s.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var E=s.baseQueue,j=f.pending;if(j!==null){if(E!==null){var J=E.next;E.next=j.next,j.next=J}a.baseQueue=E=j,f.pending=null}if(j=s.baseState,E===null)s.memoizedState=j;else{a=E.next;var ue=J=null,_e=null,Ye=a,ht=!1;do{var wt=Ye.lane&-536870913;if(wt!==Ye.lane?(er&wt)===wt:(Hn&wt)===wt){var et=Ye.revertLane;if(et===0)_e!==null&&(_e=_e.next={lane:0,revertLane:0,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null}),wt===XA&&(ht=!0);else if((Hn&et)===et){Ye=Ye.next,et===XA&&(ht=!0);continue}else wt={lane:0,revertLane:Ye.revertLane,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null},_e===null?(ue=_e=wt,J=j):_e=_e.next=wt,An.lanes|=et,ic|=et;wt=Ye.action,Ns&&l(j,wt),j=Ye.hasEagerState?Ye.eagerState:l(j,wt)}else et={lane:wt,revertLane:Ye.revertLane,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null},_e===null?(ue=_e=et,J=j):_e=_e.next=et,An.lanes|=wt,ic|=wt;Ye=Ye.next}while(Ye!==null&&Ye!==a);if(_e===null?J=j:_e.next=ue,!Ur(j,s.memoizedState)&&(di=!0,ht&&(l=$o,l!==null)))throw l;s.memoizedState=j,s.baseState=J,s.baseQueue=_e,f.lastRenderedState=j}return E===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function el(s){var a=Wr(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var f=l.dispatch,E=l.pending,j=a.memoizedState;if(E!==null){l.pending=null;var J=E=E.next;do j=s(j,J.action),J=J.next;while(J!==E);Ur(j,a.memoizedState)||(di=!0),a.memoizedState=j,a.baseQueue===null&&(a.baseState=j),l.lastRenderedState=j}return[j,f]}function Dc(s,a,l){var f=An,E=Wr(),j=ar;if(j){if(l===void 0)throw Error(r(407));l=l()}else l=a();var J=!Ur((dn||E).memoizedState,l);J&&(E.memoizedState=l,di=!0),E=E.queue;var ue=nl.bind(null,f,E,s);if(Xl(2048,8,ue,[s]),E.getSnapshot!==a||J||Pn!==null&&Pn.memoizedState.tag&1){if(f.flags|=2048,Yo(9,Mc(),tl.bind(null,f,E,l,a),null),kr===null)throw Error(r(349));j||(Hn&124)!==0||Wl(f,a,l)}return l}function Wl(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=An.updateQueue,a===null?(a=ZA(),An.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function tl(s,a,l,f){a.value=l,a.getSnapshot=f,Nd(a)&&Qh(s)}function nl(s,a,l){return l(function(){Nd(a)&&Qh(s)})}function Nd(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!Ur(s,l)}catch{return!0}}function Qh(s){var a=Ho(s,2);a!==null&&Ut(a,s,2)}function Yl(s){var a=xi();if(typeof s=="function"){var l=s;if(s=l(),Ns){qt(!0);try{l()}finally{qt(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:s},a}function Ya(s,a,l,f){return s.baseState=l,$l(s,dn,typeof f=="function"?f:ki)}function Td(s,a,l,f,E){if(Md(s))throw Error(r(485));if(s=a.action,s!==null){var j={payload:E,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){j.listeners.push(J)}};oe.T!==null?l(!0):j.isTransition=!1,f(j),l=a.pending,l===null?(j.next=a.pending=j,Ud(a,j)):(j.next=l.next,a.pending=l.next=j)}}function Ud(s,a){var l=a.action,f=a.payload,E=s.state;if(a.isTransition){var j=oe.T,J={};oe.T=J;try{var ue=l(E,f),_e=oe.S;_e!==null&&_e(J,ue),Fd(s,a,ue)}catch(Ye){rl(s,a,Ye)}finally{oe.T=j}}else try{j=l(E,f),Fd(s,a,j)}catch(Ye){rl(s,a,Ye)}}function Fd(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){Su(s,a,f)},function(f){return rl(s,a,f)}):Su(s,a,l)}function Su(s,a,l){a.status="fulfilled",a.value=l,Oc(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,Ud(s,l)))}function rl(s,a,l){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=l,Oc(a),a=a.next;while(a!==f)}s.action=null}function Oc(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Qd(s,a){return a}function Pc(s,a){if(ar){var l=kr.formState;if(l!==null){e:{var f=An;if(ar){if(rs){t:{for(var E=rs,j=go;E.nodeType!==8;){if(!j){E=null;break t}if(E=bl(E.nextSibling),E===null){E=null;break t}}j=E.data,E=j==="F!"||j==="F"?E:null}if(E){rs=bl(E.nextSibling),f=E.data==="F!";break e}}YA(f)}f=!1}f&&(a=l[0])}}return l=xi(),l.memoizedState=l.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qd,lastRenderedState:a},l.queue=f,l=Mf.bind(null,An,f),f.dispatch=l,f=Yl(!1),j=Ph.bind(null,An,!1,f.queue),f=xi(),E={state:a,dispatch:null,action:s,pending:null},f.queue=E,l=Td.bind(null,An,E,j,l),E.dispatch=l,f.memoizedState=s,[a,l,!1]}function _u(s){var a=Wr();return Ws(a,dn,s)}function Ws(s,a,l){if(a=$l(s,a,Qd)[0],s=ql(ki)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Wo(a)}catch(J){throw J===se?le:J}else f=a;a=Wr();var E=a.queue,j=E.dispatch;return l!==a.memoizedState&&(An.flags|=2048,Yo(9,Mc(),Iu.bind(null,E,l),null)),[f,j,s]}function Iu(s,a){s.action=a}function Rh(s){var a=Wr(),l=dn;if(l!==null)return Ws(a,l,s);Wr(),a=a.memoizedState,l=Wr();var f=l.queue.dispatch;return l.memoizedState=s,[a,f,!1]}function Yo(s,a,l,f){return s={tag:s,create:l,deps:f,inst:a,next:null},a=An.updateQueue,a===null&&(a=ZA(),An.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(f=l.next,l.next=s,s.next=f,a.lastEffect=s),s}function Mc(){return{destroy:void 0,resource:void 0}}function ju(){return Wr().memoizedState}function Xa(s,a,l,f){var E=xi();f=f===void 0?null:f,An.flags|=s,E.memoizedState=Yo(1|a,Mc(),l,f)}function Xl(s,a,l,f){var E=Wr();f=f===void 0?null:f;var j=E.memoizedState.inst;dn!==null&&f!==null&&ds(f,dn.memoizedState.deps)?E.memoizedState=Yo(a,j,l,f):(An.flags|=s,E.memoizedState=Yo(1|a,j,l,f))}function Rd(s,a){Xa(8390656,8,s,a)}function Lh(s,a){Xl(2048,8,s,a)}function Ld(s,a){return Xl(4,2,s,a)}function SA(s,a){return Xl(4,4,s,a)}function Dh(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function kc(s,a,l){l=l!=null?l.concat([s]):null,Xl(4,4,Dh.bind(null,a,s),l)}function Nu(){}function Ts(s,a){var l=Wr();a=a===void 0?null:a;var f=l.memoizedState;return a!==null&&ds(a,f[1])?f[0]:(l.memoizedState=[s,a],s)}function Jl(s,a){var l=Wr();a=a===void 0?null:a;var f=l.memoizedState;if(a!==null&&ds(a,f[1]))return f[0];if(f=s(),Ns){qt(!0);try{s()}finally{qt(!1)}}return l.memoizedState=[f,a],f}function sl(s,a,l){return l===void 0||(Hn&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=Tt(),An.lanes|=s,ic|=s,l)}function Tu(s,a,l,f){return Ur(l,a)?l:Un.current!==null?(s=sl(s,l,f),Ur(s,a)||(di=!0),s):(Hn&42)===0?(di=!0,s.memoizedState=l):(s=Tt(),An.lanes|=s,ic|=s,a)}function Zl(s,a,l,f,E){var j=we.p;we.p=j!==0&&8>j?j:8;var J=oe.T,ue={};oe.T=ue,Ph(s,!1,a,l);try{var _e=E(),Ye=oe.S;if(Ye!==null&&Ye(ue,_e),_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var ht=Fh(_e,f);Uu(s,a,ht,Ot(s))}else Uu(s,a,f,Ot(s))}catch(wt){Uu(s,a,{then:function(){},status:"rejected",reason:wt},Ot())}finally{we.p=j,oe.T=J}}function Ja(){}function wo(s,a,l,f){if(s.tag!==5)throw Error(r(476));var E=Xo(s).queue;Zl(s,E,a,be,l===null?Ja:function(){return Hc(s),l(f)})}function Xo(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:be},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Hc(s){var a=Xo(s).next.queue;Uu(s,a,{},Ot())}function Vc(){return Is(mp)}function Dd(){return Wr().memoizedState}function Oh(){return Wr().memoizedState}function Od(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Ot();s=lt(l);var f=gt(a,s,l);f!==null&&(Ut(f,a,l),ut(f,a,l)),a={cache:_d()},s.payload=a;return}a=a.return}}function Pd(s,a,l){var f=Ot();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Md(s)?Mh(a,l):(l=po(s,a,l,f),l!==null&&(Ut(l,s,f),Cg(l,a,f)))}function Mf(s,a,l){var f=Ot();Uu(s,a,l,f)}function Uu(s,a,l,f){var E={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Md(s))Mh(a,E);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=a.lastRenderedReducer,j!==null))try{var J=a.lastRenderedState,ue=j(J,l);if(E.hasEagerState=!0,E.eagerState=ue,Ur(ue,J))return wA(s,a,E,0),kr===null&&ma(),!1}catch{}finally{}if(l=po(s,a,E,f),l!==null)return Ut(l,s,f),Cg(l,a,f),!0}return!1}function Ph(s,a,l,f){if(f={lane:2,revertLane:Y0(),action:f,hasEagerState:!1,eagerState:null,next:null},Md(s)){if(a)throw Error(r(479))}else a=po(s,l,f,2),a!==null&&Ut(a,s,2)}function Md(s){var a=s.alternate;return s===An||a!==null&&a===An}function Mh(s,a){ks=Gn=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function Cg(s,a,l){if((l&4194048)!==0){var f=a.lanes;f&=s.pendingLanes,l|=f,a.lanes=l,Kt(s,l)}}var kh={readContext:Is,use:Mi,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useInsertionEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useSyncExternalStore:ur,useId:ur,useHostTransitionStatus:ur,useFormState:ur,useActionState:ur,useOptimistic:ur,useMemoCache:ur,useCacheRefresh:ur},Eg={readContext:Is,use:Mi,useCallback:function(s,a){return xi().memoizedState=[s,a===void 0?null:a],s},useContext:Is,useEffect:Rd,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Xa(4194308,4,Dh.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Xa(4194308,4,s,a)},useInsertionEffect:function(s,a){Xa(4,2,s,a)},useMemo:function(s,a){var l=xi();a=a===void 0?null:a;var f=s();if(Ns){qt(!0);try{s()}finally{qt(!1)}}return l.memoizedState=[f,a],f},useReducer:function(s,a,l){var f=xi();if(l!==void 0){var E=l(a);if(Ns){qt(!0);try{l(a)}finally{qt(!1)}}}else E=a;return f.memoizedState=f.baseState=E,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:E},f.queue=s,s=s.dispatch=Pd.bind(null,An,s),[f.memoizedState,s]},useRef:function(s){var a=xi();return s={current:s},a.memoizedState=s},useState:function(s){s=Yl(s);var a=s.queue,l=Mf.bind(null,An,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:Nu,useDeferredValue:function(s,a){var l=xi();return sl(l,s,a)},useTransition:function(){var s=Yl(!1);return s=Zl.bind(null,An,s.queue,!0,!1),xi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var f=An,E=xi();if(ar){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),kr===null)throw Error(r(349));(er&124)!==0||Wl(f,a,l)}E.memoizedState=l;var j={value:l,getSnapshot:a};return E.queue=j,Rd(nl.bind(null,f,j,s),[s]),f.flags|=2048,Yo(9,Mc(),tl.bind(null,f,j,l,a),null),l},useId:function(){var s=xi(),a=kr.identifierPrefix;if(ar){var l=Go,f=ba;l=(f&~(1<<32-kt(f)-1)).toString(32)+l,a="«"+a+"R"+l,l=us++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=Pi++,a="«"+a+"r"+l.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:Vc,useFormState:Pc,useActionState:Pc,useOptimistic:function(s){var a=xi();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Ph.bind(null,An,!0,l),l.dispatch=a,[s,a]},useMemoCache:EA,useCacheRefresh:function(){return xi().memoizedState=Od.bind(null,An)}},Sg={readContext:Is,use:Mi,useCallback:Ts,useContext:Is,useEffect:Lh,useImperativeHandle:kc,useInsertionEffect:Ld,useLayoutEffect:SA,useMemo:Jl,useReducer:ql,useRef:ju,useState:function(){return ql(ki)},useDebugValue:Nu,useDeferredValue:function(s,a){var l=Wr();return Tu(l,dn.memoizedState,s,a)},useTransition:function(){var s=ql(ki)[0],a=Wr().memoizedState;return[typeof s=="boolean"?s:Wo(s),a]},useSyncExternalStore:Dc,useId:Dd,useHostTransitionStatus:Vc,useFormState:_u,useActionState:_u,useOptimistic:function(s,a){var l=Wr();return Ya(l,dn,s,a)},useMemoCache:EA,useCacheRefresh:Oh},Hh={readContext:Is,use:Mi,useCallback:Ts,useContext:Is,useEffect:Lh,useImperativeHandle:kc,useInsertionEffect:Ld,useLayoutEffect:SA,useMemo:Jl,useReducer:el,useRef:ju,useState:function(){return el(ki)},useDebugValue:Nu,useDeferredValue:function(s,a){var l=Wr();return dn===null?sl(l,s,a):Tu(l,dn.memoizedState,s,a)},useTransition:function(){var s=el(ki)[0],a=Wr().memoizedState;return[typeof s=="boolean"?s:Wo(s),a]},useSyncExternalStore:Dc,useId:Dd,useHostTransitionStatus:Vc,useFormState:Rh,useActionState:Rh,useOptimistic:function(s,a){var l=Wr();return dn!==null?Ya(l,dn,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:EA,useCacheRefresh:Oh},il=null,kd=0;function Hd(s){var a=kd;return kd+=1,il===null&&(il=[]),qe(il,s,a)}function Kc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Vd(s,a){throw a.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function kf(s){var a=s._init;return a(s._payload)}function Hf(s){function a(He,Qe){if(s){var $e=He.deletions;$e===null?(He.deletions=[Qe],He.flags|=16):$e.push(Qe)}}function l(He,Qe){if(!s)return null;for(;Qe!==null;)a(He,Qe),Qe=Qe.sibling;return null}function f(He){for(var Qe=new Map;He!==null;)He.key!==null?Qe.set(He.key,He):Qe.set(He.index,He),He=He.sibling;return Qe}function E(He,Qe){return He=bi(He,Qe),He.index=0,He.sibling=null,He}function j(He,Qe,$e){return He.index=$e,s?($e=He.alternate,$e!==null?($e=$e.index,$e<Qe?(He.flags|=67108866,Qe):$e):(He.flags|=67108866,Qe)):(He.flags|=1048576,Qe)}function J(He){return s&&He.alternate===null&&(He.flags|=67108866),He}function ue(He,Qe,$e,mt){return Qe===null||Qe.tag!==6?(Qe=yu($e,He.mode,mt),Qe.return=He,Qe):(Qe=E(Qe,$e),Qe.return=He,Qe)}function _e(He,Qe,$e,mt){var en=$e.type;return en===R?ht(He,Qe,$e.props.children,mt,$e.key):Qe!==null&&(Qe.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===L&&kf(en)===Qe.type)?(Qe=E(Qe,$e.props),Kc(Qe,$e),Qe.return=He,Qe):(Qe=qA($e.type,$e.key,$e.props,null,He.mode,mt),Kc(Qe,$e),Qe.return=He,Qe)}function Ye(He,Qe,$e,mt){return Qe===null||Qe.tag!==4||Qe.stateNode.containerInfo!==$e.containerInfo||Qe.stateNode.implementation!==$e.implementation?(Qe=Uc($e,He.mode,mt),Qe.return=He,Qe):(Qe=E(Qe,$e.children||[]),Qe.return=He,Qe)}function ht(He,Qe,$e,mt,en){return Qe===null||Qe.tag!==7?(Qe=ya($e,He.mode,mt,en),Qe.return=He,Qe):(Qe=E(Qe,$e),Qe.return=He,Qe)}function wt(He,Qe,$e){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return Qe=yu(""+Qe,He.mode,$e),Qe.return=He,Qe;if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case x:return $e=qA(Qe.type,Qe.key,Qe.props,null,He.mode,$e),Kc($e,Qe),$e.return=He,$e;case w:return Qe=Uc(Qe,He.mode,$e),Qe.return=He,Qe;case L:var mt=Qe._init;return Qe=mt(Qe._payload),wt(He,Qe,$e)}if(ge(Qe)||H(Qe))return Qe=ya(Qe,He.mode,$e,null),Qe.return=He,Qe;if(typeof Qe.then=="function")return wt(He,Hd(Qe),$e);if(Qe.$$typeof===_)return wt(He,$a(He,Qe),$e);Vd(He,Qe)}return null}function et(He,Qe,$e,mt){var en=Qe!==null?Qe.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return en!==null?null:ue(He,Qe,""+$e,mt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case x:return $e.key===en?_e(He,Qe,$e,mt):null;case w:return $e.key===en?Ye(He,Qe,$e,mt):null;case L:return en=$e._init,$e=en($e._payload),et(He,Qe,$e,mt)}if(ge($e)||H($e))return en!==null?null:ht(He,Qe,$e,mt,null);if(typeof $e.then=="function")return et(He,Qe,Hd($e),mt);if($e.$$typeof===_)return et(He,Qe,$a(He,$e),mt);Vd(He,$e)}return null}function tt(He,Qe,$e,mt,en){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return He=He.get($e)||null,ue(Qe,He,""+mt,en);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case x:return He=He.get(mt.key===null?$e:mt.key)||null,_e(Qe,He,mt,en);case w:return He=He.get(mt.key===null?$e:mt.key)||null,Ye(Qe,He,mt,en);case L:var zn=mt._init;return mt=zn(mt._payload),tt(He,Qe,$e,mt,en)}if(ge(mt)||H(mt))return He=He.get($e)||null,ht(Qe,He,mt,en,null);if(typeof mt.then=="function")return tt(He,Qe,$e,Hd(mt),en);if(mt.$$typeof===_)return tt(He,Qe,$e,$a(Qe,mt),en);Vd(Qe,mt)}return null}function Cn(He,Qe,$e,mt){for(var en=null,zn=null,an=Qe,mn=Qe=0,Ki=null;an!==null&&mn<$e.length;mn++){an.index>mn?(Ki=an,an=null):Ki=an.sibling;var yr=et(He,an,$e[mn],mt);if(yr===null){an===null&&(an=Ki);break}s&&an&&yr.alternate===null&&a(He,an),Qe=j(yr,Qe,mn),zn===null?en=yr:zn.sibling=yr,zn=yr,an=Ki}if(mn===$e.length)return l(He,an),ar&&WA(He,mn),en;if(an===null){for(;mn<$e.length;mn++)an=wt(He,$e[mn],mt),an!==null&&(Qe=j(an,Qe,mn),zn===null?en=an:zn.sibling=an,zn=an);return ar&&WA(He,mn),en}for(an=f(an);mn<$e.length;mn++)Ki=tt(an,He,mn,$e[mn],mt),Ki!==null&&(s&&Ki.alternate!==null&&an.delete(Ki.key===null?mn:Ki.key),Qe=j(Ki,Qe,mn),zn===null?en=Ki:zn.sibling=Ki,zn=Ki);return s&&an.forEach(function($u){return a(He,$u)}),ar&&WA(He,mn),en}function fn(He,Qe,$e,mt){if($e==null)throw Error(r(151));for(var en=null,zn=null,an=Qe,mn=Qe=0,Ki=null,yr=$e.next();an!==null&&!yr.done;mn++,yr=$e.next()){an.index>mn?(Ki=an,an=null):Ki=an.sibling;var $u=et(He,an,yr.value,mt);if($u===null){an===null&&(an=Ki);break}s&&an&&$u.alternate===null&&a(He,an),Qe=j($u,Qe,mn),zn===null?en=$u:zn.sibling=$u,zn=$u,an=Ki}if(yr.done)return l(He,an),ar&&WA(He,mn),en;if(an===null){for(;!yr.done;mn++,yr=$e.next())yr=wt(He,yr.value,mt),yr!==null&&(Qe=j(yr,Qe,mn),zn===null?en=yr:zn.sibling=yr,zn=yr);return ar&&WA(He,mn),en}for(an=f(an);!yr.done;mn++,yr=$e.next())yr=tt(an,He,mn,yr.value,mt),yr!==null&&(s&&yr.alternate!==null&&an.delete(yr.key===null?mn:yr.key),Qe=j(yr,Qe,mn),zn===null?en=yr:zn.sibling=yr,zn=yr);return s&&an.forEach(function(JE){return a(He,JE)}),ar&&WA(He,mn),en}function Vr(He,Qe,$e,mt){if(typeof $e=="object"&&$e!==null&&$e.type===R&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case x:e:{for(var en=$e.key;Qe!==null;){if(Qe.key===en){if(en=$e.type,en===R){if(Qe.tag===7){l(He,Qe.sibling),mt=E(Qe,$e.props.children),mt.return=He,He=mt;break e}}else if(Qe.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===L&&kf(en)===Qe.type){l(He,Qe.sibling),mt=E(Qe,$e.props),Kc(mt,$e),mt.return=He,He=mt;break e}l(He,Qe);break}else a(He,Qe);Qe=Qe.sibling}$e.type===R?(mt=ya($e.props.children,He.mode,mt,$e.key),mt.return=He,He=mt):(mt=qA($e.type,$e.key,$e.props,null,He.mode,mt),Kc(mt,$e),mt.return=He,He=mt)}return J(He);case w:e:{for(en=$e.key;Qe!==null;){if(Qe.key===en)if(Qe.tag===4&&Qe.stateNode.containerInfo===$e.containerInfo&&Qe.stateNode.implementation===$e.implementation){l(He,Qe.sibling),mt=E(Qe,$e.children||[]),mt.return=He,He=mt;break e}else{l(He,Qe);break}else a(He,Qe);Qe=Qe.sibling}mt=Uc($e,He.mode,mt),mt.return=He,He=mt}return J(He);case L:return en=$e._init,$e=en($e._payload),Vr(He,Qe,$e,mt)}if(ge($e))return Cn(He,Qe,$e,mt);if(H($e)){if(en=H($e),typeof en!="function")throw Error(r(150));return $e=en.call($e),fn(He,Qe,$e,mt)}if(typeof $e.then=="function")return Vr(He,Qe,Hd($e),mt);if($e.$$typeof===_)return Vr(He,Qe,$a(He,$e),mt);Vd(He,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint"?($e=""+$e,Qe!==null&&Qe.tag===6?(l(He,Qe.sibling),mt=E(Qe,$e),mt.return=He,He=mt):(l(He,Qe),mt=yu($e,He.mode,mt),mt.return=He,He=mt),J(He)):l(He,Qe)}return function(He,Qe,$e,mt){try{kd=0;var en=Vr(He,Qe,$e,mt);return il=null,en}catch(an){if(an===se||an===le)throw an;var zn=ci(29,an,null,He.mode);return zn.lanes=mt,zn.return=He,zn}finally{}}}var Fu=Hf(!0),Kd=Hf(!1),Za=de(null),Jo=null;function ec(s){var a=s.alternate;ne(Us,Us.current&1),ne(Za,s),Jo===null&&(a===null||Un.current!==null||a.memoizedState!==null)&&(Jo=s)}function _g(s){if(s.tag===22){if(ne(Us,Us.current),ne(Za,s),Jo===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Jo=s)}}else al()}function al(){ne(Us,Us.current),ne(Za,Za.current)}function Ba(s){K(Za),Jo===s&&(Jo=null),K(Us)}var Us=de(0);function Gc(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Av(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Vf(s,a,l,f){a=s.memoizedState,l=l(f,a),l=l==null?a:h({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Kf={enqueueSetState:function(s,a,l){s=s._reactInternals;var f=Ot(),E=lt(f);E.payload=a,l!=null&&(E.callback=l),a=gt(s,E,f),a!==null&&(Ut(a,s,f),ut(a,s,f))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var f=Ot(),E=lt(f);E.tag=1,E.payload=a,l!=null&&(E.callback=l),a=gt(s,E,f),a!==null&&(Ut(a,s,f),ut(a,s,f))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Ot(),f=lt(l);f.tag=2,a!=null&&(f.callback=a),a=gt(s,f,l),a!==null&&(Ut(a,s,l),ut(a,s,l))}};function Ig(s,a,l,f,E,j,J){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,j,J):a.prototype&&a.prototype.isPureReactComponent?!yi(l,f)||!yi(E,j):!0}function jg(s,a,l,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,f),a.state!==s&&Kf.enqueueReplaceState(a,a.state,null)}function tc(s,a){var l=a;if("ref"in a){l={};for(var f in a)f!=="ref"&&(l[f]=a[f])}if(s=s.defaultProps){l===a&&(l=h({},l));for(var E in s)l[E]===void 0&&(l[E]=s[E])}return l}var Qu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Gf(s){Qu(s)}function zf(s){console.error(s)}function Vh(s){Qu(s)}function Gd(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function qf(s,a,l){try{var f=s.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function $f(s,a,l){return l=lt(l),l.tag=3,l.payload={element:null},l.callback=function(){Gd(s,a)},l}function zd(s){return s=lt(s),s.tag=3,s}function qd(s,a,l,f){var E=l.type.getDerivedStateFromError;if(typeof E=="function"){var j=f.value;s.payload=function(){return E(j)},s.callback=function(){qf(a,l,f)}}var J=l.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(s.callback=function(){qf(a,l,f),typeof E!="function"&&(B===null?B=new Set([this]):B.add(this));var ue=f.stack;this.componentDidCatch(f.value,{componentStack:ue!==null?ue:""})})}function Ng(s,a,l,f,E){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=l.alternate,a!==null&&zl(a,l,E,!0),l=Za.current,l!==null){switch(l.tag){case 13:return Jo===null?xs():l.alternate===null&&Bs===0&&(Bs=3),l.flags&=-257,l.flags|=65536,l.lanes=E,f===fe?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([f]):a.add(f),q0(s,f,E)),!1;case 22:return l.flags|=65536,f===fe?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([f]):l.add(f)),q0(s,f,E)),!1}throw Error(r(435,l.tag))}return q0(s,f,E),xs(),!1}if(ar)return a=Za.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=E,f!==Sd&&(s=Error(r(422),{cause:f}),Gl(Qn(s,l)))):(f!==Sd&&(a=Error(r(423),{cause:f}),Gl(Qn(a,l))),s=s.current.alternate,s.flags|=65536,E&=-E,s.lanes|=E,f=Qn(f,l),E=$f(s.stateNode,f,E),Gt(s,E),Bs!==4&&(Bs=2)),!1;var j=Error(r(520),{cause:f});if(j=Qn(j,l),th===null?th=[j]:th.push(j),Bs!==4&&(Bs=2),a===null)return!0;f=Qn(f,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=E&-E,l.lanes|=s,s=$f(l.stateNode,f,s),Gt(l,s),!1;case 1:if(a=l.type,j=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(B===null||!B.has(j))))return l.flags|=65536,E&=-E,l.lanes|=E,E=zd(E),qd(E,s,l,f),Gt(l,E),!1}l=l.return}while(l!==null);return!1}var Wf=Error(r(461)),di=!1;function hi(s,a,l,f){a.child=s===null?Kd(a,null,l,f):Fu(a,s.child,l,f)}function Yf(s,a,l,f,E){l=l.render;var j=a.ref;if("ref"in f){var J={};for(var ue in f)ue!=="ref"&&(J[ue]=f[ue])}else J=f;return vo(a),f=Wa(s,a,l,J,j,E),ue=Mr(),s!==null&&!di?(Lc(s,a,E),cl(s,a,E)):(ar&&ue&&Fc(a),a.flags|=1,hi(s,a,f,E),a.child)}function Tg(s,a,l,f,E){if(s===null){var j=l.type;return typeof j=="function"&&!Kl(j)&&j.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=j,Ug(s,a,j,f,E)):(s=qA(l.type,null,f,a,a.mode,E),s.ref=a.ref,s.return=a,a.child=s)}if(j=s.child,!ep(s,E)){var J=j.memoizedProps;if(l=l.compare,l=l!==null?l:yi,l(J,f)&&s.ref===a.ref)return cl(s,a,E)}return a.flags|=1,s=bi(j,f),s.ref=a.ref,s.return=a,a.child=s}function Ug(s,a,l,f,E){if(s!==null){var j=s.memoizedProps;if(yi(j,f)&&s.ref===a.ref)if(di=!1,a.pendingProps=f=j,ep(s,E))(s.flags&131072)!==0&&(di=!0);else return a.lanes=s.lanes,cl(s,a,E)}return ol(s,a,l,f,E)}function zc(s,a,l){var f=a.pendingProps,E=f.children,j=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=j!==null?j.baseLanes|l:l,s!==null){for(E=a.child=s.child,j=0;E!==null;)j=j|E.lanes|E.childLanes,E=E.sibling;a.childLanes=j&~f}else a.childLanes=0,a.child=null;return Xf(s,a,f,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&q(a,j!==null?j.cachePool:null),j!==null?mr(a,j):cr(),_g(a);else return a.lanes=a.childLanes=536870912,Xf(s,a,j!==null?j.baseLanes|l:l,l)}else j!==null?(q(a,j.cachePool),mr(a,j),al(),a.memoizedState=null):(s!==null&&q(a,null),cr(),al());return hi(s,a,E,l),a.child}function Xf(s,a,l,f){var E=D();return E=E===null?null:{parent:js._currentValue,pool:E},a.memoizedState={baseLanes:l,cachePool:E},s!==null&&q(a,null),cr(),_g(a),s!==null&&zl(s,a,f,!0),null}function is(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function ol(s,a,l,f,E){return vo(a),l=Wa(s,a,l,f,void 0,E),f=Mr(),s!==null&&!di?(Lc(s,a,E),cl(s,a,E)):(ar&&f&&Fc(a),a.flags|=1,hi(s,a,l,E),a.child)}function qc(s,a,l,f,E,j){return vo(a),a.updateQueue=null,l=JA(a,f,l,E),yo(s),f=Mr(),s!==null&&!di?(Lc(s,a,j),cl(s,a,j)):(ar&&f&&Fc(a),a.flags|=1,hi(s,a,l,j),a.child)}function Al(s,a,l,f,E){if(vo(a),a.stateNode===null){var j=Ps,J=l.contextType;typeof J=="object"&&J!==null&&(j=Is(J)),j=new l(f,j),a.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=Kf,a.stateNode=j,j._reactInternals=a,j=a.stateNode,j.props=f,j.state=a.memoizedState,j.refs={},Ue(a),J=l.contextType,j.context=typeof J=="object"&&J!==null?Is(J):Ps,j.state=a.memoizedState,J=l.getDerivedStateFromProps,typeof J=="function"&&(Vf(a,l,J,f),j.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(J=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),J!==j.state&&Kf.enqueueReplaceState(j,j.state,null),Dt(a,f,j,E),nn(),j.state=a.memoizedState),typeof j.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(s===null){j=a.stateNode;var ue=a.memoizedProps,_e=tc(l,ue);j.props=_e;var Ye=j.context,ht=l.contextType;J=Ps,typeof ht=="object"&&ht!==null&&(J=Is(ht));var wt=l.getDerivedStateFromProps;ht=typeof wt=="function"||typeof j.getSnapshotBeforeUpdate=="function",ue=a.pendingProps!==ue,ht||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ue||Ye!==J)&&jg(a,j,f,J),nt=!1;var et=a.memoizedState;j.state=et,Dt(a,f,j,E),nn(),Ye=a.memoizedState,ue||et!==Ye||nt?(typeof wt=="function"&&(Vf(a,l,wt,f),Ye=a.memoizedState),(_e=nt||Ig(a,l,_e,f,et,Ye,J))?(ht||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(a.flags|=4194308)):(typeof j.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=Ye),j.props=f,j.state=Ye,j.context=J,f=_e):(typeof j.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{j=a.stateNode,Le(s,a),J=a.memoizedProps,ht=tc(l,J),j.props=ht,wt=a.pendingProps,et=j.context,Ye=l.contextType,_e=Ps,typeof Ye=="object"&&Ye!==null&&(_e=Is(Ye)),ue=l.getDerivedStateFromProps,(Ye=typeof ue=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(J!==wt||et!==_e)&&jg(a,j,f,_e),nt=!1,et=a.memoizedState,j.state=et,Dt(a,f,j,E),nn();var tt=a.memoizedState;J!==wt||et!==tt||nt||s!==null&&s.dependencies!==null&&xu(s.dependencies)?(typeof ue=="function"&&(Vf(a,l,ue,f),tt=a.memoizedState),(ht=nt||Ig(a,l,ht,f,et,tt,_e)||s!==null&&s.dependencies!==null&&xu(s.dependencies))?(Ye||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(f,tt,_e),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(f,tt,_e)),typeof j.componentDidUpdate=="function"&&(a.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof j.componentDidUpdate!="function"||J===s.memoizedProps&&et===s.memoizedState||(a.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||J===s.memoizedProps&&et===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=tt),j.props=f,j.state=tt,j.context=_e,f=ht):(typeof j.componentDidUpdate!="function"||J===s.memoizedProps&&et===s.memoizedState||(a.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||J===s.memoizedProps&&et===s.memoizedState||(a.flags|=1024),f=!1)}return j=f,is(s,a),f=(a.flags&128)!==0,j||f?(j=a.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:j.render(),a.flags|=1,s!==null&&f?(a.child=Fu(a,s.child,null,E),a.child=Fu(a,null,l,E)):hi(s,a,l,E),a.memoizedState=j.state,s=a.child):s=cl(s,a,E),s}function ll(s,a,l,f){return ui(),a.flags|=256,hi(s,a,l,f),a.child}var $c={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zo(s){return{baseLanes:s,cachePool:Z()}}function Kh(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Bo),s}function Jf(s,a,l){var f=a.pendingProps,E=!1,j=(a.flags&128)!==0,J;if((J=j)||(J=s!==null&&s.memoizedState===null?!1:(Us.current&2)!==0),J&&(E=!0,a.flags&=-129),J=(a.flags&32)!==0,a.flags&=-33,s===null){if(ar){if(E?ec(a):al(),ar){var ue=rs,_e;if(_e=ue){e:{for(_e=ue,ue=go;_e.nodeType!==8;){if(!ue){ue=null;break e}if(_e=bl(_e.nextSibling),_e===null){ue=null;break e}}ue=_e}ue!==null?(a.memoizedState={dehydrated:ue,treeContext:$A!==null?{id:ba,overflow:Go}:null,retryLane:536870912,hydrationErrors:null},_e=ci(18,null,null,0),_e.stateNode=ue,_e.return=a,a.child=_e,_s=a,rs=null,_e=!0):_e=!1}_e||YA(a)}if(ue=a.memoizedState,ue!==null&&(ue=ue.dehydrated,ue!==null))return Av(ue)?a.lanes=32:a.lanes=536870912,null;Ba(a)}return ue=f.children,f=f.fallback,E?(al(),E=a.mode,ue=Ru({mode:"hidden",children:ue},E),f=ya(f,E,l,null),ue.return=a,f.return=a,ue.sibling=f,a.child=ue,E=a.child,E.memoizedState=Zo(l),E.childLanes=Kh(s,J,l),a.memoizedState=$c,f):(ec(a),Gh(a,ue))}if(_e=s.memoizedState,_e!==null&&(ue=_e.dehydrated,ue!==null)){if(j)a.flags&256?(ec(a),a.flags&=-257,a=Wc(s,a,l)):a.memoizedState!==null?(al(),a.child=s.child,a.flags|=128,a=null):(al(),E=f.fallback,ue=a.mode,f=Ru({mode:"visible",children:f.children},ue),E=ya(E,ue,l,null),E.flags|=2,f.return=a,E.return=a,f.sibling=E,a.child=f,Fu(a,s.child,null,l),f=a.child,f.memoizedState=Zo(l),f.childLanes=Kh(s,J,l),a.memoizedState=$c,a=E);else if(ec(a),Av(ue)){if(J=ue.nextSibling&&ue.nextSibling.dataset,J)var Ye=J.dgst;J=Ye,f=Error(r(419)),f.stack="",f.digest=J,Gl({value:f,source:null,stack:null}),a=Wc(s,a,l)}else if(di||zl(s,a,l,!1),J=(l&s.childLanes)!==0,di||J){if(J=kr,J!==null&&(f=l&-l,f=(f&42)!==0?1:vn(f),f=(f&(J.suspendedLanes|l))!==0?0:f,f!==0&&f!==_e.retryLane))throw _e.retryLane=f,Ho(s,f),Ut(J,s,f),Wf;ue.data==="$?"||xs(),a=Wc(s,a,l)}else ue.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=_e.treeContext,rs=bl(ue.nextSibling),_s=a,ar=!0,xA=null,go=!1,s!==null&&(wa[Xi++]=ba,wa[Xi++]=Go,wa[Xi++]=$A,ba=s.id,Go=s.overflow,$A=a),a=Gh(a,f.children),a.flags|=4096);return a}return E?(al(),E=f.fallback,ue=a.mode,_e=s.child,Ye=_e.sibling,f=bi(_e,{mode:"hidden",children:f.children}),f.subtreeFlags=_e.subtreeFlags&65011712,Ye!==null?E=bi(Ye,E):(E=ya(E,ue,l,null),E.flags|=2),E.return=a,f.return=a,f.sibling=E,a.child=f,f=E,E=a.child,ue=s.child.memoizedState,ue===null?ue=Zo(l):(_e=ue.cachePool,_e!==null?(Ye=js._currentValue,_e=_e.parent!==Ye?{parent:Ye,pool:Ye}:_e):_e=Z(),ue={baseLanes:ue.baseLanes|l,cachePool:_e}),E.memoizedState=ue,E.childLanes=Kh(s,J,l),a.memoizedState=$c,f):(ec(a),l=s.child,s=l.sibling,l=bi(l,{mode:"visible",children:f.children}),l.return=a,l.sibling=null,s!==null&&(J=a.deletions,J===null?(a.deletions=[s],a.flags|=16):J.push(s)),a.child=l,a.memoizedState=null,l)}function Gh(s,a){return a=Ru({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Ru(s,a){return s=ci(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Wc(s,a,l){return Fu(a,s.child,null,l),s=Gh(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Zf(s,a,l){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),bu(s.return,a,l)}function zh(s,a,l,f,E){var j=s.memoizedState;j===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:E}:(j.isBackwards=a,j.rendering=null,j.renderingStartTime=0,j.last=f,j.tail=l,j.tailMode=E)}function Lu(s,a,l){var f=a.pendingProps,E=f.revealOrder,j=f.tail;if(hi(s,a,f.children,l),f=Us.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Zf(s,l,a);else if(s.tag===19)Zf(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(ne(Us,f),E){case"forwards":for(l=a.child,E=null;l!==null;)s=l.alternate,s!==null&&Gc(s)===null&&(E=l),l=l.sibling;l=E,l===null?(E=a.child,a.child=null):(E=l.sibling,l.sibling=null),zh(a,!1,E,l,j);break;case"backwards":for(l=null,E=a.child,a.child=null;E!==null;){if(s=E.alternate,s!==null&&Gc(s)===null){a.child=E;break}s=E.sibling,E.sibling=l,l=E,E=s}zh(a,!0,l,null,j);break;case"together":zh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function cl(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),ic|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(zl(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,l=bi(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=bi(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function ep(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&xu(s)))}function k0(s,a,l){switch(a.tag){case 3:Se(a,a.stateNode.containerInfo),mo(a,js,s.memoizedState.cache),ui();break;case 27:case 5:We(a);break;case 4:Se(a,a.stateNode.containerInfo);break;case 10:mo(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(ec(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Jf(s,a,l):(ec(a),s=cl(s,a,l),s!==null?s.sibling:null);ec(a);break;case 19:var E=(s.flags&128)!==0;if(f=(l&a.childLanes)!==0,f||(zl(s,a,l,!1),f=(l&a.childLanes)!==0),E){if(f)return Lu(s,a,l);a.flags|=128}if(E=a.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),ne(Us,Us.current),f)break;return null;case 22:case 23:return a.lanes=0,zc(s,a,l);case 24:mo(a,js,s.memoizedState.cache)}return cl(s,a,l)}function Fg(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)di=!0;else{if(!ep(s,l)&&(a.flags&128)===0)return di=!1,k0(s,a,l);di=(s.flags&131072)!==0}else di=!1,ar&&(a.flags&1048576)!==0&&jh(a,wu,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var f=a.elementType,E=f._init;if(f=E(f._payload),a.type=f,typeof f=="function")Kl(f)?(s=tc(f,s),a.tag=1,a=Al(null,a,f,s,l)):(a.tag=0,a=ol(null,a,f,s,l));else{if(f!=null){if(E=f.$$typeof,E===O){a.tag=11,a=Yf(null,a,f,s,l);break e}else if(E===U){a.tag=14,a=Tg(null,a,f,s,l);break e}}throw a=te(f)||f,Error(r(306,a,""))}}return a;case 0:return ol(s,a,a.type,a.pendingProps,l);case 1:return f=a.type,E=tc(f,a.pendingProps),Al(s,a,f,E,l);case 3:e:{if(Se(a,a.stateNode.containerInfo),s===null)throw Error(r(387));f=a.pendingProps;var j=a.memoizedState;E=j.element,Le(s,a),Dt(a,f,null,l);var J=a.memoizedState;if(f=J.cache,mo(a,js,f),f!==j.cache&&Bu(a,[js],l,!0),nn(),f=J.element,j.isDehydrated)if(j={element:f,isDehydrated:!1,cache:J.cache},a.updateQueue.baseState=j,a.memoizedState=j,a.flags&256){a=ll(s,a,f,l);break e}else if(f!==E){E=Qn(Error(r(424)),a),Gl(E),a=ll(s,a,f,l);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(rs=bl(s.firstChild),_s=a,ar=!0,xA=null,go=!0,l=Kd(a,null,f,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ui(),f===E){a=cl(s,a,l);break e}hi(s,a,f,l)}a=a.child}return a;case 26:return is(s,a),s===null?(l=Ew(a.type,null,a.pendingProps,null))?a.memoizedState=l:ar||(l=a.type,s=a.pendingProps,f=zg(he.current).createElement(l),f[hr]=a,f[fr]=s,ea(f,l,s),or(f),a.stateNode=f):a.memoizedState=Ew(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return We(a),s===null&&ar&&(f=a.stateNode=Bw(a.type,a.pendingProps,he.current),_s=a,go=!0,E=rs,Vu(a.type)?(lv=E,rs=bl(f.firstChild)):rs=E),hi(s,a,a.pendingProps.children,l),is(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&ar&&((E=f=rs)&&(f=_E(f,a.type,a.pendingProps,go),f!==null?(a.stateNode=f,_s=a,rs=bl(f.firstChild),go=!1,E=!0):E=!1),E||YA(a)),We(a),E=a.type,j=a.pendingProps,J=s!==null?s.memoizedProps:null,f=j.children,iv(E,j)?f=null:J!==null&&iv(E,J)&&(a.flags|=32),a.memoizedState!==null&&(E=Wa(s,a,CA,null,null,l),mp._currentValue=E),is(s,a),hi(s,a,f,l),a.child;case 6:return s===null&&ar&&((s=l=rs)&&(l=IE(l,a.pendingProps,go),l!==null?(a.stateNode=l,_s=a,rs=null,s=!0):s=!1),s||YA(a)),null;case 13:return Jf(s,a,l);case 4:return Se(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Fu(a,null,f,l):hi(s,a,f,l),a.child;case 11:return Yf(s,a,a.type,a.pendingProps,l);case 7:return hi(s,a,a.pendingProps,l),a.child;case 8:return hi(s,a,a.pendingProps.children,l),a.child;case 12:return hi(s,a,a.pendingProps.children,l),a.child;case 10:return f=a.pendingProps,mo(a,a.type,f.value),hi(s,a,f.children,l),a.child;case 9:return E=a.type._context,f=a.pendingProps.children,vo(a),E=Is(E),f=f(E),a.flags|=1,hi(s,a,f,l),a.child;case 14:return Tg(s,a,a.type,a.pendingProps,l);case 15:return Ug(s,a,a.type,a.pendingProps,l);case 19:return Lu(s,a,l);case 31:return f=a.pendingProps,l=a.mode,f={mode:f.mode,children:f.children},s===null?(l=Ru(f,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=bi(s.child,f),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return zc(s,a,l);case 24:return vo(a),f=Is(js),s===null?(E=D(),E===null&&(E=kr,j=_d(),E.pooledCache=j,j.refCount++,j!==null&&(E.pooledCacheLanes|=l),E=j),a.memoizedState={parent:f,cache:E},Ue(a),mo(a,js,E)):((s.lanes&l)!==0&&(Le(s,a),Dt(a,null,null,l),nn()),E=s.memoizedState,j=a.memoizedState,E.parent!==f?(E={parent:f,cache:f},a.memoizedState=E,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=E),mo(a,js,f)):(f=j.cache,mo(a,js,f),f!==E.cache&&Bu(a,[js],l,!0))),hi(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ul(s){s.flags|=4}function qh(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Nw(a)){if(a=Za.current,a!==null&&((er&4194048)===er?Jo!==null:(er&62914560)!==er&&(er&536870912)===0||a!==Jo))throw Ge=fe,ae;s.flags|=8192}}function $h(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Ln():536870912,s.lanes|=a,ku|=a)}function $d(s,a){if(!ar)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function hs(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,f=0;if(a)for(var E=s.child;E!==null;)l|=E.lanes|E.childLanes,f|=E.subtreeFlags&65011712,f|=E.flags&65011712,E.return=s,E=E.sibling;else for(E=s.child;E!==null;)l|=E.lanes|E.childLanes,f|=E.subtreeFlags,f|=E.flags,E.return=s,E=E.sibling;return s.subtreeFlags|=f,s.childLanes=l,a}function H0(s,a,l){var f=a.pendingProps;switch(BA(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hs(a),null;case 1:return hs(a),null;case 3:return l=a.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Ji(js),Ie(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Bi(a)?ul(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Th())),hs(a),null;case 26:return l=a.memoizedState,s===null?(ul(a),l!==null?(hs(a),qh(a,l)):(hs(a),a.flags&=-16777217)):l?l!==s.memoizedState?(ul(a),hs(a),qh(a,l)):(hs(a),a.flags&=-16777217):(s.memoizedProps!==f&&ul(a),hs(a),a.flags&=-16777217),null;case 27:Xe(a),l=he.current;var E=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==f&&ul(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return hs(a),null}s=ce.current,Bi(a)?Nh(a):(s=Bw(E,f,l),a.stateNode=s,ul(a))}return hs(a),null;case 5:if(Xe(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==f&&ul(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return hs(a),null}if(s=ce.current,Bi(a))Nh(a);else{switch(E=zg(he.current),s){case 1:s=E.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=E.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=E.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=E.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?E.createElement("select",{is:f.is}):E.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?E.createElement(l,{is:f.is}):E.createElement(l)}}s[hr]=a,s[fr]=f;e:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)s.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break e;for(;E.sibling===null;){if(E.return===null||E.return===a)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=s;e:switch(ea(s,l,f),l){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ul(a)}}return hs(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==f&&ul(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(s=he.current,Bi(a)){if(s=a.stateNode,l=a.memoizedProps,f=null,E=_s,E!==null)switch(E.tag){case 27:case 5:f=E.memoizedProps}s[hr]=a,s=!!(s.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||pw(s.nodeValue,l)),s||YA(a)}else s=zg(s).createTextNode(f),s[hr]=a,a.stateNode=s}return hs(a),null;case 13:if(f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(E=Bi(a),f!==null&&f.dehydrated!==null){if(s===null){if(!E)throw Error(r(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[hr]=a}else ui(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;hs(a),E=!1}else E=Th(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=E),E=!0;if(!E)return a.flags&256?(Ba(a),a):(Ba(a),null)}if(Ba(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=f!==null,s=s!==null&&s.memoizedState!==null,l){f=a.child,E=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(E=f.alternate.memoizedState.cachePool.pool);var j=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(j=f.memoizedState.cachePool.pool),j!==E&&(f.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),$h(a,a.updateQueue),hs(a),null;case 4:return Ie(),s===null&&ev(a.stateNode.containerInfo),hs(a),null;case 10:return Ji(a.type),hs(a),null;case 19:if(K(Us),E=a.memoizedState,E===null)return hs(a),null;if(f=(a.flags&128)!==0,j=E.rendering,j===null)if(f)$d(E,!1);else{if(Bs!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(j=Gc(s),j!==null){for(a.flags|=128,$d(E,!1),s=j.updateQueue,a.updateQueue=s,$h(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)Tc(l,s),l=l.sibling;return ne(Us,Us.current&1|2),a.child}s=s.sibling}E.tail!==null&&Ht()>m&&(a.flags|=128,f=!0,$d(E,!1),a.lanes=4194304)}else{if(!f)if(s=Gc(j),s!==null){if(a.flags|=128,f=!0,s=s.updateQueue,a.updateQueue=s,$h(a,s),$d(E,!0),E.tail===null&&E.tailMode==="hidden"&&!j.alternate&&!ar)return hs(a),null}else 2*Ht()-E.renderingStartTime>m&&l!==536870912&&(a.flags|=128,f=!0,$d(E,!1),a.lanes=4194304);E.isBackwards?(j.sibling=a.child,a.child=j):(s=E.last,s!==null?s.sibling=j:a.child=j,E.last=j)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=Ht(),a.sibling=null,s=Us.current,ne(Us,f?s&1|2:s&1),a):(hs(a),null);case 22:case 23:return Ba(a),gn(),f=a.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(l&536870912)!==0&&(a.flags&128)===0&&(hs(a),a.subtreeFlags&6&&(a.flags|=8192)):hs(a),l=a.updateQueue,l!==null&&$h(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==l&&(a.flags|=2048),s!==null&&K(S),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ji(js),hs(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function V0(s,a){switch(BA(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ji(js),Ie(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Xe(a),null;case 13:if(Ba(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));ui()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return K(Us),null;case 4:return Ie(),null;case 10:return Ji(a.type),null;case 22:case 23:return Ba(a),gn(),s!==null&&K(S),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Ji(js),null;case 25:return null;default:return null}}function Wh(s,a){switch(BA(a),a.tag){case 3:Ji(js),Ie();break;case 26:case 27:case 5:Xe(a);break;case 4:Ie();break;case 13:Ba(a);break;case 19:K(Us);break;case 10:Ji(a.type);break;case 22:case 23:Ba(a),gn(),s!==null&&K(S);break;case 24:Ji(js)}}function Yc(s,a){try{var l=a.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var E=f.next;l=E;do{if((l.tag&s)===s){f=void 0;var j=l.create,J=l.inst;f=j(),J.destroy=f}l=l.next}while(l!==E)}}catch(ue){Xr(a,a.return,ue)}}function dl(s,a,l){try{var f=a.updateQueue,E=f!==null?f.lastEffect:null;if(E!==null){var j=E.next;f=j;do{if((f.tag&s)===s){var J=f.inst,ue=J.destroy;if(ue!==void 0){J.destroy=void 0,E=a;var _e=l,Ye=ue;try{Ye()}catch(ht){Xr(E,_e,ht)}}}f=f.next}while(f!==j)}}catch(ht){Xr(a,a.return,ht)}}function Qg(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{lr(a,l)}catch(f){Xr(s,s.return,f)}}}function Rg(s,a,l){l.props=tc(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(f){Xr(s,a,f)}}function Du(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof l=="function"?s.refCleanup=l(f):l.current=f}}catch(E){Xr(s,a,E)}}function _A(s,a){var l=s.ref,f=s.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(E){Xr(s,a,E)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(E){Xr(s,a,E)}else l.current=null}function Lg(s){var a=s.type,l=s.memoizedProps,f=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(E){Xr(s,s.return,E)}}function tp(s,a,l){try{var f=s.stateNode;BE(f,s.type,l,a),f[fr]=a}catch(E){Xr(s,s.return,E)}}function Dg(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Vu(s.type)||s.tag===4}function np(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Dg(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Vu(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Wd(s,a,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Gg));else if(f!==4&&(f===27&&Vu(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Wd(s,a,l),s=s.sibling;s!==null;)Wd(s,a,l),s=s.sibling}function Yh(s,a,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(f!==4&&(f===27&&Vu(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Yh(s,a,l),s=s.sibling;s!==null;)Yh(s,a,l),s=s.sibling}function Xh(s){var a=s.stateNode,l=s.memoizedProps;try{for(var f=s.type,E=a.attributes;E.length;)a.removeAttributeNode(E[0]);ea(a,f,l),a[hr]=s,a[fr]=l}catch(j){Xr(s,s.return,j)}}var hl=!1,jt=!1,nc=!1,Yd=typeof WeakSet=="function"?WeakSet:Set,xr=null;function K0(s,a){if(s=s.containerInfo,rv=Jg,s=li(s),Ss(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var E=f.anchorOffset,j=f.focusNode;f=f.focusOffset;try{l.nodeType,j.nodeType}catch{l=null;break e}var J=0,ue=-1,_e=-1,Ye=0,ht=0,wt=s,et=null;t:for(;;){for(var tt;wt!==l||E!==0&&wt.nodeType!==3||(ue=J+E),wt!==j||f!==0&&wt.nodeType!==3||(_e=J+f),wt.nodeType===3&&(J+=wt.nodeValue.length),(tt=wt.firstChild)!==null;)et=wt,wt=tt;for(;;){if(wt===s)break t;if(et===l&&++Ye===E&&(ue=J),et===j&&++ht===f&&(_e=J),(tt=wt.nextSibling)!==null)break;wt=et,et=wt.parentNode}wt=tt}l=ue===-1||_e===-1?null:{start:ue,end:_e}}else l=null}l=l||{start:0,end:0}}else l=null;for(sv={focusedElem:s,selectionRange:l},Jg=!1,xr=a;xr!==null;)if(a=xr,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,xr=s;else for(;xr!==null;){switch(a=xr,j=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&j!==null){s=void 0,l=a,E=j.memoizedProps,j=j.memoizedState,f=l.stateNode;try{var Cn=tc(l.type,E,l.elementType===l.type);s=f.getSnapshotBeforeUpdate(Cn,j),f.__reactInternalSnapshotBeforeUpdate=s}catch(fn){Xr(l,l.return,fn)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)ov(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":ov(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,xr=s;break}xr=a.return}}function pr(s,a,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:fl(s,l),f&4&&Yc(5,l);break;case 1:if(fl(s,l),f&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(J){Xr(l,l.return,J)}else{var E=tc(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(E,a,s.__reactInternalSnapshotBeforeUpdate)}catch(J){Xr(l,l.return,J)}}f&64&&Qg(l),f&512&&Du(l,l.return);break;case 3:if(fl(s,l),f&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{lr(s,a)}catch(J){Xr(l,l.return,J)}}break;case 27:a===null&&f&4&&Xh(l);case 26:case 5:fl(s,l),a===null&&f&4&&Lg(l),f&512&&Du(l,l.return);break;case 12:fl(s,l);break;case 13:fl(s,l),f&4&&Xd(s,l),f&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=uE.bind(null,l),jE(s,l))));break;case 22:if(f=l.memoizedState!==null||hl,!f){a=a!==null&&a.memoizedState!==null||jt,E=hl;var j=jt;hl=f,(jt=a)&&!j?gl(s,l,(l.subtreeFlags&8772)!==0):fl(s,l),hl=E,jt=j}break;case 30:break;default:fl(s,l)}}function Yr(s){var a=s.alternate;a!==null&&(s.alternate=null,Yr(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Es(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Fr=null,xa=!1;function bo(s,a,l){for(l=l.child;l!==null;)Og(s,a,l),l=l.sibling}function Og(s,a,l){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(It,l)}catch{}switch(l.tag){case 26:jt||_A(l,a),bo(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:jt||_A(l,a);var f=Fr,E=xa;Vu(l.type)&&(Fr=l.stateNode,xa=!1),bo(s,a,l),hp(l.stateNode),Fr=f,xa=E;break;case 5:jt||_A(l,a);case 6:if(f=Fr,E=xa,Fr=null,bo(s,a,l),Fr=f,xa=E,Fr!==null)if(xa)try{(Fr.nodeType===9?Fr.body:Fr.nodeName==="HTML"?Fr.ownerDocument.body:Fr).removeChild(l.stateNode)}catch(j){Xr(l,a,j)}else try{Fr.removeChild(l.stateNode)}catch(j){Xr(l,a,j)}break;case 18:Fr!==null&&(xa?(s=Fr,ww(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),bp(s)):ww(Fr,l.stateNode));break;case 4:f=Fr,E=xa,Fr=l.stateNode.containerInfo,xa=!0,bo(s,a,l),Fr=f,xa=E;break;case 0:case 11:case 14:case 15:jt||dl(2,l,a),jt||dl(4,l,a),bo(s,a,l);break;case 1:jt||(_A(l,a),f=l.stateNode,typeof f.componentWillUnmount=="function"&&Rg(l,a,f)),bo(s,a,l);break;case 21:bo(s,a,l);break;case 22:jt=(f=jt)||l.memoizedState!==null,bo(s,a,l),jt=f;break;default:bo(s,a,l)}}function Xd(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{bp(s)}catch(l){Xr(a,a.return,l)}}function G0(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Yd),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Yd),a;default:throw Error(r(435,s.tag))}}function rp(s,a){var l=G0(s);a.forEach(function(f){var E=dE.bind(null,s,f);l.has(f)||(l.add(f),f.then(E,E))})}function Ca(s,a){var l=a.deletions;if(l!==null)for(var f=0;f<l.length;f++){var E=l[f],j=s,J=a,ue=J;e:for(;ue!==null;){switch(ue.tag){case 27:if(Vu(ue.type)){Fr=ue.stateNode,xa=!1;break e}break;case 5:Fr=ue.stateNode,xa=!1;break e;case 3:case 4:Fr=ue.stateNode.containerInfo,xa=!0;break e}ue=ue.return}if(Fr===null)throw Error(r(160));Og(j,J,E),Fr=null,xa=!1,j=E.alternate,j!==null&&(j.return=null),E.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)sp(a,s),a=a.sibling}var eA=null;function sp(s,a){var l=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ca(a,s),eo(s),f&4&&(dl(3,s,s.return),Yc(3,s),dl(5,s,s.return));break;case 1:Ca(a,s),eo(s),f&512&&(jt||l===null||_A(l,l.return)),f&64&&hl&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var E=eA;if(Ca(a,s),eo(s),f&512&&(jt||l===null||_A(l,l.return)),f&4){var j=l!==null?l.memoizedState:null;if(f=s.memoizedState,l===null)if(f===null)if(s.stateNode===null){e:{f=s.type,l=s.memoizedProps,E=E.ownerDocument||E;t:switch(f){case"title":j=E.getElementsByTagName("title")[0],(!j||j[Gs]||j[hr]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=E.createElement(f),E.head.insertBefore(j,E.querySelector("head > title"))),ea(j,f,l),j[hr]=s,or(j),f=j;break e;case"link":var J=Iw("link","href",E).get(f+(l.href||""));if(J){for(var ue=0;ue<J.length;ue++)if(j=J[ue],j.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&j.getAttribute("rel")===(l.rel==null?null:l.rel)&&j.getAttribute("title")===(l.title==null?null:l.title)&&j.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){J.splice(ue,1);break t}}j=E.createElement(f),ea(j,f,l),E.head.appendChild(j);break;case"meta":if(J=Iw("meta","content",E).get(f+(l.content||""))){for(ue=0;ue<J.length;ue++)if(j=J[ue],j.getAttribute("content")===(l.content==null?null:""+l.content)&&j.getAttribute("name")===(l.name==null?null:l.name)&&j.getAttribute("property")===(l.property==null?null:l.property)&&j.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&j.getAttribute("charset")===(l.charSet==null?null:l.charSet)){J.splice(ue,1);break t}}j=E.createElement(f),ea(j,f,l),E.head.appendChild(j);break;default:throw Error(r(468,f))}j[hr]=s,or(j),f=j}s.stateNode=f}else jw(E,s.type,s.stateNode);else s.stateNode=_w(E,f,s.memoizedProps);else j!==f?(j===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):j.count--,f===null?jw(E,s.type,s.stateNode):_w(E,f,s.memoizedProps)):f===null&&s.stateNode!==null&&tp(s,s.memoizedProps,l.memoizedProps)}break;case 27:Ca(a,s),eo(s),f&512&&(jt||l===null||_A(l,l.return)),l!==null&&f&4&&tp(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Ca(a,s),eo(s),f&512&&(jt||l===null||_A(l,l.return)),s.flags&32){E=s.stateNode;try{Ni(E,"")}catch(tt){Xr(s,s.return,tt)}}f&4&&s.stateNode!=null&&(E=s.memoizedProps,tp(s,E,l!==null?l.memoizedProps:E)),f&1024&&(nc=!0);break;case 6:if(Ca(a,s),eo(s),f&4){if(s.stateNode===null)throw Error(r(162));f=s.memoizedProps,l=s.stateNode;try{l.nodeValue=f}catch(tt){Xr(s,s.return,tt)}}break;case 3:if(Wg=null,E=eA,eA=qg(a.containerInfo),Ca(a,s),eA=E,eo(s),f&4&&l!==null&&l.memoizedState.isDehydrated)try{bp(a.containerInfo)}catch(tt){Xr(s,s.return,tt)}nc&&(nc=!1,ip(s));break;case 4:f=eA,eA=qg(s.stateNode.containerInfo),Ca(a,s),eo(s),eA=f;break;case 12:Ca(a,s),eo(s);break;case 13:Ca(a,s),eo(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(y=Ht()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,rp(s,f)));break;case 22:E=s.memoizedState!==null;var _e=l!==null&&l.memoizedState!==null,Ye=hl,ht=jt;if(hl=Ye||E,jt=ht||_e,Ca(a,s),jt=ht,hl=Ye,eo(s),f&8192)e:for(a=s.stateNode,a._visibility=E?a._visibility&-2:a._visibility|1,E&&(l===null||_e||hl||jt||pl(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){_e=l=a;try{if(j=_e.stateNode,E)J=j.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none";else{ue=_e.stateNode;var wt=_e.memoizedProps.style,et=wt!=null&&wt.hasOwnProperty("display")?wt.display:null;ue.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(tt){Xr(_e,_e.return,tt)}}}else if(a.tag===6){if(l===null){_e=a;try{_e.stateNode.nodeValue=E?"":_e.memoizedProps}catch(tt){Xr(_e,_e.return,tt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=s.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,rp(s,l))));break;case 19:Ca(a,s),eo(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,rp(s,f)));break;case 30:break;case 21:break;default:Ca(a,s),eo(s)}}function eo(s){var a=s.flags;if(a&2){try{for(var l,f=s.return;f!==null;){if(Dg(f)){l=f;break}f=f.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var E=l.stateNode,j=np(s);Yh(s,j,E);break;case 5:var J=l.stateNode;l.flags&32&&(Ni(J,""),l.flags&=-33);var ue=np(s);Yh(s,ue,J);break;case 3:case 4:var _e=l.stateNode.containerInfo,Ye=np(s);Wd(s,Ye,_e);break;default:throw Error(r(161))}}catch(ht){Xr(s,s.return,ht)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function ip(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;ip(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function fl(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)pr(s,a.alternate,a),a=a.sibling}function pl(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:dl(4,a,a.return),pl(a);break;case 1:_A(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Rg(a,a.return,l),pl(a);break;case 27:hp(a.stateNode);case 26:case 5:_A(a,a.return),pl(a);break;case 22:a.memoizedState===null&&pl(a);break;case 30:pl(a);break;default:pl(a)}s=s.sibling}}function gl(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,E=s,j=a,J=j.flags;switch(j.tag){case 0:case 11:case 15:gl(E,j,l),Yc(4,j);break;case 1:if(gl(E,j,l),f=j,E=f.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Ye){Xr(f,f.return,Ye)}if(f=j,E=f.updateQueue,E!==null){var ue=f.stateNode;try{var _e=E.shared.hiddenCallbacks;if(_e!==null)for(E.shared.hiddenCallbacks=null,E=0;E<_e.length;E++)Zn(_e[E],ue)}catch(Ye){Xr(f,f.return,Ye)}}l&&J&64&&Qg(j),Du(j,j.return);break;case 27:Xh(j);case 26:case 5:gl(E,j,l),l&&f===null&&J&4&&Lg(j),Du(j,j.return);break;case 12:gl(E,j,l);break;case 13:gl(E,j,l),l&&J&4&&Xd(E,j);break;case 22:j.memoizedState===null&&gl(E,j,l),Du(j,j.return);break;case 30:break;default:gl(E,j,l)}a=a.sibling}}function ap(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Qc(l))}function Jh(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Qc(s))}function IA(s,a,l,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Pg(s,a,l,f),a=a.sibling}function Pg(s,a,l,f){var E=a.flags;switch(a.tag){case 0:case 11:case 15:IA(s,a,l,f),E&2048&&Yc(9,a);break;case 1:IA(s,a,l,f);break;case 3:IA(s,a,l,f),E&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Qc(s)));break;case 12:if(E&2048){IA(s,a,l,f),s=a.stateNode;try{var j=a.memoizedProps,J=j.id,ue=j.onPostCommit;typeof ue=="function"&&ue(J,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(_e){Xr(a,a.return,_e)}}else IA(s,a,l,f);break;case 13:IA(s,a,l,f);break;case 23:break;case 22:j=a.stateNode,J=a.alternate,a.memoizedState!==null?j._visibility&2?IA(s,a,l,f):rc(s,a):j._visibility&2?IA(s,a,l,f):(j._visibility|=2,Ou(s,a,l,f,(a.subtreeFlags&10256)!==0)),E&2048&&ap(J,a);break;case 24:IA(s,a,l,f),E&2048&&Jh(a.alternate,a);break;default:IA(s,a,l,f)}}function Ou(s,a,l,f,E){for(E=E&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var j=s,J=a,ue=l,_e=f,Ye=J.flags;switch(J.tag){case 0:case 11:case 15:Ou(j,J,ue,_e,E),Yc(8,J);break;case 23:break;case 22:var ht=J.stateNode;J.memoizedState!==null?ht._visibility&2?Ou(j,J,ue,_e,E):rc(j,J):(ht._visibility|=2,Ou(j,J,ue,_e,E)),E&&Ye&2048&&ap(J.alternate,J);break;case 24:Ou(j,J,ue,_e,E),E&&Ye&2048&&Jh(J.alternate,J);break;default:Ou(j,J,ue,_e,E)}a=a.sibling}}function rc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,f=a,E=f.flags;switch(f.tag){case 22:rc(l,f),E&2048&&ap(f.alternate,f);break;case 24:rc(l,f),E&2048&&Jh(f.alternate,f);break;default:rc(l,f)}a=a.sibling}}var Hi=8192;function Xc(s){if(s.subtreeFlags&Hi)for(s=s.child;s!==null;)Jd(s),s=s.sibling}function Jd(s){switch(s.tag){case 26:Xc(s),s.flags&Hi&&s.memoizedState!==null&&HE(eA,s.memoizedState,s.memoizedProps);break;case 5:Xc(s);break;case 3:case 4:var a=eA;eA=qg(s.stateNode.containerInfo),Xc(s),eA=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Hi,Hi=16777216,Xc(s),Hi=a):Xc(s));break;default:Xc(s)}}function Mg(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Zd(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var f=a[l];xr=f,eh(f,s)}Mg(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Zh(s),s=s.sibling}function Zh(s){switch(s.tag){case 0:case 11:case 15:Zd(s),s.flags&2048&&dl(9,s,s.return);break;case 3:Zd(s);break;case 12:Zd(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,ml(s)):Zd(s);break;default:Zd(s)}}function ml(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var f=a[l];xr=f,eh(f,s)}Mg(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:dl(8,a,a.return),ml(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,ml(a));break;default:ml(a)}s=s.sibling}}function eh(s,a){for(;xr!==null;){var l=xr;switch(l.tag){case 0:case 11:case 15:dl(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Qc(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,xr=f;else e:for(l=s;xr!==null;){f=xr;var E=f.sibling,j=f.return;if(Yr(f),f===l){xr=null;break e}if(E!==null){E.return=j,xr=E;break e}xr=j}}}var z0={getCacheForType:function(s){var a=Is(js),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},Pu=typeof WeakMap=="function"?WeakMap:Map,Cr=0,kr=null,Vn=null,er=0,vr=0,to=null,sc=!1,Mu=!1,op=!1,vl=0,Bs=0,ic=0,Jc=0,Ap=0,Bo=0,ku=0,th=null,Ea=null,lp=!1,y=0,m=1/0,C=null,B=null,M=0,Y=null,ie=null,me=0,ve=0,Fe=null,De=null,Ve=0,At=null;function Ot(){if((Cr&2)!==0&&er!==0)return er&-er;if(oe.T!==null){var s=XA;return s!==0?s:Y0()}return Lr()}function Tt(){Bo===0&&(Bo=(er&536870912)===0||ar?Qs():536870912);var s=Za.current;return s!==null&&(s.flags|=32),Bo}function Ut(s,a,l){(s===kr&&(vr===2||vr===9)||s.cancelPendingCommit!==null)&&(Vt(s,0),Mn(s,er,Bo,!1)),on(s,l),((Cr&2)===0||s!==kr)&&(s===kr&&((Cr&2)===0&&(Jc|=l),Bs===4&&Mn(s,er,Bo,!1)),lc(s))}function jn(s,a,l){if((Cr&6)!==0)throw Error(r(327));var f=!l&&(a&124)===0&&(a&s.expiredLanes)===0||wr(s,a),E=f?jr(s,a):Vi(s,a,!0),j=f;do{if(E===0){Mu&&!f&&Mn(s,a,0,!1);break}else{if(l=s.current.alternate,j&&!Xt(l)){E=Vi(s,a,!1),j=!1;continue}if(E===2){if(j=a,s.errorRecoveryDisabledLanes&j)var J=0;else J=s.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){a=J;e:{var ue=s;E=th;var _e=ue.current.memoizedState.isDehydrated;if(_e&&(Vt(ue,J).flags|=256),J=Vi(ue,J,!1),J!==2){if(op&&!_e){ue.errorRecoveryDisabledLanes|=j,Jc|=j,E=4;break e}j=Ea,Ea=E,j!==null&&(Ea===null?Ea=j:Ea.push.apply(Ea,j))}E=J}if(j=!1,E!==2)continue}}if(E===1){Vt(s,0),Mn(s,a,0,!0);break}e:{switch(f=s,j=E,j){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Mn(f,a,Bo,!sc);break e;case 2:Ea=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(E=y+300-Ht(),10<E)){if(Mn(f,a,Bo,!sc),rn(f,0,!0)!==0)break e;f.timeoutHandle=vw(Zt.bind(null,f,l,Ea,C,lp,a,Bo,Jc,ku,sc,j,2,-0,0),E);break e}Zt(f,l,Ea,C,lp,a,Bo,Jc,ku,sc,j,0,-0,0)}}break}while(!0);lc(s)}function Zt(s,a,l,f,E,j,J,ue,_e,Ye,ht,wt,et,tt){if(s.timeoutHandle=-1,wt=a.subtreeFlags,(wt&8192||(wt&16785408)===16785408)&&(gp={stylesheets:null,count:0,unsuspend:kE},Jd(a),wt=VE(),wt!==null)){s.cancelPendingCommit=wt(wl.bind(null,s,a,j,l,f,E,J,ue,_e,ht,1,et,tt)),Mn(s,j,J,!Ye);return}wl(s,a,j,l,f,E,J,ue,_e)}function Xt(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var E=l[f],j=E.getSnapshot;E=E.value;try{if(!Ur(j(),E))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Mn(s,a,l,f){a&=~Ap,a&=~Jc,s.suspendedLanes|=a,s.pingedLanes&=~a,f&&(s.warmLanes|=a),f=s.expirationTimes;for(var E=a;0<E;){var j=31-kt(E),J=1<<j;f[j]=-1,E&=~J}l!==0&&St(s,l,a)}function En(){return(Cr&6)===0?(cp(0),!1):!0}function hn(){if(Vn!==null){if(vr===0)var s=Vn.return;else s=Vn,qo=Ms=null,Eu(s),il=null,kd=0,s=Vn;for(;s!==null;)Wh(s.alternate,s),s=s.return;Vn=null}}function Vt(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,CE(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),hn(),kr=s,Vn=l=bi(s.current,null),er=a,vr=0,to=null,sc=!1,Mu=wr(s,a),op=!1,ku=Bo=Ap=Jc=ic=Bs=0,Ea=th=null,lp=!1,(a&8)!==0&&(a|=a&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=a;0<f;){var E=31-kt(f),j=1<<E;a|=s[E],f&=~j}return vl=a,ma(),l}function Yn(s,a){An=null,oe.H=kh,a===se||a===le?(a=Me(),vr=3):a===ae?(a=Me(),vr=4):vr=a===Wf?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,to=a,Vn===null&&(Bs=1,Gd(s,Qn(a,s.current)))}function Xn(){var s=oe.H;return oe.H=kh,s===null?kh:s}function wn(){var s=oe.A;return oe.A=z0,s}function xs(){Bs=4,sc||(er&4194048)!==er&&Za.current!==null||(Mu=!0),(ic&134217727)===0&&(Jc&134217727)===0||kr===null||Mn(kr,er,Bo,!1)}function Vi(s,a,l){var f=Cr;Cr|=2;var E=Xn(),j=wn();(kr!==s||er!==a)&&(C=null,Vt(s,a)),a=!1;var J=Bs;e:do try{if(vr!==0&&Vn!==null){var ue=Vn,_e=to;switch(vr){case 8:hn(),J=6;break e;case 3:case 2:case 9:case 6:Za.current===null&&(a=!0);var Ye=vr;if(vr=0,to=null,Ys(s,ue,_e,Ye),l&&Mu){J=0;break e}break;default:Ye=vr,vr=0,to=null,Ys(s,ue,_e,Ye)}}no(),J=Bs;break}catch(ht){Yn(s,ht)}while(!0);return a&&s.shellSuspendCounter++,qo=Ms=null,Cr=f,oe.H=E,oe.A=j,Vn===null&&(kr=null,er=0,ma()),J}function no(){for(;Vn!==null;)yl(Vn)}function jr(s,a){var l=Cr;Cr|=2;var f=Xn(),E=wn();kr!==s||er!==a?(C=null,m=Ht()+500,Vt(s,a)):Mu=wr(s,a);e:do try{if(vr!==0&&Vn!==null){a=Vn;var j=to;t:switch(vr){case 1:vr=0,to=null,Ys(s,a,j,1);break;case 2:case 9:if(ye(j)){vr=0,to=null,Zi(a);break}a=function(){vr!==2&&vr!==9||kr!==s||(vr=7),lc(s)},j.then(a,a);break e;case 3:vr=7;break e;case 4:vr=5;break e;case 7:ye(j)?(vr=0,to=null,Zi(a)):(vr=0,to=null,Ys(s,a,j,7));break;case 5:var J=null;switch(Vn.tag){case 26:J=Vn.memoizedState;case 5:case 27:var ue=Vn;if(!J||Nw(J)){vr=0,to=null;var _e=ue.sibling;if(_e!==null)Vn=_e;else{var Ye=ue.return;Ye!==null?(Vn=Ye,jA(Ye)):Vn=null}break t}}vr=0,to=null,Ys(s,a,j,5);break;case 6:vr=0,to=null,Ys(s,a,j,6);break;case 8:hn(),Bs=6;break e;default:throw Error(r(462))}}Ci();break}catch(ht){Yn(s,ht)}while(!0);return qo=Ms=null,oe.H=f,oe.A=E,Cr=l,Vn!==null?0:(kr=null,er=0,ma(),Bs)}function Ci(){for(;Vn!==null&&!Ze();)yl(Vn)}function yl(s){var a=Fg(s.alternate,s,vl);s.memoizedProps=s.pendingProps,a===null?jA(s):Vn=a}function Zi(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=qc(l,a,a.pendingProps,a.type,void 0,er);break;case 11:a=qc(l,a,a.pendingProps,a.type.render,a.ref,er);break;case 5:Eu(a);default:Wh(l,a),a=Vn=Tc(a,vl),a=Fg(l,a,vl)}s.memoizedProps=s.pendingProps,a===null?jA(s):Vn=a}function Ys(s,a,l,f){qo=Ms=null,Eu(a),il=null,kd=0;var E=a.return;try{if(Ng(s,E,a,l,er)){Bs=1,Gd(s,Qn(l,s.current)),Vn=null;return}}catch(j){if(E!==null)throw Vn=E,j;Bs=1,Gd(s,Qn(l,s.current)),Vn=null;return}a.flags&32768?(ar||f===1?s=!0:Mu||(er&536870912)!==0?s=!1:(sc=s=!0,(f===2||f===9||f===3||f===6)&&(f=Za.current,f!==null&&f.tag===13&&(f.flags|=16384))),tA(a,s)):jA(a)}function jA(s){var a=s;do{if((a.flags&32768)!==0){tA(a,sc);return}s=a.return;var l=H0(a.alternate,a,vl);if(l!==null){Vn=l;return}if(a=a.sibling,a!==null){Vn=a;return}Vn=a=s}while(a!==null);Bs===0&&(Bs=5)}function tA(s,a){do{var l=V0(s.alternate,s);if(l!==null){l.flags&=32767,Vn=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Vn=s;return}Vn=s=l}while(s!==null);Bs=6,Vn=null}function wl(s,a,l,f,E,j,J,ue,_e){s.cancelPendingCommit=null;do xo();while(M!==0);if((Cr&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(j=a.lanes|a.childLanes,j|=Pr,Qt(s,l,j,J,ue,_e),s===kr&&(Vn=kr=null,er=0),ie=a,Y=s,me=l,ve=j,Fe=E,De=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,hE(rt,function(){return Zc(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=oe.T,oe.T=null,E=we.p,we.p=2,J=Cr,Cr|=4;try{K0(s,a,l)}finally{Cr=J,we.p=E,oe.T=f}}M=1,ac(),oc(),NA()}}function ac(){if(M===1){M=0;var s=Y,a=ie,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=oe.T,oe.T=null;var f=we.p;we.p=2;var E=Cr;Cr|=4;try{sp(a,s);var j=sv,J=li(s.containerInfo),ue=j.focusedElem,_e=j.selectionRange;if(J!==ue&&ue&&ue.ownerDocument&&Po(ue.ownerDocument.documentElement,ue)){if(_e!==null&&Ss(ue)){var Ye=_e.start,ht=_e.end;if(ht===void 0&&(ht=Ye),"selectionStart"in ue)ue.selectionStart=Ye,ue.selectionEnd=Math.min(ht,ue.value.length);else{var wt=ue.ownerDocument||document,et=wt&&wt.defaultView||window;if(et.getSelection){var tt=et.getSelection(),Cn=ue.textContent.length,fn=Math.min(_e.start,Cn),Vr=_e.end===void 0?fn:Math.min(_e.end,Cn);!tt.extend&&fn>Vr&&(J=Vr,Vr=fn,fn=J);var He=Ai(ue,fn),Qe=Ai(ue,Vr);if(He&&Qe&&(tt.rangeCount!==1||tt.anchorNode!==He.node||tt.anchorOffset!==He.offset||tt.focusNode!==Qe.node||tt.focusOffset!==Qe.offset)){var $e=wt.createRange();$e.setStart(He.node,He.offset),tt.removeAllRanges(),fn>Vr?(tt.addRange($e),tt.extend(Qe.node,Qe.offset)):($e.setEnd(Qe.node,Qe.offset),tt.addRange($e))}}}}for(wt=[],tt=ue;tt=tt.parentNode;)tt.nodeType===1&&wt.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof ue.focus=="function"&&ue.focus(),ue=0;ue<wt.length;ue++){var mt=wt[ue];mt.element.scrollLeft=mt.left,mt.element.scrollTop=mt.top}}Jg=!!rv,sv=rv=null}finally{Cr=E,we.p=f,oe.T=l}}s.current=a,M=2}}function oc(){if(M===2){M=0;var s=Y,a=ie,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=oe.T,oe.T=null;var f=we.p;we.p=2;var E=Cr;Cr|=4;try{pr(s,a.alternate,a)}finally{Cr=E,we.p=f,oe.T=l}}M=3}}function NA(){if(M===4||M===3){M=0,Ee();var s=Y,a=ie,l=me,f=De;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?M=5:(M=0,ie=Y=null,Ac(s,s.pendingLanes));var E=s.pendingLanes;if(E===0&&(B=null),In(l),a=a.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(It,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=oe.T,E=we.p,we.p=2,oe.T=null;try{for(var j=s.onRecoverableError,J=0;J<f.length;J++){var ue=f[J];j(ue.value,{componentStack:ue.stack})}}finally{oe.T=a,we.p=E}}(me&3)!==0&&xo(),lc(s),E=s.pendingLanes,(l&4194090)!==0&&(E&42)!==0?s===At?Ve++:(Ve=0,At=s):Ve=0,cp(0)}}function Ac(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Qc(a)))}function xo(s){return ac(),oc(),NA(),Zc()}function Zc(){if(M!==5)return!1;var s=Y,a=ve;ve=0;var l=In(me),f=oe.T,E=we.p;try{we.p=32>l?32:l,oe.T=null,l=Fe,Fe=null;var j=Y,J=me;if(M=0,ie=Y=null,me=0,(Cr&6)!==0)throw Error(r(331));var ue=Cr;if(Cr|=4,Zh(j.current),Pg(j,j.current,J,l),Cr=ue,cp(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(It,j)}catch{}return!0}finally{we.p=E,oe.T=f,Ac(s,a)}}function Hu(s,a,l){a=Qn(l,a),a=$f(s.stateNode,a,2),s=gt(s,a,2),s!==null&&(on(s,2),lc(s))}function Xr(s,a,l){if(s.tag===3)Hu(s,s,l);else for(;a!==null;){if(a.tag===3){Hu(a,s,l);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(B===null||!B.has(f))){s=Qn(l,s),l=zd(2),f=gt(a,l,2),f!==null&&(qd(l,f,a,s),on(f,2),lc(f));break}}a=a.return}}function q0(s,a,l){var f=s.pingCache;if(f===null){f=s.pingCache=new Pu;var E=new Set;f.set(a,E)}else E=f.get(a),E===void 0&&(E=new Set,f.set(a,E));E.has(l)||(op=!0,E.add(l),s=cE.bind(null,s,a,l),a.then(s,s))}function cE(s,a,l){var f=s.pingCache;f!==null&&f.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,kr===s&&(er&l)===l&&(Bs===4||Bs===3&&(er&62914560)===er&&300>Ht()-y?(Cr&2)===0&&Vt(s,0):Ap|=l,ku===er&&(ku=0)),lc(s)}function sw(s,a){a===0&&(a=Ln()),s=Ho(s,a),s!==null&&(on(s,a),lc(s))}function uE(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),sw(s,l)}function dE(s,a){var l=0;switch(s.tag){case 13:var f=s.stateNode,E=s.memoizedState;E!==null&&(l=E.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(a),sw(s,l)}function hE(s,a){return dt(s,a)}var kg=null,ef=null,$0=!1,Hg=!1,W0=!1,nh=0;function lc(s){s!==ef&&s.next===null&&(ef===null?kg=ef=s:ef=ef.next=s),Hg=!0,$0||($0=!0,pE())}function cp(s,a){if(!W0&&Hg){W0=!0;do for(var l=!1,f=kg;f!==null;){if(s!==0){var E=f.pendingLanes;if(E===0)var j=0;else{var J=f.suspendedLanes,ue=f.pingedLanes;j=(1<<31-kt(42|s)+1)-1,j&=E&~(J&~ue),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(l=!0,Aw(f,j))}else j=er,j=rn(f,f===kr?j:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(j&3)===0||wr(f,j)||(l=!0,Aw(f,j));f=f.next}while(l);W0=!1}}function fE(){iw()}function iw(){Hg=$0=!1;var s=0;nh!==0&&(xE()&&(s=nh),nh=0);for(var a=Ht(),l=null,f=kg;f!==null;){var E=f.next,j=aw(f,a);j===0?(f.next=null,l===null?kg=E:l.next=E,E===null&&(ef=l)):(l=f,(s!==0||(j&3)!==0)&&(Hg=!0)),f=E}cp(s)}function aw(s,a){for(var l=s.suspendedLanes,f=s.pingedLanes,E=s.expirationTimes,j=s.pendingLanes&-62914561;0<j;){var J=31-kt(j),ue=1<<J,_e=E[J];_e===-1?((ue&l)===0||(ue&f)!==0)&&(E[J]=un(ue,a)):_e<=a&&(s.expiredLanes|=ue),j&=~ue}if(a=kr,l=er,l=rn(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,l===0||s===a&&(vr===2||vr===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&Mt(f),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||wr(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(f!==null&&Mt(f),In(l)){case 2:case 8:l=Oe;break;case 32:l=rt;break;case 268435456:l=pt;break;default:l=rt}return f=ow.bind(null,s),l=dt(l,f),s.callbackPriority=a,s.callbackNode=l,a}return f!==null&&f!==null&&Mt(f),s.callbackPriority=2,s.callbackNode=null,2}function ow(s,a){if(M!==0&&M!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(xo()&&s.callbackNode!==l)return null;var f=er;return f=rn(s,s===kr?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(jn(s,f,a),aw(s,Ht()),s.callbackNode!=null&&s.callbackNode===l?ow.bind(null,s):null)}function Aw(s,a){if(xo())return null;jn(s,a,!0)}function pE(){EE(function(){(Cr&6)!==0?dt(ct,fE):iw()})}function Y0(){return nh===0&&(nh=Qs()),nh}function lw(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Wi(""+s)}function cw(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function gE(s,a,l,f,E){if(a==="submit"&&l&&l.stateNode===E){var j=lw((E[fr]||null).action),J=f.submitter;J&&(a=(a=J[fr]||null)?lw(a.formAction):J.getAttribute("formAction"),a!==null&&(j=a,J=null));var ue=new ka("action","action",null,f,E);s.push({event:ue,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(nh!==0){var _e=J?cw(E,J):new FormData(E);wo(l,{pending:!0,data:_e,method:E.method,action:j},null,_e)}}else typeof j=="function"&&(ue.preventDefault(),_e=J?cw(E,J):new FormData(E),wo(l,{pending:!0,data:_e,method:E.method,action:j},j,_e))},currentTarget:E}]})}}for(var X0=0;X0<yA.length;X0++){var J0=yA[X0],mE=J0.toLowerCase(),vE=J0[0].toUpperCase()+J0.slice(1);$r(mE,"on"+vE)}$r(VA,"onAnimationEnd"),$r(mA,"onAnimationIteration"),$r(vA,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(za,"onTransitionRun"),$r(KA,"onTransitionStart"),$r(GA,"onTransitionCancel"),$r(ko,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var up="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(up));function uw(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var f=s[l],E=f.event;f=f.listeners;e:{var j=void 0;if(a)for(var J=f.length-1;0<=J;J--){var ue=f[J],_e=ue.instance,Ye=ue.currentTarget;if(ue=ue.listener,_e!==j&&E.isPropagationStopped())break e;j=ue,E.currentTarget=Ye;try{j(E)}catch(ht){Qu(ht)}E.currentTarget=null,j=_e}else for(J=0;J<f.length;J++){if(ue=f[J],_e=ue.instance,Ye=ue.currentTarget,ue=ue.listener,_e!==j&&E.isPropagationStopped())break e;j=ue,E.currentTarget=Ye;try{j(E)}catch(ht){Qu(ht)}E.currentTarget=null,j=_e}}}}function Jn(s,a){var l=a[tn];l===void 0&&(l=a[tn]=new Set);var f=s+"__bubble";l.has(f)||(dw(a,s,2,!1),l.add(f))}function Z0(s,a,l){var f=0;a&&(f|=4),dw(l,s,f,a)}var Vg="_reactListening"+Math.random().toString(36).slice(2);function ev(s){if(!s[Vg]){s[Vg]=!0,qi.forEach(function(l){l!=="selectionchange"&&(yE.has(l)||Z0(l,!1,s),Z0(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Vg]||(a[Vg]=!0,Z0("selectionchange",!1,a))}}function dw(s,a,l,f){switch(Lw(a)){case 2:var E=zE;break;case 8:E=qE;break;default:E=fv}l=E.bind(null,a,l,s),E=void 0,!mi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(E=!0),f?E!==void 0?s.addEventListener(a,l,{capture:!0,passive:E}):s.addEventListener(a,l,!0):E!==void 0?s.addEventListener(a,l,{passive:E}):s.addEventListener(a,l,!1)}function tv(s,a,l,f,E){var j=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var J=f.tag;if(J===3||J===4){var ue=f.stateNode.containerInfo;if(ue===E)break;if(J===4)for(J=f.return;J!==null;){var _e=J.tag;if((_e===3||_e===4)&&J.stateNode.containerInfo===E)return;J=J.return}for(;ue!==null;){if(J=gs(ue),J===null)return;if(_e=J.tag,_e===5||_e===6||_e===26||_e===27){f=j=J;continue e}ue=ue.parentNode}}f=f.return}Pl(function(){var Ye=j,ht=br(l),wt=[];e:{var et=fo.get(s);if(et!==void 0){var tt=ka,Cn=s;switch(s){case"keypress":if(Fi(l)===0)break e;case"keydown":case"keyup":tt=Va;break;case"focusin":Cn="focus",tt=Yi;break;case"focusout":Cn="blur",tt=Yi;break;case"beforeblur":case"afterblur":tt=Yi;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=ys;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=lo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=hA;break;case VA:case mA:case vA:tt=uA;break;case ko:tt=ee;break;case"scroll":case"scrollend":tt=MA;break;case"wheel":tt=Ne;break;case"copy":case"cut":case"paste":tt=Ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Oo;break;case"toggle":case"beforetoggle":tt=it}var fn=(a&4)!==0,Vr=!fn&&(s==="scroll"||s==="scrollend"),He=fn?et!==null?et+"Capture":null:et;fn=[];for(var Qe=Ye,$e;Qe!==null;){var mt=Qe;if($e=mt.stateNode,mt=mt.tag,mt!==5&&mt!==26&&mt!==27||$e===null||He===null||(mt=ri(Qe,He),mt!=null&&fn.push(dp(Qe,mt,$e))),Vr)break;Qe=Qe.return}0<fn.length&&(et=new tt(et,Cn,null,l,ht),wt.push({event:et,listeners:fn}))}}if((a&7)===0){e:{if(et=s==="mouseover"||s==="pointerover",tt=s==="mouseout"||s==="pointerout",et&&l!==Ls&&(Cn=l.relatedTarget||l.fromElement)&&(gs(Cn)||Cn[Er]))break e;if((tt||et)&&(et=ht.window===ht?ht:(et=ht.ownerDocument)?et.defaultView||et.parentWindow:window,tt?(Cn=l.relatedTarget||l.toElement,tt=Ye,Cn=Cn?gs(Cn):null,Cn!==null&&(Vr=o(Cn),fn=Cn.tag,Cn!==Vr||fn!==5&&fn!==27&&fn!==6)&&(Cn=null)):(tt=null,Cn=Ye),tt!==Cn)){if(fn=ys,mt="onMouseLeave",He="onMouseEnter",Qe="mouse",(s==="pointerout"||s==="pointerover")&&(fn=Oo,mt="onPointerLeave",He="onPointerEnter",Qe="pointer"),Vr=tt==null?et:vs(tt),$e=Cn==null?et:vs(Cn),et=new fn(mt,Qe+"leave",tt,l,ht),et.target=Vr,et.relatedTarget=$e,mt=null,gs(ht)===Ye&&(fn=new fn(He,Qe+"enter",Cn,l,ht),fn.target=$e,fn.relatedTarget=Vr,mt=fn),Vr=mt,tt&&Cn)t:{for(fn=tt,He=Cn,Qe=0,$e=fn;$e;$e=tf($e))Qe++;for($e=0,mt=He;mt;mt=tf(mt))$e++;for(;0<Qe-$e;)fn=tf(fn),Qe--;for(;0<$e-Qe;)He=tf(He),$e--;for(;Qe--;){if(fn===He||He!==null&&fn===He.alternate)break t;fn=tf(fn),He=tf(He)}fn=null}else fn=null;tt!==null&&hw(wt,et,tt,fn,!1),Cn!==null&&Vr!==null&&hw(wt,Vr,Cn,fn,!0)}}e:{if(et=Ye?vs(Ye):window,tt=et.nodeName&&et.nodeName.toLowerCase(),tt==="select"||tt==="input"&&et.type==="file")var en=fA;else if(On(et))if(Qi)en=jc;else{en=Hl;var zn=vi}else tt=et.nodeName,!tt||tt.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?Ye&&PA(Ye.elementType)&&(en=fA):en=Vl;if(en&&(en=en(s,Ye))){ga(wt,en,l,ht);break e}zn&&zn(s,et,Ye),s==="focusout"&&Ye&&et.type==="number"&&Ye.memoizedProps.value!=null&&oo(et,"number",et.value)}switch(zn=Ye?vs(Ye):window,s){case"focusin":(On(zn)||zn.contentEditable==="true")&&(Ri=zn,wi=Ye,Os=null);break;case"focusout":Os=wi=Ri=null;break;case"mousedown":Ga=!0;break;case"contextmenu":case"mouseup":case"dragend":Ga=!1,ns(wt,l,ht);break;case"selectionchange":if(Mo)break;case"keydown":case"keyup":ns(wt,l,ht)}var an;if(Lt)e:{switch(s){case"compositionstart":var mn="onCompositionStart";break e;case"compositionend":mn="onCompositionEnd";break e;case"compositionupdate":mn="onCompositionUpdate";break e}mn=void 0}else cn?Ke(s,l)&&(mn="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(mn="onCompositionStart");mn&&(W&&l.locale!=="ko"&&(cn||mn!=="onCompositionStart"?mn==="onCompositionEnd"&&cn&&(an=cA()):(Gr=ht,Ma="value"in Gr?Gr.value:Gr.textContent,cn=!0)),zn=Kg(Ye,mn),0<zn.length&&(mn=new Ro(mn,s,null,l,ht),wt.push({event:mn,listeners:zn}),an?mn.data=an:(an=ot(l),an!==null&&(mn.data=an)))),(an=k?Fn(s,l):yn(s,l))&&(mn=Kg(Ye,"onBeforeInput"),0<mn.length&&(zn=new Ro("onBeforeInput","beforeinput",null,l,ht),wt.push({event:zn,listeners:mn}),zn.data=an)),gE(wt,s,Ye,l,ht)}uw(wt,a)})}function dp(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Kg(s,a){for(var l=a+"Capture",f=[];s!==null;){var E=s,j=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||j===null||(E=ri(s,l),E!=null&&f.unshift(dp(s,E,j)),E=ri(s,a),E!=null&&f.push(dp(s,E,j))),s.tag===3)return f;s=s.return}return[]}function tf(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function hw(s,a,l,f,E){for(var j=a._reactName,J=[];l!==null&&l!==f;){var ue=l,_e=ue.alternate,Ye=ue.stateNode;if(ue=ue.tag,_e!==null&&_e===f)break;ue!==5&&ue!==26&&ue!==27||Ye===null||(_e=Ye,E?(Ye=ri(l,j),Ye!=null&&J.unshift(dp(l,Ye,_e))):E||(Ye=ri(l,j),Ye!=null&&J.push(dp(l,Ye,_e)))),l=l.return}J.length!==0&&s.push({event:a,listeners:J})}var wE=/\r\n?/g,bE=/\u0000|\uFFFD/g;function fw(s){return(typeof s=="string"?s:""+s).replace(wE,`
`).replace(bE,"")}function pw(s,a){return a=fw(a),fw(s)===a}function Gg(){}function Hr(s,a,l,f,E,j){switch(l){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||Ni(s,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&Ni(s,""+f);break;case"className":Ii(s,"class",f);break;case"tabIndex":Ii(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ii(s,l,f);break;case"style":lA(s,f,j);break;case"data":if(a!=="object"){Ii(s,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(l);break}f=Wi(""+f),s.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(l==="formAction"?(a!=="input"&&Hr(s,a,"name",E.name,E,null),Hr(s,a,"formEncType",E.formEncType,E,null),Hr(s,a,"formMethod",E.formMethod,E,null),Hr(s,a,"formTarget",E.formTarget,E,null)):(Hr(s,a,"encType",E.encType,E,null),Hr(s,a,"method",E.method,E,null),Hr(s,a,"target",E.target,E,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(l);break}f=Wi(""+f),s.setAttribute(l,f);break;case"onClick":f!=null&&(s.onclick=Gg);break;case"onScroll":f!=null&&Jn("scroll",s);break;case"onScrollEnd":f!=null&&Jn("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(E.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}l=Wi(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,""+f):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":f===!0?s.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,f):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(l,f):s.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(l):s.setAttribute(l,f);break;case"popover":Jn("beforetoggle",s),Jn("toggle",s),zs(s,"popover",f);break;case"xlinkActuate":es(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":es(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":es(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":es(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":es(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":es(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":es(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":es(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":es(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":zs(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Oa.get(l)||l,zs(s,l,f))}}function nv(s,a,l,f,E,j){switch(l){case"style":lA(s,f,j);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(E.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof f=="string"?Ni(s,f):(typeof f=="number"||typeof f=="bigint")&&Ni(s,""+f);break;case"onScroll":f!=null&&Jn("scroll",s);break;case"onScrollEnd":f!=null&&Jn("scrollend",s);break;case"onClick":f!=null&&(s.onclick=Gg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ia.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(E=l.endsWith("Capture"),a=l.slice(2,E?l.length-7:void 0),j=s[fr]||null,j=j!=null?j[l]:null,typeof j=="function"&&s.removeEventListener(a,j,E),typeof f=="function")){typeof j!="function"&&j!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,f,E);break e}l in s?s[l]=f:f===!0?s.setAttribute(l,""):zs(s,l,f)}}}function ea(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jn("error",s),Jn("load",s);var f=!1,E=!1,j;for(j in l)if(l.hasOwnProperty(j)){var J=l[j];if(J!=null)switch(j){case"src":f=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Hr(s,a,j,J,l,null)}}E&&Hr(s,a,"srcSet",l.srcSet,l,null),f&&Hr(s,a,"src",l.src,l,null);return;case"input":Jn("invalid",s);var ue=j=J=E=null,_e=null,Ye=null;for(f in l)if(l.hasOwnProperty(f)){var ht=l[f];if(ht!=null)switch(f){case"name":E=ht;break;case"type":J=ht;break;case"checked":_e=ht;break;case"defaultChecked":Ye=ht;break;case"value":j=ht;break;case"defaultValue":ue=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(r(137,a));break;default:Hr(s,a,f,ht,l,null)}}ao(s,j,ue,_e,Ye,J,E,!1),$i(s);return;case"select":Jn("invalid",s),f=J=j=null;for(E in l)if(l.hasOwnProperty(E)&&(ue=l[E],ue!=null))switch(E){case"value":j=ue;break;case"defaultValue":J=ue;break;case"multiple":f=ue;default:Hr(s,a,E,ue,l,null)}a=j,l=J,s.multiple=!!f,a!=null?Aa(s,!!f,a,!1):l!=null&&Aa(s,!!f,l,!0);return;case"textarea":Jn("invalid",s),j=E=f=null;for(J in l)if(l.hasOwnProperty(J)&&(ue=l[J],ue!=null))switch(J){case"value":f=ue;break;case"defaultValue":E=ue;break;case"children":j=ue;break;case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(91));break;default:Hr(s,a,J,ue,l,null)}Ao(s,f,E,j),$i(s);return;case"option":for(_e in l)if(l.hasOwnProperty(_e)&&(f=l[_e],f!=null))switch(_e){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Hr(s,a,_e,f,l,null)}return;case"dialog":Jn("beforetoggle",s),Jn("toggle",s),Jn("cancel",s),Jn("close",s);break;case"iframe":case"object":Jn("load",s);break;case"video":case"audio":for(f=0;f<up.length;f++)Jn(up[f],s);break;case"image":Jn("error",s),Jn("load",s);break;case"details":Jn("toggle",s);break;case"embed":case"source":case"link":Jn("error",s),Jn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ye in l)if(l.hasOwnProperty(Ye)&&(f=l[Ye],f!=null))switch(Ye){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Hr(s,a,Ye,f,l,null)}return;default:if(PA(a)){for(ht in l)l.hasOwnProperty(ht)&&(f=l[ht],f!==void 0&&nv(s,a,ht,f,l,void 0));return}}for(ue in l)l.hasOwnProperty(ue)&&(f=l[ue],f!=null&&Hr(s,a,ue,f,l,null))}function BE(s,a,l,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,j=null,J=null,ue=null,_e=null,Ye=null,ht=null;for(tt in l){var wt=l[tt];if(l.hasOwnProperty(tt)&&wt!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":_e=wt;default:f.hasOwnProperty(tt)||Hr(s,a,tt,null,f,wt)}}for(var et in f){var tt=f[et];if(wt=l[et],f.hasOwnProperty(et)&&(tt!=null||wt!=null))switch(et){case"type":j=tt;break;case"name":E=tt;break;case"checked":Ye=tt;break;case"defaultChecked":ht=tt;break;case"value":J=tt;break;case"defaultValue":ue=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,a));break;default:tt!==wt&&Hr(s,a,et,tt,f,wt)}}$s(s,J,ue,_e,Ye,ht,j,E);return;case"select":tt=J=ue=et=null;for(j in l)if(_e=l[j],l.hasOwnProperty(j)&&_e!=null)switch(j){case"value":break;case"multiple":tt=_e;default:f.hasOwnProperty(j)||Hr(s,a,j,null,f,_e)}for(E in f)if(j=f[E],_e=l[E],f.hasOwnProperty(E)&&(j!=null||_e!=null))switch(E){case"value":et=j;break;case"defaultValue":ue=j;break;case"multiple":J=j;default:j!==_e&&Hr(s,a,E,j,f,_e)}a=ue,l=J,f=tt,et!=null?Aa(s,!!l,et,!1):!!f!=!!l&&(a!=null?Aa(s,!!l,a,!0):Aa(s,!!l,l?[]:"",!1));return;case"textarea":tt=et=null;for(ue in l)if(E=l[ue],l.hasOwnProperty(ue)&&E!=null&&!f.hasOwnProperty(ue))switch(ue){case"value":break;case"children":break;default:Hr(s,a,ue,null,f,E)}for(J in f)if(E=f[J],j=l[J],f.hasOwnProperty(J)&&(E!=null||j!=null))switch(J){case"value":et=E;break;case"defaultValue":tt=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==j&&Hr(s,a,J,E,f,j)}Ar(s,et,tt);return;case"option":for(var Cn in l)if(et=l[Cn],l.hasOwnProperty(Cn)&&et!=null&&!f.hasOwnProperty(Cn))switch(Cn){case"selected":s.selected=!1;break;default:Hr(s,a,Cn,null,f,et)}for(_e in f)if(et=f[_e],tt=l[_e],f.hasOwnProperty(_e)&&et!==tt&&(et!=null||tt!=null))switch(_e){case"selected":s.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:Hr(s,a,_e,et,f,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fn in l)et=l[fn],l.hasOwnProperty(fn)&&et!=null&&!f.hasOwnProperty(fn)&&Hr(s,a,fn,null,f,et);for(Ye in f)if(et=f[Ye],tt=l[Ye],f.hasOwnProperty(Ye)&&et!==tt&&(et!=null||tt!=null))switch(Ye){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(137,a));break;default:Hr(s,a,Ye,et,f,tt)}return;default:if(PA(a)){for(var Vr in l)et=l[Vr],l.hasOwnProperty(Vr)&&et!==void 0&&!f.hasOwnProperty(Vr)&&nv(s,a,Vr,void 0,f,et);for(ht in f)et=f[ht],tt=l[ht],!f.hasOwnProperty(ht)||et===tt||et===void 0&&tt===void 0||nv(s,a,ht,et,f,tt);return}}for(var He in l)et=l[He],l.hasOwnProperty(He)&&et!=null&&!f.hasOwnProperty(He)&&Hr(s,a,He,null,f,et);for(wt in f)et=f[wt],tt=l[wt],!f.hasOwnProperty(wt)||et===tt||et==null&&tt==null||Hr(s,a,wt,et,f,tt)}var rv=null,sv=null;function zg(s){return s.nodeType===9?s:s.ownerDocument}function gw(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mw(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function iv(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var av=null;function xE(){var s=window.event;return s&&s.type==="popstate"?s===av?!1:(av=s,!0):(av=null,!1)}var vw=typeof setTimeout=="function"?setTimeout:void 0,CE=typeof clearTimeout=="function"?clearTimeout:void 0,yw=typeof Promise=="function"?Promise:void 0,EE=typeof queueMicrotask=="function"?queueMicrotask:typeof yw<"u"?function(s){return yw.resolve(null).then(s).catch(SE)}:vw;function SE(s){setTimeout(function(){throw s})}function Vu(s){return s==="head"}function ww(s,a){var l=a,f=0,E=0;do{var j=l.nextSibling;if(s.removeChild(l),j&&j.nodeType===8)if(l=j.data,l==="/$"){if(0<f&&8>f){l=f;var J=s.ownerDocument;if(l&1&&hp(J.documentElement),l&2&&hp(J.body),l&4)for(l=J.head,hp(l),J=l.firstChild;J;){var ue=J.nextSibling,_e=J.nodeName;J[Gs]||_e==="SCRIPT"||_e==="STYLE"||_e==="LINK"&&J.rel.toLowerCase()==="stylesheet"||l.removeChild(J),J=ue}}if(E===0){s.removeChild(j),bp(a);return}E--}else l==="$"||l==="$?"||l==="$!"?E++:f=l.charCodeAt(0)-48;else f=0;l=j}while(l);bp(a)}function ov(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ov(l),Es(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function _E(s,a,l,f){for(;s.nodeType===1;){var E=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[Gs])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(j=s.getAttribute("rel"),j==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(j!==E.rel||s.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||s.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||s.getAttribute("title")!==(E.title==null?null:E.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(j=s.getAttribute("src"),(j!==(E.src==null?null:E.src)||s.getAttribute("type")!==(E.type==null?null:E.type)||s.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&j&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var j=E.name==null?null:""+E.name;if(E.type==="hidden"&&s.getAttribute("name")===j)return s}else return s;if(s=bl(s.nextSibling),s===null)break}return null}function IE(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=bl(s.nextSibling),s===null))return null;return s}function Av(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function jE(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var f=function(){a(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function bl(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var lv=null;function bw(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function Bw(s,a,l){switch(a=zg(l),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function hp(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Es(s)}var TA=new Map,xw=new Set;function qg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var eu=we.d;we.d={f:NE,r:TE,D:UE,C:FE,L:QE,m:RE,X:DE,S:LE,M:OE};function NE(){var s=eu.f(),a=En();return s||a}function TE(s){var a=ms(s);a!==null&&a.tag===5&&a.type==="form"?Hc(a):eu.r(s)}var nf=typeof document>"u"?null:document;function Cw(s,a,l){var f=nf;if(f&&typeof a=="string"&&a){var E=qn(a);E='link[rel="'+s+'"][href="'+E+'"]',typeof l=="string"&&(E+='[crossorigin="'+l+'"]'),xw.has(E)||(xw.add(E),s={rel:s,crossOrigin:l,href:a},f.querySelector(E)===null&&(a=f.createElement("link"),ea(a,"link",s),or(a),f.head.appendChild(a)))}}function UE(s){eu.D(s),Cw("dns-prefetch",s,null)}function FE(s,a){eu.C(s,a),Cw("preconnect",s,a)}function QE(s,a,l){eu.L(s,a,l);var f=nf;if(f&&s&&a){var E='link[rel="preload"][as="'+qn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(E+='[imagesrcset="'+qn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(E+='[imagesizes="'+qn(l.imageSizes)+'"]')):E+='[href="'+qn(s)+'"]';var j=E;switch(a){case"style":j=rf(s);break;case"script":j=sf(s)}TA.has(j)||(s=h({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),TA.set(j,s),f.querySelector(E)!==null||a==="style"&&f.querySelector(fp(j))||a==="script"&&f.querySelector(pp(j))||(a=f.createElement("link"),ea(a,"link",s),or(a),f.head.appendChild(a)))}}function RE(s,a){eu.m(s,a);var l=nf;if(l&&s){var f=a&&typeof a.as=="string"?a.as:"script",E='link[rel="modulepreload"][as="'+qn(f)+'"][href="'+qn(s)+'"]',j=E;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=sf(s)}if(!TA.has(j)&&(s=h({rel:"modulepreload",href:s},a),TA.set(j,s),l.querySelector(E)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(pp(j)))return}f=l.createElement("link"),ea(f,"link",s),or(f),l.head.appendChild(f)}}}function LE(s,a,l){eu.S(s,a,l);var f=nf;if(f&&s){var E=Sr(f).hoistableStyles,j=rf(s);a=a||"default";var J=E.get(j);if(!J){var ue={loading:0,preload:null};if(J=f.querySelector(fp(j)))ue.loading=5;else{s=h({rel:"stylesheet",href:s,"data-precedence":a},l),(l=TA.get(j))&&cv(s,l);var _e=J=f.createElement("link");or(_e),ea(_e,"link",s),_e._p=new Promise(function(Ye,ht){_e.onload=Ye,_e.onerror=ht}),_e.addEventListener("load",function(){ue.loading|=1}),_e.addEventListener("error",function(){ue.loading|=2}),ue.loading|=4,$g(J,a,f)}J={type:"stylesheet",instance:J,count:1,state:ue},E.set(j,J)}}}function DE(s,a){eu.X(s,a);var l=nf;if(l&&s){var f=Sr(l).hoistableScripts,E=sf(s),j=f.get(E);j||(j=l.querySelector(pp(E)),j||(s=h({src:s,async:!0},a),(a=TA.get(E))&&uv(s,a),j=l.createElement("script"),or(j),ea(j,"link",s),l.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},f.set(E,j))}}function OE(s,a){eu.M(s,a);var l=nf;if(l&&s){var f=Sr(l).hoistableScripts,E=sf(s),j=f.get(E);j||(j=l.querySelector(pp(E)),j||(s=h({src:s,async:!0,type:"module"},a),(a=TA.get(E))&&uv(s,a),j=l.createElement("script"),or(j),ea(j,"link",s),l.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},f.set(E,j))}}function Ew(s,a,l,f){var E=(E=he.current)?qg(E):null;if(!E)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=rf(l.href),l=Sr(E).hoistableStyles,f=l.get(a),f||(f={type:"style",instance:null,count:0,state:null},l.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=rf(l.href);var j=Sr(E).hoistableStyles,J=j.get(s);if(J||(E=E.ownerDocument||E,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(s,J),(j=E.querySelector(fp(s)))&&!j._p&&(J.instance=j,J.state.loading=5),TA.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},TA.set(s,l),j||PE(E,s,l,J.state))),a&&f===null)throw Error(r(528,""));return J}if(a&&f!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=sf(l),l=Sr(E).hoistableScripts,f=l.get(a),f||(f={type:"script",instance:null,count:0,state:null},l.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function rf(s){return'href="'+qn(s)+'"'}function fp(s){return'link[rel="stylesheet"]['+s+"]"}function Sw(s){return h({},s,{"data-precedence":s.precedence,precedence:null})}function PE(s,a,l,f){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=s.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),ea(a,"link",l),or(a),s.head.appendChild(a))}function sf(s){return'[src="'+qn(s)+'"]'}function pp(s){return"script[async]"+s}function _w(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var f=s.querySelector('style[data-href~="'+qn(l.href)+'"]');if(f)return a.instance=f,or(f),f;var E=h({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),or(f),ea(f,"style",E),$g(f,l.precedence,s),a.instance=f;case"stylesheet":E=rf(l.href);var j=s.querySelector(fp(E));if(j)return a.state.loading|=4,a.instance=j,or(j),j;f=Sw(l),(E=TA.get(E))&&cv(f,E),j=(s.ownerDocument||s).createElement("link"),or(j);var J=j;return J._p=new Promise(function(ue,_e){J.onload=ue,J.onerror=_e}),ea(j,"link",f),a.state.loading|=4,$g(j,l.precedence,s),a.instance=j;case"script":return j=sf(l.src),(E=s.querySelector(pp(j)))?(a.instance=E,or(E),E):(f=l,(E=TA.get(j))&&(f=h({},l),uv(f,E)),s=s.ownerDocument||s,E=s.createElement("script"),or(E),ea(E,"link",f),s.head.appendChild(E),a.instance=E);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,$g(f,l.precedence,s));return a.instance}function $g(s,a,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=f.length?f[f.length-1]:null,j=E,J=0;J<f.length;J++){var ue=f[J];if(ue.dataset.precedence===a)j=ue;else if(j!==E)break}j?j.parentNode.insertBefore(s,j.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function cv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function uv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Wg=null;function Iw(s,a,l){if(Wg===null){var f=new Map,E=Wg=new Map;E.set(l,f)}else E=Wg,f=E.get(l),f||(f=new Map,E.set(l,f));if(f.has(s))return f;for(f.set(s,null),l=l.getElementsByTagName(s),E=0;E<l.length;E++){var j=l[E];if(!(j[Gs]||j[hr]||s==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var J=j.getAttribute(a)||"";J=s+J;var ue=f.get(J);ue?ue.push(j):f.set(J,[j])}}return f}function jw(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function ME(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Nw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var gp=null;function kE(){}function HE(s,a,l){if(gp===null)throw Error(r(475));var f=gp;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var E=rf(l.href),j=s.querySelector(fp(E));if(j){s=j._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=Yg.bind(f),s.then(f,f)),a.state.loading|=4,a.instance=j,or(j);return}j=s.ownerDocument||s,l=Sw(l),(E=TA.get(E))&&cv(l,E),j=j.createElement("link"),or(j);var J=j;J._p=new Promise(function(ue,_e){J.onload=ue,J.onerror=_e}),ea(j,"link",l),a.instance=j}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=Yg.bind(f),s.addEventListener("load",a),s.addEventListener("error",a))}}function VE(){if(gp===null)throw Error(r(475));var s=gp;return s.stylesheets&&s.count===0&&dv(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&dv(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Yg(){if(this.count--,this.count===0){if(this.stylesheets)dv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Xg=null;function dv(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Xg=new Map,a.forEach(KE,s),Xg=null,Yg.call(s))}function KE(s,a){if(!(a.state.loading&4)){var l=Xg.get(s);if(l)var f=l.get(null);else{l=new Map,Xg.set(s,l);for(var E=s.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<E.length;j++){var J=E[j];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(l.set(J.dataset.precedence,J),f=J)}f&&l.set(null,f)}E=a.instance,J=E.getAttribute("data-precedence"),j=l.get(J)||f,j===f&&l.set(null,E),l.set(J,E),this.count++,f=Yg.bind(this),E.addEventListener("load",f),E.addEventListener("error",f),j?j.parentNode.insertBefore(E,j.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(E,s.firstChild)),a.state.loading|=4}}var mp={$$typeof:_,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function GE(s,a,l,f,E,j,J,ue){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=f,this.onUncaughtError=E,this.onCaughtError=j,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function Tw(s,a,l,f,E,j,J,ue,_e,Ye,ht,wt){return s=new GE(s,a,l,J,ue,_e,Ye,wt),a=1,j===!0&&(a|=24),j=ci(3,null,null,a),s.current=j,j.stateNode=s,a=_d(),a.refCount++,s.pooledCache=a,a.refCount++,j.memoizedState={element:f,isDehydrated:l,cache:a},Ue(j),s}function Uw(s){return s?(s=Ps,s):Ps}function Fw(s,a,l,f,E,j){E=Uw(E),f.context===null?f.context=E:f.pendingContext=E,f=lt(a),f.payload={element:l},j=j===void 0?null:j,j!==null&&(f.callback=j),l=gt(s,f,a),l!==null&&(Ut(l,s,a),ut(l,s,a))}function Qw(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function hv(s,a){Qw(s,a),(s=s.alternate)&&Qw(s,a)}function Rw(s){if(s.tag===13){var a=Ho(s,67108864);a!==null&&Ut(a,s,67108864),hv(s,67108864)}}var Jg=!0;function zE(s,a,l,f){var E=oe.T;oe.T=null;var j=we.p;try{we.p=2,fv(s,a,l,f)}finally{we.p=j,oe.T=E}}function qE(s,a,l,f){var E=oe.T;oe.T=null;var j=we.p;try{we.p=8,fv(s,a,l,f)}finally{we.p=j,oe.T=E}}function fv(s,a,l,f){if(Jg){var E=pv(f);if(E===null)tv(s,a,f,Zg,l),Dw(s,f);else if(WE(E,s,a,l,f))f.stopPropagation();else if(Dw(s,f),a&4&&-1<$E.indexOf(s)){for(;E!==null;){var j=ms(E);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var J=Ft(j.pendingLanes);if(J!==0){var ue=j;for(ue.pendingLanes|=2,ue.entangledLanes|=2;J;){var _e=1<<31-kt(J);ue.entanglements[1]|=_e,J&=~_e}lc(j),(Cr&6)===0&&(m=Ht()+500,cp(0))}}break;case 13:ue=Ho(j,2),ue!==null&&Ut(ue,j,2),En(),hv(j,2)}if(j=pv(f),j===null&&tv(s,a,f,Zg,l),j===E)break;E=j}E!==null&&f.stopPropagation()}else tv(s,a,f,null,l)}}function pv(s){return s=br(s),gv(s)}var Zg=null;function gv(s){if(Zg=null,s=gs(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Zg=s,null}function Lw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ct()){case ct:return 2;case Oe:return 8;case rt:case Je:return 32;case pt:return 268435456;default:return 32}default:return 32}}var mv=!1,Ku=null,Gu=null,zu=null,vp=new Map,yp=new Map,qu=[],$E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dw(s,a){switch(s){case"focusin":case"focusout":Ku=null;break;case"dragenter":case"dragleave":Gu=null;break;case"mouseover":case"mouseout":zu=null;break;case"pointerover":case"pointerout":vp.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":yp.delete(a.pointerId)}}function wp(s,a,l,f,E,j){return s===null||s.nativeEvent!==j?(s={blockedOn:a,domEventName:l,eventSystemFlags:f,nativeEvent:j,targetContainers:[E]},a!==null&&(a=ms(a),a!==null&&Rw(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,E!==null&&a.indexOf(E)===-1&&a.push(E),s)}function WE(s,a,l,f,E){switch(a){case"focusin":return Ku=wp(Ku,s,a,l,f,E),!0;case"dragenter":return Gu=wp(Gu,s,a,l,f,E),!0;case"mouseover":return zu=wp(zu,s,a,l,f,E),!0;case"pointerover":var j=E.pointerId;return vp.set(j,wp(vp.get(j)||null,s,a,l,f,E)),!0;case"gotpointercapture":return j=E.pointerId,yp.set(j,wp(yp.get(j)||null,s,a,l,f,E)),!0}return!1}function Ow(s){var a=gs(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,Vs(s.priority,function(){if(l.tag===13){var f=Ot();f=vn(f);var E=Ho(l,f);E!==null&&Ut(E,l,f),hv(l,f)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function em(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=pv(s.nativeEvent);if(l===null){l=s.nativeEvent;var f=new l.constructor(l.type,l);Ls=f,l.target.dispatchEvent(f),Ls=null}else return a=ms(l),a!==null&&Rw(a),s.blockedOn=l,!1;a.shift()}return!0}function Pw(s,a,l){em(s)&&l.delete(a)}function YE(){mv=!1,Ku!==null&&em(Ku)&&(Ku=null),Gu!==null&&em(Gu)&&(Gu=null),zu!==null&&em(zu)&&(zu=null),vp.forEach(Pw),yp.forEach(Pw)}function tm(s,a){s.blockedOn===a&&(s.blockedOn=null,mv||(mv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,YE)))}var nm=null;function Mw(s){nm!==s&&(nm=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){nm===s&&(nm=null);for(var a=0;a<s.length;a+=3){var l=s[a],f=s[a+1],E=s[a+2];if(typeof f!="function"){if(gv(f||l)===null)continue;break}var j=ms(l);j!==null&&(s.splice(a,3),a-=3,wo(j,{pending:!0,data:E,method:l.method,action:f},f,E))}}))}function bp(s){function a(_e){return tm(_e,s)}Ku!==null&&tm(Ku,s),Gu!==null&&tm(Gu,s),zu!==null&&tm(zu,s),vp.forEach(a),yp.forEach(a);for(var l=0;l<qu.length;l++){var f=qu[l];f.blockedOn===s&&(f.blockedOn=null)}for(;0<qu.length&&(l=qu[0],l.blockedOn===null);)Ow(l),l.blockedOn===null&&qu.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var E=l[f],j=l[f+1],J=E[fr]||null;if(typeof j=="function")J||Mw(l);else if(J){var ue=null;if(j&&j.hasAttribute("formAction")){if(E=j,J=j[fr]||null)ue=J.formAction;else if(gv(E)!==null)continue}else ue=J.action;typeof ue=="function"?l[f+1]=ue:(l.splice(f,3),f-=3),Mw(l)}}}function vv(s){this._internalRoot=s}rm.prototype.render=vv.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,f=Ot();Fw(l,f,s,a,null,null)},rm.prototype.unmount=vv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Fw(s.current,2,null,s,null,null),En(),a[Er]=null}};function rm(s){this._internalRoot=s}rm.prototype.unstable_scheduleHydration=function(s){if(s){var a=Lr();s={blockedOn:null,target:s,priority:a};for(var l=0;l<qu.length&&a!==0&&a<qu[l].priority;l++);qu.splice(l,0,s),l===0&&Ow(s)}};var kw=e.version;if(kw!=="19.1.1")throw Error(r(527,kw,"19.1.1"));we.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=u(a),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var XE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:oe,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sm.isDisabled&&sm.supportsFiber)try{It=sm.inject(XE),Et=sm}catch{}}return xp.createRoot=function(s,a){if(!i(s))throw Error(r(299));var l=!1,f="",E=Gf,j=zf,J=Vh,ue=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(E=a.onUncaughtError),a.onCaughtError!==void 0&&(j=a.onCaughtError),a.onRecoverableError!==void 0&&(J=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(ue=a.unstable_transitionCallbacks)),a=Tw(s,1,!1,null,null,l,f,E,j,J,ue,null),s[Er]=a.current,ev(s),new vv(a)},xp.hydrateRoot=function(s,a,l){if(!i(s))throw Error(r(299));var f=!1,E="",j=Gf,J=zf,ue=Vh,_e=null,Ye=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(E=l.identifierPrefix),l.onUncaughtError!==void 0&&(j=l.onUncaughtError),l.onCaughtError!==void 0&&(J=l.onCaughtError),l.onRecoverableError!==void 0&&(ue=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(_e=l.unstable_transitionCallbacks),l.formState!==void 0&&(Ye=l.formState)),a=Tw(s,1,!0,a,l??null,f,E,j,J,ue,_e,Ye),a.context=Uw(null),l=a.current,f=Ot(),f=vn(f),E=lt(f),E.callback=null,gt(l,E,f),l=f,a.current.lanes=l,on(a,l),lc(a),s[Er]=a.current,ev(s),new rm(a)},xp.version="19.1.1",xp}var Xw;function AS(){if(Xw)return bv.exports;Xw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bv.exports=oS(),bv.exports}var lS=AS();/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Jw="popstate";function cS(n={}){function e(r,i){let{pathname:o,search:c,hash:d}=r.location;return ty("",{pathname:o,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:qp(i)}return dS(e,t,null,n)}function Cs(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Il(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uS(){return Math.random().toString(36).substring(2,10)}function Zw(n,e){return{usr:n.state,key:n.key,idx:e}}function ty(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?If(e):e,state:t,key:e&&e.key||r||uS()}}function qp({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function If(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function dS(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,d="POP",u=null,p=h();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function h(){return(c.state||{idx:null}).idx}function b(){d="POP";let Q=h(),I=Q==null?null:Q-p;p=Q,u&&u({action:d,location:F.location,delta:I})}function x(Q,I){d="PUSH";let T=ty(F.location,Q,I);p=h()+1;let _=Zw(T,p),O=F.createHref(T);try{c.pushState(_,"",O)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(O)}o&&u&&u({action:d,location:F.location,delta:1})}function w(Q,I){d="REPLACE";let T=ty(F.location,Q,I);p=h();let _=Zw(T,p),O=F.createHref(T);c.replaceState(_,"",O),o&&u&&u({action:d,location:F.location,delta:0})}function R(Q){return hS(Q)}let F={get action(){return d},get location(){return n(i,c)},listen(Q){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Jw,b),u=Q,()=>{i.removeEventListener(Jw,b),u=null}},createHref(Q){return e(i,Q)},createURL:R,encodeLocation(Q){let I=R(Q);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:x,replace:w,go(Q){return c.go(Q)}};return F}function hS(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Cs(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:qp(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function mB(n,e,t="/"){return fS(n,e,t,!1)}function fS(n,e,t,r){let i=typeof e=="string"?If(e):e,o=uu(i.pathname||"/",t);if(o==null)return null;let c=vB(n);pS(c);let d=null;for(let u=0;d==null&&u<c.length;++u){let p=SS(o);d=CS(c[u],p,r)}return d}function vB(n,e=[],t=[],r="",i=!1){let o=(c,d,u=i,p)=>{let h={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;Cs(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let b=Au([r,h.relativePath]),x=t.concat(h);c.children&&c.children.length>0&&(Cs(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),vB(c.children,e,x,b,u)),!(c.path==null&&!c.index)&&e.push({path:b,score:BS(b,c.index),routesMeta:x})};return n.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let u of yB(c.path))o(c,d,!0,u)}),e}function yB(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let c=yB(r.join("/")),d=[];return d.push(...c.map(u=>u===""?o:[o,u].join("/"))),i&&d.push(...c),d.map(u=>n.startsWith("/")&&u===""?"/":u)}function pS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:xS(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var gS=/^:[\w-]+$/,mS=3,vS=2,yS=1,wS=10,bS=-2,e2=n=>n==="*";function BS(n,e){let t=n.split("/"),r=t.length;return t.some(e2)&&(r+=bS),e&&(r+=vS),t.filter(i=>!e2(i)).reduce((i,o)=>i+(gS.test(o)?mS:o===""?yS:wS),r)}function xS(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function CS(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",c=[];for(let d=0;d<r.length;++d){let u=r[d],p=d===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",b=Qm({path:u.relativePath,caseSensitive:u.caseSensitive,end:p},h),x=u.route;if(!b&&p&&t&&!r[r.length-1].route.index&&(b=Qm({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!b)return null;Object.assign(i,b.params),c.push({params:i,pathname:Au([o,b.pathname]),pathnameBase:NS(Au([o,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(o=Au([o,b.pathnameBase]))}return c}function Qm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=ES(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((p,{paramName:h,isOptional:b},x)=>{if(h==="*"){let R=d[x]||"";c=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const w=d[x];return b&&!w?p[h]=void 0:p[h]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:n}}function ES(n,e=!1,t=!0){Il(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,u)=>(r.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function SS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Il(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function uu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function _S(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?If(n):n;return{pathname:t?t.startsWith("/")?t:IS(t,e):e,search:TS(r),hash:US(i)}}function IS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Ev(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ky(n){let e=jS(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Gy(n,e,t,r=!1){let i;typeof n=="string"?i=If(n):(i={...n},Cs(!i.pathname||!i.pathname.includes("?"),Ev("?","pathname","search",i)),Cs(!i.pathname||!i.pathname.includes("#"),Ev("#","pathname","hash",i)),Cs(!i.search||!i.search.includes("#"),Ev("#","search","hash",i)));let o=n===""||i.pathname==="",c=o?"/":i.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;i.pathname=x.join("/")}d=b>=0?e[b]:"/"}let u=_S(i,d),p=c&&c!=="/"&&c.endsWith("/"),h=(o||c===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(p||h)&&(u.pathname+="/"),u}var Au=n=>n.join("/").replace(/\/\/+/g,"/"),NS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),TS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,US=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function FS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var wB=["POST","PUT","PATCH","DELETE"];new Set(wB);var QS=["GET",...wB];new Set(QS);var jf=pe.createContext(null);jf.displayName="DataRouter";var o0=pe.createContext(null);o0.displayName="DataRouterState";pe.createContext(!1);var bB=pe.createContext({isTransitioning:!1});bB.displayName="ViewTransition";var RS=pe.createContext(new Map);RS.displayName="Fetchers";var LS=pe.createContext(null);LS.displayName="Await";var Ul=pe.createContext(null);Ul.displayName="Navigation";var Ag=pe.createContext(null);Ag.displayName="Location";var Fl=pe.createContext({outlet:null,matches:[],isDataRoute:!1});Fl.displayName="Route";var zy=pe.createContext(null);zy.displayName="RouteError";function DS(n,{relative:e}={}){Cs(Nf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=pe.useContext(Ul),{hash:i,pathname:o,search:c}=lg(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:Au([t,o])),r.createHref({pathname:d,search:c,hash:i})}function Nf(){return pe.useContext(Ag)!=null}function mu(){return Cs(Nf(),"useLocation() may be used only in the context of a <Router> component."),pe.useContext(Ag).location}var BB="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xB(n){pe.useContext(Ul).static||pe.useLayoutEffect(n)}function Ql(){let{isDataRoute:n}=pe.useContext(Fl);return n?YS():OS()}function OS(){Cs(Nf(),"useNavigate() may be used only in the context of a <Router> component.");let n=pe.useContext(jf),{basename:e,navigator:t}=pe.useContext(Ul),{matches:r}=pe.useContext(Fl),{pathname:i}=mu(),o=JSON.stringify(Ky(r)),c=pe.useRef(!1);return xB(()=>{c.current=!0}),pe.useCallback((u,p={})=>{if(Il(c.current,BB),!c.current)return;if(typeof u=="number"){t.go(u);return}let h=Gy(u,JSON.parse(o),i,p.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Au([e,h.pathname])),(p.replace?t.replace:t.push)(h,p.state,p)},[e,t,o,i,n])}pe.createContext(null);function CB(){let{matches:n}=pe.useContext(Fl),e=n[n.length-1];return e?e.params:{}}function lg(n,{relative:e}={}){let{matches:t}=pe.useContext(Fl),{pathname:r}=mu(),i=JSON.stringify(Ky(t));return pe.useMemo(()=>Gy(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function PS(n,e){return EB(n,e)}function EB(n,e,t,r){Cs(Nf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=pe.useContext(Ul),{matches:o}=pe.useContext(Fl),c=o[o.length-1],d=c?c.params:{},u=c?c.pathname:"/",p=c?c.pathnameBase:"/",h=c&&c.route;{let I=h&&h.path||"";SB(u,!h||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let b=mu(),x;if(e){let I=typeof e=="string"?If(e):e;Cs(p==="/"||I.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${I.pathname}" was given in the \`location\` prop.`),x=I}else x=b;let w=x.pathname||"/",R=w;if(p!=="/"){let I=p.replace(/^\//,"").split("/");R="/"+w.replace(/^\//,"").split("/").slice(I.length).join("/")}let F=mB(n,{pathname:R});Il(h||F!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Il(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=KS(F&&F.map(I=>Object.assign({},I,{params:Object.assign({},d,I.params),pathname:Au([p,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?p:Au([p,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),o,t,r);return e&&Q?pe.createElement(Ag.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},Q):Q}function MS(){let n=WS(),e=FS(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=pe.createElement(pe.Fragment,null,pe.createElement("p",null,"💿 Hey developer 👋"),pe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",pe.createElement("code",{style:o},"ErrorBoundary")," or"," ",pe.createElement("code",{style:o},"errorElement")," prop on your route.")),pe.createElement(pe.Fragment,null,pe.createElement("h2",null,"Unexpected Application Error!"),pe.createElement("h3",{style:{fontStyle:"italic"}},e),t?pe.createElement("pre",{style:i},t):null,c)}var kS=pe.createElement(MS,null),HS=class extends pe.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?pe.createElement(Fl.Provider,{value:this.props.routeContext},pe.createElement(zy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VS({routeContext:n,match:e,children:t}){let r=pe.useContext(jf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),pe.createElement(Fl.Provider,{value:n},t)}function KS(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t?.errors;if(o!=null){let u=i.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);Cs(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(t)for(let u=0;u<i.length;u++){let p=i[u];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=u),p.route.id){let{loaderData:h,errors:b}=t,x=p.route.loader&&!h.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||x){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,p,h)=>{let b,x=!1,w=null,R=null;t&&(b=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||kS,c&&(d<0&&h===0?(SB("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,R=null):d===h&&(x=!0,R=p.route.hydrateFallbackElement||null)));let F=e.concat(i.slice(0,h+1)),Q=()=>{let I;return b?I=w:x?I=R:p.route.Component?I=pe.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=u,pe.createElement(VS,{match:p,routeContext:{outlet:u,matches:F,isDataRoute:t!=null},children:I})};return t&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?pe.createElement(HS,{location:t.location,revalidation:t.revalidation,component:w,error:b,children:Q(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):Q()},null)}function qy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GS(n){let e=pe.useContext(jf);return Cs(e,qy(n)),e}function zS(n){let e=pe.useContext(o0);return Cs(e,qy(n)),e}function qS(n){let e=pe.useContext(Fl);return Cs(e,qy(n)),e}function $y(n){let e=qS(n),t=e.matches[e.matches.length-1];return Cs(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function $S(){return $y("useRouteId")}function WS(){let n=pe.useContext(zy),e=zS("useRouteError"),t=$y("useRouteError");return n!==void 0?n:e.errors?.[t]}function YS(){let{router:n}=GS("useNavigate"),e=$y("useNavigate"),t=pe.useRef(!1);return xB(()=>{t.current=!0}),pe.useCallback(async(i,o={})=>{Il(t.current,BB),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var t2={};function SB(n,e,t){!e&&!t2[n]&&(t2[n]=!0,Il(!1,t))}pe.memo(XS);function XS({routes:n,future:e,state:t}){return EB(n,void 0,t,e)}function ym({to:n,replace:e,state:t,relative:r}){Cs(Nf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=pe.useContext(Ul);Il(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=pe.useContext(Fl),{pathname:c}=mu(),d=Ql(),u=Gy(n,Ky(o),c,r==="path"),p=JSON.stringify(u);return pe.useEffect(()=>{d(JSON.parse(p),{replace:e,state:t,relative:r})},[d,p,r,e,t]),null}function Gi(n){Cs(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JS({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){Cs(!Nf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=pe.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof t=="string"&&(t=If(t));let{pathname:u="/",search:p="",hash:h="",state:b=null,key:x="default"}=t,w=pe.useMemo(()=>{let R=uu(u,c);return R==null?null:{location:{pathname:R,search:p,hash:h,state:b,key:x},navigationType:r}},[c,u,p,h,b,x,r]);return Il(w!=null,`<Router basename="${c}"> is not able to match the URL "${u}${p}${h}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:pe.createElement(Ul.Provider,{value:d},pe.createElement(Ag.Provider,{children:e,value:w}))}function ZS({children:n,location:e}){return PS(ny(n),e)}function ny(n,e=[]){let t=[];return pe.Children.forEach(n,(r,i)=>{if(!pe.isValidElement(r))return;let o=[...e,i];if(r.type===pe.Fragment){t.push.apply(t,ny(r.props.children,o));return}Cs(r.type===Gi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Cs(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=ny(r.props.children,o)),t.push(c)}),t}var wm="get",bm="application/x-www-form-urlencoded";function A0(n){return n!=null&&typeof n.tagName=="string"}function e4(n){return A0(n)&&n.tagName.toLowerCase()==="button"}function t4(n){return A0(n)&&n.tagName.toLowerCase()==="form"}function n4(n){return A0(n)&&n.tagName.toLowerCase()==="input"}function r4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function s4(n,e){return n.button===0&&(!e||e==="_self")&&!r4(n)}var am=null;function i4(){if(am===null)try{new FormData(document.createElement("form"),0),am=!1}catch{am=!0}return am}var a4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sv(n){return n!=null&&!a4.has(n)?(Il(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bm}"`),null):n}function o4(n,e){let t,r,i,o,c;if(t4(n)){let d=n.getAttribute("action");r=d?uu(d,e):null,t=n.getAttribute("method")||wm,i=Sv(n.getAttribute("enctype"))||bm,o=new FormData(n)}else if(e4(n)||n4(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||d.getAttribute("action");if(r=u?uu(u,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||wm,i=Sv(n.getAttribute("formenctype"))||Sv(d.getAttribute("enctype"))||bm,o=new FormData(d,n),!i4()){let{name:p,type:h,value:b}=n;if(h==="image"){let x=p?`${p}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else p&&o.append(p,b)}}else{if(A0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=wm,r=null,i=bm,c=n}return o&&i==="text/plain"&&(c=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function A4(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&uu(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function l4(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function c4(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function u4(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let c=await l4(o,t);return c.links?c.links():[]}return[]}));return p4(r.flat(1).filter(c4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function n2(n,e,t,r,i,o){let c=(u,p)=>t[p]?u.route.id!==t[p].route.id:!0,d=(u,p)=>t[p].pathname!==u.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==u.params["*"];return o==="assets"?e.filter((u,p)=>c(u,p)||d(u,p)):o==="data"?e.filter((u,p)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(c(u,p)||d(u,p))return!0;if(u.route.shouldRevalidate){let b=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function d4(n,e,{includeHydrateFallback:t}={}){return h4(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function h4(n){return[...new Set(n)]}function f4(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function p4(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(f4(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function _B(){let n=pe.useContext(jf);return Wy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function g4(){let n=pe.useContext(o0);return Wy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Yy=pe.createContext(void 0);Yy.displayName="FrameworkContext";function IB(){let n=pe.useContext(Yy);return Wy(n,"You must render this element inside a <HydratedRouter> element"),n}function m4(n,e){let t=pe.useContext(Yy),[r,i]=pe.useState(!1),[o,c]=pe.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:p,onMouseLeave:h,onTouchStart:b}=e,x=pe.useRef(null);pe.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let F=I=>{I.forEach(T=>{c(T.isIntersecting)})},Q=new IntersectionObserver(F,{threshold:.5});return x.current&&Q.observe(x.current),()=>{Q.disconnect()}}},[n]),pe.useEffect(()=>{if(r){let F=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(F)}}},[r]);let w=()=>{i(!0)},R=()=>{i(!1),c(!1)};return t?n!=="intent"?[o,x,{}]:[o,x,{onFocus:Cp(d,w),onBlur:Cp(u,R),onMouseEnter:Cp(p,w),onMouseLeave:Cp(h,R),onTouchStart:Cp(b,w)}]:[!1,x,{}]}function Cp(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function v4({page:n,...e}){let{router:t}=_B(),r=pe.useMemo(()=>mB(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?pe.createElement(w4,{page:n,matches:r,...e}):null}function y4(n){let{manifest:e,routeModules:t}=IB(),[r,i]=pe.useState([]);return pe.useEffect(()=>{let o=!1;return u4(n,e,t).then(c=>{o||i(c)}),()=>{o=!0}},[n,e,t]),r}function w4({page:n,matches:e,...t}){let r=mu(),{manifest:i,routeModules:o}=IB(),{basename:c}=_B(),{loaderData:d,matches:u}=g4(),p=pe.useMemo(()=>n2(n,e,u,i,r,"data"),[n,e,u,i,r]),h=pe.useMemo(()=>n2(n,e,u,i,r,"assets"),[n,e,u,i,r]),b=pe.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let R=new Set,F=!1;if(e.forEach(I=>{let T=i.routes[I.route.id];!T||!T.hasLoader||(!p.some(_=>_.route.id===I.route.id)&&I.route.id in d&&o[I.route.id]?.shouldRevalidate||T.hasClientLoader?F=!0:R.add(I.route.id))}),R.size===0)return[];let Q=A4(n,c,"data");return F&&R.size>0&&Q.searchParams.set("_routes",e.filter(I=>R.has(I.route.id)).map(I=>I.route.id).join(",")),[Q.pathname+Q.search]},[c,d,r,i,p,e,n,o]),x=pe.useMemo(()=>d4(h,i),[h,i]),w=y4(h);return pe.createElement(pe.Fragment,null,b.map(R=>pe.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),x.map(R=>pe.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),w.map(({key:R,link:F})=>pe.createElement("link",{key:R,nonce:t.nonce,...F})))}function b4(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jB&&(window.__reactRouterVersion="7.8.1")}catch{}function B4({basename:n,children:e,window:t}){let r=pe.useRef();r.current==null&&(r.current=cS({window:t,v5Compat:!0}));let i=r.current,[o,c]=pe.useState({action:i.action,location:i.location}),d=pe.useCallback(u=>{pe.startTransition(()=>c(u))},[c]);return pe.useLayoutEffect(()=>i.listen(d),[i,d]),pe.createElement(JS,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var NB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dc=pe.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:c,state:d,target:u,to:p,preventScrollReset:h,viewTransition:b,...x},w){let{basename:R}=pe.useContext(Ul),F=typeof p=="string"&&NB.test(p),Q,I=!1;if(typeof p=="string"&&F&&(Q=p,jB))try{let G=new URL(window.location.href),X=p.startsWith("//")?new URL(G.protocol+p):new URL(p),P=uu(X.pathname,R);X.origin===G.origin&&P!=null?p=P+X.search+X.hash:I=!0}catch{Il(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=DS(p,{relative:i}),[_,O,z]=m4(r,x),$=S4(p,{replace:c,state:d,target:u,preventScrollReset:h,relative:i,viewTransition:b});function U(G){e&&e(G),G.defaultPrevented||$(G)}let L=pe.createElement("a",{...x,...z,href:Q||T,onClick:I||o?e:U,ref:b4(w,O),target:u,"data-discover":!F&&t==="render"?"true":void 0});return _&&!F?pe.createElement(pe.Fragment,null,L,pe.createElement(v4,{page:T})):L});dc.displayName="Link";var x4=pe.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:c,viewTransition:d,children:u,...p},h){let b=lg(c,{relative:p.relative}),x=mu(),w=pe.useContext(o0),{navigator:R,basename:F}=pe.useContext(Ul),Q=w!=null&&T4(b)&&d===!0,I=R.encodeLocation?R.encodeLocation(b).pathname:b.pathname,T=x.pathname,_=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(T=T.toLowerCase(),_=_?_.toLowerCase():null,I=I.toLowerCase()),_&&F&&(_=uu(_,F)||_);const O=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let z=T===I||!i&&T.startsWith(I)&&T.charAt(O)==="/",$=_!=null&&(_===I||!i&&_.startsWith(I)&&_.charAt(I.length)==="/"),U={isActive:z,isPending:$,isTransitioning:Q},L=z?e:void 0,G;typeof r=="function"?G=r(U):G=[r,z?"active":null,$?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let X=typeof o=="function"?o(U):o;return pe.createElement(dc,{...p,"aria-current":L,className:G,ref:h,style:X,to:c,viewTransition:d},typeof u=="function"?u(U):u)});x4.displayName="NavLink";var C4=pe.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:c=wm,action:d,onSubmit:u,relative:p,preventScrollReset:h,viewTransition:b,...x},w)=>{let R=j4(),F=N4(d,{relative:p}),Q=c.toLowerCase()==="get"?"get":"post",I=typeof d=="string"&&NB.test(d),T=_=>{if(u&&u(_),_.defaultPrevented)return;_.preventDefault();let O=_.nativeEvent.submitter,z=O?.getAttribute("formmethod")||c;R(O||_.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:i,state:o,relative:p,preventScrollReset:h,viewTransition:b})};return pe.createElement("form",{ref:w,method:Q,action:F,onSubmit:r?u:T,...x,"data-discover":!I&&n==="render"?"true":void 0})});C4.displayName="Form";function E4(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TB(n){let e=pe.useContext(jf);return Cs(e,E4(n)),e}function S4(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:c}={}){let d=Ql(),u=mu(),p=lg(n,{relative:o});return pe.useCallback(h=>{if(s4(h,e)){h.preventDefault();let b=t!==void 0?t:qp(u)===qp(p);d(n,{replace:b,state:r,preventScrollReset:i,relative:o,viewTransition:c})}},[u,d,p,t,r,e,n,i,o,c])}var _4=0,I4=()=>`__${String(++_4)}__`;function j4(){let{router:n}=TB("useSubmit"),{basename:e}=pe.useContext(Ul),t=$S();return pe.useCallback(async(r,i={})=>{let{action:o,method:c,encType:d,formData:u,body:p}=o4(r,e);if(i.navigate===!1){let h=i.fetcherKey||I4();await n.fetch(h,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:p,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:p,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function N4(n,{relative:e}={}){let{basename:t}=pe.useContext(Ul),r=pe.useContext(Fl);Cs(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...lg(n||".",{relative:e})},c=mu();if(n==null){o.search=c.search;let d=new URLSearchParams(o.search),u=d.getAll("index");if(u.some(h=>h==="")){d.delete("index"),u.filter(b=>b).forEach(b=>d.append("index",b));let h=d.toString();o.search=h?`?${h}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Au([t,o.pathname])),qp(o)}function T4(n,{relative:e}={}){let t=pe.useContext(bB);Cs(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=TB("useViewTransitionState"),i=lg(n,{relative:e});if(!t.isTransitioning)return!1;let o=uu(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=uu(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Qm(i.pathname,c)!=null||Qm(i.pathname,o)!=null}const rh={ACTIVITIES:"theatre-activities",REPORTS:"theatre-reports",SETTINGS:"theatre-settings"},Bm={exportData:()=>{const n=JSON.parse(localStorage.getItem(rh.ACTIVITIES)||"[]"),e=JSON.parse(localStorage.getItem(rh.REPORTS)||"[]"),t=JSON.parse(localStorage.getItem(rh.SETTINGS)||"{}");return{activities:n,reports:e,settings:t,exportDate:new Date().toISOString(),version:"1.0"}},importData:n=>{try{return n.activities&&localStorage.setItem(rh.ACTIVITIES,JSON.stringify(n.activities)),n.reports&&localStorage.setItem(rh.REPORTS,JSON.stringify(n.reports)),n.settings&&localStorage.setItem(rh.SETTINGS,JSON.stringify(n.settings)),!0}catch(e){return console.error("Error importing data:",e),!1}},clearAllData:()=>{Object.values(rh).forEach(n=>{localStorage.removeItem(n)})},downloadBackup:()=>{const n=Bm.exportData(),e=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=`theatre-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}},U4=({onClose:n,onNotification:e})=>{const[t,r]=pe.useState(!1),[i,o]=pe.useState(!1),c=()=>{try{r(!0),Bm.downloadBackup(),e("تم تصدير البيانات بنجاح!","success")}catch{e("حدث خطأ أثناء تصدير البيانات","error")}finally{r(!1)}},d=p=>{const h=p.target.files?.[0];if(!h)return;o(!0);const b=new FileReader;b.onload=x=>{try{const w=JSON.parse(x.target?.result);Bm.importData(w)?(e("تم استيراد البيانات بنجاح! سيتم إعادة تحميل الصفحة.","success"),setTimeout(()=>{window.location.reload()},2e3)):e("حدث خطأ أثناء استيراد البيانات","error")}catch{e("ملف البيانات غير صالح","error")}finally{o(!1)}},b.readAsText(h)},u=()=>{window.confirm("هل أنت متأكد من حذف جميع البيانات؟ هذا الإجراء لا يمكن التراجع عنه.")&&(Bm.clearAllData(),e("تم حذف جميع البيانات. سيتم إعادة تحميل الصفحة.","info"),setTimeout(()=>{window.location.reload()},2e3))};return A.jsx("div",{className:"data-manager-overlay",children:A.jsxs("div",{className:"data-manager-container",children:[A.jsxs("div",{className:"data-manager-header",children:[A.jsx("h2",{children:"إدارة البيانات"}),A.jsx("button",{className:"close-btn",onClick:n,children:"×"})]}),A.jsxs("div",{className:"data-manager-content",children:[A.jsxs("div",{className:"data-section",children:[A.jsx("h3",{children:"📤 تصدير البيانات"}),A.jsx("p",{children:"احفظ نسخة احتياطية من جميع بياناتك"}),A.jsx("button",{className:"btn-export",onClick:c,disabled:t,children:t?"جاري التصدير...":"📥 تصدير البيانات"})]}),A.jsxs("div",{className:"data-section",children:[A.jsx("h3",{children:"📥 استيراد البيانات"}),A.jsx("p",{children:"استعد البيانات من ملف احتياطي"}),A.jsx("input",{type:"file",accept:".json",onChange:d,disabled:i,className:"file-input",id:"import-file"}),A.jsx("label",{htmlFor:"import-file",className:"btn-import",children:i?"جاري الاستيراد...":"📤 اختيار ملف"})]}),A.jsxs("div",{className:"data-section danger-section",children:[A.jsx("h3",{children:"🗑️ حذف جميع البيانات"}),A.jsx("p",{children:"احذف جميع البيانات المحفوظة (لا يمكن التراجع)"}),A.jsx("button",{className:"btn-danger",onClick:u,children:"🗑️ حذف جميع البيانات"})]}),A.jsxs("div",{className:"data-info",children:[A.jsx("h4",{children:"ℹ️ معلومات مهمة:"}),A.jsxs("ul",{children:[A.jsx("li",{children:"البيانات محفوظة محلياً في متصفحك"}),A.jsx("li",{children:"قم بتصدير البيانات بانتظام كنسخة احتياطية"}),A.jsx("li",{children:"يمكنك نقل البيانات بين الأجهزة باستخدام التصدير/الاستيراد"}),A.jsx("li",{children:"حذف بيانات المتصفح سيؤدي لفقدان البيانات"})]})]})]})]})})},Bc=({message:n,type:e,duration:t=5e3,onClose:r})=>{pe.useEffect(()=>{const o=setTimeout(()=>{r()},t);return()=>clearTimeout(o)},[t,r]);const i=()=>{switch(e){case"success":return"✅";case"error":return"❌";case"warning":return"⚠️";case"info":return"ℹ️";default:return"ℹ️"}};return A.jsxs("div",{className:`notification notification-${e}`,children:[A.jsxs("div",{className:"notification-content",children:[A.jsx("span",{className:"notification-icon",children:i()}),A.jsx("span",{className:"notification-message",children:n})]}),A.jsx("button",{className:"notification-close",onClick:r,children:"×"})]})},F4=({activities:n,onClose:e,onNotificationAction:t})=>{const[r,i]=pe.useState([]),[o,c]=pe.useState(!0),[d,u]=pe.useState(!0),p=()=>{const F=new Date;return n.filter(I=>{const O=(new Date(I.date+" "+I.time).getTime()-F.getTime())/(1e3*3600);return O>0&&O<=24}).sort((I,T)=>{const _=new Date(I.date+" "+I.time),O=new Date(T.date+" "+T.time);return _.getTime()-O.getTime()})},h=()=>{const Q=p().map(I=>{const T=new Date(I.date+" "+I.time),_=new Date,O=T.getTime()-_.getTime(),z=Math.floor(O/(1e3*3600)),$=Math.floor(O%(1e3*3600)/(1e3*60));let U="info",L="";return z<1?(U="urgent",L=`🚨 النشاط "${I.title}" سيبدأ خلال ${$} دقيقة!`):z<3?(U="warning",L=`⏰ النشاط "${I.title}" سيبدأ خلال ${z} ساعة`):(U="info",L=`📅 لديك نشاط "${I.title}" اليوم في ${I.time}`),{id:I.id,message:L,urgencyLevel:U,activity:I,timestamp:new Date,actions:["تذكير لاحقاً","تم الاطلاع","عرض التفاصيل"]}});i(Q)},b=F=>{if(!o)return;const Q=new(window.AudioContext||window.webkitAudioContext),I=Q.createOscillator(),T=Q.createGain();switch(I.connect(T),T.connect(Q.destination),F){case"urgent":I.frequency.setValueAtTime(800,Q.currentTime),I.frequency.setValueAtTime(600,Q.currentTime+.1),I.frequency.setValueAtTime(800,Q.currentTime+.2);break;case"warning":I.frequency.setValueAtTime(500,Q.currentTime),I.frequency.setValueAtTime(400,Q.currentTime+.15);break;default:I.frequency.setValueAtTime(300,Q.currentTime)}T.gain.setValueAtTime(.1,Q.currentTime),T.gain.exponentialRampToValueAtTime(.01,Q.currentTime+.3),I.start(Q.currentTime),I.stop(Q.currentTime+.3)};pe.useEffect(()=>{if(d){h();const F=setInterval(h,6e4);return()=>clearInterval(F)}},[n,d]),pe.useEffect(()=>{if(r.length>0){const F=r[r.length-1];b(F.urgencyLevel)}},[r.length,o]);const x=(F,Q)=>{const I=r.find(T=>T.id===Q);I&&(t(F,I.activity.id),F==="تم الاطلاع"&&i(T=>T.filter(_=>_.id!==Q)))},w=F=>{switch(F){case"urgent":return"🚨";case"warning":return"⏰";default:return"📅"}},R=F=>{const I=new Date().getTime()-F.getTime(),T=Math.floor(I/6e4);return T<1?"الآن":T<60?`منذ ${T} دقيقة`:`منذ ${Math.floor(T/60)} ساعة`};return A.jsx("div",{className:"smart-notifications-overlay",children:A.jsxs("div",{className:"smart-notifications-panel",children:[A.jsxs("div",{className:"notifications-header",children:[A.jsx("h3",{children:"🔔 الإشعارات الذكية"}),A.jsxs("div",{className:"notifications-controls",children:[A.jsxs("label",{className:"toggle-switch",children:[A.jsx("input",{type:"checkbox",checked:o,onChange:F=>c(F.target.checked)}),A.jsx("span",{className:"toggle-slider"}),"🔊 الصوت"]}),A.jsxs("label",{className:"toggle-switch",children:[A.jsx("input",{type:"checkbox",checked:d,onChange:F=>u(F.target.checked)}),A.jsx("span",{className:"toggle-slider"}),"📱 تذكير تلقائي"]}),A.jsx("button",{className:"close-btn",onClick:e,children:"✕"})]})]}),A.jsx("div",{className:"notifications-list",children:r.length===0?A.jsxs("div",{className:"no-notifications",children:[A.jsx("div",{className:"no-notifications-icon",children:"🎭"}),A.jsx("p",{children:"لا توجد إشعارات جديدة"}),A.jsx("small",{children:"سيتم إشعارك بالأنشطة القادمة تلقائياً"})]}):r.map(F=>A.jsxs("div",{className:`notification-item ${F.urgencyLevel}`,children:[A.jsx("div",{className:"notification-icon",children:w(F.urgencyLevel)}),A.jsxs("div",{className:"notification-content",children:[A.jsx("div",{className:"notification-message",children:F.message}),A.jsxs("div",{className:"notification-details",children:[A.jsx("span",{className:"notification-time",children:R(F.timestamp)}),F.activity.location&&A.jsxs("span",{className:"notification-location",children:["📍 ",F.activity.location]})]}),A.jsx("div",{className:"notification-actions",children:F.actions.map(Q=>A.jsx("button",{className:`action-btn ${Q==="تم الاطلاع"?"primary":""}`,onClick:()=>x(Q,F.id),children:Q},Q))})]})]},F.id))}),A.jsx("div",{className:"notifications-footer",children:A.jsxs("div",{className:"quick-stats",children:[A.jsxs("span",{children:["📊 ",r.length," إشعار نشط"]}),A.jsxs("span",{children:["🎯 ",p().length," نشاط قادم"]})]})})]})})},Q4=({onThemeChange:n})=>{const[e,t]=pe.useState("auto"),[r,i]=pe.useState(!1),o=()=>{const b=new Date().getHours();return b>=18||b<=6?"dark":"light"},c=b=>{const x=b==="auto"?o():b;document.body.classList.add("theme-transitioning"),document.body.classList.remove("light-theme","dark-theme"),setTimeout(()=>{document.body.classList.add(`${x}-theme`),setTimeout(()=>{document.body.classList.remove("theme-transitioning")},500)},50),localStorage.setItem("preferred-theme",b),n&&n(b)};pe.useEffect(()=>{const b=localStorage.getItem("preferred-theme")||"auto";t(b),c(b);const x=setInterval(()=>{b==="auto"&&c("auto")},36e5);return()=>clearInterval(x)},[]);const d=b=>{i(!0),t(b),c(b),setTimeout(()=>i(!1),600)},u=b=>{switch(b){case"light":return"☀️";case"dark":return"🌙";case"auto":return"🌓"}},p=b=>{switch(b){case"light":return"فاتح";case"dark":return"مظلم";case"auto":return"تلقائي"}},h=()=>{const b=new Date().getHours();return b>=6&&b<12?"صباح":b>=12&&b<18?"ظهيرة":b>=18&&b<22?"مساء":"ليل"};return A.jsxs("div",{className:`theme-toggle-container ${r?"animating":""}`,children:[A.jsxs("div",{className:"theme-toggle-wrapper",children:[A.jsxs("div",{className:"theme-info",children:[A.jsx("span",{className:"current-theme-icon",children:u(e)}),A.jsxs("div",{className:"theme-details",children:[A.jsxs("span",{className:"theme-label",children:["الوضع: ",p(e)]}),e==="auto"&&A.jsxs("span",{className:"auto-theme-info",children:[h()," - ",o()==="dark"?"مظلم":"فاتح"]})]})]}),A.jsx("div",{className:"theme-options",children:["light","dark","auto"].map(b=>A.jsxs("button",{className:`theme-option ${e===b?"active":""}`,onClick:()=>d(b),title:`تغيير إلى الوضع ${p(b)}`,children:[A.jsx("span",{className:"theme-option-icon",children:u(b)}),A.jsx("span",{className:"theme-option-label",children:p(b)}),b==="auto"&&A.jsx("span",{className:"auto-indicator",children:"⚡"})]},b))}),A.jsxs("div",{className:"theme-preview",children:[A.jsxs("div",{className:"preview-card light-preview",children:[A.jsx("div",{className:"preview-header"}),A.jsxs("div",{className:"preview-content",children:[A.jsx("div",{className:"preview-line"}),A.jsx("div",{className:"preview-line short"})]})]}),A.jsxs("div",{className:"preview-card dark-preview",children:[A.jsx("div",{className:"preview-header"}),A.jsxs("div",{className:"preview-content",children:[A.jsx("div",{className:"preview-line"}),A.jsx("div",{className:"preview-line short"})]})]})]}),e==="auto"&&A.jsxs("div",{className:"auto-schedule",children:[A.jsx("h4",{children:"📅 الجدول التلقائي"}),A.jsxs("div",{className:"schedule-timeline",children:[A.jsxs("div",{className:"schedule-item",children:[A.jsx("span",{className:"schedule-time",children:"6:00 - 18:00"}),A.jsx("span",{className:"schedule-theme",children:"☀️ فاتح"})]}),A.jsxs("div",{className:"schedule-item",children:[A.jsx("span",{className:"schedule-time",children:"18:00 - 6:00"}),A.jsx("span",{className:"schedule-theme",children:"🌙 مظلم"})]})]})]}),A.jsxs("div",{className:"theme-benefits",children:[A.jsxs("div",{className:"benefit-item",children:[A.jsx("span",{className:"benefit-icon",children:"👁️"}),A.jsx("span",{className:"benefit-text",children:"راحة للعينين"})]}),A.jsxs("div",{className:"benefit-item",children:[A.jsx("span",{className:"benefit-icon",children:"🔋"}),A.jsx("span",{className:"benefit-text",children:"توفير البطارية"})]}),A.jsxs("div",{className:"benefit-item",children:[A.jsx("span",{className:"benefit-icon",children:"🎨"}),A.jsx("span",{className:"benefit-text",children:"تجربة أفضل"})]})]})]}),r&&A.jsxs("div",{className:"theme-transition-effect",children:[A.jsx("div",{className:"transition-wave"}),A.jsx("div",{className:"transition-particles",children:Array.from({length:12},(b,x)=>A.jsx("div",{className:"particle",style:{"--delay":`${x*.1}s`,"--angle":`${x*30}deg`}},x))})]})]})},R4=({data:n,onClose:e,onResultSelect:t})=>{const[r,i]=pe.useState(""),[o,c]=pe.useState([]),[d,u]=pe.useState({type:"all",category:"all",dateRange:"all",sortBy:"relevance"}),[p,h]=pe.useState(!1),[b,x]=pe.useState([]),[w,R]=pe.useState([]),[F,Q]=pe.useState(!1),[I,T]=pe.useState(-1),_=pe.useRef(null),O=["مسرح","عرض","ورشة","تدريب","مهرجان","احتفال","طلاب","معلمين","أولياء","مجتمع","إبداع","فن","تراث","ثقافة","تعليم","ترفيه","موسيقى","رقص"];pe.useEffect(()=>{const V=localStorage.getItem("search_history");V&&x(JSON.parse(V))},[]);const z=V=>{if(V.trim()==="")return;const te=[V,...b.filter(ge=>ge!==V)].slice(0,10);x(te),localStorage.setItem("search_history",JSON.stringify(te))},$=V=>{if(V.length<2){R([]);return}const te=V.toLowerCase(),ge=O.filter(je=>je.includes(te)).slice(0,5),oe=b.filter(je=>je.toLowerCase().includes(te)).slice(0,3),we=[...ge,...oe],be=we.filter((je,re)=>we.indexOf(je)===re);R(be)},U=V=>{if(V.trim()===""){c([]);return}h(!0),z(V),setTimeout(()=>{const te=L(V);c(te),h(!1)},500)},L=V=>[{id:"1",title:"ورشة المسرح التفاعلي",content:"ورشة تدريبية متخصصة في تقنيات المسرح التفاعلي للطلاب",type:"activity",category:"ورش",date:"2025-01-15",tags:["مسرح","تفاعلي","ورشة","طلاب"],relevance:95,url:"/program"},{id:"2",title:"عرض مسرحي: حكايات الخريف",content:"عرض مسرحي موسمي يقدمه طلاب المرحلة الابتدائية",type:"activity",category:"عروض",date:"2025-10-25",tags:["عرض","مسرحي","خريف","ابتدائي"],relevance:88,url:"/reports"},{id:"3",title:"تقرير مهرجان المسرح المدرسي",content:"تقرير شامل عن فعاليات مهرجان المسرح المدرسي السنوي",type:"report",category:"تقارير",date:"2024-12-20",tags:["مهرجان","مسرح","مدرسي","تقرير"],relevance:82,url:"/reports"},{id:"4",title:"البرنامج الأسبوعي للأنشطة",content:"جدول الحصص والأنشطة المسرحية الأسبوعية لجميع المراحل",type:"program",category:"برامج",date:"2025-01-01",tags:["برنامج","أسبوعي","حصص","مراحل"],relevance:75,url:"/weekly"}].filter(ge=>{const oe=ge.title.toLowerCase().includes(V.toLowerCase())||ge.content.toLowerCase().includes(V.toLowerCase())||ge.tags.some(je=>je.toLowerCase().includes(V.toLowerCase())),we=d.type==="all"||ge.type===d.type,be=d.category==="all"||ge.category===d.category;return oe&&we&&be}).sort((ge,oe)=>{switch(d.sortBy){case"relevance":return oe.relevance-ge.relevance;case"date":return new Date(oe.date).getTime()-new Date(ge.date).getTime();case"title":return ge.title.localeCompare(oe.title);default:return 0}}),G=V=>{if(w.length!==0)switch(V.key){case"ArrowDown":V.preventDefault(),T(te=>te<w.length-1?te+1:0);break;case"ArrowUp":V.preventDefault(),T(te=>te>0?te-1:w.length-1);break;case"Enter":V.preventDefault(),I>=0?(i(w[I]),U(w[I]),R([])):U(r);break;case"Escape":R([]),T(-1);break}},X=(V,te)=>{if(!te)return V;const ge=new RegExp(`(${te})`,"gi");return V.split(ge).map((we,be)=>ge.test(we)?A.jsx("mark",{className:"highlight",children:we},be):we)},P=V=>{switch(V){case"activity":return"🎭";case"report":return"📊";case"program":return"📅";case"holiday":return"🏖️";case"national-day":return"🇲🇦";default:return"📄"}},H=V=>V>=90?"#4CAF50":V>=70?"#FF9800":V>=50?"#2196F3":"#9E9E9E";return pe.useEffect(()=>{$(r)},[r]),pe.useEffect(()=>{_.current&&_.current.focus()},[]),A.jsx("div",{className:"advanced-search-overlay",children:A.jsxs("div",{className:"advanced-search-container",children:[A.jsxs("div",{className:"search-header",children:[A.jsx("h3",{children:"🔍 البحث المتقدم"}),A.jsx("button",{className:"close-btn",onClick:e,children:"✕"})]}),A.jsxs("div",{className:"search-input-container",children:[A.jsxs("div",{className:"search-input-wrapper",children:[A.jsx("input",{ref:_,type:"text",value:r,onChange:V=>i(V.target.value),onKeyDown:G,placeholder:"ابحث في الأنشطة والتقارير والبرامج...",className:"search-input"}),A.jsx("button",{className:"search-btn",onClick:()=>U(r),disabled:p,children:p?"⏳":"🔍"})]}),w.length>0&&A.jsx("div",{className:"suggestions-dropdown",children:w.map((V,te)=>A.jsxs("div",{className:`suggestion-item ${te===I?"highlighted":""}`,onClick:()=>{i(V),U(V),R([])},children:[A.jsx("span",{className:"suggestion-icon",children:"💡"}),V]},V))})]}),A.jsxs("div",{className:"filters-section",children:[A.jsxs("button",{className:"toggle-advanced",onClick:()=>Q(!F),children:[F?"🔼":"🔽"," فلاتر متقدمة"]}),F&&A.jsxs("div",{className:"advanced-filters",children:[A.jsxs("div",{className:"filter-group",children:[A.jsx("label",{children:"النوع:"}),A.jsxs("select",{value:d.type,onChange:V=>u(te=>({...te,type:V.target.value})),children:[A.jsx("option",{value:"all",children:"جميع الأنواع"}),A.jsx("option",{value:"activity",children:"أنشطة"}),A.jsx("option",{value:"report",children:"تقارير"}),A.jsx("option",{value:"program",children:"برامج"}),A.jsx("option",{value:"holiday",children:"عطل"}),A.jsx("option",{value:"national-day",children:"مناسبات وطنية"})]})]}),A.jsxs("div",{className:"filter-group",children:[A.jsx("label",{children:"الفئة:"}),A.jsxs("select",{value:d.category,onChange:V=>u(te=>({...te,category:V.target.value})),children:[A.jsx("option",{value:"all",children:"جميع الفئات"}),A.jsx("option",{value:"ورش",children:"ورش"}),A.jsx("option",{value:"عروض",children:"عروض"}),A.jsx("option",{value:"تقارير",children:"تقارير"}),A.jsx("option",{value:"برامج",children:"برامج"})]})]}),A.jsxs("div",{className:"filter-group",children:[A.jsx("label",{children:"الترتيب:"}),A.jsxs("select",{value:d.sortBy,onChange:V=>u(te=>({...te,sortBy:V.target.value})),children:[A.jsx("option",{value:"relevance",children:"الصلة"}),A.jsx("option",{value:"date",children:"التاريخ"}),A.jsx("option",{value:"title",children:"العنوان"})]})]})]})]}),b.length>0&&r===""&&A.jsxs("div",{className:"search-history",children:[A.jsx("h4",{children:"🕒 عمليات البحث الأخيرة"}),A.jsx("div",{className:"history-items",children:b.slice(0,5).map((V,te)=>A.jsx("button",{className:"history-item",onClick:()=>{i(V),U(V)},children:V},te))})]}),A.jsx("div",{className:"search-results",children:p?A.jsxs("div",{className:"loading-state",children:[A.jsx("div",{className:"loading-spinner"}),A.jsx("p",{children:"جاري البحث..."})]}):o.length>0?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"results-header",children:A.jsxs("h4",{children:["📋 النتائج (",o.length,")"]})}),A.jsx("div",{className:"results-list",children:o.map(V=>A.jsxs("div",{className:"result-item",onClick:()=>t(V),children:[A.jsxs("div",{className:"result-header",children:[A.jsxs("div",{className:"result-type",children:[A.jsx("span",{className:"type-icon",children:P(V.type)}),A.jsx("span",{className:"type-label",children:V.category})]}),A.jsxs("div",{className:"relevance-score",style:{color:H(V.relevance)},children:[V.relevance,"%"]})]}),A.jsx("h5",{className:"result-title",children:X(V.title,r)}),A.jsx("p",{className:"result-content",children:X(V.content,r)}),A.jsxs("div",{className:"result-meta",children:[A.jsxs("span",{className:"result-date",children:["📅 ",V.date]}),A.jsx("div",{className:"result-tags",children:V.tags.slice(0,3).map(te=>A.jsxs("span",{className:"tag",children:["#",te]},te))})]})]},V.id))})]}):r&&!p?A.jsxs("div",{className:"no-results",children:[A.jsx("div",{className:"no-results-icon",children:"🔍"}),A.jsx("h4",{children:"لا توجد نتائج"}),A.jsx("p",{children:"جرب استخدام كلمات مفتاحية مختلفة أو تعديل الفلاتر"}),A.jsxs("div",{className:"search-tips",children:[A.jsx("h5",{children:"💡 نصائح للبحث:"}),A.jsxs("ul",{children:[A.jsx("li",{children:"استخدم كلمات مفتاحية بسيطة"}),A.jsx("li",{children:"جرب البحث بالمرادفات"}),A.jsx("li",{children:"استخدم الفلاتر المتقدمة"}),A.jsx("li",{children:"تحقق من الإملاء"})]})]})]}):null})]})})},L4=({onClose:n,data:e})=>{const[t,r]=pe.useState("pie"),[i,o]=pe.useState(null),[c,d]=pe.useState(0),[u,p]=pe.useState(null),h=pe.useRef(null),b=pe.useRef(null);pe.useEffect(()=>{const _=Date.now(),O=1500,z=()=>{const $=Date.now()-_,U=Math.min($/O,1),L=1-Math.pow(1-U,3);d(L),U<1&&(b.current=requestAnimationFrame(z))};return b.current=requestAnimationFrame(z),()=>{b.current!==null&&cancelAnimationFrame(b.current)}},[t]);const x=(_,O,z,$,U)=>{const L=O.reduce((X,P)=>X+P.value,0);let G=-Math.PI/2;O.forEach((X,P)=>{const H=X.value/L*2*Math.PI*c;if(_.beginPath(),_.moveTo(z,$),_.arc(z,$,U,G,G+H),_.closePath(),u===P?(_.fillStyle=Q(X.color,20),_.shadowColor=X.color,_.shadowBlur=15):(_.fillStyle=X.color,_.shadowBlur=0),_.fill(),H>.1){const V=G+H/2,te=z+Math.cos(V)*(U*.7),ge=$+Math.sin(V)*(U*.7);_.fillStyle="white",_.font="bold 14px Arial",_.textAlign="center",_.textBaseline="middle",_.shadowBlur=2,_.shadowColor="rgba(0,0,0,0.5)";const oe=(X.value/L*100).toFixed(1);_.fillText(`${oe}%`,te,ge),X.icon&&(_.font="20px Arial",_.fillText(X.icon,te,ge-20))}G+=H})},w=(_,O,z,$,U,L)=>{const G=Math.max(...O.map(H=>H.value)),X=U/O.length*.8,P=U/O.length*.2;O.forEach((H,V)=>{const te=H.value/G*L*c,ge=z+V*(X+P)+P/2,oe=$+L-te;_.fillStyle=u===V?Q(H.color,20):H.color,_.fillRect(ge,oe,X,te);const we=_.createLinearGradient(ge,oe,ge,oe+te);we.addColorStop(0,Q(H.color,30)),we.addColorStop(1,H.color),_.fillStyle=we,_.fillRect(ge,oe,X,te),_.fillStyle="#333",_.font="bold 12px Arial",_.textAlign="center",_.fillText(H.value.toString(),ge+X/2,oe-5),_.fillStyle="#666",_.font="11px Arial",_.save(),_.translate(ge+X/2,$+L+15),_.rotate(-Math.PI/4),_.fillText(H.label,0,0),_.restore(),H.icon&&(_.font="16px Arial",_.fillText(H.icon,ge+X/2,oe-25))})},R=(_,O,z,$,U,L)=>{if(O.length===0)return;const G=Math.max(...O.map(H=>H.value)),X=Math.min(...O.map(H=>H.value)),P=G-X||1;_.strokeStyle="#e0e0e0",_.lineWidth=1;for(let H=0;H<=5;H++){const V=$+L/5*H;_.beginPath(),_.moveTo(z,V),_.lineTo(z+U,V),_.stroke()}_.strokeStyle="#2196F3",_.lineWidth=3,_.beginPath(),O.forEach((H,V)=>{const te=z+V/(O.length-1)*U,ge=$+L-(H.value-X)/P*L;V===0?_.moveTo(te,ge):Math.min((c*O.length-V)/1,1)>0&&_.lineTo(te,ge)}),_.stroke(),O.forEach((H,V)=>{const te=z+V/(O.length-1)*U,ge=$+L-(H.value-X)/P*L;Math.min((c*O.length-V)/1,1)>0&&(_.fillStyle="#2196F3",_.beginPath(),_.arc(te,ge,4,0,2*Math.PI),_.fill(),u===V&&(_.fillStyle="rgba(33, 150, 243, 0.3)",_.beginPath(),_.arc(te,ge,8,0,2*Math.PI),_.fill()))})},F=(_,O,z,$,U,L)=>{const G=O.reduce((P,H)=>P+H.value,0);let X=-Math.PI/2;O.forEach((P,H)=>{const V=P.value/G*2*Math.PI*c;_.beginPath(),_.arc(z,$,U,X,X+V),_.arc(z,$,L,X+V,X,!0),_.closePath(),_.fillStyle=u===H?Q(P.color,20):P.color,_.fill(),X+=V}),_.fillStyle="#333",_.font="bold 24px Arial",_.textAlign="center",_.textBaseline="middle",_.fillText(G.toString(),z,$-10),_.font="14px Arial",_.fillStyle="#666",_.fillText("إجمالي الأنشطة",z,$+15)},Q=(_,O)=>{const z=parseInt(_.replace("#",""),16),$=Math.round(2.55*O),U=(z>>16)+$,L=(z>>8&255)+$,G=(z&255)+$;return"#"+(16777216+(U<255?U<1?0:U:255)*65536+(L<255?L<1?0:L:255)*256+(G<255?G<1?0:G:255)).toString(16).slice(1)};pe.useEffect(()=>{const _=h.current;if(!_)return;const O=_.getContext("2d");if(!O)return;O.clearRect(0,0,_.width,_.height);const z=_.width/2,$=_.height/2,U=Math.min(_.width,_.height)/3;switch(t){case"pie":x(O,e.activities,z,$,U);break;case"bar":w(O,e.activities,50,50,_.width-100,_.height-100);break;case"line":R(O,e.timeline,50,50,_.width-100,_.height-100);break;case"donut":F(O,e.activities,z,$,U,U*.6);break}},[t,c,u,e]);const I=_=>{const O=h.current;if(!O)return;const z=O.getBoundingClientRect(),$=_.clientX-z.left,U=_.clientY-z.top,L=O.width/2,G=O.height/2,X=Math.atan2(U-G,$-L)+Math.PI/2;if(t==="pie"||t==="donut"){const P=e.activities.reduce((V,te)=>V+te.value,0);let H=0;for(let V=0;V<e.activities.length;V++){const te=e.activities[V].value/P*2*Math.PI;if(X>=H&&X<=H+te){o(e.activities[V]);break}H+=te}}},T=_=>{const O=h.current;if(!O)return;const z=O.getBoundingClientRect(),$=_.clientX-z.left;if(t==="bar"){const U=(O.width-100)/e.activities.length*.8,L=(O.width-100)/e.activities.length*.2;for(let G=0;G<e.activities.length;G++){const X=50+G*(U+L)+L/2;if($>=X&&$<=X+U){p(G);return}}p(null)}};return A.jsx("div",{className:"interactive-charts-overlay",children:A.jsxs("div",{className:"charts-container",children:[A.jsxs("div",{className:"charts-header",children:[A.jsx("h3",{children:"📊 الإحصائيات التفاعلية"}),A.jsx("button",{className:"close-btn",onClick:n,children:"✕"})]}),A.jsxs("div",{className:"chart-selector",children:[A.jsx("button",{className:`chart-btn ${t==="pie"?"active":""}`,onClick:()=>r("pie"),children:"🥧 دائري"}),A.jsx("button",{className:`chart-btn ${t==="donut"?"active":""}`,onClick:()=>r("donut"),children:"🍩 مفرغ"}),A.jsx("button",{className:`chart-btn ${t==="bar"?"active":""}`,onClick:()=>r("bar"),children:"📊 عمودي"}),A.jsx("button",{className:`chart-btn ${t==="line"?"active":""}`,onClick:()=>r("line"),children:"📈 خطي"})]}),A.jsx("div",{className:"chart-area",children:A.jsx("canvas",{ref:h,width:600,height:400,onClick:I,onMouseMove:T,onMouseLeave:()=>p(null),className:"chart-canvas"})}),A.jsx("div",{className:"chart-legend",children:e.activities.map((_,O)=>A.jsxs("div",{className:`legend-item ${u===O?"highlighted":""}`,onMouseEnter:()=>p(O),onMouseLeave:()=>p(null),children:[A.jsx("div",{className:"legend-color",style:{backgroundColor:_.color}}),A.jsx("span",{className:"legend-icon",children:_.icon}),A.jsx("span",{className:"legend-label",children:_.label}),A.jsx("span",{className:"legend-value",children:_.value})]},_.label))}),i&&A.jsxs("div",{className:"selected-data-panel",children:[A.jsx("h4",{children:"📋 تفاصيل البيانات"}),A.jsxs("div",{className:"data-details",children:[A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-icon",children:i.icon}),A.jsx("span",{className:"detail-label",children:i.label})]}),A.jsxs("div",{className:"detail-value",children:[A.jsx("span",{className:"value-number",children:i.value}),A.jsx("span",{className:"value-unit",children:"نشاط"})]}),A.jsxs("div",{className:"detail-percentage",children:[(i.value/e.activities.reduce((_,O)=>_+O.value,0)*100).toFixed(1),"% من إجمالي الأنشطة"]})]}),A.jsx("button",{className:"close-details",onClick:()=>o(null),children:"✕"})]}),A.jsxs("div",{className:"stats-summary",children:[A.jsxs("div",{className:"stat-card",children:[A.jsx("div",{className:"stat-icon",children:"🎭"}),A.jsx("div",{className:"stat-value",children:e.activities.reduce((_,O)=>_+O.value,0)}),A.jsx("div",{className:"stat-label",children:"إجمالي الأنشطة"})]}),A.jsxs("div",{className:"stat-card",children:[A.jsx("div",{className:"stat-icon",children:"👥"}),A.jsx("div",{className:"stat-value",children:e.participants.reduce((_,O)=>_+O.value,0)}),A.jsx("div",{className:"stat-label",children:"إجمالي المشاركين"})]}),A.jsxs("div",{className:"stat-card",children:[A.jsx("div",{className:"stat-icon",children:"📅"}),A.jsx("div",{className:"stat-value",children:e.timeline.length}),A.jsx("div",{className:"stat-label",children:"الفترات الزمنية"})]}),A.jsxs("div",{className:"stat-card",children:[A.jsx("div",{className:"stat-icon",children:"🏆"}),A.jsx("div",{className:"stat-value",children:e.activities.length>0?Math.max(...e.activities.map(_=>_.value)):0}),A.jsx("div",{className:"stat-label",children:"أعلى نشاط"})]})]})]})})},D4=({onClose:n,onRecordingSaved:e,activityId:t})=>{const[r,i]=pe.useState(!1),[o,c]=pe.useState(!1),[d,u]=pe.useState([]),[p,h]=pe.useState(null),[b,x]=pe.useState(0),[w,R]=pe.useState(null),[F,Q]=pe.useState(1),[I,T]=pe.useState(""),[_,O]=pe.useState("note"),z=pe.useRef(null),$=pe.useRef([]),U=pe.useRef(null),L=pe.useRef(null),G=pe.useRef(null),X=pe.useRef(null),P=pe.useRef(null);pe.useEffect(()=>{const K=localStorage.getItem("voice_recordings");if(K){const ne=JSON.parse(K);u(ne.map(ce=>({...ce,timestamp:new Date(ce.timestamp)})))}},[]);const H=K=>{localStorage.setItem("voice_recordings",JSON.stringify(K)),u(K)},V=async()=>{try{const K=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});L.current=new(window.AudioContext||window.webkitAudioContext);const ne=L.current.createMediaStreamSource(K);G.current=L.current.createAnalyser(),G.current.fftSize=256,ne.connect(G.current),oe(),z.current=new MediaRecorder(K,{mimeType:"audio/webm;codecs=opus"}),$.current=[],z.current.ondataavailable=ce=>{ce.data.size>0&&$.current.push(ce.data)},z.current.onstop=()=>{const ce=new Blob($.current,{type:"audio/webm"}),Be=URL.createObjectURL(ce),he={id:Date.now().toString(),title:I||`تسجيل ${new Date().toLocaleTimeString("ar-MA")}`,blob:ce,url:Be,duration:b,timestamp:new Date,activityId:t,category:_};h(he),K.getTracks().forEach(xe=>xe.stop())},z.current.start(100),i(!0),x(0),U.current=setInterval(()=>{x(ce=>ce+1)},1e3)}catch(K){console.error("خطأ في الوصول للميكروفون:",K),alert("لا يمكن الوصول للميكروفون. تأكد من الأذونات.")}},te=()=>{z.current&&r&&(z.current.stop(),i(!1),c(!1),U.current&&clearInterval(U.current),P.current&&cancelAnimationFrame(P.current))},ge=()=>{z.current&&(o?(z.current.resume(),U.current=setInterval(()=>{x(K=>K+1)},1e3)):(z.current.pause(),U.current&&clearInterval(U.current)),c(!o))},oe=()=>{const K=X.current,ne=G.current;if(!K||!ne)return;const ce=K.getContext("2d");if(!ce)return;const Be=ne.frequencyBinCount,he=new Uint8Array(Be),xe=()=>{if(!r)return;ne.getByteFrequencyData(he),ce.fillStyle="rgba(0, 0, 0, 0.1)",ce.fillRect(0,0,K.width,K.height);const Se=K.width/Be*2.5;let Ie,We=0;for(let Xe=0;Xe<Be;Xe++){Ie=he[Xe]/255*K.height;const st=ce.createLinearGradient(0,K.height-Ie,0,K.height);st.addColorStop(0,"#FF6B6B"),st.addColorStop(.5,"#4ECDC4"),st.addColorStop(1,"#45B7D1"),ce.fillStyle=st,ce.fillRect(We,K.height-Ie,Se,Ie),We+=Se+1}P.current=requestAnimationFrame(xe)};xe()},we=()=>{if(p){const K=[...d,p];H(K),e(p),h(null),T(""),x(0)}},be=K=>{if(w===K.id){R(null);return}const ne=new Audio(K.url);ne.volume=F,ne.onended=()=>{R(null)},ne.play(),R(K.id)},je=K=>{const ne=d.filter(ce=>ce.id!==K);H(ne)},re=K=>{const ne=Math.floor(K/60),ce=K%60;return`${ne.toString().padStart(2,"0")}:${ce.toString().padStart(2,"0")}`},de=K=>{switch(K){case"note":return"📝";case"feedback":return"💬";case"instruction":return"📋";case"announcement":return"📢";default:return"🎤"}};return pe.useEffect(()=>()=>{U.current&&clearInterval(U.current),P.current&&cancelAnimationFrame(P.current),L.current&&L.current.close()},[]),A.jsx("div",{className:"voice-recorder-overlay",children:A.jsxs("div",{className:"voice-recorder-container",children:[A.jsxs("div",{className:"recorder-header",children:[A.jsx("h3",{children:"🎤 مسجل الصوت"}),A.jsx("button",{className:"close-btn",onClick:n,children:"✕"})]}),A.jsxs("div",{className:"recording-controls",children:[A.jsx("div",{className:"recording-info",children:A.jsxs("div",{className:"recording-timer",children:[A.jsx("span",{className:"timer-display",children:re(b)}),r&&A.jsxs("div",{className:`recording-indicator ${o?"paused":""}`,children:["● ",o?"متوقف مؤقتاً":"جاري التسجيل"]})]})}),A.jsx("div",{className:"waveform-container",children:A.jsx("canvas",{ref:X,width:400,height:100,className:"waveform-canvas"})}),A.jsx("div",{className:"control-buttons",children:r?A.jsxs(A.Fragment,{children:[A.jsx("button",{className:"control-btn pause-btn",onClick:ge,children:o?"▶️ استئناف":"⏸️ إيقاف مؤقت"}),A.jsx("button",{className:"control-btn stop-btn",onClick:te,children:"⏹️ إيقاف"})]}):A.jsx("button",{className:"control-btn record-btn",onClick:V,children:"🎤 بدء التسجيل"})}),A.jsxs("div",{className:"volume-control",children:[A.jsx("label",{children:"🔊 مستوى الصوت:"}),A.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:F,onChange:K=>Q(parseFloat(K.target.value)),className:"volume-slider"}),A.jsxs("span",{children:[Math.round(F*100),"%"]})]})]}),p&&A.jsxs("div",{className:"current-recording",children:[A.jsx("h4",{children:"📝 معاينة التسجيل"}),A.jsxs("div",{className:"recording-form",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"عنوان التسجيل:"}),A.jsx("input",{type:"text",value:I,onChange:K=>T(K.target.value),placeholder:"أدخل عنوان للتسجيل"})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"فئة التسجيل:"}),A.jsxs("select",{value:_,onChange:K=>O(K.target.value),children:[A.jsx("option",{value:"note",children:"📝 ملاحظة"}),A.jsx("option",{value:"feedback",children:"💬 تعليق"}),A.jsx("option",{value:"instruction",children:"📋 تعليمات"}),A.jsx("option",{value:"announcement",children:"📢 إعلان"})]})]}),A.jsxs("div",{className:"recording-actions",children:[A.jsx("button",{className:"play-btn",onClick:()=>be(p),children:"▶️ تشغيل"}),A.jsx("button",{className:"save-btn",onClick:we,children:"💾 حفظ"}),A.jsx("button",{className:"discard-btn",onClick:()=>h(null),children:"🗑️ حذف"})]})]})]}),A.jsxs("div",{className:"recordings-list",children:[A.jsxs("h4",{children:["📚 التسجيلات المحفوظة (",d.length,")"]}),d.length===0?A.jsxs("div",{className:"no-recordings",children:[A.jsx("div",{className:"no-recordings-icon",children:"🎤"}),A.jsx("p",{children:"لا توجد تسجيلات بعد"}),A.jsx("small",{children:"ابدأ بتسجيل أول ملاحظة صوتية!"})]}):A.jsx("div",{className:"recordings-grid",children:d.map(K=>A.jsxs("div",{className:"recording-item",children:[A.jsxs("div",{className:"recording-header",children:[A.jsx("span",{className:"recording-icon",children:de(K.category)}),A.jsxs("div",{className:"recording-info",children:[A.jsx("h5",{children:K.title}),A.jsx("small",{children:K.timestamp.toLocaleString("ar-MA")})]})]}),A.jsxs("div",{className:"recording-meta",children:[A.jsxs("span",{className:"duration",children:["⏱️ ",re(K.duration)]}),A.jsx("span",{className:"category",children:K.category})]}),A.jsxs("div",{className:"recording-actions",children:[A.jsx("button",{className:`play-btn ${w===K.id?"playing":""}`,onClick:()=>be(K),children:w===K.id?"⏸️":"▶️"}),A.jsx("button",{className:"delete-btn",onClick:()=>je(K.id),children:"🗑️"})]})]},K.id))})]})]})})},O4=()=>{const[n,e]=pe.useState(!1),[t,r]=pe.useState(!1),[i,o]=pe.useState(!1),[c,d]=pe.useState(!1),[u,p]=pe.useState(!1),[h,b]=pe.useState(!1),[x,w]=pe.useState(null),R=(P,H)=>{w({message:P,type:H})},F=()=>{w(null)},Q=new Date,I=Q.toISOString().split("T")[0],_=(Q.getHours()+1).toString().padStart(2,"0")+":00",O=new Date(Q.getTime()+30*6e4),z=O.getHours().toString().padStart(2,"0")+":"+O.getMinutes().toString().padStart(2,"0"),$=[{id:"1",title:"ورشة المسرح التفاعلي",date:I,time:z,type:"workshop",priority:"high",location:"قاعة المسرح الرئيسية",participants:["طلاب الثانوي"]},{id:"2",title:"عرض حكايات الخريف",date:I,time:_,type:"performance",priority:"medium",location:"المسرح الخارجي",participants:["طلاب الابتدائي"]},{id:"3",title:"تدريب الكورال",date:I,time:"23:59",type:"rehearsal",priority:"low",location:"قاعة الموسيقى",participants:["جميع المراحل"]}],U={activities:[{label:"ورش تدريبية",value:15,color:"#FF6B6B",icon:"🎭"},{label:"عروض مسرحية",value:8,color:"#4ECDC4",icon:"🎪"},{label:"مهرجانات",value:3,color:"#45B7D1",icon:"🎊"},{label:"احتفالات",value:12,color:"#96CEB4",icon:"🎉"}],participants:[{label:"ابتدائي",value:120,color:"#FFEAA7",icon:"👶"},{label:"إعدادي",value:85,color:"#DDA0DD",icon:"🧒"},{label:"ثانوي",value:65,color:"#98D8C8",icon:"👦"}],timeline:[{date:"2024-09",value:5,category:"أنشطة"},{date:"2024-10",value:8,category:"أنشطة"},{date:"2024-11",value:12,category:"أنشطة"},{date:"2024-12",value:15,category:"أنشطة"},{date:"2025-01",value:18,category:"أنشطة"}],categories:[{label:"تعليمية",value:20,color:"#74B9FF",icon:"📚"},{label:"ترفيهية",value:15,color:"#FD79A8",icon:"🎮"},{label:"ثقافية",value:10,color:"#FDCB6E",icon:"🎨"}]},L=(P,H)=>{R(`تم ${P} للنشاط ${H}`,"success")},G=P=>{R(`تم اختيار: ${P.title}`,"info"),d(!1)},X=P=>{R(`تم حفظ التسجيل: ${P.title}`,"success")};return A.jsxs("div",{className:"page",children:[A.jsx("section",{className:"hero",children:A.jsxs("div",{className:"container",children:[A.jsx("h2",{className:"hero-title",children:"الأنشطة المسرحية"}),A.jsx("p",{className:"hero-subtitle",children:"مرحباً بكم في منصة الأنشطة المسرحية لمجموعة مدارس العمران - الموسم الدراسي 2025-2026"})]})}),A.jsx("section",{className:"activities-overview",children:A.jsx("div",{className:"container",children:A.jsxs("div",{className:"cards-grid",children:[A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"العطل المدرسية"}),A.jsx("p",{children:"لائحة العطل المدرسية الرسمية للموسم 2025-2026"}),A.jsx("a",{href:"/holidays",className:"card-link",children:"عرض العطل"})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"البرنامج العام"}),A.jsx("p",{children:"جدولة الأنشطة والفعاليات المسرحية"}),A.jsx("a",{href:"/program",className:"card-link",children:"عرض البرنامج"})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"البرنامج الأسبوعي"}),A.jsx("p",{children:"جدول الحصص المسرحية الأسبوعية"}),A.jsx("a",{href:"/weekly",className:"card-link",children:"عرض الجدول"})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"التقارير"}),A.jsx("p",{children:"تقارير الأنشطة المنجزة والإحصائيات"}),A.jsx("a",{href:"/reports",className:"card-link",children:"عرض التقارير"})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"الأيام الوطنية والعالمية"}),A.jsx("p",{children:"الأيام المحتفى بها في المؤسسات التعليمية"}),A.jsx("a",{href:"/national-days",className:"card-link",children:"عرض الأيام"})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"الأرشيف"}),A.jsx("p",{children:"أرشيف الأنشطة والعروض المسرحية للمواسم السابقة"}),A.jsx("a",{href:"/archive",className:"card-link",children:"عرض الأرشيف"})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"إدارة البيانات"}),A.jsx("p",{children:"تصدير واستيراد البيانات، النسخ الاحتياطية"}),A.jsx("button",{className:"card-link",onClick:()=>e(!0),style:{border:"none",cursor:"pointer"},children:"إدارة البيانات"})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"🔔 الإشعارات الذكية"}),A.jsx("p",{children:"تنبيهات تلقائية للأنشطة القادمة مع أصوات تفاعلية"}),A.jsx("button",{className:"card-link",onClick:()=>r(!0),style:{border:"none",cursor:"pointer"},children:"عرض الإشعارات"})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"🌙 الوضع المظلم"}),A.jsx("p",{children:"تبديل بين الأوضاع الفاتح والمظلم والتلقائي"}),A.jsx("button",{className:"card-link",onClick:()=>o(!0),style:{border:"none",cursor:"pointer"},children:"إعدادات الثيم"})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"🔍 البحث المتقدم"}),A.jsx("p",{children:"بحث ذكي مع فلاتر متقدمة واقتراحات تلقائية"}),A.jsx("button",{className:"card-link",onClick:()=>d(!0),style:{border:"none",cursor:"pointer"},children:"فتح البحث"})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"📊 الإحصائيات التفاعلية"}),A.jsx("p",{children:"رسوم بيانية متحركة وتفاعلية للأنشطة"}),A.jsx("button",{className:"card-link",onClick:()=>p(!0),style:{border:"none",cursor:"pointer"},children:"عرض الإحصائيات"})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{children:"🎤 مسجل الصوت"}),A.jsx("p",{children:"تسجيل الملاحظات والتعليقات الصوتية للأنشطة"}),A.jsx("button",{className:"card-link",onClick:()=>b(!0),style:{border:"none",cursor:"pointer"},children:"فتح المسجل"})]})]})})}),A.jsx("section",{className:"latest-activities",children:A.jsxs("div",{className:"container",children:[A.jsx("h2",{children:"آخر الأنشطة"}),A.jsxs("div",{className:"activity-list",children:[A.jsxs("div",{className:"activity-item",children:[A.jsx("div",{className:"activity-date",children:"الأحد 15 شتنبر 2025"}),A.jsxs("div",{className:"activity-content",children:[A.jsx("h4",{children:"ورشة تأهيلية للمسرح المدرسي"}),A.jsx("p",{children:"ورشة تدريبية لبداية الموسم المسرحي الجديد 2025-2026"})]})]}),A.jsxs("div",{className:"activity-item",children:[A.jsx("div",{className:"activity-date",children:"السبت 25 أكتوبر 2025"}),A.jsxs("div",{className:"activity-content",children:[A.jsx("h4",{children:'عرض مسرحي: "حكايات الخريف"'}),A.jsx("p",{children:"عرض مسرحي موسمي قدمه طلاب الأول والثاني ابتدائي"})]})]}),A.jsxs("div",{className:"activity-item",children:[A.jsx("div",{className:"activity-date",children:"الخميس 12 دجنبر 2025"}),A.jsxs("div",{className:"activity-content",children:[A.jsx("h4",{children:"مهرجان المسرح المدرسي الشتوي"}),A.jsx("p",{children:"مهرجان شتوي ضم عروض من جميع المراحل التعليمية"})]})]}),A.jsxs("div",{className:"activity-item",children:[A.jsx("div",{className:"activity-date",children:"الاثنين 20 يناير 2026"}),A.jsxs("div",{className:"activity-content",children:[A.jsx("h4",{children:'عرض مسرحي: "ألف ليلة وليلة"'}),A.jsx("p",{children:"عرض مسرحي من التراث العربي قدمه طلاب الإعدادي"})]})]})]})]})}),n&&A.jsx(U4,{onClose:()=>e(!1),onNotification:R}),x&&A.jsx(Bc,{message:x.message,type:x.type,onClose:F}),t&&A.jsx(F4,{activities:$,onClose:()=>r(!1),onNotificationAction:L}),i&&A.jsx("div",{className:"theme-toggle-overlay",onClick:()=>o(!1),children:A.jsxs("div",{onClick:P=>P.stopPropagation(),children:[A.jsx(Q4,{onThemeChange:P=>{R(`تم تغيير الثيم إلى: ${P}`,"success")}}),A.jsx("button",{onClick:()=>o(!1),style:{position:"absolute",top:"10px",right:"10px",background:"rgba(255,255,255,0.2)",border:"none",color:"white",borderRadius:"50%",width:"30px",height:"30px",cursor:"pointer"},children:"✕"})]})}),c&&A.jsx(R4,{data:[],onClose:()=>d(!1),onResultSelect:G}),u&&A.jsx(L4,{data:U,onClose:()=>p(!1)}),h&&A.jsx(D4,{onClose:()=>b(!1),onRecordingSaved:X})]})},P4=({onFilter:n,onClearFilters:e})=>{const[t,r]=pe.useState(""),i=["الأنشطة المنجزة","قيد التحضير","ملغي"],o=d=>{const u=d.target.value;r(u),n("status",u)},c=()=>{r(""),e()};return A.jsxs("div",{className:"search-filter-container",children:[A.jsx("div",{className:"search-section",children:A.jsx("h3",{children:"🔍 تصفية حسب الحالة"})}),A.jsxs("div",{className:"filters-section",children:[A.jsxs("div",{className:"filter-group",children:[A.jsx("label",{children:"حالة النشاط:"}),A.jsxs("select",{value:t,onChange:o,className:"filter-select",children:[A.jsx("option",{value:"",children:"جميع الحالات"}),i.map((d,u)=>A.jsx("option",{value:d,children:d},u))]})]}),t&&A.jsx("button",{className:"clear-filters-btn",onClick:c,children:"🗑️ مسح التصفية"})]})]})},M4="modulepreload",k4=function(n){return"/theatre-management-system/"+n},r2={},gh=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let u=function(p){return Promise.all(p.map(h=>Promise.resolve(h).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=u(t.map(p=>{if(p=k4(p),p in r2)return;r2[p]=!0;const h=p.endsWith(".css"),b=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":M4,h||(x.as="script"),x.crossOrigin="",x.href=p,d&&x.setAttribute("nonce",d),document.head.appendChild(x),h)return new Promise((w,R)=>{x.addEventListener("load",w),x.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})},Xy=({title:n,data:e,type:t,showEditButton:r=!1,isEditMode:i=!1,onToggleEdit:o,showCreateButton:c=!1,onCreateClick:d})=>{const u=F=>{const Q=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"],I=["0","1","2","3","4","5","6","7","8","9"];let T=F;for(let _=0;_<Q.length;_++)T=T.replace(new RegExp(Q[_],"g"),I[_]);return T},p=F=>{const Q={يناير:"يناير",فبراير:"فبراير",مارس:"مارس",أبريل:"أبريل",مايو:"ماي",يونيو:"يونيو",يوليو:"يوليوز",أغسطس:"غشت",سبتمبر:"شتنبر",أكتوبر:"أكتوبر",نوفمبر:"نونبر",ديسمبر:"دجنبر","كانون الثاني":"يناير",شباط:"فبراير",آذار:"مارس",نيسان:"أبريل",أيار:"ماي",حزيران:"يونيو",تموز:"يوليوز",آب:"غشت",أيلول:"شتنبر","تشرين الأول":"أكتوبر","تشرين الثاني":"نونبر","كانون الأول":"دجنبر",January:"يناير",February:"فبراير",March:"مارس",April:"أبريل",May:"ماي",June:"يونيو",July:"يوليوز",August:"غشت",September:"شتنبر",October:"أكتوبر",November:"نونبر",December:"دجنبر"};let I=F;return Object.keys(Q).forEach(T=>{I=I.replace(new RegExp(T,"g"),Q[T])}),I},h=()=>{const F=new Date,Q=String(F.getDate()).padStart(2,"0"),I=String(F.getMonth()+1).padStart(2,"0"),T=F.getFullYear();return`${Q}-${I}-${T}`},b=()=>{const F=document.createElement("div");F.innerHTML=w(),F.style.position="absolute",F.style.left="-9999px",F.style.top="-9999px",F.style.width="297mm",F.style.fontFamily="Arial, sans-serif",F.style.direction="rtl",F.style.fontSize="12px",document.body.appendChild(F),gh(()=>import("./html2canvas.esm-B0tyYwQk.js"),[]).then(Q=>{gh(async()=>{const{jsPDF:I}=await Promise.resolve().then(()=>rw);return{jsPDF:I}},void 0).then(({jsPDF:I})=>{Q.default(F,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}).then(T=>{const _=T.toDataURL("image/png"),O=new I("l","mm","a4"),z=297,$=210,U=T.height*z/T.width;let L=U,G=0;for(O.addImage(_,"PNG",0,G,z,U),L-=$;L>=0;)G=L-U,O.addPage(),O.addImage(_,"PNG",0,G,z,U),L-=$;const X=h();O.save(`البرنامج_العام_للأنشطة_المسرحية_${X}.pdf`),document.body.removeChild(F)}).catch(()=>{document.body.removeChild(F),x()})})}).catch(()=>{document.body.removeChild(F),x()})},x=()=>{const F=R(),Q=window.open("","_blank");Q&&(Q.document.write(`
        <!DOCTYPE html>
        <html dir="rtl" lang="ar">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>${n}</title>
          <style>
            body {
              font-family: 'Arial', sans-serif;
              direction: rtl;
              text-align: right;
              margin: 0;
              padding: 30px;
              line-height: 1.8;
              background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
              color: #2d3748;
            }
            .header {
              text-align: center;
              margin-bottom: 50px;
              padding: 40px;
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
              color: white;
              border-radius: 20px;
              box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
              position: relative;
              overflow: hidden;
            }
            .header::before {
              content: '';
              position: absolute;
              top: -50%;
              right: -50%;
              width: 200%;
              height: 200%;
              background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
              animation: shimmer 3s ease-in-out infinite;
            }
            .header h1 {
              color: white;
              margin: 0 0 20px 0;
              font-size: 36px;
              font-weight: bold;
              text-shadow: 0 3px 6px rgba(0,0,0,0.2);
              position: relative;
              z-index: 1;
            }
            .header p {
              color: rgba(255,255,255,0.95);
              margin: 10px 0;
              font-size: 18px;
              font-weight: 500;
              position: relative;
              z-index: 1;
            }
            @keyframes shimmer {
              0%, 100% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
              50% { transform: translateX(100%) translateY(100%) rotate(45deg); }
            }
            .content {
              margin-bottom: 30px;
            }
            .activity-item, .schedule-item, .report-item {
              background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
              border: 2px solid transparent;
              border-radius: 20px;
              padding: 30px;
              margin-bottom: 30px;
              box-shadow: 0 12px 35px rgba(0,0,0,0.12);
              page-break-inside: avoid;
              position: relative;
              overflow: hidden;
              transition: all 0.3s ease;
            }
            .activity-item::before, .schedule-item::before, .report-item::before {
              content: '';
              position: absolute;
              top: 0;
              right: 0;
              width: 8px;
              height: 100%;
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
              border-radius: 0 20px 20px 0;
            }
            .activity-item::after, .schedule-item::after, .report-item::after {
              content: '';
              position: absolute;
              top: 20px;
              right: 20px;
              width: 60px;
              height: 60px;
              background: radial-gradient(circle, rgba(102, 126, 234, 0.1) 0%, transparent 70%);
              border-radius: 50%;
            }
            .activity-title, .schedule-title, .report-title {
              color: #1e3a8a;
              font-size: 24px;
              font-weight: bold;
              margin-bottom: 25px;
              padding-bottom: 20px;
              border-bottom: 3px solid transparent;
              background: linear-gradient(white, white) padding-box,
                         linear-gradient(135deg, #667eea 0%, #764ba2 100%) border-box;
              display: flex;
              justify-content: space-between;
              align-items: center;
              position: relative;
              z-index: 2;
            }
            .activity-details, .schedule-details, .report-details {
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
              gap: 20px;
              margin-bottom: 25px;
              padding: 25px;
              background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.05) 100%);
              border-radius: 15px;
              border: 2px solid rgba(102, 126, 234, 0.15);
              position: relative;
              overflow: hidden;
            }
            .activity-details::before, .schedule-details::before, .report-details::before {
              content: '';
              position: absolute;
              top: 0;
              left: 0;
              right: 0;
              height: 3px;
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            }
            .detail-item {
              color: #4b5563;
              padding: 12px 15px;
              display: flex;
              align-items: center;
              font-size: 15px;
              background: rgba(255, 255, 255, 0.7);
              border-radius: 10px;
              box-shadow: 0 2px 8px rgba(0,0,0,0.05);
              transition: all 0.2s ease;
            }
            .detail-item:hover {
              transform: translateY(-2px);
              box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            }
            .detail-label {
              color: #1e3a8a;
              font-weight: bold;
              margin-left: 12px;
              min-width: 100px;
              font-size: 15px;
            }
            .description {
              color: #4a5568;
              margin-top: 25px;
              padding: 25px;
              background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
              border-radius: 15px;
              border-right: 6px solid #667eea;
              font-style: italic;
              line-height: 1.8;
              position: relative;
              box-shadow: inset 0 2px 8px rgba(0,0,0,0.05);
            }
            .description::before {
              content: '"';
              position: absolute;
              top: 10px;
              right: 15px;
              font-size: 40px;
              color: rgba(102, 126, 234, 0.3);
              font-family: serif;
            }
            .description::after {
              content: '"';
              position: absolute;
              bottom: 10px;
              left: 15px;
              font-size: 40px;
              color: rgba(102, 126, 234, 0.3);
              font-family: serif;
            }
            .footer {
              text-align: center;
              margin-top: 50px;
              padding: 30px;
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
              border-radius: 20px;
              color: white;
              font-size: 15px;
              box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
              position: relative;
              overflow: hidden;
            }
            .footer::before {
              content: '';
              position: absolute;
              top: 0;
              left: 0;
              right: 0;
              height: 2px;
              background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
            }
            .footer p {
              margin: 10px 0;
              font-weight: 500;
              position: relative;
              z-index: 1;
            }
            .footer p:first-child {
              font-size: 18px;
              font-weight: bold;
              margin-bottom: 15px;
            }

            /* تصميم الجدول الجديد - مثل البرنامج الأسبوعي */
            .activities-table {
              width: 100%;
              border-collapse: collapse;
              margin: 20px 0;
              font-size: 12px;
              background: white;
              border-radius: 8px;
              overflow: hidden;
              box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            }
            .activities-table thead {
              background: #1e3a8a;
              color: white;
            }
            .activities-table th {
              padding: 15px 10px;
              text-align: center;
              font-weight: bold;
              font-size: 14px;
              border: 2px solid #1e3a8a;
            }
            .activities-table th.time-header {
              background: #f59e0b !important;
              color: white;
            }
            .activities-table td {
              border: 2px solid #1e3a8a;
              padding: 10px;
              text-align: center;
              vertical-align: top;
              min-height: 60px;
            }
            .activity-row:nth-child(even) {
              background: #f8fafc;
            }
            .activity-row:nth-child(odd) {
              background: white;
            }
            .month-col { width: 10%; }
            .date-col { width: 18%; }
            .activity-col { width: 25%; }
            .location-col { width: 15%; }
            .description-col { width: 22%; }
            .status-col { width: 10%; }

            .month-cell {
              background: #f8fafc;
              font-weight: bold;
              color: #1e3a8a;
              font-size: 12px;
            }
            .date-cell {
              background: #f8fafc;
              font-weight: bold;
              color: #1e3a8a;
              font-size: 11px;
            }
            .session-info {
              margin: 3px 0;
              padding: 8px;
              background: #f0f9ff;
              border-radius: 4px;
              border: 1px solid #3b82f6;
              text-align: center;
            }
            .session-class {
              font-weight: bold;
              color: #1e40af;
              font-size: 12px;
              margin-bottom: 2px;
            }
            .session-activity {
              color: #059669;
              font-size: 10px;
              margin: 1px 0;
            }
            .session-room {
              color: #dc2626;
              font-size: 10px;
            }
            .session-time {
              background: #f59e0b;
              color: white;
              padding: 2px 6px;
              border-radius: 8px;
              font-size: 9px;
              font-weight: bold;
              display: inline-block;
              margin-top: 3px;
            }
            .empty-session {
              color: #9ca3af;
              font-style: italic;
            }
            .status {
              padding: 10px 20px;
              border-radius: 25px;
              font-size: 14px;
              font-weight: bold;
              text-transform: uppercase;
              letter-spacing: 1px;
              box-shadow: 0 4px 15px rgba(0,0,0,0.15);
              position: relative;
              overflow: hidden;
              z-index: 1;
            }
            .status::before {
              content: '';
              position: absolute;
              top: 0;
              left: -100%;
              width: 100%;
              height: 100%;
              background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
              transition: left 0.5s ease;
              z-index: -1;
            }
            .status:hover::before {
              left: 100%;
            }
            .status.confirmed {
              background: linear-gradient(135deg, #10b981 0%, #059669 100%);
              color: white;
              box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);
            }
            .status.pending {
              background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
              color: white;
              box-shadow: 0 4px 15px rgba(245, 158, 11, 0.4);
            }
            .status.cancelled {
              background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
              color: white;
              box-shadow: 0 4px 15px rgba(239, 68, 68, 0.4);
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          ${F}
        </body>
        </html>
      `),Q.document.close(),Q.focus(),setTimeout(()=>{Q.print(),Q.close()},250))},w=()=>{const F=new Date().toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}),Q=u(F);return`
      <div style="font-family: Arial, sans-serif; direction: rtl; padding: 20px; background: white;">
        <div style="text-align: center; margin-bottom: 30px; padding: 20px; border-bottom: 3px solid #1e3a8a;">
          <h1 style="font-size: 24px; color: #1e3a8a; margin-bottom: 10px;">📅 البرنامج العام للأنشطة المسرحية</h1>
          <p style="font-size: 16px; color: #666; margin: 5px 0;"><strong>الأستاذ مصطفى لعرعري</strong> - مسؤول الأنشطة المسرحية</p>
          <p style="font-size: 14px; color: #666; margin: 5px 0;">مجموعة مدارس العمران</p>
          <p style="font-size: 14px; color: #666; margin: 5px 0;">تاريخ الطباعة: ${p(Q)}</p>
        </div>

        <table style="width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 12px;">
          <thead>
            <tr>
              <th style="border: 2px solid #1e3a8a; padding: 10px; background: #f59e0b; color: white; font-weight: bold; width: 12%;">📅 الشهر</th>
              <th style="border: 2px solid #1e3a8a; padding: 10px; background: #1e3a8a; color: white; font-weight: bold; width: 14%;">📆 التاريخ</th>
              <th style="border: 2px solid #1e3a8a; padding: 10px; background: #1e3a8a; color: white; font-weight: bold; width: 12%;">⏰ التوقيت</th>
              <th style="border: 2px solid #1e3a8a; padding: 10px; background: #1e3a8a; color: white; font-weight: bold; width: 18%;">🎭 النشاط</th>
              <th style="border: 2px solid #1e3a8a; padding: 10px; background: #1e3a8a; color: white; font-weight: bold; width: 20%;">📝 الوصف</th>
              <th style="border: 2px solid #1e3a8a; padding: 10px; background: #1e3a8a; color: white; font-weight: bold; width: 14%;">👥 المستهدفة</th>
              <th style="border: 2px solid #1e3a8a; padding: 10px; background: #1e3a8a; color: white; font-weight: bold; width: 10%;">📍 المكان</th>
              <th style="border: 2px solid #1e3a8a; padding: 10px; background: #1e3a8a; color: white; font-weight: bold; width: 8%;">🏷️ الحالة</th>
            </tr>
          </thead>
          <tbody>
            ${e.map((T,_)=>{let O,z,$,U;try{if(T.date&&T.date!==""){if(T.date.includes("يناير"))U="يناير";else if(T.date.includes("فبراير"))U="فبراير";else if(T.date.includes("مارس"))U="مارس";else if(T.date.includes("أبريل"))U="أبريل";else if(T.date.includes("ماي")||T.date.includes("مايو"))U="ماي";else if(T.date.includes("يونيو"))U="يونيو";else if(T.date.includes("يوليوز")||T.date.includes("يوليو"))U="يوليوز";else if(T.date.includes("غشت")||T.date.includes("أغسطس"))U="غشت";else if(T.date.includes("شتنبر")||T.date.includes("سبتمبر"))U="شتنبر";else if(T.date.includes("أكتوبر"))U="أكتوبر";else if(T.date.includes("نونبر")||T.date.includes("نوفمبر"))U="نونبر";else if(T.date.includes("دجنبر")||T.date.includes("ديسمبر"))U="دجنبر";else if(O=new Date(T.date),isNaN(O.getTime()))U="غير محدد";else{const X=O.getMonth();U=["يناير","فبراير","مارس","أبريل","ماي","يونيو","يوليوز","غشت","شتنبر","أكتوبر","نونبر","دجنبر"][X]}let G=T.date;G=G.replace("شتنبر","September"),G=G.replace("غشت","August"),G=G.replace("يوليوز","July"),G=G.replace("يونيو","June"),G=G.replace("ماي","May"),G=G.replace("أبريل","April"),G=G.replace("مارس","March"),G=G.replace("فبراير","February"),G=G.replace("يناير","January"),G=G.replace("أكتوبر","October"),G=G.replace("نونبر","November"),G=G.replace("دجنبر","December"),O=new Date(G),isNaN(O.getTime())?z="غير محدد":z=O.toLocaleDateString("ar-EG",{weekday:"long"}),$=T.date}else U="غير محدد",$="غير محدد",z="غير محدد"}catch{$=T.date||"غير محدد",U="غير محدد",z="غير محدد"}const L=T.status==="الأنشطة المنجزة"?"#10b981":T.status==="قيد التحضير"?"#f59e0b":"#ef4444";return`
                <tr>
                  <td style="border: 2px solid #1e3a8a; padding: 10px; vertical-align: top; background: ${_%2===0?"#f8fafc":"white"}; text-align: center; font-weight: bold; color: #1e3a8a; font-size: 12px;">${U||"غير محدد"}</td>
                  <td style="border: 2px solid #1e3a8a; padding: 10px; vertical-align: top; background: ${_%2===0?"#f8fafc":"white"}; text-align: center;">
                    <div style="font-weight: bold; color: #1e40af; font-size: 12px;">${z||"غير محدد"}</div>
                    <div style="font-size: 11px; color: #666; margin-top: 2px;">${$||"غير محدد"}</div>
                  </td>
                  <td style="border: 2px solid #1e3a8a; padding: 10px; vertical-align: top; background: ${_%2===0?"#f8fafc":"white"}; text-align: center;">
                    <div style="font-weight: bold; color: #f59e0b; font-size: 12px;">${T.time||"غير محدد"}</div>
                  </td>
                  <td style="border: 2px solid #1e3a8a; padding: 10px; vertical-align: top; background: ${_%2===0?"#f8fafc":"white"};">
                    <div style="font-weight: bold; color: #1e40af; font-size: 12px; line-height: 1.3;">${T.title||"غير محدد"}</div>
                  </td>
                  <td style="border: 2px solid #1e3a8a; padding: 10px; vertical-align: top; background: ${_%2===0?"#f8fafc":"white"};">
                    <div style="font-size: 11px; color: #374151; line-height: 1.3;">${T.description||"غير محدد"}</div>
                  </td>
                  <td style="border: 2px solid #1e3a8a; padding: 10px; vertical-align: top; background: ${_%2===0?"#f8fafc":"white"};">
                    <div style="font-size: 11px; color: #666; line-height: 1.3;">${T.participants||"غير محدد"}</div>
                  </td>
                  <td style="border: 2px solid #1e3a8a; padding: 10px; vertical-align: top; background: ${_%2===0?"#f8fafc":"white"}; text-align: center;">
                    <div style="color: #1e40af; font-weight: bold; font-size: 11px;">${T.location||"غير محدد"}</div>
                  </td>
                  <td style="border: 2px solid #1e3a8a; padding: 10px; vertical-align: top; background: ${_%2===0?"#f8fafc":"white"}; text-align: center;">
                    <span style="background: ${L}; color: white; padding: 3px 6px; border-radius: 4px; font-size: 10px; font-weight: bold; display: inline-block;">${T.status||"غير محدد"}</span>
                  </td>
                </tr>
              `}).join("")}
          </tbody>
        </table>

        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 30px; padding-top: 20px; border-top: 2px solid #e5e7eb; color: #666; font-size: 12px;">
          <div style="text-align: right;">
            <p>🎭 مجموعة مدارس العمران - قسم الأنشطة المسرحية</p>
            <p>تم إنشاء هذا التقرير بواسطة نظام إدارة الأنشطة المسرحية</p>
          </div>
          <div style="text-align: left; font-weight: bold; color: #1e3a8a;">
            <p>Page: 1</p>
          </div>
        </div>
      </div>
    `},R=()=>{const F=new Date().toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}),Q=u(F),I=p(Q);let T=`
      <div class="header">
        <h1>${n}</h1>
        <p>الأستاذ مصطفى لعرعري - مسؤول الأنشطة المسرحية</p>
        <p>مجموعة مدارس العمران</p>
        <p>تاريخ الطباعة: ${I}</p>
      </div>
      <div class="content">
    `;return t==="activities"?(T+=`
        <table class="activities-table">
          <thead>
            <tr>
              <th class="month-col">📅 الشهر</th>
              <th class="date-col time-header">📆 التاريخ</th>
              <th class="activity-col">🎭 النشاط</th>
              <th class="location-col">📍 المكان</th>
              <th class="description-col">📝 الوصف</th>
              <th class="status-col">🏷️ الحالة</th>
            </tr>
          </thead>
          <tbody>
      `,e.forEach(_=>{const O=_.status==="الأنشطة المنجزة"?"confirmed":_.status==="قيد التحضير"?"pending":"cancelled",z=new Date(_.date),$=z.toLocaleDateString("ar-EG",{month:"long"}),U=z.toLocaleDateString("ar-EG",{weekday:"long"}),L=p(u(_.date)),G=p(u($));T+=`
          <tr class="activity-row">
            <td class="month-cell">${G}</td>
            <td class="date-cell">${L}<br>${U}</td>
            <td class="session-cell">
              <div class="session-info">
                <div class="session-class">${_.title}</div>
                <div class="session-activity">${_.participants}</div>
                <div class="session-time">${_.time}</div>
              </div>
            </td>
            <td class="session-cell">
              <div class="session-info">
                <div class="session-room">${_.location}</div>
              </div>
            </td>
            <td class="session-cell">
              <div class="session-info">
                <div class="session-activity">${_.description}</div>
              </div>
            </td>
            <td class="session-cell">
              <span class="status ${O}">${_.status}</span>
            </td>
          </tr>
        `}),T+=`
          </tbody>
        </table>
      `):t==="schedule"?e.forEach(_=>{T+=`
          <div class="schedule-item">
            <div class="schedule-title">${_.day}</div>
        `,_.sessions.forEach(O=>{T+=`
            <div class="schedule-details">
              <div class="detail-item">
                <span class="detail-label">الوقت:</span> ${O.time}
              </div>
              <div class="detail-item">
                <span class="detail-label">الصف:</span> ${O.class}
              </div>
              <div class="detail-item">
                <span class="detail-label">النشاط:</span> ${O.activity}
              </div>
              <div class="detail-item">
                <span class="detail-label">القاعة:</span> ${O.room}
              </div>
            </div>
          `}),T+="</div>"}):t==="reports"&&e.forEach(_=>{T+=`
          <div class="report-item">
            <div class="report-title">${_.title}</div>
            <div class="report-details">
              <div class="detail-item">
                <span class="detail-label">التاريخ:</span> ${_.date}
              </div>
            </div>
            <div class="description">
              <span class="detail-label">الملخص:</span> ${_.summary}
            </div>
            <div class="description">
              <span class="detail-label">الأنشطة المنفذة:</span>
              <ul>
                ${_.activities.map(O=>`<li>${O}</li>`).join("")}
              </ul>
            </div>
            <div class="description">
              <span class="detail-label">الإنجازات المحققة:</span>
              <ul>
                ${_.achievements.map(O=>`<li>${O}</li>`).join("")}
              </ul>
            </div>
          </div>
        `}),T+=`
      </div>
      <div class="footer">
        <p>© 2025 مصطفى لعرعري - جميع الحقوق محفوظة</p>
        <p>مجموعة مدارس العمران - الأنشطة المسرحية</p>
      </div>
    `,T};return A.jsxs("div",{className:"print-export-container",children:[c&&d&&A.jsx("button",{className:"create-btn",onClick:d,children:"📝 إنشاء تقرير جديد"}),r&&o&&A.jsx("button",{className:`edit-btn ${i?"edit-active":""}`,onClick:o,children:i?"🔒 إنهاء التعديل":"✏️ تعديل"}),A.jsx("button",{className:"print-btn",onClick:b,children:"📄 تحميل PDF"})]})},H4=()=>{};var s2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},V4=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],c=n[t++],d=n[t++],u=((i&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|c&63)}}return e.join("")},FB={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],c=i+1<n.length,d=c?n[i+1]:0,u=i+2<n.length,p=u?n[i+2]:0,h=o>>2,b=(o&3)<<4|d>>4;let x=(d&15)<<2|p>>6,w=p&63;u||(w=64,c||(x=64)),r.push(t[h],t[b],t[x],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(UB(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):V4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],d=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const b=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||d==null||p==null||b==null)throw new K4;const x=o<<2|d>>4;if(r.push(x),p!==64){const w=d<<4&240|p>>2;if(r.push(w),b!==64){const R=p<<6&192|b;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class K4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G4=function(n){const e=UB(n);return FB.encodeByteArray(e,!0)},Rm=function(n){return G4(n).replace(/\./g,"")},QB=function(n){try{return FB.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=()=>z4().__FIREBASE_DEFAULTS__,$4=()=>{if(typeof process>"u"||typeof s2>"u")return;const n=s2.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},W4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&QB(n[1]);return e&&JSON.parse(e)},l0=()=>{try{return H4()||q4()||$4()||W4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},RB=n=>l0()?.emulatorHosts?.[n],LB=n=>{const e=RB(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},DB=()=>l0()?.config,OB=n=>l0()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Rm(JSON.stringify(t)),Rm(JSON.stringify(c)),""].join(".")}const Qp={};function X4(){const n={prod:[],emulator:[]};for(const e of Object.keys(Qp))Qp[e]?n.emulator.push(e):n.prod.push(e);return n}function J4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let i2=!1;function Zy(n,e){if(typeof window>"u"||typeof document>"u"||!xh(window.location.host)||Qp[n]===e||Qp[n]||i2)return;Qp[n]=e;function t(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=X4().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function u(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{i2=!0,c()},x}function h(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=J4(r),w=t("text"),R=document.getElementById(w)||document.createElement("span"),F=t("learnmore"),Q=document.getElementById(F)||document.createElement("a"),I=t("preprendIcon"),T=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const _=x.element;d(_),h(Q,F);const O=p();u(T,I),_.append(T,R,Q,O),document.body.appendChild(_)}o?(R.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ra())}function e_(){const n=l0()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t_(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MB(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function n_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r_(){const n=Ra();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function s_(){return!e_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kB(){try{return typeof indexedDB=="object"}catch{return!1}}function HB(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}function i_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="FirebaseError";class DA extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=a_,Object.setPrototypeOf(this,DA.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ch.prototype.create)}}class Ch{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],c=o?o_(o,r):"Error",d=`${this.serviceName}: ${c} (${i}).`;return new DA(i,d,r)}}function o_(n,e){return n.replace(A_,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const A_=/\{\$([^}]+)}/g;function l_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function dd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],c=e[i];if(a2(o)&&a2(c)){if(!dd(o,c))return!1}else if(o!==c)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function a2(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ip(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function jp(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function c_(n,e){const t=new u_(n,e);return t.subscribe.bind(t)}class u_{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");d_(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=_v),i.error===void 0&&(i.error=_v),i.complete===void 0&&(i.complete=_v);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d_(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _v(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=1e3,f_=2,p_=14400*1e3,g_=.5;function o2(n,e=h_,t=f_){const r=e*Math.pow(t,n),i=Math.round(g_*r*(Math.random()-.5)*2);return Math.min(p_,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(n){return n&&n._delegate?n._delegate:n}class QA{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Y4;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y_(e))try{this.getOrInitializeService({instanceIdentifier:ih})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ih){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ih){return this.instances.has(e)}getOptions(e=ih){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:v_(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ih){return this.component?this.component.multipleInstances?e:ih:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function v_(n){return n===ih?void 0:n}function y_(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new m_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(tr||(tr={}));const b_={debug:tr.DEBUG,verbose:tr.VERBOSE,info:tr.INFO,warn:tr.WARN,error:tr.ERROR,silent:tr.SILENT},B_=tr.INFO,x_={[tr.DEBUG]:"log",[tr.VERBOSE]:"log",[tr.INFO]:"info",[tr.WARN]:"warn",[tr.ERROR]:"error"},C_=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=x_[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c0{constructor(e){this.name=e,this._logLevel=B_,this._logHandler=C_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tr.DEBUG,...e),this._logHandler(this,tr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tr.VERBOSE,...e),this._logHandler(this,tr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tr.INFO,...e),this._logHandler(this,tr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tr.WARN,...e),this._logHandler(this,tr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tr.ERROR,...e),this._logHandler(this,tr.ERROR,...e)}}const E_=(n,e)=>e.some(t=>n instanceof t);let A2,l2;function S_(){return A2||(A2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function __(){return l2||(l2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VB=new WeakMap,ry=new WeakMap,KB=new WeakMap,Iv=new WeakMap,e1=new WeakMap;function I_(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(od(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&VB.set(t,n)}).catch(()=>{}),e1.set(e,n),e}function j_(n){if(ry.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});ry.set(n,e)}let sy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ry.get(n);if(e==="objectStoreNames")return n.objectStoreNames||KB.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return od(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function N_(n){sy=n(sy)}function T_(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(jv(this),e,...t);return KB.set(r,e.sort?e.sort():[e]),od(r)}:__().includes(n)?function(...e){return n.apply(jv(this),e),od(VB.get(this))}:function(...e){return od(n.apply(jv(this),e))}}function U_(n){return typeof n=="function"?T_(n):(n instanceof IDBTransaction&&j_(n),E_(n,S_())?new Proxy(n,sy):n)}function od(n){if(n instanceof IDBRequest)return I_(n);if(Iv.has(n))return Iv.get(n);const e=U_(n);return e!==n&&(Iv.set(n,e),e1.set(e,n)),e}const jv=n=>e1.get(n);function GB(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const c=indexedDB.open(n,e),d=od(c);return r&&c.addEventListener("upgradeneeded",u=>{r(od(c.result),u.oldVersion,u.newVersion,od(c.transaction),u)}),t&&c.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),d.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const F_=["get","getKey","getAll","getAllKeys","count"],Q_=["put","add","delete","clear"],Nv=new Map;function c2(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Nv.get(e))return Nv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Q_.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||F_.includes(t)))return;const o=async function(c,...d){const u=this.transaction(c,i?"readwrite":"readonly");let p=u.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),i&&u.done]))[0]};return Nv.set(e,o),o}N_(n=>({...n,get:(e,t,r)=>c2(e,t)||n.get(e,t,r),has:(e,t)=>!!c2(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(L_(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function L_(n){return n.getComponent()?.type==="VERSION"}const iy="@firebase/app",u2="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new c0("@firebase/app"),D_="@firebase/app-compat",O_="@firebase/analytics-compat",P_="@firebase/analytics",M_="@firebase/app-check-compat",k_="@firebase/app-check",H_="@firebase/auth",V_="@firebase/auth-compat",K_="@firebase/database",G_="@firebase/data-connect",z_="@firebase/database-compat",q_="@firebase/functions",$_="@firebase/functions-compat",W_="@firebase/installations",Y_="@firebase/installations-compat",X_="@firebase/messaging",J_="@firebase/messaging-compat",Z_="@firebase/performance",eI="@firebase/performance-compat",tI="@firebase/remote-config",nI="@firebase/remote-config-compat",rI="@firebase/storage",sI="@firebase/storage-compat",iI="@firebase/firestore",aI="@firebase/ai",oI="@firebase/firestore-compat",AI="firebase",lI="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="[DEFAULT]",cI={[iy]:"fire-core",[D_]:"fire-core-compat",[P_]:"fire-analytics",[O_]:"fire-analytics-compat",[k_]:"fire-app-check",[M_]:"fire-app-check-compat",[H_]:"fire-auth",[V_]:"fire-auth-compat",[K_]:"fire-rtdb",[G_]:"fire-data-connect",[z_]:"fire-rtdb-compat",[q_]:"fire-fn",[$_]:"fire-fn-compat",[W_]:"fire-iid",[Y_]:"fire-iid-compat",[X_]:"fire-fcm",[J_]:"fire-fcm-compat",[Z_]:"fire-perf",[eI]:"fire-perf-compat",[tI]:"fire-rc",[nI]:"fire-rc-compat",[rI]:"fire-gcs",[sI]:"fire-gcs-compat",[iI]:"fire-fst",[oI]:"fire-fst-compat",[aI]:"fire-vertex","fire-js":"fire-js",[AI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=new Map,uI=new Map,oy=new Map;function d2(n,e){try{n.container.addComponent(e)}catch(t){du.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function jl(n){const e=n.name;if(oy.has(e))return du.debug(`There were multiple attempts to register component ${e}.`),!1;oy.set(e,n);for(const t of Lm.values())d2(t,n);for(const t of uI.values())d2(t,n);return!0}function bd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ro(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ad=new Ch("app","Firebase",dI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new QA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ad.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=lI;function zB(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:ay,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ad.create("bad-app-name",{appName:String(i)});if(t||(t=DB()),!t)throw Ad.create("no-options");const o=Lm.get(i);if(o){if(dd(t,o.options)&&dd(r,o.config))return o;throw Ad.create("duplicate-app",{appName:i})}const c=new w_(i);for(const u of oy.values())c.addComponent(u);const d=new hI(t,r,c);return Lm.set(i,d),d}function u0(n=ay){const e=Lm.get(n);if(!e&&n===ay&&DB())return zB();if(!e)throw Ad.create("no-app",{appName:n});return e}function So(n,e,t){let r=cI[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),du.warn(c.join(" "));return}jl(new QA(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="firebase-heartbeat-database",pI=1,$p="firebase-heartbeat-store";let Tv=null;function qB(){return Tv||(Tv=GB(fI,pI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($p)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ad.create("idb-open",{originalErrorMessage:n.message})})),Tv}async function gI(n){try{const t=(await qB()).transaction($p),r=await t.objectStore($p).get($B(n));return await t.done,r}catch(e){if(e instanceof DA)du.warn(e.message);else{const t=Ad.create("idb-get",{originalErrorMessage:e?.message});du.warn(t.message)}}}async function h2(n,e){try{const r=(await qB()).transaction($p,"readwrite");await r.objectStore($p).put(e,$B(n)),await r.done}catch(t){if(t instanceof DA)du.warn(t.message);else{const r=Ad.create("idb-set",{originalErrorMessage:t?.message});du.warn(r.message)}}}function $B(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=1024,vI=30;class yI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=f2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>vI){const i=BI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){du.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=f2(),{heartbeatsToSend:t,unsentEntries:r}=wI(this._heartbeatsCache.heartbeats),i=Rm(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return du.warn(e),""}}}function f2(){return new Date().toISOString().substring(0,10)}function wI(n,e=mI){const t=[];let r=n.slice();for(const i of n){const o=t.find(c=>c.agent===i.agent);if(o){if(o.dates.push(i.date),p2(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),p2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class bI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kB()?HB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await gI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return h2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return h2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function p2(n){return Rm(JSON.stringify({version:2,heartbeats:n})).length}function BI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(n){jl(new QA("platform-logger",e=>new R_(e),"PRIVATE")),jl(new QA("heartbeat",e=>new yI(e),"PRIVATE")),So(iy,u2,n),So(iy,u2,"esm2020"),So("fire-js","")}xI("");var CI="firebase",EI="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */So(CI,EI,"app");function WB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SI=WB,YB=new Ch("auth","Firebase",WB());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new c0("@firebase/auth");function _I(n,...e){Dm.logLevel<=tr.WARN&&Dm.warn(`Auth (${Eh}): ${n}`,...e)}function xm(n,...e){Dm.logLevel<=tr.ERROR&&Dm.error(`Auth (${Eh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(n,...e){throw n1(n,...e)}function _l(n,...e){return n1(n,...e)}function t1(n,e,t){const r={...SI(),[e]:t};return new Ch("auth","Firebase",r).create(e,{appName:n.name})}function pc(n){return t1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function II(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&RA(n,"argument-error"),t1(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function n1(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return YB.create(n,...e)}function Bn(n,e,...t){if(!n)throw n1(e,...t)}function iu(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xm(e),new Error(e)}function hu(n,e){n||iu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(){return typeof self<"u"&&self.location?.href||""}function jI(){return g2()==="http:"||g2()==="https:"}function g2(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jI()||MB()||"connection"in navigator)?navigator.onLine:!0}function TI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t){this.shortDelay=e,this.longDelay=t,hu(t>e,"Short delay should be less than long delay!"),this.isMobile=Z4()||n_()}get(){return NI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(n,e){hu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;iu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;iu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;iu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QI=new ug(3e4,6e4);function vu(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ec(n,e,t,r,i={}){return JB(n,i,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const d=cg({key:n.config.apiKey,...c}).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:u,...o};return t_()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&xh(n.emulatorConfig.host)&&(p.credentials="include"),XB.fetch()(await ZB(n,n.config.apiHost,t,d),p)})}async function JB(n,e,t){n._canInitEmulator=!1;const r={...UI,...e};try{const i=new LI(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw om(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[u,p]=d.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw om(n,"credential-already-in-use",c);if(u==="EMAIL_EXISTS")throw om(n,"email-already-in-use",c);if(u==="USER_DISABLED")throw om(n,"user-disabled",c);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw t1(n,h,p);RA(n,h)}}catch(i){if(i instanceof DA)throw i;RA(n,"network-request-failed",{message:String(i)})}}async function dg(n,e,t,r,i={}){const o=await Ec(n,e,t,r,i);return"mfaPendingCredential"in o&&RA(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function ZB(n,e,t,r){const i=`${e}${t}?${r}`,o=n,c=o.config.emulator?r1(n.config,i):`${n.config.apiScheme}://${i}`;return FI.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function RI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(_l(this.auth,"network-request-failed")),QI.get())})}}function om(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=_l(n,e,r);return i.customData._tokenResponse=t,i}function m2(n){return n!==void 0&&n.enterprise!==void 0}class DI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return RI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OI(n,e){return Ec(n,"GET","/v2/recaptchaConfig",vu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(n,e){return Ec(n,"POST","/v1/accounts:delete",e)}async function Om(n,e){return Ec(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MI(n,e=!1){const t=ps(n),r=await t.getIdToken(e),i=s1(r);Bn(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,c=o?.sign_in_provider;return{claims:i,token:r,authTime:Rp(Uv(i.auth_time)),issuedAtTime:Rp(Uv(i.iat)),expirationTime:Rp(Uv(i.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Uv(n){return Number(n)*1e3}function s1(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return xm("JWT malformed, contained fewer than 3 sections"),null;try{const i=QB(t);return i?JSON.parse(i):(xm("Failed to decode base64 JWT payload"),null)}catch(i){return xm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function v2(n){const e=s1(n);return Bn(e,"internal-error"),Bn(typeof e.exp<"u","internal-error"),Bn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof DA&&kI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function kI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rp(this.lastLoginAt),this.creationTime=Rp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pm(n){const e=n.auth,t=await n.getIdToken(),r=await wf(n,Om(e,{idToken:t}));Bn(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const o=i.providerUserInfo?.length?e5(i.providerUserInfo):[],c=KI(n.providerData,o),d=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!c?.length,p=d?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new ly(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(n,h)}async function VI(n){const e=ps(n);await Pm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KI(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function e5(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(n,e){const t=await JB(n,{},async()=>{const r=cg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,c=await ZB(n,i,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:d,body:r};return n.emulatorConfig&&xh(n.emulatorConfig.host)&&(u.credentials="include"),XB.fetch()(c,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function zI(n,e){return Ec(n,"POST","/v2/accounts:revokeToken",vu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Bn(e.idToken,"internal-error"),Bn(typeof e.idToken<"u","internal-error"),Bn(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Bn(e.length!==0,"internal-error");const t=v2(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Bn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await GI(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,c=new ff;return r&&(Bn(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(Bn(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),o&&(Bn(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ff,this.toJSON())}_performRefresh(){return iu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(n,e){Bn(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class El{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new HI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ly(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await wf(this,this.stsTokenManager.getToken(this.auth,e));return Bn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return MI(this,e)}reload(){return VI(this)}_assign(e){this!==e&&(Bn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new El({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Bn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Pm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ro(this.auth.app))return Promise.reject(pc(this.auth));const e=await this.getIdToken();return await wf(this,PI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,u=t._redirectEventId??void 0,p=t.createdAt??void 0,h=t.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:w,providerData:R,stsTokenManager:F}=t;Bn(b&&F,e,"internal-error");const Q=ff.fromJSON(this.name,F);Bn(typeof b=="string",e,"internal-error"),Wu(r,e.name),Wu(i,e.name),Bn(typeof x=="boolean",e,"internal-error"),Bn(typeof w=="boolean",e,"internal-error"),Wu(o,e.name),Wu(c,e.name),Wu(d,e.name),Wu(u,e.name),Wu(p,e.name),Wu(h,e.name);const I=new El({uid:b,auth:e,email:i,emailVerified:x,displayName:r,isAnonymous:w,photoURL:c,phoneNumber:o,tenantId:d,stsTokenManager:Q,createdAt:p,lastLoginAt:h});return R&&Array.isArray(R)&&(I.providerData=R.map(T=>({...T}))),u&&(I._redirectEventId=u),I}static async _fromIdTokenResponse(e,t,r=!1){const i=new ff;i.updateFromServerResponse(t);const o=new El({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Pm(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Bn(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?e5(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!o?.length,d=new ff;d.updateFromIdToken(r);const u=new El({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ly(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,p),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=new Map;function au(n){hu(n instanceof Function,"Expected a class definition");let e=y2.get(n);return e?(hu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,y2.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}t5.type="NONE";const w2=t5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(n,e,t){return`firebase:${n}:${e}:${t}`}class pf{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Cm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Cm("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Om(this.auth,{idToken:e}).catch(()=>{});return t?El._fromGetAccountInfoResponse(this.auth,t,e):null}return El._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new pf(au(w2),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||au(w2);const c=Cm(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const h=await p._get(c);if(h){let b;if(typeof h=="string"){const x=await Om(e,{idToken:h}).catch(()=>{});if(!x)break;b=await El._fromGetAccountInfoResponse(e,x,h)}else b=El._fromJSON(e,h);p!==o&&(d=b),o=p;break}}catch{}const u=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new pf(o,e,r):(o=u[0],d&&await o._set(c,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new pf(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(n5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o5(e))return"Blackberry";if(A5(e))return"Webos";if(r5(e))return"Safari";if((e.includes("chrome/")||s5(e))&&!e.includes("edge/"))return"Chrome";if(a5(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function n5(n=Ra()){return/firefox\//i.test(n)}function r5(n=Ra()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function s5(n=Ra()){return/crios\//i.test(n)}function i5(n=Ra()){return/iemobile/i.test(n)}function a5(n=Ra()){return/android/i.test(n)}function o5(n=Ra()){return/blackberry/i.test(n)}function A5(n=Ra()){return/webos/i.test(n)}function i1(n=Ra()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qI(n=Ra()){return i1(n)&&!!window.navigator?.standalone}function $I(){return r_()&&document.documentMode===10}function l5(n=Ra()){return i1(n)||a5(n)||A5(n)||o5(n)||/windows phone/i.test(n)||i5(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(n,e=[]){let t;switch(n){case"Browser":t=b2(Ra());break;case"Worker":t=`${b2(Ra())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Eh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,d)=>{try{const u=e(o);c(u)}catch(u){d(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(n,e={}){return Ec(n,"GET","/v2/passwordPolicy",vu(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=6;class JI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??XI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B2(this),this.idTokenSubscription=new B2(this),this.beforeStateQueue=new WI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=au(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await pf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Om(this,{idToken:e}),r=await El._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ro(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&d?.user&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Bn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ro(this.app))return Promise.reject(pc(this));const t=e?ps(e):null;return t&&Bn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Bn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ro(this.app)?Promise.reject(pc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ro(this.app)?Promise.reject(pc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(au(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YI(this),t=new JI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ch("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await zI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&au(e)||this._popupRedirectResolver;Bn(t,this,"argument-error"),this.redirectPersistenceManager=await pf.create(this,[au(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bn(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,r,i);return()=>{c=!0,u()}}else{const u=e.addObserver(t);return()=>{c=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Bn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=c5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ro(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_I(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Sc(n){return ps(n)}class B2{constructor(e){this.auth=e,this.observer=null,this.addObserver=c_(t=>this.observer=t)}get next(){return Bn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ej(n){d0=n}function u5(n){return d0.loadJS(n)}function tj(){return d0.recaptchaEnterpriseScript}function nj(){return d0.gapiScript}function rj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class sj{constructor(){this.enterprise=new ij}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ij{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const aj="recaptcha-enterprise",d5="NO_RECAPTCHA";class oj{constructor(e){this.type=aj,this.auth=Sc(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{OI(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new DI(u);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(u=>{d(u)})})}function i(o,c,d){const u=window.grecaptcha;m2(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(p=>{c(p)}).catch(()=>{c(d5)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sj().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(d=>{if(!t&&m2(window.grecaptcha))i(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let u=tj();u.length!==0&&(u+=d),u5(u).then(()=>{i(d,o,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function x2(n,e,t,r=!1,i=!1){const o=new oj(n);let c;if(i)c=d5;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const u=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const u=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Mm(n,e,t,r,i){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await x2(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await x2(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(n,e){const t=bd(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(dd(o,e??{}))return i;RA(i,"already-initialized")}return t.initialize({options:e})}function lj(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(au);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function cj(n,e,t){const r=Sc(n);Bn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=h5(e),{host:c,port:d}=uj(e),u=d===null?"":`:${d}`,p={url:`${o}//${c}${u}/`},h=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Bn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Bn(dd(p,r.config.emulator)&&dd(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,xh(c)?(Jy(`${o}//${c}${u}`),Zy("Auth",!0)):dj()}function h5(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function uj(n){const e=h5(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:C2(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:C2(c)}}}function C2(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function dj(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return iu("not implemented")}_getIdTokenResponse(e){return iu("not implemented")}_linkToIdToken(e,t){return iu("not implemented")}_getReauthenticationResolver(e){return iu("not implemented")}}async function hj(n,e){return Ec(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(n,e){return dg(n,"POST","/v1/accounts:signInWithPassword",vu(n,e))}async function pj(n,e){return Ec(n,"POST","/v1/accounts:sendOobCode",vu(n,e))}async function gj(n,e){return pj(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(n,e){return dg(n,"POST","/v1/accounts:signInWithEmailLink",vu(n,e))}async function vj(n,e){return dg(n,"POST","/v1/accounts:signInWithEmailLink",vu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends a1{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Wp(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Wp(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,t,"signInWithPassword",fj);case"emailLink":return mj(e,{email:this._email,oobCode:this._password});default:RA(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,r,"signUpPassword",hj);case"emailLink":return vj(e,{idToken:t,email:this._email,oobCode:this._password});default:RA(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(n,e){return dg(n,"POST","/v1/accounts:signInWithIdp",vu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="http://localhost";class mh extends a1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new mh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):RA("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=t;if(!r||!i)return null;const c=new mh(r,i);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return gf(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,gf(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,gf(e,t)}buildRequest(){const e={requestUri:yj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cg(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bj(n){const e=Ip(jp(n)).link,t=e?Ip(jp(e)).deep_link_id:null,r=Ip(jp(n)).deep_link_id;return(r?Ip(jp(r)).link:null)||r||t||e||n}class o1{constructor(e){const t=Ip(jp(e)),r=t.apiKey??null,i=t.oobCode??null,o=wj(t.mode??null);Bn(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=bj(e);try{return new o1(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this.providerId=Tf.PROVIDER_ID}static credential(e,t){return Wp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=o1.parseLink(t);return Bn(r,"argument-error"),Wp._fromEmailAndCode(e,r.code,r.tenantId)}}Tf.PROVIDER_ID="password";Tf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends A1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends hg{constructor(){super("facebook.com")}static credential(e){return mh._fromParams({providerId:Zu.PROVIDER_ID,signInMethod:Zu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zu.credentialFromTaggedObject(e)}static credentialFromError(e){return Zu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zu.credential(e.oauthAccessToken)}catch{return null}}}Zu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends hg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return mh._fromParams({providerId:su.PROVIDER_ID,signInMethod:su.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return su.credentialFromTaggedObject(e)}static credentialFromError(e){return su.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return su.credential(t,r)}catch{return null}}}su.GOOGLE_SIGN_IN_METHOD="google.com";su.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends hg{constructor(){super("github.com")}static credential(e){return mh._fromParams({providerId:ed.PROVIDER_ID,signInMethod:ed.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ed.credentialFromTaggedObject(e)}static credentialFromError(e){return ed.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ed.credential(e.oauthAccessToken)}catch{return null}}}ed.GITHUB_SIGN_IN_METHOD="github.com";ed.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends hg{constructor(){super("twitter.com")}static credential(e,t){return mh._fromParams({providerId:td.PROVIDER_ID,signInMethod:td.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return td.credentialFromTaggedObject(e)}static credentialFromError(e){return td.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return td.credential(t,r)}catch{return null}}}td.TWITTER_SIGN_IN_METHOD="twitter.com";td.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(n,e){return dg(n,"POST","/v1/accounts:signUp",vu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await El._fromIdTokenResponse(e,r,i),c=E2(r);return new fu({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=E2(r);return new fu({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function E2(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bj(n){if(ro(n.app))return Promise.reject(pc(n));const e=Sc(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new fu({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await f5(e,{returnSecureToken:!0}),r=await fu._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km extends DA{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,km.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new km(e,t,r,i)}}function p5(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?km._fromErrorAndOperation(n,o,e,r):o})}async function xj(n,e,t=!1){const r=await wf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return fu._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cj(n,e,t=!1){const{auth:r}=n;if(ro(r.app))return Promise.reject(pc(r));const i="reauthenticate";try{const o=await wf(n,p5(r,i,e,n),t);Bn(o.idToken,r,"internal-error");const c=s1(o.idToken);Bn(c,r,"internal-error");const{sub:d}=c;return Bn(n.uid===d,r,"user-mismatch"),fu._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&RA(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5(n,e,t=!1){if(ro(n.app))return Promise.reject(pc(n));const r="signIn",i=await p5(n,r,e),o=await fu._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function Ej(n,e){return g5(Sc(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(n){const e=Sc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Sj(n,e,t){const r=Sc(n);await Mm(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",gj)}async function _j(n,e,t){if(ro(n.app))return Promise.reject(pc(n));const r=Sc(n),c=await Mm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",f5).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&m5(n),u}),d=await fu._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function Ij(n,e,t){return ro(n.app)?Promise.reject(pc(n)):Ej(ps(n),Tf.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&m5(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj(n,e){return Ec(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=ps(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await wf(r,jj(r.auth,o));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const d=r.providerData.find(({providerId:u})=>u==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function Tj(n,e,t,r){return ps(n).onIdTokenChanged(e,t,r)}function Uj(n,e,t){return ps(n).beforeAuthStateChanged(e,t)}function v5(n,e,t,r){return ps(n).onAuthStateChanged(e,t,r)}function Fj(n){return ps(n).signOut()}async function Qj(n){return ps(n).delete()}const Hm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hm,"1"),this.storage.removeItem(Hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=1e3,Lj=10;class w5 extends y5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,u)=>{this.notifyListeners(c,u)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);$I()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Lj):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Rj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}w5.type="LOCAL";const Dj=w5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5 extends y5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}b5.type="SESSION";const B5=b5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new h0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,c=this.handlersMap[i];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(c).map(async p=>p(t.origin,o)),u=await Oj(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}h0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,c;return new Promise((d,u)=>{const p=l1("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(b){const x=b;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(x.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(){return window}function Mj(n){gc().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(){return typeof gc().WorkerGlobalScope<"u"&&typeof gc().importScripts=="function"}async function kj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hj(){return navigator?.serviceWorker?.controller||null}function Vj(){return x5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5="firebaseLocalStorageDb",Kj=1,Vm="firebaseLocalStorage",E5="fbase_key";class fg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function f0(n,e){return n.transaction([Vm],e?"readwrite":"readonly").objectStore(Vm)}function Gj(){const n=indexedDB.deleteDatabase(C5);return new fg(n).toPromise()}function cy(){const n=indexedDB.open(C5,Kj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Vm,{keyPath:E5})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Vm)?e(r):(r.close(),await Gj(),e(await cy()))})})}async function S2(n,e,t){const r=f0(n,!0).put({[E5]:e,value:t});return new fg(r).toPromise()}async function zj(n,e){const t=f0(n,!1).get(e),r=await new fg(t).toPromise();return r===void 0?null:r.value}function _2(n,e){const t=f0(n,!0).delete(e);return new fg(t).toPromise()}const qj=800,$j=3;class S5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>$j)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=h0._getInstance(Vj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kj(),!this.activeServiceWorker)return;this.sender=new Pj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Hj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cy();return await S2(e,Hm,"1"),await _2(e,Hm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>S2(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>zj(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_2(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=f0(i,!1).getAll();return new fg(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S5.type="LOCAL";const Wj=S5;new ug(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(n,e){return e?au(e):(Bn(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1 extends a1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return gf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return gf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Yj(n){return g5(n.auth,new c1(n),n.bypassAuthState)}function Xj(n){const{auth:e,user:t}=n;return Bn(t,e,"internal-error"),Cj(t,new c1(n),n.bypassAuthState)}async function Jj(n){const{auth:e,user:t}=n;return Bn(t,e,"internal-error"),xj(t,new c1(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(u))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yj;case"linkViaPopup":case"linkViaRedirect":return Jj;case"reauthViaPopup":case"reauthViaRedirect":return Xj;default:RA(this.auth,"internal-error")}}resolve(e){hu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=new ug(2e3,1e4);async function eN(n,e,t){if(ro(n.app))return Promise.reject(_l(n,"operation-not-supported-in-this-environment"));const r=Sc(n);II(n,e,A1);const i=_5(r,t);return new oh(r,"signInViaPopup",e,i).executeNotNull()}class oh extends I5{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,oh.currentPopupAction&&oh.currentPopupAction.cancel(),oh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Bn(e,this.auth,"internal-error"),e}async onExecution(){hu(this.filter.length===1,"Popup operations only handle one event");const e=l1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_l(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_l(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oh.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_l(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Zj.get())};e()}}oh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="pendingRedirect",Em=new Map;class nN extends I5{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Em.get(this.auth._key());if(!e){try{const r=await rN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Em.set(this.auth._key(),e)}return this.bypassAuthState||Em.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rN(n,e){const t=aN(e),r=iN(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function sN(n,e){Em.set(n._key(),e)}function iN(n){return au(n._redirectPersistence)}function aN(n){return Cm(tN,n.config.apiKey,n.name)}async function oN(n,e,t=!1){if(ro(n.app))return Promise.reject(pc(n));const r=Sc(n),i=_5(r,e),c=await new nN(r,i,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=600*1e3;class lN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!j5(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(_l(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AN&&this.cachedEventUids.clear(),this.cachedEventUids.has(I2(e))}saveEventToCache(e){this.cachedEventUids.add(I2(e)),this.lastProcessedEventTime=Date.now()}}function I2(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function j5({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function cN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j5(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(n,e={}){return Ec(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hN=/^https?/;async function fN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await uN(n);for(const t of e)try{if(pN(t))return}catch{}RA(n,"unauthorized-domain")}function pN(n){const e=Ay(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!hN.test(t))return!1;if(dN.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new ug(3e4,6e4);function j2(){const n=gc().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function mN(n){return new Promise((e,t)=>{function r(){j2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j2(),t(_l(n,"network-request-failed"))},timeout:gN.get()})}if(gc().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gc().gapi?.load)r();else{const i=rj("iframefcb");return gc()[i]=()=>{gapi.load?r():t(_l(n,"network-request-failed"))},u5(`${nj()}?onload=${i}`).catch(o=>t(o))}}).catch(e=>{throw Sm=null,e})}let Sm=null;function vN(n){return Sm=Sm||mN(n),Sm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new ug(5e3,15e3),wN="__/auth/iframe",bN="emulator/auth/iframe",BN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CN(n){const e=n.config;Bn(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?r1(e,bN):`https://${n.config.authDomain}/${wN}`,r={apiKey:e.apiKey,appName:n.name,v:Eh},i=xN.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${cg(r).slice(1)}`}async function EN(n){const e=await vN(n),t=gc().gapi;return Bn(t,n,"internal-error"),e.open({where:document.body,url:CN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BN,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const c=_l(n,"network-request-failed"),d=gc().setTimeout(()=>{o(c)},yN.get());function u(){gc().clearTimeout(d),i(r)}r.ping(u).then(u,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_N=500,IN=600,jN="_blank",NN="http://localhost";class N2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TN(n,e,t,r=_N,i=IN){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const u={...SN,width:r.toString(),height:i.toString(),top:o,left:c},p=Ra().toLowerCase();t&&(d=s5(p)?jN:t),n5(p)&&(e=e||NN,u.scrollbars="yes");const h=Object.entries(u).reduce((x,[w,R])=>`${x}${w}=${R},`,"");if(qI(p)&&d!=="_self")return UN(e||"",d),new N2(null);const b=window.open(e||"",d,h);Bn(b,n,"popup-blocked");try{b.focus()}catch{}return new N2(b)}function UN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="__/auth/handler",QN="emulator/auth/handler",RN=encodeURIComponent("fac");async function T2(n,e,t,r,i,o){Bn(n.config.authDomain,n,"auth-domain-config-required"),Bn(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Eh,eventId:i};if(e instanceof A1){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",l_(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,b]of Object.entries({}))c[h]=b}if(e instanceof hg){const h=e.getScopes().filter(b=>b!=="");h.length>0&&(c.scopes=h.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const h of Object.keys(d))d[h]===void 0&&delete d[h];const u=await n._getAppCheckToken(),p=u?`#${RN}=${encodeURIComponent(u)}`:"";return`${LN(n)}?${cg(d).slice(1)}${p}`}function LN({config:n}){return n.emulator?r1(n,QN):`https://${n.authDomain}/${FN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="webStorageSupport";class DN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B5,this._completeRedirectFn=oN,this._overrideRedirectResult=sN}async _openPopup(e,t,r,i){hu(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await T2(e,t,r,Ay(),i);return TN(e,o,l1())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await T2(e,t,r,Ay(),i);return Mj(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(hu(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await EN(e),r=new lN(e);return t.register("authEvent",i=>(Bn(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fv,{type:Fv},i=>{const o=i?.[0]?.[Fv];o!==void 0&&t(!!o),RA(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return l5()||r5()||i1()}}const ON=DN;var U2="@firebase/auth",F2="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Bn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kN(n){jl(new QA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Bn(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:c5(n)},p=new ZI(r,i,o,u);return lj(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),jl(new QA("auth-internal",e=>{const t=Sc(e.getProvider("auth").getImmediate());return(r=>new PN(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),So(U2,F2,MN(n)),So(U2,F2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=300,VN=OB("authIdTokenMaxAge")||HN;let Q2=null;const KN=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>VN)return;const i=t?.token;Q2!==i&&(Q2=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function GN(n=u0()){const e=bd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Aj(n,{popupRedirectResolver:ON,persistence:[Wj,Dj,B5]}),r=OB("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=KN(o.toString());Uj(t,c,()=>c(t.currentUser)),Tj(t,d=>c(d))}}const i=RB("auth");return i&&cj(t,`http://${i}`),t}function zN(){return document.getElementsByTagName("head")?.[0]??document}ej({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=_l("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",zN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kN("Browser");var R2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ld,N5;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,L){function G(){}G.prototype=L.prototype,U.D=L.prototype,U.prototype=new G,U.prototype.constructor=U,U.C=function(X,P,H){for(var V=Array(arguments.length-2),te=2;te<arguments.length;te++)V[te-2]=arguments[te];return L.prototype[P].apply(X,V)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(U,L,G){G||(G=0);var X=Array(16);if(typeof L=="string")for(var P=0;16>P;++P)X[P]=L.charCodeAt(G++)|L.charCodeAt(G++)<<8|L.charCodeAt(G++)<<16|L.charCodeAt(G++)<<24;else for(P=0;16>P;++P)X[P]=L[G++]|L[G++]<<8|L[G++]<<16|L[G++]<<24;L=U.g[0],G=U.g[1],P=U.g[2];var H=U.g[3],V=L+(H^G&(P^H))+X[0]+3614090360&4294967295;L=G+(V<<7&4294967295|V>>>25),V=H+(P^L&(G^P))+X[1]+3905402710&4294967295,H=L+(V<<12&4294967295|V>>>20),V=P+(G^H&(L^G))+X[2]+606105819&4294967295,P=H+(V<<17&4294967295|V>>>15),V=G+(L^P&(H^L))+X[3]+3250441966&4294967295,G=P+(V<<22&4294967295|V>>>10),V=L+(H^G&(P^H))+X[4]+4118548399&4294967295,L=G+(V<<7&4294967295|V>>>25),V=H+(P^L&(G^P))+X[5]+1200080426&4294967295,H=L+(V<<12&4294967295|V>>>20),V=P+(G^H&(L^G))+X[6]+2821735955&4294967295,P=H+(V<<17&4294967295|V>>>15),V=G+(L^P&(H^L))+X[7]+4249261313&4294967295,G=P+(V<<22&4294967295|V>>>10),V=L+(H^G&(P^H))+X[8]+1770035416&4294967295,L=G+(V<<7&4294967295|V>>>25),V=H+(P^L&(G^P))+X[9]+2336552879&4294967295,H=L+(V<<12&4294967295|V>>>20),V=P+(G^H&(L^G))+X[10]+4294925233&4294967295,P=H+(V<<17&4294967295|V>>>15),V=G+(L^P&(H^L))+X[11]+2304563134&4294967295,G=P+(V<<22&4294967295|V>>>10),V=L+(H^G&(P^H))+X[12]+1804603682&4294967295,L=G+(V<<7&4294967295|V>>>25),V=H+(P^L&(G^P))+X[13]+4254626195&4294967295,H=L+(V<<12&4294967295|V>>>20),V=P+(G^H&(L^G))+X[14]+2792965006&4294967295,P=H+(V<<17&4294967295|V>>>15),V=G+(L^P&(H^L))+X[15]+1236535329&4294967295,G=P+(V<<22&4294967295|V>>>10),V=L+(P^H&(G^P))+X[1]+4129170786&4294967295,L=G+(V<<5&4294967295|V>>>27),V=H+(G^P&(L^G))+X[6]+3225465664&4294967295,H=L+(V<<9&4294967295|V>>>23),V=P+(L^G&(H^L))+X[11]+643717713&4294967295,P=H+(V<<14&4294967295|V>>>18),V=G+(H^L&(P^H))+X[0]+3921069994&4294967295,G=P+(V<<20&4294967295|V>>>12),V=L+(P^H&(G^P))+X[5]+3593408605&4294967295,L=G+(V<<5&4294967295|V>>>27),V=H+(G^P&(L^G))+X[10]+38016083&4294967295,H=L+(V<<9&4294967295|V>>>23),V=P+(L^G&(H^L))+X[15]+3634488961&4294967295,P=H+(V<<14&4294967295|V>>>18),V=G+(H^L&(P^H))+X[4]+3889429448&4294967295,G=P+(V<<20&4294967295|V>>>12),V=L+(P^H&(G^P))+X[9]+568446438&4294967295,L=G+(V<<5&4294967295|V>>>27),V=H+(G^P&(L^G))+X[14]+3275163606&4294967295,H=L+(V<<9&4294967295|V>>>23),V=P+(L^G&(H^L))+X[3]+4107603335&4294967295,P=H+(V<<14&4294967295|V>>>18),V=G+(H^L&(P^H))+X[8]+1163531501&4294967295,G=P+(V<<20&4294967295|V>>>12),V=L+(P^H&(G^P))+X[13]+2850285829&4294967295,L=G+(V<<5&4294967295|V>>>27),V=H+(G^P&(L^G))+X[2]+4243563512&4294967295,H=L+(V<<9&4294967295|V>>>23),V=P+(L^G&(H^L))+X[7]+1735328473&4294967295,P=H+(V<<14&4294967295|V>>>18),V=G+(H^L&(P^H))+X[12]+2368359562&4294967295,G=P+(V<<20&4294967295|V>>>12),V=L+(G^P^H)+X[5]+4294588738&4294967295,L=G+(V<<4&4294967295|V>>>28),V=H+(L^G^P)+X[8]+2272392833&4294967295,H=L+(V<<11&4294967295|V>>>21),V=P+(H^L^G)+X[11]+1839030562&4294967295,P=H+(V<<16&4294967295|V>>>16),V=G+(P^H^L)+X[14]+4259657740&4294967295,G=P+(V<<23&4294967295|V>>>9),V=L+(G^P^H)+X[1]+2763975236&4294967295,L=G+(V<<4&4294967295|V>>>28),V=H+(L^G^P)+X[4]+1272893353&4294967295,H=L+(V<<11&4294967295|V>>>21),V=P+(H^L^G)+X[7]+4139469664&4294967295,P=H+(V<<16&4294967295|V>>>16),V=G+(P^H^L)+X[10]+3200236656&4294967295,G=P+(V<<23&4294967295|V>>>9),V=L+(G^P^H)+X[13]+681279174&4294967295,L=G+(V<<4&4294967295|V>>>28),V=H+(L^G^P)+X[0]+3936430074&4294967295,H=L+(V<<11&4294967295|V>>>21),V=P+(H^L^G)+X[3]+3572445317&4294967295,P=H+(V<<16&4294967295|V>>>16),V=G+(P^H^L)+X[6]+76029189&4294967295,G=P+(V<<23&4294967295|V>>>9),V=L+(G^P^H)+X[9]+3654602809&4294967295,L=G+(V<<4&4294967295|V>>>28),V=H+(L^G^P)+X[12]+3873151461&4294967295,H=L+(V<<11&4294967295|V>>>21),V=P+(H^L^G)+X[15]+530742520&4294967295,P=H+(V<<16&4294967295|V>>>16),V=G+(P^H^L)+X[2]+3299628645&4294967295,G=P+(V<<23&4294967295|V>>>9),V=L+(P^(G|~H))+X[0]+4096336452&4294967295,L=G+(V<<6&4294967295|V>>>26),V=H+(G^(L|~P))+X[7]+1126891415&4294967295,H=L+(V<<10&4294967295|V>>>22),V=P+(L^(H|~G))+X[14]+2878612391&4294967295,P=H+(V<<15&4294967295|V>>>17),V=G+(H^(P|~L))+X[5]+4237533241&4294967295,G=P+(V<<21&4294967295|V>>>11),V=L+(P^(G|~H))+X[12]+1700485571&4294967295,L=G+(V<<6&4294967295|V>>>26),V=H+(G^(L|~P))+X[3]+2399980690&4294967295,H=L+(V<<10&4294967295|V>>>22),V=P+(L^(H|~G))+X[10]+4293915773&4294967295,P=H+(V<<15&4294967295|V>>>17),V=G+(H^(P|~L))+X[1]+2240044497&4294967295,G=P+(V<<21&4294967295|V>>>11),V=L+(P^(G|~H))+X[8]+1873313359&4294967295,L=G+(V<<6&4294967295|V>>>26),V=H+(G^(L|~P))+X[15]+4264355552&4294967295,H=L+(V<<10&4294967295|V>>>22),V=P+(L^(H|~G))+X[6]+2734768916&4294967295,P=H+(V<<15&4294967295|V>>>17),V=G+(H^(P|~L))+X[13]+1309151649&4294967295,G=P+(V<<21&4294967295|V>>>11),V=L+(P^(G|~H))+X[4]+4149444226&4294967295,L=G+(V<<6&4294967295|V>>>26),V=H+(G^(L|~P))+X[11]+3174756917&4294967295,H=L+(V<<10&4294967295|V>>>22),V=P+(L^(H|~G))+X[2]+718787259&4294967295,P=H+(V<<15&4294967295|V>>>17),V=G+(H^(P|~L))+X[9]+3951481745&4294967295,U.g[0]=U.g[0]+L&4294967295,U.g[1]=U.g[1]+(P+(V<<21&4294967295|V>>>11))&4294967295,U.g[2]=U.g[2]+P&4294967295,U.g[3]=U.g[3]+H&4294967295}r.prototype.u=function(U,L){L===void 0&&(L=U.length);for(var G=L-this.blockSize,X=this.B,P=this.h,H=0;H<L;){if(P==0)for(;H<=G;)i(this,U,H),H+=this.blockSize;if(typeof U=="string"){for(;H<L;)if(X[P++]=U.charCodeAt(H++),P==this.blockSize){i(this,X),P=0;break}}else for(;H<L;)if(X[P++]=U[H++],P==this.blockSize){i(this,X),P=0;break}}this.h=P,this.o+=L},r.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var L=1;L<U.length-8;++L)U[L]=0;var G=8*this.o;for(L=U.length-8;L<U.length;++L)U[L]=G&255,G/=256;for(this.u(U),U=Array(16),L=G=0;4>L;++L)for(var X=0;32>X;X+=8)U[G++]=this.g[L]>>>X&255;return U};function o(U,L){var G=d;return Object.prototype.hasOwnProperty.call(G,U)?G[U]:G[U]=L(U)}function c(U,L){this.h=L;for(var G=[],X=!0,P=U.length-1;0<=P;P--){var H=U[P]|0;X&&H==L||(G[P]=H,X=!1)}this.g=G}var d={};function u(U){return-128<=U&&128>U?o(U,function(L){return new c([L|0],0>L?-1:0)}):new c([U|0],0>U?-1:0)}function p(U){if(isNaN(U)||!isFinite(U))return b;if(0>U)return Q(p(-U));for(var L=[],G=1,X=0;U>=G;X++)L[X]=U/G|0,G*=4294967296;return new c(L,0)}function h(U,L){if(U.length==0)throw Error("number format error: empty string");if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(U.charAt(0)=="-")return Q(h(U.substring(1),L));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var G=p(Math.pow(L,8)),X=b,P=0;P<U.length;P+=8){var H=Math.min(8,U.length-P),V=parseInt(U.substring(P,P+H),L);8>H?(H=p(Math.pow(L,H)),X=X.j(H).add(p(V))):(X=X.j(G),X=X.add(p(V)))}return X}var b=u(0),x=u(1),w=u(16777216);n=c.prototype,n.m=function(){if(F(this))return-Q(this).m();for(var U=0,L=1,G=0;G<this.g.length;G++){var X=this.i(G);U+=(0<=X?X:4294967296+X)*L,L*=4294967296}return U},n.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(R(this))return"0";if(F(this))return"-"+Q(this).toString(U);for(var L=p(Math.pow(U,6)),G=this,X="";;){var P=O(G,L).g;G=I(G,P.j(L));var H=((0<G.g.length?G.g[0]:G.h)>>>0).toString(U);if(G=P,R(G))return H+X;for(;6>H.length;)H="0"+H;X=H+X}},n.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function R(U){if(U.h!=0)return!1;for(var L=0;L<U.g.length;L++)if(U.g[L]!=0)return!1;return!0}function F(U){return U.h==-1}n.l=function(U){return U=I(this,U),F(U)?-1:R(U)?0:1};function Q(U){for(var L=U.g.length,G=[],X=0;X<L;X++)G[X]=~U.g[X];return new c(G,~U.h).add(x)}n.abs=function(){return F(this)?Q(this):this},n.add=function(U){for(var L=Math.max(this.g.length,U.g.length),G=[],X=0,P=0;P<=L;P++){var H=X+(this.i(P)&65535)+(U.i(P)&65535),V=(H>>>16)+(this.i(P)>>>16)+(U.i(P)>>>16);X=V>>>16,H&=65535,V&=65535,G[P]=V<<16|H}return new c(G,G[G.length-1]&-2147483648?-1:0)};function I(U,L){return U.add(Q(L))}n.j=function(U){if(R(this)||R(U))return b;if(F(this))return F(U)?Q(this).j(Q(U)):Q(Q(this).j(U));if(F(U))return Q(this.j(Q(U)));if(0>this.l(w)&&0>U.l(w))return p(this.m()*U.m());for(var L=this.g.length+U.g.length,G=[],X=0;X<2*L;X++)G[X]=0;for(X=0;X<this.g.length;X++)for(var P=0;P<U.g.length;P++){var H=this.i(X)>>>16,V=this.i(X)&65535,te=U.i(P)>>>16,ge=U.i(P)&65535;G[2*X+2*P]+=V*ge,T(G,2*X+2*P),G[2*X+2*P+1]+=H*ge,T(G,2*X+2*P+1),G[2*X+2*P+1]+=V*te,T(G,2*X+2*P+1),G[2*X+2*P+2]+=H*te,T(G,2*X+2*P+2)}for(X=0;X<L;X++)G[X]=G[2*X+1]<<16|G[2*X];for(X=L;X<2*L;X++)G[X]=0;return new c(G,0)};function T(U,L){for(;(U[L]&65535)!=U[L];)U[L+1]+=U[L]>>>16,U[L]&=65535,L++}function _(U,L){this.g=U,this.h=L}function O(U,L){if(R(L))throw Error("division by zero");if(R(U))return new _(b,b);if(F(U))return L=O(Q(U),L),new _(Q(L.g),Q(L.h));if(F(L))return L=O(U,Q(L)),new _(Q(L.g),L.h);if(30<U.g.length){if(F(U)||F(L))throw Error("slowDivide_ only works with positive integers.");for(var G=x,X=L;0>=X.l(U);)G=z(G),X=z(X);var P=$(G,1),H=$(X,1);for(X=$(X,2),G=$(G,2);!R(X);){var V=H.add(X);0>=V.l(U)&&(P=P.add(G),H=V),X=$(X,1),G=$(G,1)}return L=I(U,P.j(L)),new _(P,L)}for(P=b;0<=U.l(L);){for(G=Math.max(1,Math.floor(U.m()/L.m())),X=Math.ceil(Math.log(G)/Math.LN2),X=48>=X?1:Math.pow(2,X-48),H=p(G),V=H.j(L);F(V)||0<V.l(U);)G-=X,H=p(G),V=H.j(L);R(H)&&(H=x),P=P.add(H),U=I(U,V)}return new _(P,U)}n.A=function(U){return O(this,U).h},n.and=function(U){for(var L=Math.max(this.g.length,U.g.length),G=[],X=0;X<L;X++)G[X]=this.i(X)&U.i(X);return new c(G,this.h&U.h)},n.or=function(U){for(var L=Math.max(this.g.length,U.g.length),G=[],X=0;X<L;X++)G[X]=this.i(X)|U.i(X);return new c(G,this.h|U.h)},n.xor=function(U){for(var L=Math.max(this.g.length,U.g.length),G=[],X=0;X<L;X++)G[X]=this.i(X)^U.i(X);return new c(G,this.h^U.h)};function z(U){for(var L=U.g.length+1,G=[],X=0;X<L;X++)G[X]=U.i(X)<<1|U.i(X-1)>>>31;return new c(G,U.h)}function $(U,L){var G=L>>5;L%=32;for(var X=U.g.length-G,P=[],H=0;H<X;H++)P[H]=0<L?U.i(H+G)>>>L|U.i(H+G+1)<<32-L:U.i(H+G);return new c(P,U.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,N5=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=h,ld=c}).apply(typeof R2<"u"?R2:typeof self<"u"?self:typeof window<"u"?window:{});var Am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var T5,Np,U5,_m,uy,F5,Q5,R5;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,k,W){return v==Array.prototype||v==Object.prototype||(v[k]=W.value),v};function t(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Am=="object"&&Am];for(var k=0;k<v.length;++k){var W=v[k];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}var r=t(this);function i(v,k){if(k)e:{var W=r;v=v.split(".");for(var Ae=0;Ae<v.length-1;Ae++){var Re=v[Ae];if(!(Re in W))break e;W=W[Re]}v=v[v.length-1],Ae=W[v],k=k(Ae),k!=Ae&&k!=null&&e(W,v,{configurable:!0,writable:!0,value:k})}}function o(v,k){v instanceof String&&(v+="");var W=0,Ae=!1,Re={next:function(){if(!Ae&&W<v.length){var Ke=W++;return{value:k(Ke,v[Ke]),done:!1}}return Ae=!0,{done:!0,value:void 0}}};return Re[Symbol.iterator]=function(){return Re},Re}i("Array.prototype.values",function(v){return v||function(){return o(this,function(k,W){return W})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function u(v){var k=typeof v;return k=k!="object"?k:v?Array.isArray(v)?"array":k:"null",k=="array"||k=="object"&&typeof v.length=="number"}function p(v){var k=typeof v;return k=="object"&&v!=null||k=="function"}function h(v,k,W){return v.call.apply(v.bind,arguments)}function b(v,k,W){if(!v)throw Error();if(2<arguments.length){var Ae=Array.prototype.slice.call(arguments,2);return function(){var Re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Re,Ae),v.apply(k,Re)}}return function(){return v.apply(k,arguments)}}function x(v,k,W){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:b,x.apply(null,arguments)}function w(v,k){var W=Array.prototype.slice.call(arguments,1);return function(){var Ae=W.slice();return Ae.push.apply(Ae,arguments),v.apply(this,Ae)}}function R(v,k){function W(){}W.prototype=k.prototype,v.aa=k.prototype,v.prototype=new W,v.prototype.constructor=v,v.Qb=function(Ae,Re,Ke){for(var ot=Array(arguments.length-2),cn=2;cn<arguments.length;cn++)ot[cn-2]=arguments[cn];return k.prototype[Re].apply(Ae,ot)}}function F(v){const k=v.length;if(0<k){const W=Array(k);for(let Ae=0;Ae<k;Ae++)W[Ae]=v[Ae];return W}return[]}function Q(v,k){for(let W=1;W<arguments.length;W++){const Ae=arguments[W];if(u(Ae)){const Re=v.length||0,Ke=Ae.length||0;v.length=Re+Ke;for(let ot=0;ot<Ke;ot++)v[Re+ot]=Ae[ot]}else v.push(Ae)}}class I{constructor(k,W){this.i=k,this.j=W,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function T(v){return/^[\s\xa0]*$/.test(v)}function _(){var v=d.navigator;return v&&(v=v.userAgent)?v:""}function O(v){return O[" "](v),v}O[" "]=function(){};var z=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function $(v,k,W){for(const Ae in v)k.call(W,v[Ae],Ae,v)}function U(v,k){for(const W in v)k.call(void 0,v[W],W,v)}function L(v){const k={};for(const W in v)k[W]=v[W];return k}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(v,k){let W,Ae;for(let Re=1;Re<arguments.length;Re++){Ae=arguments[Re];for(W in Ae)v[W]=Ae[W];for(let Ke=0;Ke<G.length;Ke++)W=G[Ke],Object.prototype.hasOwnProperty.call(Ae,W)&&(v[W]=Ae[W])}}function P(v){var k=1;v=v.split(":");const W=[];for(;0<k&&v.length;)W.push(v.shift()),k--;return v.length&&W.push(v.join(":")),W}function H(v){d.setTimeout(()=>{throw v},0)}function V(){var v=je;let k=null;return v.g&&(k=v.g,v.g=v.g.next,v.g||(v.h=null),k.next=null),k}class te{constructor(){this.h=this.g=null}add(k,W){const Ae=ge.get();Ae.set(k,W),this.h?this.h.next=Ae:this.g=Ae,this.h=Ae}}var ge=new I(()=>new oe,v=>v.reset());class oe{constructor(){this.next=this.g=this.h=null}set(k,W){this.h=k,this.g=W,this.next=null}reset(){this.next=this.g=this.h=null}}let we,be=!1,je=new te,re=()=>{const v=d.Promise.resolve(void 0);we=()=>{v.then(de)}};var de=()=>{for(var v;v=V();){try{v.h.call(v.g)}catch(W){H(W)}var k=ge;k.j(v),100>k.h&&(k.h++,v.next=k.g,k.g=v)}be=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(v,k){this.type=v,this.g=this.target=k,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ce=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var v=!1,k=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const W=()=>{};d.addEventListener("test",W,k),d.removeEventListener("test",W,k)}catch{}return v})();function Be(v,k){if(ne.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var W=this.type=v.type,Ae=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=k,k=v.relatedTarget){if(z){e:{try{O(k.nodeName);var Re=!0;break e}catch{}Re=!1}Re||(k=null)}}else W=="mouseover"?k=v.fromElement:W=="mouseout"&&(k=v.toElement);this.relatedTarget=k,Ae?(this.clientX=Ae.clientX!==void 0?Ae.clientX:Ae.pageX,this.clientY=Ae.clientY!==void 0?Ae.clientY:Ae.pageY,this.screenX=Ae.screenX||0,this.screenY=Ae.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:he[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Be.aa.h.call(this)}}R(Be,ne);var he={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Ie(v,k,W,Ae,Re){this.listener=v,this.proxy=null,this.src=k,this.type=W,this.capture=!!Ae,this.ha=Re,this.key=++Se,this.da=this.fa=!1}function We(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Xe(v){this.src=v,this.g={},this.h=0}Xe.prototype.add=function(v,k,W,Ae,Re){var Ke=v.toString();v=this.g[Ke],v||(v=this.g[Ke]=[],this.h++);var ot=dt(v,k,Ae,Re);return-1<ot?(k=v[ot],W||(k.fa=!1)):(k=new Ie(k,this.src,Ke,!!Ae,Re),k.fa=W,v.push(k)),k};function st(v,k){var W=k.type;if(W in v.g){var Ae=v.g[W],Re=Array.prototype.indexOf.call(Ae,k,void 0),Ke;(Ke=0<=Re)&&Array.prototype.splice.call(Ae,Re,1),Ke&&(We(k),v.g[W].length==0&&(delete v.g[W],v.h--))}}function dt(v,k,W,Ae){for(var Re=0;Re<v.length;++Re){var Ke=v[Re];if(!Ke.da&&Ke.listener==k&&Ke.capture==!!W&&Ke.ha==Ae)return Re}return-1}var Mt="closure_lm_"+(1e6*Math.random()|0),Ze={};function Ee(v,k,W,Ae,Re){if(Array.isArray(k)){for(var Ke=0;Ke<k.length;Ke++)Ee(v,k[Ke],W,Ae,Re);return null}return W=Nt(W),v&&v[xe]?v.K(k,W,p(Ae)?!!Ae.capture:!1,Re):Ht(v,k,W,!1,Ae,Re)}function Ht(v,k,W,Ae,Re,Ke){if(!k)throw Error("Invalid event type");var ot=p(Re)?!!Re.capture:!!Re,cn=pt(v);if(cn||(v[Mt]=cn=new Xe(v)),W=cn.add(k,W,Ae,ot,Ke),W.proxy)return W;if(Ae=Ct(),W.proxy=Ae,Ae.src=v,Ae.listener=W,v.addEventListener)ce||(Re=ot),Re===void 0&&(Re=!1),v.addEventListener(k.toString(),Ae,Re);else if(v.attachEvent)v.attachEvent(rt(k.toString()),Ae);else if(v.addListener&&v.removeListener)v.addListener(Ae);else throw Error("addEventListener and attachEvent are unavailable.");return W}function Ct(){function v(W){return k.call(v.src,v.listener,W)}const k=Je;return v}function ct(v,k,W,Ae,Re){if(Array.isArray(k))for(var Ke=0;Ke<k.length;Ke++)ct(v,k[Ke],W,Ae,Re);else Ae=p(Ae)?!!Ae.capture:!!Ae,W=Nt(W),v&&v[xe]?(v=v.i,k=String(k).toString(),k in v.g&&(Ke=v.g[k],W=dt(Ke,W,Ae,Re),-1<W&&(We(Ke[W]),Array.prototype.splice.call(Ke,W,1),Ke.length==0&&(delete v.g[k],v.h--)))):v&&(v=pt(v))&&(k=v.g[k.toString()],v=-1,k&&(v=dt(k,W,Ae,Re)),(W=-1<v?k[v]:null)&&Oe(W))}function Oe(v){if(typeof v!="number"&&v&&!v.da){var k=v.src;if(k&&k[xe])st(k.i,v);else{var W=v.type,Ae=v.proxy;k.removeEventListener?k.removeEventListener(W,Ae,v.capture):k.detachEvent?k.detachEvent(rt(W),Ae):k.addListener&&k.removeListener&&k.removeListener(Ae),(W=pt(k))?(st(W,v),W.h==0&&(W.src=null,k[Mt]=null)):We(v)}}}function rt(v){return v in Ze?Ze[v]:Ze[v]="on"+v}function Je(v,k){if(v.da)v=!0;else{k=new Be(k,this);var W=v.listener,Ae=v.ha||v.src;v.fa&&Oe(v),v=W.call(Ae,k)}return v}function pt(v){return v=v[Mt],v instanceof Xe?v:null}var _t="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nt(v){return typeof v=="function"?v:(v[_t]||(v[_t]=function(k){return v.handleEvent(k)}),v[_t])}function It(){K.call(this),this.i=new Xe(this),this.M=this,this.F=null}R(It,K),It.prototype[xe]=!0,It.prototype.removeEventListener=function(v,k,W,Ae){ct(this,v,k,W,Ae)};function Et(v,k){var W,Ae=v.F;if(Ae)for(W=[];Ae;Ae=Ae.F)W.push(Ae);if(v=v.M,Ae=k.type||k,typeof k=="string")k=new ne(k,v);else if(k instanceof ne)k.target=k.target||v;else{var Re=k;k=new ne(Ae,v),X(k,Re)}if(Re=!0,W)for(var Ke=W.length-1;0<=Ke;Ke--){var ot=k.g=W[Ke];Re=qt(ot,Ae,!0,k)&&Re}if(ot=k.g=v,Re=qt(ot,Ae,!0,k)&&Re,Re=qt(ot,Ae,!1,k)&&Re,W)for(Ke=0;Ke<W.length;Ke++)ot=k.g=W[Ke],Re=qt(ot,Ae,!1,k)&&Re}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var v=this.i,k;for(k in v.g){for(var W=v.g[k],Ae=0;Ae<W.length;Ae++)We(W[Ae]);delete v.g[k],v.h--}}this.F=null},It.prototype.K=function(v,k,W,Ae){return this.i.add(String(v),k,!1,W,Ae)},It.prototype.L=function(v,k,W,Ae){return this.i.add(String(v),k,!0,W,Ae)};function qt(v,k,W,Ae){if(k=v.i.g[String(k)],!k)return!0;k=k.concat();for(var Re=!0,Ke=0;Ke<k.length;++Ke){var ot=k[Ke];if(ot&&!ot.da&&ot.capture==W){var cn=ot.listener,Fn=ot.ha||ot.src;ot.fa&&st(v.i,ot),Re=cn.call(Fn,Ae)!==!1&&Re}}return Re&&!Ae.defaultPrevented}function kt(v,k,W){if(typeof v=="function")W&&(v=x(v,W));else if(v&&typeof v.handleEvent=="function")v=x(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:d.setTimeout(v,k||0)}function ke(v){v.g=kt(()=>{v.g=null,v.i&&(v.i=!1,ke(v))},v.l);const k=v.h;v.h=null,v.m.apply(null,k)}class ze extends K{constructor(k,W){super(),this.m=k,this.l=W,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:ke(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vt(v){K.call(this),this.h=v,this.g={}}R(vt,K);var yt=[];function $t(v){$(v.g,function(k,W){this.g.hasOwnProperty(W)&&Oe(k)},v),v.g={}}vt.prototype.N=function(){vt.aa.N.call(this),$t(this)},vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ft=d.JSON.stringify,rn=d.JSON.parse,wr=class{stringify(v){return d.JSON.stringify(v,void 0)}parse(v){return d.JSON.parse(v,void 0)}};function un(){}un.prototype.h=null;function Qs(v){return v.h||(v.h=v.i())}function Ln(){}var Rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function on(){ne.call(this,"d")}R(on,ne);function Qt(){ne.call(this,"c")}R(Qt,ne);var St={},Kt=null;function vn(){return Kt=Kt||new It}St.La="serverreachability";function In(v){ne.call(this,St.La,v)}R(In,ne);function Lr(v){const k=vn();Et(k,new In(k))}St.STAT_EVENT="statevent";function Vs(v,k){ne.call(this,St.STAT_EVENT,v),this.stat=k}R(Vs,ne);function Pt(v){const k=vn();Et(k,new Vs(k,v))}St.Ma="timingevent";function hr(v,k){ne.call(this,St.Ma,v),this.size=k}R(hr,ne);function fr(v,k){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){v()},k)}function Er(){this.g=!0}Er.prototype.xa=function(){this.g=!1};function tn(v,k,W,Ae,Re,Ke){v.info(function(){if(v.g)if(Ke)for(var ot="",cn=Ke.split("&"),Fn=0;Fn<cn.length;Fn++){var yn=cn[Fn].split("=");if(1<yn.length){var Kn=yn[0];yn=yn[1];var On=Kn.split("_");ot=2<=On.length&&On[1]=="type"?ot+(Kn+"="+yn+"&"):ot+(Kn+"=redacted&")}}else ot=null;else ot=Ke;return"XMLHTTP REQ ("+Ae+") [attempt "+Re+"]: "+k+`
`+W+`
`+ot})}function Tr(v,k,W,Ae,Re,Ke,ot){v.info(function(){return"XMLHTTP RESP ("+Ae+") [ attempt "+Re+"]: "+k+`
`+W+`
`+Ke+" "+ot})}function Zr(v,k,W,Ae){v.info(function(){return"XMLHTTP TEXT ("+k+"): "+Gs(v,W)+(Ae?" "+Ae:"")})}function Ks(v,k){v.info(function(){return"TIMEOUT: "+k})}Er.prototype.info=function(){};function Gs(v,k){if(!v.g)return k;if(!k)return null;try{var W=JSON.parse(k);if(W){for(v=0;v<W.length;v++)if(Array.isArray(W[v])){var Ae=W[v];if(!(2>Ae.length)){var Re=Ae[1];if(Array.isArray(Re)&&!(1>Re.length)){var Ke=Re[0];if(Ke!="noop"&&Ke!="stop"&&Ke!="close")for(var ot=1;ot<Re.length;ot++)Re[ot]=""}}}}return Ft(W)}catch{return k}}var Es={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ms;function vs(){}R(vs,un),vs.prototype.g=function(){return new XMLHttpRequest},vs.prototype.i=function(){return{}},ms=new vs;function Sr(v,k,W,Ae){this.j=v,this.i=k,this.l=W,this.R=Ae||1,this.U=new vt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new or}function or(){this.i=null,this.g="",this.h=!1}var qi={},ia={};function ni(v,k,W){v.L=1,v.v=Ao($s(k)),v.m=W,v.P=!0,_i(v,null)}function _i(v,k){v.F=Date.now(),No(v),v.A=$s(v.v);var W=v.A,Ae=v.R;Array.isArray(Ae)||(Ae=[String(Ae)]),sn(W.i,"t",Ae),v.C=0,W=v.j.J,v.h=new or,v.g=ee(v.j,W?k:null,!v.m),0<v.O&&(v.M=new ze(x(v.Y,v,v.g),v.O)),k=v.U,W=v.g,Ae=v.ca;var Re="readystatechange";Array.isArray(Re)||(Re&&(yt[0]=Re.toString()),Re=yt);for(var Ke=0;Ke<Re.length;Ke++){var ot=Ee(W,Re[Ke],Ae||k.handleEvent,!1,k.h||k);if(!ot)break;k.g[ot.key]=ot}k=v.H?L(v.H):{},v.m?(v.u||(v.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,k)):(v.u="GET",v.g.ea(v.A,v.u,null,k)),Lr(),tn(v.i,v.u,v.A,v.l,v.R,v.m)}Sr.prototype.ca=function(v){v=v.target;const k=this.M;k&&ys(v)==3?k.j():this.Y(v)},Sr.prototype.Y=function(v){try{if(v==this.g)e:{const On=ys(this.g);var k=this.g.Ba();const ga=this.g.Z();if(!(3>On)&&(On!=3||this.g&&(this.h.h||this.g.oa()||Ml(this.g)))){this.J||On!=4||k==7||(k==8||0>=ga?Lr(3):Lr(2)),zs(this);var W=this.g.Z();this.X=W;t:if(jo(this)){var Ae=Ml(this.g);v="";var Re=Ae.length,Ke=ys(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){es(this),Ii(this);var ot="";break t}this.h.i=new d.TextDecoder}for(k=0;k<Re;k++)this.h.h=!0,v+=this.h.i.decode(Ae[k],{stream:!(Ke&&k==Re-1)});Ae.length=0,this.h.g+=v,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=W==200,Tr(this.i,this.u,this.A,this.l,this.R,On,W),this.o){if(this.T&&!this.K){t:{if(this.g){var cn,Fn=this.g;if((cn=Fn.g?Fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(cn)){var yn=cn;break t}}yn=null}if(W=yn)Zr(this.i,this.l,W,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,aa(this,W);else{this.o=!1,this.s=3,Pt(12),es(this),Ii(this);break e}}if(this.P){W=!0;let gr;for(;!this.J&&this.C<ot.length;)if(gr=OA(this,ot),gr==ia){On==4&&(this.s=4,Pt(14),W=!1),Zr(this.i,this.l,null,"[Incomplete Response]");break}else if(gr==qi){this.s=4,Pt(15),Zr(this.i,this.l,ot,"[Invalid Chunk]"),W=!1;break}else Zr(this.i,this.l,gr,null),aa(this,gr);if(jo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),On!=4||ot.length!=0||this.h.h||(this.s=1,Pt(16),W=!1),this.o=this.o&&W,!W)Zr(this.i,this.l,ot,"[Invalid Chunked Response]"),es(this),Ii(this);else if(0<ot.length&&!this.W){this.W=!0;var Kn=this.j;Kn.g==this&&Kn.ba&&!Kn.M&&(Kn.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),uo(Kn),Kn.M=!0,Pt(11))}}else Zr(this.i,this.l,ot,null),aa(this,ot);On==4&&es(this),this.o&&!this.J&&(On==4?ho(this.j,this):(this.o=!1,No(this)))}else lo(this.g),W==400&&0<ot.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),es(this),Ii(this)}}}catch{}finally{}};function jo(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function OA(v,k){var W=v.C,Ae=k.indexOf(`
`,W);return Ae==-1?ia:(W=Number(k.substring(W,Ae)),isNaN(W)?qi:(Ae+=1,Ae+W>k.length?ia:(k=k.slice(Ae,Ae+W),v.C=Ae+W,k)))}Sr.prototype.cancel=function(){this.J=!0,es(this)};function No(v){v.S=Date.now()+v.I,Dl(v,v.I)}function Dl(v,k){if(v.B!=null)throw Error("WatchDog timer not null");v.B=fr(x(v.ba,v),k)}function zs(v){v.B&&(d.clearTimeout(v.B),v.B=null)}Sr.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(Ks(this.i,this.A),this.L!=2&&(Lr(),Pt(17)),es(this),this.s=2,Ii(this)):Dl(this,this.S-v)};function Ii(v){v.j.G==0||v.J||ho(v.j,v)}function es(v){zs(v);var k=v.M;k&&typeof k.ma=="function"&&k.ma(),v.M=null,$t(v.U),v.g&&(k=v.g,v.g=null,k.abort(),k.ma())}function aa(v,k){try{var W=v.j;if(W.G!=0&&(W.g==v||La(W.h,v))){if(!v.K&&La(W.h,v)&&W.G==3){try{var Ae=W.Da.g.parse(k)}catch{Ae=null}if(Array.isArray(Ae)&&Ae.length==3){var Re=Ae;if(Re[0]==0){e:if(!W.u){if(W.g)if(W.g.F+3e3<v.F)Va(W),uA(W);else break e;Do(W),Pt(18)}}else W.za=Re[1],0<W.za-W.T&&37500>Re[2]&&W.F&&W.v==0&&!W.C&&(W.C=fr(x(W.Za,W),6e3));if(1>=ji(W.h)&&W.ca){try{W.ca()}catch{}W.ca=void 0}}else oi(W,11)}else if((v.K||W.g==v)&&Va(W),!T(k))for(Re=W.Da.g.parse(k),k=0;k<Re.length;k++){let yn=Re[k];if(W.T=yn[0],yn=yn[1],W.G==2)if(yn[0]=="c"){W.K=yn[1],W.ia=yn[2];const Kn=yn[3];Kn!=null&&(W.la=Kn,W.j.info("VER="+W.la));const On=yn[4];On!=null&&(W.Aa=On,W.j.info("SVER="+W.Aa));const ga=yn[5];ga!=null&&typeof ga=="number"&&0<ga&&(Ae=1.5*ga,W.L=Ae,W.j.info("backChannelRequestTimeoutMs_="+Ae)),Ae=W;const gr=v.g;if(gr){const $n=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var Ke=Ae.h;Ke.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(Ke.j=Ke.l,Ke.g=new Set,Ke.h&&(_r(Ke,Ke.h),Ke.h=null))}if(Ae.D){const Ka=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(Ae.ya=Ka,Ar(Ae.I,Ae.D,Ka))}}W.G=3,W.l&&W.l.ua(),W.ba&&(W.R=Date.now()-v.F,W.j.info("Handshake RTT: "+W.R+"ms")),Ae=W;var ot=v;if(Ae.qa=N(Ae,Ae.J?Ae.ia:null,Ae.W),ot.K){Rs(Ae.h,ot);var cn=ot,Fn=Ae.L;Fn&&(cn.I=Fn),cn.B&&(zs(cn),No(cn)),Ae.g=ot}else dA(Ae);0<W.i.length&&Ha(W)}else yn[0]!="stop"&&yn[0]!="close"||oi(W,7);else W.G==3&&(yn[0]=="stop"||yn[0]=="close"?yn[0]=="stop"?oi(W,7):pa(W):yn[0]!="noop"&&W.l&&W.l.ta(yn),W.v=0)}}Lr(4)}catch{}}var io=class{constructor(v,k){this.g=v,this.map=k}};function oa(v){this.l=v||10,d.PerformanceNavigationTiming?(v=d.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oA(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function ji(v){return v.h?1:v.g?v.g.size:0}function La(v,k){return v.h?v.h==k:v.g?v.g.has(k):!1}function _r(v,k){v.g?v.g.add(k):v.h=k}function Rs(v,k){v.h&&v.h==k?v.h=null:v.g&&v.g.has(k)&&v.g.delete(k)}oa.prototype.cancel=function(){if(this.i=AA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function AA(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let k=v.i;for(const W of v.g.values())k=k.concat(W.D);return k}return F(v.i)}function To(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(u(v)){for(var k=[],W=v.length,Ae=0;Ae<W;Ae++)k.push(v[Ae]);return k}k=[],W=0;for(Ae in v)k[W++]=v[Ae];return k}function $i(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(u(v)||typeof v=="string"){var k=[];v=v.length;for(var W=0;W<v;W++)k.push(W);return k}k=[],W=0;for(const Ae in v)k[W++]=Ae;return k}}}function Da(v,k){if(v.forEach&&typeof v.forEach=="function")v.forEach(k,void 0);else if(u(v)||typeof v=="string")Array.prototype.forEach.call(v,k,void 0);else for(var W=$i(v),Ae=To(v),Re=Ae.length,Ke=0;Ke<Re;Ke++)k.call(void 0,Ae[Ke],W&&W[Ke],v)}var qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function As(v,k){if(v){v=v.split("&");for(var W=0;W<v.length;W++){var Ae=v[W].indexOf("="),Re=null;if(0<=Ae){var Ke=v[W].substring(0,Ae);Re=v[W].substring(Ae+1)}else Ke=v[W];k(Ke,Re?decodeURIComponent(Re.replace(/\+/g," ")):"")}}}function qn(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof qn){this.h=v.h,ao(this,v.j),this.o=v.o,this.g=v.g,oo(this,v.s),this.l=v.l;var k=v.i,W=new Ls;W.i=k.i,k.g&&(W.g=new Map(k.g),W.h=k.h),Aa(this,W),this.m=v.m}else v&&(k=String(v).match(qs))?(this.h=!1,ao(this,k[1]||"",!0),this.o=Ni(k[2]||""),this.g=Ni(k[3]||"",!0),oo(this,k[4]),this.l=Ni(k[5]||"",!0),Aa(this,k[6]||"",!0),this.m=Ni(k[7]||"")):(this.h=!1,this.i=new Ls(null,this.h))}qn.prototype.toString=function(){var v=[],k=this.j;k&&v.push(Ti(k,lA,!0),":");var W=this.g;return(W||k=="file")&&(v.push("//"),(k=this.o)&&v.push(Ti(k,lA,!0),"@"),v.push(encodeURIComponent(String(W)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),W=this.s,W!=null&&v.push(":",String(W))),(W=this.l)&&(this.g&&W.charAt(0)!="/"&&v.push("/"),v.push(Ti(W,W.charAt(0)=="/"?Oa:PA,!0))),(W=this.i.toString())&&v.push("?",W),(W=this.m)&&v.push("#",Ti(W,Wi)),v.join("")};function $s(v){return new qn(v)}function ao(v,k,W){v.j=W?Ni(k,!0):k,v.j&&(v.j=v.j.replace(/:$/,""))}function oo(v,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);v.s=k}else v.s=null}function Aa(v,k,W){k instanceof Ls?(v.i=k,Pl(v.i,v.h)):(W||(k=Ti(k,Uo)),v.i=new Ls(k,v.h))}function Ar(v,k,W){v.i.set(k,W)}function Ao(v){return Ar(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Ni(v,k){return v?k?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Ti(v,k,W){return typeof v=="string"?(v=encodeURI(v).replace(k,Ol),W&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Ol(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var lA=/[#\/\?@]/g,PA=/[#\?:]/g,Oa=/[#\?]/g,Uo=/[#\?@]/g,Wi=/#/g;function Ls(v,k){this.h=this.g=null,this.i=v||null,this.j=!!k}function br(v){v.g||(v.g=new Map,v.h=0,v.i&&As(v.i,function(k,W){v.add(decodeURIComponent(k.replace(/\+/g," ")),W)}))}n=Ls.prototype,n.add=function(v,k){br(this),this.i=null,v=ca(this,v);var W=this.g.get(v);return W||this.g.set(v,W=[]),W.push(k),this.h+=1,this};function Pa(v,k){br(v),k=ca(v,k),v.g.has(k)&&(v.i=null,v.h-=v.g.get(k).length,v.g.delete(k))}function la(v,k){return br(v),k=ca(v,k),v.g.has(k)}n.forEach=function(v,k){br(this),this.g.forEach(function(W,Ae){W.forEach(function(Re){v.call(k,Re,Ae,this)},this)},this)},n.na=function(){br(this);const v=Array.from(this.g.values()),k=Array.from(this.g.keys()),W=[];for(let Ae=0;Ae<k.length;Ae++){const Re=v[Ae];for(let Ke=0;Ke<Re.length;Ke++)W.push(k[Ae])}return W},n.V=function(v){br(this);let k=[];if(typeof v=="string")la(this,v)&&(k=k.concat(this.g.get(ca(this,v))));else{v=Array.from(this.g.values());for(let W=0;W<v.length;W++)k=k.concat(v[W])}return k},n.set=function(v,k){return br(this),this.i=null,v=ca(this,v),la(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[k]),this.h+=1,this},n.get=function(v,k){return v?(v=this.V(v),0<v.length?String(v[0]):k):k};function sn(v,k,W){Pa(v,k),0<W.length&&(v.i=null,v.g.set(ca(v,k),F(W)),v.h+=W.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],k=Array.from(this.g.keys());for(var W=0;W<k.length;W++){var Ae=k[W];const Ke=encodeURIComponent(String(Ae)),ot=this.V(Ae);for(Ae=0;Ae<ot.length;Ae++){var Re=Ke;ot[Ae]!==""&&(Re+="="+encodeURIComponent(String(ot[Ae]))),v.push(Re)}}return this.i=v.join("&")};function ca(v,k){return k=String(k),v.j&&(k=k.toLowerCase()),k}function Pl(v,k){k&&!v.j&&(br(v),v.i=null,v.g.forEach(function(W,Ae){var Re=Ae.toLowerCase();Ae!=Re&&(Pa(this,Ae),sn(this,Re,W))},v)),v.j=k}function ri(v,k){const W=new Er;if(d.Image){const Ae=new Image;Ae.onload=w(mi,W,"TestLoadImage: loaded",!0,k,Ae),Ae.onerror=w(mi,W,"TestLoadImage: error",!1,k,Ae),Ae.onabort=w(mi,W,"TestLoadImage: abort",!1,k,Ae),Ae.ontimeout=w(mi,W,"TestLoadImage: timeout",!1,k,Ae),d.setTimeout(function(){Ae.ontimeout&&Ae.ontimeout()},1e4),Ae.src=v}else k(!1)}function Ui(v,k){const W=new Er,Ae=new AbortController,Re=setTimeout(()=>{Ae.abort(),mi(W,"TestPingServer: timeout",!1,k)},1e4);fetch(v,{signal:Ae.signal}).then(Ke=>{clearTimeout(Re),Ke.ok?mi(W,"TestPingServer: ok",!0,k):mi(W,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(Re),mi(W,"TestPingServer: error",!1,k)})}function mi(v,k,W,Ae,Re){try{Re&&(Re.onload=null,Re.onerror=null,Re.onabort=null,Re.ontimeout=null),Ae(W)}catch{}}function ua(){this.g=new wr}function Gr(v,k,W){const Ae=W||"";try{Da(v,function(Re,Ke){let ot=Re;p(Re)&&(ot=Ft(Re)),k.push(Ae+Ke+"="+encodeURIComponent(ot))})}catch(Re){throw k.push(Ae+"type="+encodeURIComponent("_badmap")),Re}}function Ma(v){this.l=v.Ub||null,this.j=v.eb||!1}R(Ma,un),Ma.prototype.g=function(){return new da(this.l,this.j)},Ma.prototype.i=(function(v){return function(){return v}})({});function da(v,k){It.call(this),this.D=v,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(da,It),n=da.prototype,n.open=function(v,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=k,this.readyState=1,si(this)},n.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(k.body=v),(this.D||d).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fi(this)),this.readyState=0},n.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cA(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function cA(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}n.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var k=v.value?v.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!v.done}))&&(this.response=this.responseText+=k)}v.done?Fi(this):si(this),this.readyState==3&&cA(this)}},n.Ra=function(v){this.g&&(this.response=this.responseText=v,Fi(this))},n.Qa=function(v){this.g&&(this.response=v,Fi(this))},n.ga=function(){this.g&&Fi(this)};function Fi(v){v.readyState=4,v.l=null,v.j=null,v.v=null,si(v)}n.setRequestHeader=function(v,k){this.u.append(v,k)},n.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],k=this.h.entries();for(var W=k.next();!W.done;)W=W.value,v.push(W[0]+": "+W[1]),W=k.next();return v.join(`\r
`)};function si(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function ha(v){let k="";return $(v,function(W,Ae){k+=Ae,k+=":",k+=W,k+=`\r
`}),k}function ls(v,k,W){e:{for(Ae in W){var Ae=!1;break e}Ae=!0}Ae||(W=ha(W),typeof v=="string"?W!=null&&encodeURIComponent(String(W)):Ar(v,k,W))}function Dn(v){It.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Dn,It);var ka=/^https?$/i,fa=["POST","PUT"];n=Dn.prototype,n.Ha=function(v){this.J=v},n.ea=function(v,k,W,Ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);k=k?k.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ms.g(),this.v=this.o?Qs(this.o):Qs(ms),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(k,String(v),!0),this.B=!1}catch(Ke){MA(this,Ke);return}if(v=W||"",W=new Map(this.headers),Ae)if(Object.getPrototypeOf(Ae)===Object.prototype)for(var Re in Ae)W.set(Re,Ae[Re]);else if(typeof Ae.keys=="function"&&typeof Ae.get=="function")for(const Ke of Ae.keys())W.set(Ke,Ae.get(Ke));else throw Error("Unknown input type for opt_headers: "+String(Ae));Ae=Array.from(W.keys()).find(Ke=>Ke.toLowerCase()=="content-type"),Re=d.FormData&&v instanceof d.FormData,!(0<=Array.prototype.indexOf.call(fa,k,void 0))||Ae||Re||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ke,ot]of W)this.g.setRequestHeader(Ke,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ii(this),this.u=!0,this.g.send(v),this.u=!1}catch(Ke){MA(this,Ke)}};function MA(v,k){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=k,v.m=5,Dr(v),Ds(v)}function Dr(v){v.A||(v.A=!0,Et(v,"complete"),Et(v,"error"))}n.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Et(this,"complete"),Et(this,"abort"),Ds(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ds(this,!0)),Dn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fo(this):this.bb())},n.bb=function(){Fo(this)};function Fo(v){if(v.h&&typeof c<"u"&&(!v.v[1]||ys(v)!=4||v.Z()!=2)){if(v.u&&ys(v)==4)kt(v.Ea,0,v);else if(Et(v,"readystatechange"),ys(v)==4){v.h=!1;try{const ot=v.Z();e:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var W;if(!(W=k)){var Ae;if(Ae=ot===0){var Re=String(v.D).match(qs)[1]||null;!Re&&d.self&&d.self.location&&(Re=d.self.location.protocol.slice(0,-1)),Ae=!ka.test(Re?Re.toLowerCase():"")}W=Ae}if(W)Et(v,"complete"),Et(v,"success");else{v.m=6;try{var Ke=2<ys(v)?v.g.statusText:""}catch{Ke=""}v.l=Ke+" ["+v.Z()+"]",Dr(v)}}finally{Ds(v)}}}}function Ds(v,k){if(v.g){ii(v);const W=v.g,Ae=v.v[0]?()=>{}:null;v.g=null,v.v=null,k||Et(v,"ready");try{W.onreadystatechange=Ae}catch{}}}function ii(v){v.I&&(d.clearTimeout(v.I),v.I=null)}n.isActive=function(){return!!this.g};function ys(v){return v.g?v.g.readyState:0}n.Z=function(){try{return 2<ys(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(v){if(this.g){var k=this.g.responseText;return v&&k.indexOf(v)==0&&(k=k.substring(v.length)),rn(k)}};function Ml(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function lo(v){const k={};v=(v.g&&2<=ys(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let Ae=0;Ae<v.length;Ae++){if(T(v[Ae]))continue;var W=P(v[Ae]);const Re=W[0];if(W=W[1],typeof W!="string")continue;W=W.trim();const Ke=k[Re]||[];k[Re]=Ke,Ke.push(W)}U(k,function(Ae){return Ae.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(v,k,W){return W&&W.internalChannelParams&&W.internalChannelParams[v]||k}function Yi(v){this.Aa=0,this.i=[],this.j=new Er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,v),this.cb=ws("retryDelaySeedMs",1e4,v),this.Wa=ws("forwardChannelMaxRetries",2,v),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new oa(v&&v.concurrentRequestLimit),this.Da=new ua,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Yi.prototype,n.la=8,n.G=1,n.connect=function(v,k,W,Ae){Pt(0),this.W=v,this.H=k||{},W&&Ae!==void 0&&(this.H.OSID=W,this.H.OAID=Ae),this.F=this.X,this.I=N(this,null,this.W),Ha(this)};function pa(v){if(ai(v),v.G==3){var k=v.U++,W=$s(v.I);if(Ar(W,"SID",v.K),Ar(W,"RID",k),Ar(W,"TYPE","terminate"),co(v,W),k=new Sr(v,v.j,k),k.L=2,k.v=Ao($s(W)),W=!1,d.navigator&&d.navigator.sendBeacon)try{W=d.navigator.sendBeacon(k.v.toString(),"")}catch{}!W&&d.Image&&(new Image().src=k.v,W=!0),W||(k.g=ee(k.j,null),k.g.ea(k.v)),k.F=Date.now(),No(k)}hA(v)}function uA(v){v.g&&(uo(v),v.g.cancel(),v.g=null)}function ai(v){uA(v),v.u&&(d.clearTimeout(v.u),v.u=null),Va(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&d.clearTimeout(v.s),v.s=null)}function Ha(v){if(!oA(v.h)&&!v.s){v.s=!0;var k=v.Ga;we||re(),be||(we(),be=!0),je.add(k,v),v.B=0}}function Qo(v,k){return ji(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=k.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=fr(x(v.Ga,v,k),Oo(v,v.B)),v.B++,!0)}n.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const Re=new Sr(this,this.j,v);let Ke=this.o;if(this.S&&(Ke?(Ke=L(Ke),X(Ke,this.S)):Ke=this.S),this.m!==null||this.O||(Re.H=Ke,Ke=null),this.P)e:{for(var k=0,W=0;W<this.i.length;W++){t:{var Ae=this.i[W];if("__data__"in Ae.map&&(Ae=Ae.map.__data__,typeof Ae=="string")){Ae=Ae.length;break t}Ae=void 0}if(Ae===void 0)break;if(k+=Ae,4096<k){k=W;break e}if(k===4096||W===this.i.length-1){k=W+1;break e}}k=1e3}else k=1e3;k=Lo(this,Re,k),W=$s(this.I),Ar(W,"RID",v),Ar(W,"CVER",22),this.D&&Ar(W,"X-HTTP-Session-Id",this.D),co(this,W),Ke&&(this.O?k="headers="+encodeURIComponent(String(ha(Ke)))+"&"+k:this.m&&ls(W,this.m,Ke)),_r(this.h,Re),this.Ua&&Ar(W,"TYPE","init"),this.P?(Ar(W,"$req",k),Ar(W,"SID","null"),Re.T=!0,ni(Re,W,null)):ni(Re,W,k),this.G=2}}else this.G==3&&(v?Ro(this,v):this.i.length==0||oA(this.h)||Ro(this))};function Ro(v,k){var W;k?W=k.l:W=v.U++;const Ae=$s(v.I);Ar(Ae,"SID",v.K),Ar(Ae,"RID",W),Ar(Ae,"AID",v.T),co(v,Ae),v.m&&v.o&&ls(Ae,v.m,v.o),W=new Sr(v,v.j,W,v.B+1),v.m===null&&(W.H=v.o),k&&(v.i=k.D.concat(v.i)),k=Lo(v,W,1e3),W.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),_r(v.h,W),ni(W,Ae,k)}function co(v,k){v.H&&$(v.H,function(W,Ae){Ar(k,Ae,W)}),v.l&&Da({},function(W,Ae){Ar(k,Ae,W)})}function Lo(v,k,W){W=Math.min(v.i.length,W);var Ae=v.l?x(v.l.Na,v.l,v):null;e:{var Re=v.i;let Ke=-1;for(;;){const ot=["count="+W];Ke==-1?0<W?(Ke=Re[0].g,ot.push("ofs="+Ke)):Ke=0:ot.push("ofs="+Ke);let cn=!0;for(let Fn=0;Fn<W;Fn++){let yn=Re[Fn].g;const Kn=Re[Fn].map;if(yn-=Ke,0>yn)Ke=Math.max(0,Re[Fn].g-100),cn=!1;else try{Gr(Kn,ot,"req"+yn+"_")}catch{Ae&&Ae(Kn)}}if(cn){Ae=ot.join("&");break e}}}return v=v.i.splice(0,W),k.D=v,Ae}function dA(v){if(!v.g&&!v.u){v.Y=1;var k=v.Fa;we||re(),be||(we(),be=!0),je.add(k,v),v.v=0}}function Do(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=fr(x(v.Fa,v),Oo(v,v.v)),v.v++,!0)}n.Fa=function(){if(this.u=null,kl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=fr(x(this.ab,this),v)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),uA(this),kl(this))};function uo(v){v.A!=null&&(d.clearTimeout(v.A),v.A=null)}function kl(v){v.g=new Sr(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var k=$s(v.qa);Ar(k,"RID","rpc"),Ar(k,"SID",v.K),Ar(k,"AID",v.T),Ar(k,"CI",v.F?"0":"1"),!v.F&&v.ja&&Ar(k,"TO",v.ja),Ar(k,"TYPE","xmlhttp"),co(v,k),v.m&&v.o&&ls(k,v.m,v.o),v.L&&(v.g.I=v.L);var W=v.g;v=v.ia,W.L=1,W.v=Ao($s(k)),W.m=null,W.P=!0,_i(W,v)}n.Za=function(){this.C!=null&&(this.C=null,uA(this),Do(this),Pt(19))};function Va(v){v.C!=null&&(d.clearTimeout(v.C),v.C=null)}function ho(v,k){var W=null;if(v.g==k){Va(v),uo(v),v.g=null;var Ae=2}else if(La(v.h,k))W=k.D,Rs(v.h,k),Ae=1;else return;if(v.G!=0){if(k.o)if(Ae==1){W=k.m?k.m.length:0,k=Date.now()-k.F;var Re=v.B;Ae=vn(),Et(Ae,new hr(Ae,W)),Ha(v)}else dA(v);else if(Re=k.s,Re==3||Re==0&&0<k.X||!(Ae==1&&Qo(v,k)||Ae==2&&Do(v)))switch(W&&0<W.length&&(k=v.h,k.i=k.i.concat(W)),Re){case 1:oi(v,5);break;case 4:oi(v,10);break;case 3:oi(v,6);break;default:oi(v,2)}}}function Oo(v,k){let W=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(W*=2),W*k}function oi(v,k){if(v.j.info("Error code "+k),k==2){var W=x(v.fb,v),Ae=v.Xa;const Re=!Ae;Ae=new qn(Ae||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ao(Ae,"https"),Ao(Ae),Re?ri(Ae.toString(),W):Ui(Ae.toString(),W)}else Pt(2);v.G=0,v.l&&v.l.sa(k),hA(v),ai(v)}n.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function hA(v){if(v.G=0,v.ka=[],v.l){const k=AA(v.h);(k.length!=0||v.i.length!=0)&&(Q(v.ka,k),Q(v.ka,v.i),v.h.i.length=0,F(v.i),v.i.length=0),v.l.ra()}}function N(v,k,W){var Ae=W instanceof qn?$s(W):new qn(W);if(Ae.g!="")k&&(Ae.g=k+"."+Ae.g),oo(Ae,Ae.s);else{var Re=d.location;Ae=Re.protocol,k=k?k+"."+Re.hostname:Re.hostname,Re=+Re.port;var Ke=new qn(null);Ae&&ao(Ke,Ae),k&&(Ke.g=k),Re&&oo(Ke,Re),W&&(Ke.l=W),Ae=Ke}return W=v.D,k=v.ya,W&&k&&Ar(Ae,W,k),Ar(Ae,"VER",v.la),co(v,Ae),Ae}function ee(v,k,W){if(k&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=v.Ca&&!v.pa?new Dn(new Ma({eb:W})):new Dn(v.pa),k.Ha(v.J),k}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ce(){}n=Ce.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ne(){}Ne.prototype.g=function(v,k){return new Pe(v,k)};function Pe(v,k){It.call(this),this.g=new Yi(k),this.l=v,this.h=k&&k.messageUrlParams||null,v=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(v?v["X-WebChannel-Content-Type"]=k.messageContentType:v={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(v?v["X-WebChannel-Client-Profile"]=k.va:v={"X-WebChannel-Client-Profile":k.va}),this.g.S=v,(v=k&&k.Sb)&&!T(v)&&(this.g.m=v),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!T(k)&&(this.g.D=k,v=this.h,v!==null&&k in v&&(v=this.h,k in v&&delete v[k])),this.j=new Lt(this)}R(Pe,It),Pe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pe.prototype.close=function(){pa(this.g)},Pe.prototype.o=function(v){var k=this.g;if(typeof v=="string"){var W={};W.__data__=v,v=W}else this.u&&(W={},W.__data__=Ft(v),v=W);k.i.push(new io(k.Ya++,v)),k.G==3&&Ha(k)},Pe.prototype.N=function(){this.g.l=null,delete this.j,pa(this.g),delete this.g,Pe.aa.N.call(this)};function it(v){on.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var k=v.__sm__;if(k){e:{for(const W in k){v=W;break e}v=void 0}(this.i=v)&&(v=this.i,k=k!==null&&v in k?k[v]:void 0),this.data=k}else this.data=v}R(it,on);function xt(){Qt.call(this),this.status=1}R(xt,Qt);function Lt(v){this.g=v}R(Lt,Ce),Lt.prototype.ua=function(){Et(this.g,"a")},Lt.prototype.ta=function(v){Et(this.g,new it(v))},Lt.prototype.sa=function(v){Et(this.g,new xt)},Lt.prototype.ra=function(){Et(this.g,"b")},Ne.prototype.createWebChannel=Ne.prototype.g,Pe.prototype.send=Pe.prototype.o,Pe.prototype.open=Pe.prototype.m,Pe.prototype.close=Pe.prototype.close,R5=function(){return new Ne},Q5=function(){return vn()},F5=St,uy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Es.NO_ERROR=0,Es.TIMEOUT=8,Es.HTTP_ERROR=6,_m=Es,gs.COMPLETE="complete",U5=gs,Ln.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",It.prototype.listen=It.prototype.K,Np=Ln,Dn.prototype.listenOnce=Dn.prototype.L,Dn.prototype.getLastError=Dn.prototype.Ka,Dn.prototype.getLastErrorCode=Dn.prototype.Ba,Dn.prototype.getStatus=Dn.prototype.Z,Dn.prototype.getResponseJson=Dn.prototype.Oa,Dn.prototype.getResponseText=Dn.prototype.oa,Dn.prototype.send=Dn.prototype.ea,Dn.prototype.setWithCredentials=Dn.prototype.Ha,T5=Dn}).apply(typeof Am<"u"?Am:typeof self<"u"?self:typeof window<"u"?window:{});const L2="@firebase/firestore",D2="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ua.UNAUTHENTICATED=new Ua(null),Ua.GOOGLE_CREDENTIALS=new Ua("google-credentials-uid"),Ua.FIRST_PARTY=new Ua("first-party-uid"),Ua.MOCK_USER=new Ua("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new c0("@firebase/firestore");function Af(){return vh.logLevel}function Wt(n,...e){if(vh.logLevel<=tr.DEBUG){const t=e.map(u1);vh.debug(`Firestore (${Uf}): ${n}`,...t)}}function pu(n,...e){if(vh.logLevel<=tr.ERROR){const t=e.map(u1);vh.error(`Firestore (${Uf}): ${n}`,...t)}}function bf(n,...e){if(vh.logLevel<=tr.WARN){const t=e.map(u1);vh.warn(`Firestore (${Uf}): ${n}`,...t)}}function u1(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,L5(n,r,t)}function L5(n,e,t){let r=`FIRESTORE (${Uf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw pu(r),new Error(r)}function Nr(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||L5(e,i,r)}function Tn(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zt extends DA{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ua.UNAUTHENTICATED)))}shutdown(){}}class $N{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class WN{constructor(e){this.t=e,this.currentUser=Ua.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Nr(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve();let o=new lu;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new lu,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const u=o;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},d=u=>{Wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((u=>d(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?d(u):(Wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new lu)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nr(typeof r.accessToken=="string",31837,{l:r}),new D5(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Nr(e===null||typeof e=="string",2055,{h:e}),new Ua(e)}}class YN{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ua.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XN{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new YN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ua.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ro(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Nr(this.o===void 0,3512);const r=o=>{o.error!=null&&Wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Wt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Nr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new O2(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=ZN(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function rr(n,e){return n<e?-1:n>e?1:0}function dy(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),o=e.charAt(r);if(i!==o)return Qv(i)===Qv(o)?rr(i,o):Qv(i)?1:-1}return rr(n.length,e.length)}const e3=55296,t3=57343;function Qv(n){const e=n.charCodeAt(0);return e>=e3&&e<=t3}function Bf(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="__name__";class hc{constructor(e,t,r){t===void 0?t=0:t>e.length&&xn(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&xn(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return hc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hc?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=hc.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return rr(e.length,t.length)}static compareSegments(e,t){const r=hc.isNumericId(e),i=hc.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?hc.extractNumericId(e).compare(hc.extractNumericId(t)):dy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ld.fromString(e.substring(4,e.length-2))}}class as extends hc{construct(e,t,r){return new as(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new zt(ft.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new as(t)}static emptyPath(){return new as([])}}const n3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class na extends hc{construct(e,t,r){return new na(e,t,r)}static isValidIdentifier(e){return n3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),na.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P2}static keyField(){return new na([P2])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new zt(ft.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new zt(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new zt(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else d==="`"?(c=!c,i++):d!=="."||c?(r+=d,i++):(o(),i++)}if(o(),c)throw new zt(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new na(t)}static emptyPath(){return new na([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.path=e}static fromPath(e){return new ln(as.fromString(e))}static fromName(e){return new ln(as.fromString(e).popFirst(5))}static empty(){return new ln(as.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&as.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return as.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ln(new as(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(n,e,t){if(!t)throw new zt(ft.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function r3(n,e,t,r){if(e===!0&&r===!0)throw new zt(ft.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function M2(n){if(!ln.isDocumentKey(n))throw new zt(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function k2(n){if(ln.isDocumentKey(n))throw new zt(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function P5(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function p0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xn(12329,{type:typeof n})}function LA(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new zt(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=p0(n);throw new zt(ft.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(n,e){const t={typeString:n};return e&&(t.value=e),t}function pg(n,e){if(!P5(n))throw new zt(ft.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(i&&typeof c!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new zt(ft.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=-62135596800,V2=1e6;class Kr{static now(){return Kr.fromMillis(Date.now())}static fromDate(e){return Kr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*V2);return new Kr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new zt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new zt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<H2)throw new zt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new zt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V2}_compareTo(e){return this.seconds===e.seconds?rr(this.nanoseconds,e.nanoseconds):rr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pg(e,Kr._jsonSchema))return new Kr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-H2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kr._jsonSchemaVersion="firestore/timestamp/1.0",Kr._jsonSchema={type:gi("string",Kr._jsonSchemaVersion),seconds:gi("number"),nanoseconds:gi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{static fromTimestamp(e){return new Sn(e)}static min(){return new Sn(new Kr(0,0))}static max(){return new Sn(new Kr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=-1;function s3(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Sn.fromTimestamp(r===1e9?new Kr(t+1,0):new Kr(t,r));return new hd(i,ln.empty(),e)}function i3(n){return new hd(n.readTime,n.key,Yp)}class hd{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new hd(Sn.min(),ln.empty(),Yp)}static max(){return new hd(Sn.max(),ln.empty(),Yp)}}function a3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ln.comparator(n.documentKey,e.documentKey),t!==0?t:rr(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ff(n){if(n.code!==ft.FAILED_PRECONDITION||n.message!==o3)throw n;Wt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Bt(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Bt?t:Bt.resolve(t)}catch(t){return Bt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Bt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Bt.reject(t)}static resolve(e){return new Bt(((t,r)=>{t(e)}))}static reject(e){return new Bt(((t,r)=>{r(e)}))}static waitFor(e){return new Bt(((t,r)=>{let i=0,o=0,c=!1;e.forEach((d=>{++i,d.next((()=>{++o,c&&o===i&&t()}),(u=>r(u)))})),c=!0,o===i&&t()}))}static or(e){let t=Bt.resolve(!1);for(const r of e)t=t.next((i=>i?Bt.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,o)=>{r.push(t.call(this,i,o))})),this.waitFor(r)}static mapArray(e,t){return new Bt(((r,i)=>{const o=e.length,c=new Array(o);let d=0;for(let u=0;u<o;u++){const p=u;t(e[p]).next((h=>{c[p]=h,++d,d===o&&r(c)}),(h=>i(h)))}}))}static doWhile(e,t){return new Bt(((r,i)=>{const o=()=>{e()===!0?t().next((()=>{o()}),i):r()};o()}))}}function l3(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qf(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}g0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=-1;function m0(n){return n==null}function Km(n){return n===0&&1/n==-1/0}function c3(n){return typeof n=="number"&&Number.isInteger(n)&&!Km(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5="";function u3(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=K2(e)),e=d3(n.get(t),e);return K2(e)}function d3(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case M5:t+="";break;default:t+=o}}return t}function K2(n){return n+M5+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Bd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function k5(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,t){this.comparator=e,this.root=t||ta.EMPTY}insert(e,t){return new Fs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ta.BLACK,null,null))}remove(e){return new Fs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ta.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lm(this.root,e,this.comparator,!1)}getReverseIterator(){return new lm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lm(this.root,e,this.comparator,!0)}}class lm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ta{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??ta.RED,this.left=i??ta.EMPTY,this.right=o??ta.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new ta(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ta.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ta.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ta.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ta.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xn(27949);return e+(this.isRed()?0:1)}}ta.EMPTY=null,ta.RED=!0,ta.BLACK=!1;ta.EMPTY=new class{constructor(){this.size=0}get key(){throw xn(57766)}get value(){throw xn(16141)}get color(){throw xn(16727)}get left(){throw xn(29726)}get right(){throw xn(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new ta(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.comparator=e,this.data=new Fs(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new z2(this.data.getIterator())}getIteratorFrom(e){return new z2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Si)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Si(this.comparator);return t.data=e,t}}class z2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.fields=e,e.sort(na.comparator)}static empty(){return new sA([])}unionWith(e){let t=new Si(na.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new sA(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bf(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new H5("Invalid base64 string: "+o):o}})(e);return new sa(t)}static fromUint8Array(e){const t=(function(i){let o="";for(let c=0;c<i.length;++c)o+=String.fromCharCode(i[c]);return o})(e);return new sa(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sa.EMPTY_BYTE_STRING=new sa("");const h3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fd(n){if(Nr(!!n,39018),typeof n=="string"){let e=0;const t=h3.exec(n);if(Nr(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xs(n.seconds),nanos:Xs(n.nanos)}}function Xs(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function pd(n){return typeof n=="string"?sa.fromBase64String(n):sa.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5="server_timestamp",K5="__type__",G5="__previous_value__",z5="__local_write_time__";function f1(n){return(n?.mapValue?.fields||{})[K5]?.stringValue===V5}function v0(n){const e=n.mapValue.fields[G5];return f1(e)?v0(e):e}function Xp(n){const e=fd(n.mapValue.fields[z5].timestampValue);return new Kr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,t,r,i,o,c,d,u,p,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=u,this.useFetchStreams=p,this.isUsingEmulator=h}}const Gm="(default)";class Jp{constructor(e,t){this.projectId=e,this.database=t||Gm}static empty(){return new Jp("","")}get isDefaultDatabase(){return this.database===Gm}isEqual(e){return e instanceof Jp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5="__type__",p3="__max__",cm={mapValue:{}},$5="__vector__",zm="value";function gd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?f1(n)?4:m3(n)?9007199254740991:g3(n)?10:11:xn(28295,{value:n})}function xc(n,e){if(n===e)return!0;const t=gd(n);if(t!==gd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xp(n).isEqual(Xp(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const c=fd(i.timestampValue),d=fd(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return pd(i.bytesValue).isEqual(pd(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Xs(i.geoPointValue.latitude)===Xs(o.geoPointValue.latitude)&&Xs(i.geoPointValue.longitude)===Xs(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Xs(i.integerValue)===Xs(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const c=Xs(i.doubleValue),d=Xs(o.doubleValue);return c===d?Km(c)===Km(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return Bf(n.arrayValue.values||[],e.arrayValue.values||[],xc);case 10:case 11:return(function(i,o){const c=i.mapValue.fields||{},d=o.mapValue.fields||{};if(G2(c)!==G2(d))return!1;for(const u in c)if(c.hasOwnProperty(u)&&(d[u]===void 0||!xc(c[u],d[u])))return!1;return!0})(n,e);default:return xn(52216,{left:n})}}function Zp(n,e){return(n.values||[]).find((t=>xc(t,e)))!==void 0}function xf(n,e){if(n===e)return 0;const t=gd(n),r=gd(e);if(t!==r)return rr(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return rr(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=Xs(o.integerValue||o.doubleValue),u=Xs(c.integerValue||c.doubleValue);return d<u?-1:d>u?1:d===u?0:isNaN(d)?isNaN(u)?0:-1:1})(n,e);case 3:return q2(n.timestampValue,e.timestampValue);case 4:return q2(Xp(n),Xp(e));case 5:return dy(n.stringValue,e.stringValue);case 6:return(function(o,c){const d=pd(o),u=pd(c);return d.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),u=c.split("/");for(let p=0;p<d.length&&p<u.length;p++){const h=rr(d[p],u[p]);if(h!==0)return h}return rr(d.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=rr(Xs(o.latitude),Xs(c.latitude));return d!==0?d:rr(Xs(o.longitude),Xs(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return $2(n.arrayValue,e.arrayValue);case 10:return(function(o,c){const d=o.fields||{},u=c.fields||{},p=d[zm]?.arrayValue,h=u[zm]?.arrayValue,b=rr(p?.values?.length||0,h?.values?.length||0);return b!==0?b:$2(p,h)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===cm.mapValue&&c===cm.mapValue)return 0;if(o===cm.mapValue)return 1;if(c===cm.mapValue)return-1;const d=o.fields||{},u=Object.keys(d),p=c.fields||{},h=Object.keys(p);u.sort(),h.sort();for(let b=0;b<u.length&&b<h.length;++b){const x=dy(u[b],h[b]);if(x!==0)return x;const w=xf(d[u[b]],p[h[b]]);if(w!==0)return w}return rr(u.length,h.length)})(n.mapValue,e.mapValue);default:throw xn(23264,{he:t})}}function q2(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return rr(n,e);const t=fd(n),r=fd(e),i=rr(t.seconds,r.seconds);return i!==0?i:rr(t.nanos,r.nanos)}function $2(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=xf(t[i],r[i]);if(o)return o}return rr(t.length,r.length)}function Cf(n){return hy(n)}function hy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=fd(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return pd(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ln.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=hy(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const c of r)o?o=!1:i+=",",i+=`${c}:${hy(t.fields[c])}`;return i+"}"})(n.mapValue):xn(61005,{value:n})}function Im(n){switch(gd(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=v0(n);return e?16+Im(e):16;case 5:return 2*n.stringValue.length;case 6:return pd(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Im(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Bd(r.fields,((o,c)=>{i+=o.length+Im(c)})),i})(n.mapValue);default:throw xn(13486,{value:n})}}function W2(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function fy(n){return!!n&&"integerValue"in n}function p1(n){return!!n&&"arrayValue"in n}function Y2(n){return!!n&&"nullValue"in n}function X2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jm(n){return!!n&&"mapValue"in n}function g3(n){return(n?.mapValue?.fields||{})[q5]?.stringValue===$5}function Lp(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Bd(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Lp(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lp(n.arrayValue.values[t]);return e}return{...n}}function m3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===p3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.value=e}static empty(){return new Eo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!jm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lp(t)}setAll(e){let t=na.emptyPath(),r={},i=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=d.popLast()}c?r[d.lastSegment()]=Lp(c):i.push(d.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());jm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];jm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Bd(t,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Eo(Lp(this.value))}}function W5(n){const e=[];return Bd(n.fields,((t,r)=>{const i=new na([t]);if(jm(r)){const o=W5(r.mapValue).fields;if(o.length===0)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)})),new sA(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,t,r,i,o,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Fa(e,0,Sn.min(),Sn.min(),Sn.min(),Eo.empty(),0)}static newFoundDocument(e,t,r,i){return new Fa(e,1,t,Sn.min(),r,i,0)}static newNoDocument(e,t){return new Fa(e,2,t,Sn.min(),Sn.min(),Eo.empty(),0)}static newUnknownDocument(e,t){return new Fa(e,3,t,Sn.min(),Sn.min(),Eo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Sn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Eo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Eo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,t){this.position=e,this.inclusive=t}}function J2(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],c=n.position[i];if(o.field.isKeyField()?r=ln.comparator(ln.fromName(c.referenceValue),t.key):r=xf(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Z2(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xc(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t="asc"){this.field=e,this.dir=t}}function v3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{}class pi extends Y5{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new w3(e,t,r):t==="array-contains"?new x3(e,r):t==="in"?new C3(e,r):t==="not-in"?new E3(e,r):t==="array-contains-any"?new S3(e,r):new pi(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new b3(e,r):new B3(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xf(t,this.value)):t!==null&&gd(this.value)===gd(t)&&this.matchesComparison(xf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nl extends Y5{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Nl(e,t)}matches(e){return X5(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function X5(n){return n.op==="and"}function J5(n){return y3(n)&&X5(n)}function y3(n){for(const e of n.filters)if(e instanceof Nl)return!1;return!0}function py(n){if(n instanceof pi)return n.field.canonicalString()+n.op.toString()+Cf(n.value);if(J5(n))return n.filters.map((e=>py(e))).join(",");{const e=n.filters.map((t=>py(t))).join(",");return`${n.op}(${e})`}}function Z5(n,e){return n instanceof pi?(function(r,i){return i instanceof pi&&r.op===i.op&&r.field.isEqual(i.field)&&xc(r.value,i.value)})(n,e):n instanceof Nl?(function(r,i){return i instanceof Nl&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,c,d)=>o&&Z5(c,i.filters[d])),!0):!1})(n,e):void xn(19439)}function ex(n){return n instanceof pi?(function(t){return`${t.field.canonicalString()} ${t.op} ${Cf(t.value)}`})(n):n instanceof Nl?(function(t){return t.op.toString()+" {"+t.getFilters().map(ex).join(" ,")+"}"})(n):"Filter"}class w3 extends pi{constructor(e,t,r){super(e,t,r),this.key=ln.fromName(r.referenceValue)}matches(e){const t=ln.comparator(e.key,this.key);return this.matchesComparison(t)}}class b3 extends pi{constructor(e,t){super(e,"in",t),this.keys=tx("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class B3 extends pi{constructor(e,t){super(e,"not-in",t),this.keys=tx("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function tx(n,e){return(e.arrayValue?.values||[]).map((t=>ln.fromName(t.referenceValue)))}class x3 extends pi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return p1(t)&&Zp(t.arrayValue,this.value)}}class C3 extends pi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zp(this.value.arrayValue,t)}}class E3 extends pi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Zp(this.value.arrayValue,t)}}class S3 extends pi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!p1(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Zp(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,t=null,r=[],i=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function eb(n,e=null,t=[],r=[],i=null,o=null,c=null){return new _3(n,e,t,r,i,o,c)}function g1(n){const e=Tn(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>py(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),m0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Cf(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Cf(r))).join(",")),e.Te=t}return e.Te}function m1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!v3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Z5(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Z2(n.startAt,e.startAt)&&Z2(n.endAt,e.endAt)}function gy(n){return ln.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t=null,r=[],i=[],o=null,c="F",d=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function I3(n,e,t,r,i,o,c,d){return new Rf(n,e,t,r,i,o,c,d)}function v1(n){return new Rf(n)}function tb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nx(n){return n.collectionGroup!==null}function Dp(n){const e=Tn(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Si(na.comparator);return c.filters.forEach((u=>{u.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new eg(o,r))})),t.has(na.keyField().canonicalString())||e.Ie.push(new eg(na.keyField(),r))}return e.Ie}function mc(n){const e=Tn(n);return e.Ee||(e.Ee=j3(e,Dp(n))),e.Ee}function j3(n,e){if(n.limitType==="F")return eb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new eg(i.field,o)}));const t=n.endAt?new qm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new qm(n.startAt.position,n.startAt.inclusive):null;return eb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function my(n,e){const t=n.filters.concat([e]);return new Rf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function $m(n,e,t){return new Rf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function y0(n,e){return m1(mc(n),mc(e))&&n.limitType===e.limitType}function rx(n){return`${g1(mc(n))}|lt:${n.limitType}`}function lf(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>ex(i))).join(", ")}]`),m0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>Cf(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>Cf(i))).join(",")),`Target(${r})`})(mc(n))}; limitType=${n.limitType})`}function w0(n,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ln.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(const o of Dp(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(c,d,u){const p=J2(c,d,u);return c.inclusive?p<=0:p<0})(r.startAt,Dp(r),i)||r.endAt&&!(function(c,d,u){const p=J2(c,d,u);return c.inclusive?p>=0:p>0})(r.endAt,Dp(r),i))})(n,e)}function N3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sx(n){return(e,t)=>{let r=!1;for(const i of Dp(n)){const o=T3(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function T3(n,e,t){const r=n.field.isKeyField()?ln.comparator(e.key,t.key):(function(o,c,d){const u=c.data.field(o),p=d.data.field(o);return u!==null&&p!==null?xf(u,p):xn(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return xn(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bd(this.inner,((t,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return k5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=new Fs(ln.comparator);function gu(){return U3}const ix=new Fs(ln.comparator);function Tp(...n){let e=ix;for(const t of n)e=e.insert(t.key,t);return e}function ax(n){let e=ix;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ah(){return Op()}function ox(){return Op()}function Op(){return new Sh((n=>n.toString()),((n,e)=>n.isEqual(e)))}const F3=new Fs(ln.comparator),Q3=new Si(ln.comparator);function ir(...n){let e=Q3;for(const t of n)e=e.add(t);return e}const R3=new Si(rr);function L3(){return R3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Km(e)?"-0":e}}function Ax(n){return{integerValue:""+n}}function D3(n,e){return c3(e)?Ax(e):y1(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this._=void 0}}function O3(n,e,t){return n instanceof tg?(function(i,o){const c={fields:{[K5]:{stringValue:V5},[z5]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&f1(o)&&(o=v0(o)),o&&(c.fields[G5]=o),{mapValue:c}})(t,e):n instanceof ng?cx(n,e):n instanceof rg?ux(n,e):(function(i,o){const c=lx(i,o),d=nb(c)+nb(i.Ae);return fy(c)&&fy(i.Ae)?Ax(d):y1(i.serializer,d)})(n,e)}function P3(n,e,t){return n instanceof ng?cx(n,e):n instanceof rg?ux(n,e):t}function lx(n,e){return n instanceof Wm?(function(r){return fy(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class tg extends b0{}class ng extends b0{constructor(e){super(),this.elements=e}}function cx(n,e){const t=dx(e);for(const r of n.elements)t.some((i=>xc(i,r)))||t.push(r);return{arrayValue:{values:t}}}class rg extends b0{constructor(e){super(),this.elements=e}}function ux(n,e){let t=dx(e);for(const r of n.elements)t=t.filter((i=>!xc(i,r)));return{arrayValue:{values:t}}}class Wm extends b0{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function nb(n){return Xs(n.integerValue||n.doubleValue)}function dx(n){return p1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,t){this.field=e,this.transform=t}}function k3(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof ng&&i instanceof ng||r instanceof rg&&i instanceof rg?Bf(r.elements,i.elements,xc):r instanceof Wm&&i instanceof Wm?xc(r.Ae,i.Ae):r instanceof tg&&i instanceof tg})(n.transform,e.transform)}class H3{constructor(e,t){this.version=e,this.transformResults=t}}class so{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new so}static exists(e){return new so(void 0,e)}static updateTime(e){return new so(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class B0{}function hx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new x0(n.key,so.none()):new gg(n.key,n.data,so.none());{const t=n.data,r=Eo.empty();let i=new Si(na.comparator);for(let o of e.fields)if(!i.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),i=i.add(o)}return new xd(n.key,r,new sA(i.toArray()),so.none())}}function V3(n,e,t){n instanceof gg?(function(i,o,c){const d=i.value.clone(),u=sb(i.fieldTransforms,o,c.transformResults);d.setAll(u),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof xd?(function(i,o,c){if(!Nm(i.precondition,o))return void o.convertToUnknownDocument(c.version);const d=sb(i.fieldTransforms,o,c.transformResults),u=o.data;u.setAll(fx(i)),u.setAll(d),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Pp(n,e,t,r){return n instanceof gg?(function(o,c,d,u){if(!Nm(o.precondition,c))return d;const p=o.value.clone(),h=ib(o.fieldTransforms,u,c);return p.setAll(h),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof xd?(function(o,c,d,u){if(!Nm(o.precondition,c))return d;const p=ib(o.fieldTransforms,u,c),h=c.data;return h.setAll(fx(o)),h.setAll(p),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(n,e,t,r):(function(o,c,d){return Nm(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function K3(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=lx(r.transform,i||null);o!=null&&(t===null&&(t=Eo.empty()),t.set(r.field,o))}return t||null}function rb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bf(r,i,((o,c)=>k3(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class gg extends B0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xd extends B0{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function fx(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function sb(n,e,t){const r=new Map;Nr(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const o=n[i],c=o.transform,d=e.data.field(o.field);r.set(o.field,P3(c,d,t[i]))}return r}function ib(n,e,t){const r=new Map;for(const i of n){const o=i.transform,c=t.data.field(i.field);r.set(i.field,O3(o,c,e))}return r}class x0 extends B0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G3 extends B0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&V3(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Pp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Pp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ox();return this.mutations.forEach((i=>{const o=e.get(i.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=t.has(i.key)?null:d;const u=hx(c,d);u!==null&&r.set(i.key,u),c.isValidDocument()||c.convertToNoDocument(Sn.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ir())}isEqual(e){return this.batchId===e.batchId&&Bf(this.mutations,e.mutations,((t,r)=>rb(t,r)))&&Bf(this.baseMutations,e.baseMutations,((t,r)=>rb(t,r)))}}class w1{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Nr(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return F3})();const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new w1(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi,dr;function W3(n){switch(n){case ft.OK:return xn(64938);case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0;default:return xn(15467,{code:n})}}function px(n){if(n===void 0)return pu("GRPC error has no .code"),ft.UNKNOWN;switch(n){case fi.OK:return ft.OK;case fi.CANCELLED:return ft.CANCELLED;case fi.UNKNOWN:return ft.UNKNOWN;case fi.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case fi.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case fi.INTERNAL:return ft.INTERNAL;case fi.UNAVAILABLE:return ft.UNAVAILABLE;case fi.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case fi.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case fi.NOT_FOUND:return ft.NOT_FOUND;case fi.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case fi.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case fi.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case fi.ABORTED:return ft.ABORTED;case fi.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case fi.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case fi.DATA_LOSS:return ft.DATA_LOSS;default:return xn(39323,{code:n})}}(dr=fi||(fi={}))[dr.OK=0]="OK",dr[dr.CANCELLED=1]="CANCELLED",dr[dr.UNKNOWN=2]="UNKNOWN",dr[dr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dr[dr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dr[dr.NOT_FOUND=5]="NOT_FOUND",dr[dr.ALREADY_EXISTS=6]="ALREADY_EXISTS",dr[dr.PERMISSION_DENIED=7]="PERMISSION_DENIED",dr[dr.UNAUTHENTICATED=16]="UNAUTHENTICATED",dr[dr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dr[dr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dr[dr.ABORTED=10]="ABORTED",dr[dr.OUT_OF_RANGE=11]="OUT_OF_RANGE",dr[dr.UNIMPLEMENTED=12]="UNIMPLEMENTED",dr[dr.INTERNAL=13]="INTERNAL",dr[dr.UNAVAILABLE=14]="UNAVAILABLE",dr[dr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=new ld([4294967295,4294967295],0);function ab(n){const e=Y3().encode(n),t=new N5;return t.update(e),new Uint8Array(t.digest())}function ob(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ld([t,r],0),new ld([i,o],0)]}class b1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Up(`Invalid padding: ${t}`);if(r<0)throw new Up(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Up(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Up(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ld.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(ld.fromNumber(r)));return i.compare(X3)===1&&(i=new ld([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ab(e),[r,i]=ob(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,i,o);if(!this.we(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new b1(o,i,t);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=ab(e),[r,i]=ob(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,i,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Up extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,mg.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new C0(Sn.min(),i,new Fs(rr),gu(),ir())}}class mg{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new mg(r,t,ir(),ir(),ir())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class gx{constructor(e,t){this.targetId=e,this.Ce=t}}class mx{constructor(e,t,r=sa.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Ab{constructor(){this.ve=0,this.Fe=lb(),this.Me=sa.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ir(),t=ir(),r=ir();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:xn(38017,{changeType:o})}})),new mg(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=lb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Nr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class J3{constructor(e){this.Ge=e,this.ze=new Map,this.je=gu(),this.Je=um(),this.He=um(),this.Ye=new Fs(rr)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:xn(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const o=i.target;if(gy(o))if(r===0){const c=new ln(o.path);this.et(t,c,Fa.newNoDocument(c,Sn.min()))}else Nr(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const d=this.ut(e),u=d?this.ct(d,e,c):1;if(u!==0){this.it(t);const p=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let c,d;try{c=pd(r).toUint8Array()}catch(u){if(u instanceof H5)return bf("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{d=new b1(c,i,o)}catch(u){return bf(u instanceof Up?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(t,o,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&gy(d.target)){const u=new ln(d.target.path);this.It(u).has(c)||this.Et(c,u)||this.et(c,u,Fa.newNoDocument(u,e))}o.Be&&(t.set(c,o.ke()),o.qe())}}));let r=ir();this.He.forEach(((o,c)=>{let d=!0;c.forEachWhile((u=>{const p=this.ot(u);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const i=new C0(e,t,this.Ye,this.je,r);return this.je=gu(),this.Je=um(),this.He=um(),this.Ye=new Fs(rr),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ab,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Si(rr),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Si(rr),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Wt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ab),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function um(){return new Fs(ln.comparator)}function lb(){return new Fs(ln.comparator)}const Z3={asc:"ASCENDING",desc:"DESCENDING"},eT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tT={and:"AND",or:"OR"};class nT{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vy(n,e){return n.useProto3Json||m0(e)?e:{value:e}}function Ym(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function rT(n,e){return Ym(n,e.toTimestamp())}function vc(n){return Nr(!!n,49232),Sn.fromTimestamp((function(t){const r=fd(t);return new Kr(r.seconds,r.nanos)})(n))}function B1(n,e){return yy(n,e).canonicalString()}function yy(n,e){const t=(function(i){return new as(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function yx(n){const e=as.fromString(n);return Nr(Cx(e),10190,{key:e.toString()}),e}function wy(n,e){return B1(n.databaseId,e.path)}function Rv(n,e){const t=yx(e);if(t.get(1)!==n.databaseId.projectId)throw new zt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new zt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ln(bx(t))}function wx(n,e){return B1(n.databaseId,e)}function sT(n){const e=yx(n);return e.length===4?as.emptyPath():bx(e)}function by(n){return new as(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bx(n){return Nr(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function cb(n,e,t){return{name:wy(n,e),fields:t.value.mapValue.fields}}function iT(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xn(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(p,h){return p.useProto3Json?(Nr(h===void 0||typeof h=="string",58123),sa.fromBase64String(h||"")):(Nr(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),sa.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const h=p.code===void 0?ft.UNKNOWN:px(p.code);return new zt(h,p.message||"")})(c);t=new mx(r,i,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Rv(n,r.document.name),o=vc(r.document.updateTime),c=r.document.createTime?vc(r.document.createTime):Sn.min(),d=new Eo({mapValue:{fields:r.document.fields}}),u=Fa.newFoundDocument(i,o,c,d),p=r.targetIds||[],h=r.removedTargetIds||[];t=new Tm(p,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Rv(n,r.document),o=r.readTime?vc(r.readTime):Sn.min(),c=Fa.newNoDocument(i,o),d=r.removedTargetIds||[];t=new Tm([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Rv(n,r.document),o=r.removedTargetIds||[];t=new Tm([],o,i,null)}else{if(!("filter"in e))return xn(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,c=new $3(i,o),d=r.targetId;t=new gx(d,c)}}return t}function aT(n,e){let t;if(e instanceof gg)t={update:cb(n,e.key,e.value)};else if(e instanceof x0)t={delete:wy(n,e.key)};else if(e instanceof xd)t={update:cb(n,e.key,e.data),updateMask:pT(e.fieldMask)};else{if(!(e instanceof G3))return xn(16599,{Vt:e.type});t={verify:wy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const d=c.transform;if(d instanceof tg)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ng)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof rg)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Wm)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw xn(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:rT(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xn(27497)})(n,e.precondition)),t}function oT(n,e){return n&&n.length>0?(Nr(e!==void 0,14353),n.map((t=>(function(i,o){let c=i.updateTime?vc(i.updateTime):vc(o);return c.isEqual(Sn.min())&&(c=vc(o)),new H3(c,i.transformResults||[])})(t,e)))):[]}function AT(n,e){return{documents:[wx(n,e.path)]}}function lT(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=wx(n,i);const o=(function(p){if(p.length!==0)return xx(Nl.create(p,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(p){if(p.length!==0)return p.map((h=>(function(x){return{field:cf(x.field),direction:dT(x.dir)}})(h)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=vy(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:i}}function cT(n){let e=sT(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Nr(r===1,65062);const h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(b){const x=Bx(b);return x instanceof Nl&&J5(x)?x.getFilters():[x]})(t.where));let c=[];t.orderBy&&(c=(function(b){return b.map((x=>(function(R){return new eg(uf(R.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(x)))})(t.orderBy));let d=null;t.limit&&(d=(function(b){let x;return x=typeof b=="object"?b.value:b,m0(x)?null:x})(t.limit));let u=null;t.startAt&&(u=(function(b){const x=!!b.before,w=b.values||[];return new qm(w,x)})(t.startAt));let p=null;return t.endAt&&(p=(function(b){const x=!b.before,w=b.values||[];return new qm(w,x)})(t.endAt)),I3(e,i,c,o,d,"F",u,p)}function uT(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xn(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Bx(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=uf(t.unaryFilter.field);return pi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=uf(t.unaryFilter.field);return pi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=uf(t.unaryFilter.field);return pi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=uf(t.unaryFilter.field);return pi.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xn(61313);default:return xn(60726)}})(n):n.fieldFilter!==void 0?(function(t){return pi.create(uf(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xn(58110);default:return xn(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Nl.create(t.compositeFilter.filters.map((r=>Bx(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xn(1026)}})(t.compositeFilter.op))})(n):xn(30097,{filter:n})}function dT(n){return Z3[n]}function hT(n){return eT[n]}function fT(n){return tT[n]}function cf(n){return{fieldPath:n.canonicalString()}}function uf(n){return na.fromServerFormat(n.fieldPath)}function xx(n){return n instanceof pi?(function(t){if(t.op==="=="){if(X2(t.value))return{unaryFilter:{field:cf(t.field),op:"IS_NAN"}};if(Y2(t.value))return{unaryFilter:{field:cf(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(X2(t.value))return{unaryFilter:{field:cf(t.field),op:"IS_NOT_NAN"}};if(Y2(t.value))return{unaryFilter:{field:cf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cf(t.field),op:hT(t.op),value:t.value}}})(n):n instanceof Nl?(function(t){const r=t.getFilters().map((i=>xx(i)));return r.length===1?r[0]:{compositeFilter:{op:fT(t.op),filters:r}}})(n):xn(54877,{filter:n})}function pT(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Cx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t,r,i,o=Sn.min(),c=Sn.min(),d=sa.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=u}withSequenceNumber(e){return new rd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new rd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.yt=e}}function mT(n){const e=cT({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$m(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.Cn=new yT}addToCollectionParentIndex(e,t){return this.Cn.add(t),Bt.resolve()}getCollectionParents(e,t){return Bt.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Bt.resolve()}deleteFieldIndex(e,t){return Bt.resolve()}deleteAllFieldIndexes(e){return Bt.resolve()}createTargetIndexes(e,t){return Bt.resolve()}getDocumentsMatchingTarget(e,t){return Bt.resolve(null)}getIndexType(e,t){return Bt.resolve(0)}getFieldIndexes(e,t){return Bt.resolve([])}getNextCollectionGroupToUpdate(e){return Bt.resolve(null)}getMinOffset(e,t){return Bt.resolve(hd.min())}getMinOffsetFromCollectionGroup(e,t){return Bt.resolve(hd.min())}updateCollectionGroup(e,t,r){return Bt.resolve()}updateIndexEntries(e,t){return Bt.resolve()}}class yT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Si(as.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Si(as.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ex=41943040;class Co{static withCacheSize(e){return new Co(e,Co.DEFAULT_COLLECTION_PERCENTILE,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Co.DEFAULT_COLLECTION_PERCENTILE=10,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Co.DEFAULT=new Co(Ex,Co.DEFAULT_COLLECTION_PERCENTILE,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Co.DISABLED=new Co(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ef(0)}static cr(){return new Ef(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="LruGarbageCollector",wT=1048576;function hb([n,e],[t,r]){const i=rr(n,t);return i===0?rr(e,r):i}class bT{constructor(e){this.Ir=e,this.buffer=new Si(hb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();hb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class BT{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Wt(db,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qf(t)?Wt(db,"Ignoring IndexedDB error during garbage collection: ",t):await Ff(t)}await this.Vr(3e5)}))}}class xT{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Bt.resolve(g0.ce);const r=new bT(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Wt("LruGarbageCollector","Garbage collection skipped; disabled"),Bt.resolve(ub)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Wt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ub):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,o,c,d,u,p;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Wt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),i=this.params.maximumSequenceNumbersToCollect):i=b,c=Date.now(),this.nthSequenceNumber(e,i)))).next((b=>(r=b,d=Date.now(),this.removeTargets(e,r,t)))).next((b=>(o=b,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(p=Date.now(),Af()<=tr.DEBUG&&Wt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-h}ms
	Determined least recently used ${i} in `+(d-c)+`ms
	Removed ${o} targets in `+(u-d)+`ms
	Removed ${b} documents in `+(p-u)+`ms
Total Duration: ${p-h}ms`),Bt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:b}))))}}function CT(n,e){return new xT(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.changes=new Sh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fa.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Bt.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&Pp(r.mutation,i,sA.empty(),Kr.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,ir()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=ir()){const i=Ah();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((o=>{let c=Tp();return o.forEach(((d,u)=>{c=c.insert(d,u.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Ah();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,ir())))}populateOverlays(e,t,r){const i=[];return r.forEach((o=>{t.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,r,i){let o=gu();const c=Op(),d=(function(){return Op()})();return t.forEach(((u,p)=>{const h=r.get(p.key);i.has(p.key)&&(h===void 0||h.mutation instanceof xd)?o=o.insert(p.key,p):h!==void 0?(c.set(p.key,h.mutation.getFieldMask()),Pp(h.mutation,p,h.mutation.getFieldMask(),Kr.now())):c.set(p.key,sA.empty())})),this.recalculateAndSaveOverlays(e,o).next((u=>(u.forEach(((p,h)=>c.set(p,h))),t.forEach(((p,h)=>d.set(p,new ST(h,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Op();let i=new Fs(((c,d)=>c-d)),o=ir();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((u=>{const p=t.get(u);if(p===null)return;let h=r.get(u)||sA.empty();h=d.applyToLocalView(p,h),r.set(u,h);const b=(i.get(d.batchId)||ir()).add(u);i=i.insert(d.batchId,b)}))})).next((()=>{const c=[],d=i.getReverseIterator();for(;d.hasNext();){const u=d.getNext(),p=u.key,h=u.value,b=ox();h.forEach((x=>{if(!o.has(x)){const w=hx(t.get(x),r.get(x));w!==null&&b.set(x,w),o=o.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return Bt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(c){return ln.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):Bt.resolve(Ah());let d=Yp,u=o;return c.next((p=>Bt.forEach(p,((h,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),o.get(h)?Bt.resolve():this.remoteDocumentCache.getEntry(e,h).next((x=>{u=u.insert(h,x)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,u,p,ir()))).next((h=>({batchId:d,changes:ax(h)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ln(t)).next((r=>{let i=Tp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let c=Tp();return this.indexManager.getCollectionParents(e,o).next((d=>Bt.forEach(d,(u=>{const p=(function(b,x){return new Rf(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((h=>{h.forEach(((b,x)=>{c=c.insert(b,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i)))).next((c=>{o.forEach(((u,p)=>{const h=p.getKey();c.get(h)===null&&(c=c.insert(h,Fa.newInvalidDocument(h)))}));let d=Tp();return c.forEach(((u,p)=>{const h=o.get(u);h!==void 0&&Pp(h.mutation,p,sA.empty(),Kr.now()),w0(t,p)&&(d=d.insert(u,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Bt.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:vc(i.createTime)}})(t)),Bt.resolve()}getNamedQuery(e,t){return Bt.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:mT(i.bundledQuery),readTime:vc(i.readTime)}})(t)),Bt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.overlays=new Fs(ln.comparator),this.qr=new Map}getOverlay(e,t){return Bt.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ah();return Bt.forEach(t,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,o)=>{this.St(e,t,o)})),Bt.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Bt.resolve()}getOverlaysForCollection(e,t,r){const i=Ah(),o=t.length+1,c=new ln(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const u=d.getNext().value,p=u.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Bt.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Fs(((p,h)=>p-h));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let h=o.get(p.largestBatchId);h===null&&(h=Ah(),o=o.insert(p.largestBatchId,h)),h.set(p.getKey(),p)}}const d=Ah(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((p,h)=>d.set(p,h))),!(d.size()>=i)););return Bt.resolve(d)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new q3(t,r));let o=this.qr.get(t);o===void 0&&(o=ir(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.sessionToken=sa.EMPTY_BYTE_STRING}getSessionToken(e){return Bt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Bt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.Qr=new Si(zi.$r),this.Ur=new Si(zi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new zi(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new zi(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ln(new as([])),r=new zi(t,e),i=new zi(t,e+1),o=[];return this.Ur.forEachInRange([r,i],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ln(new as([])),r=new zi(t,e),i=new zi(t,e+1);let o=ir();return this.Ur.forEachInRange([r,i],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new zi(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class zi{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ln.comparator(e.key,t.key)||rr(e.Yr,t.Yr)}static Kr(e,t){return rr(e.Yr,t.Yr)||ln.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Si(zi.$r)}checkEmpty(e){return Bt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new z3(o,t,r,i);this.mutationQueue.push(c);for(const d of i)this.Zr=this.Zr.add(new zi(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Bt.resolve(c)}lookupMutationBatch(e,t){return Bt.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),o=i<0?0:i;return Bt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Bt.resolve(this.mutationQueue.length===0?h1:this.tr-1)}getAllMutationBatches(e){return Bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zi(t,0),i=new zi(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(c=>{const d=this.Xr(c.Yr);o.push(d)})),Bt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Si(rr);return t.forEach((i=>{const o=new zi(i,0),c=new zi(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(d=>{r=r.add(d.Yr)}))})),Bt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;ln.isDocumentKey(o)||(o=o.child(""));const c=new zi(new ln(o),0);let d=new Si(rr);return this.Zr.forEachWhile((u=>{const p=u.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(d=d.add(u.Yr)),!0)}),c),Bt.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Nr(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Bt.forEach(t.mutations,(i=>{const o=new zi(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new zi(t,0),i=this.Zr.firstAfterOrEqual(r);return Bt.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Bt.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){this.ri=e,this.docs=(function(){return new Fs(ln.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Bt.resolve(r?r.document.mutableCopy():Fa.newInvalidDocument(t))}getEntries(e,t){let r=gu();return t.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Fa.newInvalidDocument(i))})),Bt.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=gu();const c=t.path,d=new ln(c.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(d);for(;u.hasNext();){const{key:p,value:{document:h}}=u.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||a3(i3(h),r)<=0||(i.has(h.key)||w0(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return Bt.resolve(o)}getAllFromCollectionGroup(e,t,r,i){xn(9500)}ii(e,t){return Bt.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new FT(this)}getSize(e){return Bt.resolve(this.size)}}class FT extends ET{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Bt.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this.persistence=e,this.si=new Sh((t=>g1(t)),m1),this.lastRemoteSnapshotVersion=Sn.min(),this.highestTargetId=0,this.oi=0,this._i=new x1,this.targetCount=0,this.ai=Ef.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),Bt.resolve()}getLastRemoteSnapshotVersion(e){return Bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Bt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Bt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Bt.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ef(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Bt.resolve()}updateTargetData(e,t){return this.Pr(t),Bt.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Bt.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),Bt.waitFor(o).next((()=>i))}getTargetCount(e){return Bt.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Bt.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Bt.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach((c=>{o.push(i.markPotentiallyOrphaned(e,c))})),Bt.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Bt.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Bt.resolve(r)}containsKey(e,t){return Bt.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t){this.ui={},this.overlays={},this.ci=new g0(0),this.li=!1,this.li=!0,this.hi=new NT,this.referenceDelegate=e(this),this.Pi=new QT(this),this.indexManager=new vT,this.remoteDocumentCache=(function(i){return new UT(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new gT(t),this.Ii=new IT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new TT(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Wt("MemoryPersistence","Starting transaction:",e);const i=new RT(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,t){return Bt.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class RT extends A3{constructor(e){super(),this.currentSequenceNumber=e}}class C1{constructor(e){this.persistence=e,this.Ri=new x1,this.Vi=null}static mi(e){return new C1(e)}get fi(){if(this.Vi)return this.Vi;throw xn(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Bt.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Bt.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Bt.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Bt.forEach(this.fi,(r=>{const i=ln.fromPath(r);return this.gi(e,i).next((o=>{o||t.removeEntry(i,Sn.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Bt.or([()=>Bt.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Xm{constructor(e,t){this.persistence=e,this.pi=new Sh((r=>u3(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=CT(this,t)}static mi(e,t){return new Xm(e,t)}Ei(){}di(e){return Bt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Bt.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?Bt.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(c=>this.br(e,c,t).next((d=>{d||(r++,o.removeEntry(c,Sn.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Bt.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Bt.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Bt.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Bt.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Im(e.data.value)),t}br(e,t,r){return Bt.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return Bt.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=ir(),i=ir();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new E1(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return s_()?8:l3(Ra())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ys(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,t,i,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new LT;return this.Ss(e,t,c).next((d=>{if(o.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>o.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(Af()<=tr.DEBUG&&Wt("QueryEngine","SDK will not create cache indexes for query:",lf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Bt.resolve()):(Af()<=tr.DEBUG&&Wt("QueryEngine","Query:",lf(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Af()<=tr.DEBUG&&Wt("QueryEngine","The SDK decides to create cache indexes for query:",lf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mc(t))):Bt.resolve())}ys(e,t){if(tb(t))return Bt.resolve(null);let r=mc(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=$m(t,null,"F"),r=mc(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=ir(...o);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((u=>{const p=this.Ds(t,d);return this.Cs(t,p,c,u.readTime)?this.ys(e,$m(t,null,"F")):this.vs(e,p,t,u)}))))})))))}ws(e,t,r,i){return tb(t)||i.isEqual(Sn.min())?Bt.resolve(null):this.ps.getDocuments(e,r).next((o=>{const c=this.Ds(t,o);return this.Cs(t,c,r,i)?Bt.resolve(null):(Af()<=tr.DEBUG&&Wt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lf(t)),this.vs(e,c,t,s3(i,Yp)).next((d=>d)))}))}Ds(e,t){let r=new Si(sx(e));return t.forEach(((i,o)=>{w0(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return Af()<=tr.DEBUG&&Wt("QueryEngine","Using full collection scan to execute query:",lf(t)),this.ps.getDocumentsMatchingQuery(e,t,hd.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="LocalStore",OT=3e8;class PT{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Fs(rr),this.xs=new Sh((o=>g1(o)),m1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _T(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function MT(n,e,t,r){return new PT(n,e,t,r)}async function _x(n,e){const t=Tn(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],d=[];let u=ir();for(const p of i){c.push(p.batchId);for(const h of p.mutations)u=u.add(h.key)}for(const p of o){d.push(p.batchId);for(const h of p.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function kT(n,e){const t=Tn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,u,p,h){const b=p.batch,x=b.keys();let w=Bt.resolve();return x.forEach((R=>{w=w.next((()=>h.getEntry(u,R))).next((F=>{const Q=p.docVersions.get(R);Nr(Q!==null,48541),F.version.compareTo(Q)<0&&(b.applyToRemoteDocument(F,p),F.isValidDocument()&&(F.setReadTime(p.commitVersion),h.addEntry(F)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(u,b)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let u=ir();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(u=u.add(d.batch.mutations[p].key));return u})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function Ix(n){const e=Tn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function HT(n,e){const t=Tn(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const d=[];e.targetChanges.forEach(((h,b)=>{const x=i.get(b);if(!x)return;d.push(t.Pi.removeMatchingKeys(o,h.removedDocuments,b).next((()=>t.Pi.addMatchingKeys(o,h.addedDocuments,b))));let w=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken(sa.EMPTY_BYTE_STRING,Sn.min()).withLastLimboFreeSnapshotVersion(Sn.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),i=i.insert(b,w),(function(F,Q,I){return F.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=OT?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(x,w,h)&&d.push(t.Pi.updateTargetData(o,w))}));let u=gu(),p=ir();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))})),d.push(VT(o,c,e.documentUpdates).next((h=>{u=h.ks,p=h.qs}))),!r.isEqual(Sn.min())){const h=t.Pi.getLastRemoteSnapshotVersion(o).next((b=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));d.push(h)}return Bt.waitFor(d).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,u,p))).next((()=>u))})).then((o=>(t.Ms=i,o)))}function VT(n,e,t){let r=ir(),i=ir();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let c=gu();return t.forEach(((d,u)=>{const p=o.get(d);u.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(d)),u.isNoDocument()&&u.version.isEqual(Sn.min())?(e.removeEntry(d,u.readTime),c=c.insert(d,u)):!p.isValidDocument()||u.version.compareTo(p.version)>0||u.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(u),c=c.insert(d,u)):Wt(S1,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",u.version)})),{ks:c,qs:i}}))}function KT(n,e){const t=Tn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=h1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function GT(n,e){const t=Tn(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((o=>o?(i=o,Bt.resolve(i)):t.Pi.allocateTargetId(r).next((c=>(i=new rd(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function By(n,e,t){const r=Tn(n),i=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Qf(c))throw c;Wt(S1,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function fb(n,e,t){const r=Tn(n);let i=Sn.min(),o=ir();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(u,p,h){const b=Tn(u),x=b.xs.get(h);return x!==void 0?Bt.resolve(b.Ms.get(x)):b.Pi.getTargetData(p,h)})(r,c,mc(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((u=>{o=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?i:Sn.min(),t?o:ir()))).next((d=>(zT(r,N3(e),d),{documents:d,Qs:o})))))}function zT(n,e,t){let r=n.Os.get(e)||Sn.min();t.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(e,r)}class pb{constructor(){this.activeTargetIds=L3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qT{constructor(){this.Mo=new pb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="ConnectivityMonitor";class mb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Wt(gb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Wt(gb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dm=null;function xy(){return dm===null?dm=(function(){return 268435456+Math.round(2147483648*Math.random())})():dm++,"0x"+dm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="RestConnection",WT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YT{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Gm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,o){const c=xy(),d=this.zo(e,t.toUriEncodedString());Wt(Lv,`Sending RPC '${e}' ${c}:`,d,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,o);const{host:p}=new URL(d),h=xh(p);return this.Jo(e,d,u,r,h).then((b=>(Wt(Lv,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw bf(Lv,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",r),b}))}Ho(e,t,r,i,o,c){return this.Go(e,t,r,i,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Uf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,t){const r=WT[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="WebChannelConnection";class JT extends YT{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){const c=xy();return new Promise(((d,u)=>{const p=new T5;p.setWithCredentials(!0),p.listenOnce(U5.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case _m.NO_ERROR:const b=p.getResponseJson();Wt(_a,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case _m.TIMEOUT:Wt(_a,`RPC '${e}' ${c} timed out`),u(new zt(ft.DEADLINE_EXCEEDED,"Request time out"));break;case _m.HTTP_ERROR:const x=p.getStatus();if(Wt(_a,`RPC '${e}' ${c} failed with status:`,x,"response text:",p.getResponseText()),x>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const R=w?.error;if(R&&R.status&&R.message){const F=(function(I){const T=I.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(T)>=0?T:ft.UNKNOWN})(R.status);u(new zt(F,R.message))}else u(new zt(ft.UNKNOWN,"Server responded with status "+p.getStatus()))}else u(new zt(ft.UNAVAILABLE,"Connection failed."));break;default:xn(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Wt(_a,`RPC '${e}' ${c} completed.`)}}));const h=JSON.stringify(i);Wt(_a,`RPC '${e}' ${c} sending request:`,i),p.send(t,"POST",h,r,15)}))}T_(e,t,r){const i=xy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=R5(),d=Q5(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(u.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const h=o.join("");Wt(_a,`Creating RPC '${e}' stream ${i}: ${h}`,u);const b=c.createWebChannel(h,u);this.I_(b);let x=!1,w=!1;const R=new XT({Yo:Q=>{w?Wt(_a,`Not sending because RPC '${e}' stream ${i} is closed:`,Q):(x||(Wt(_a,`Opening RPC '${e}' stream ${i} transport.`),b.open(),x=!0),Wt(_a,`RPC '${e}' stream ${i} sending:`,Q),b.send(Q))},Zo:()=>b.close()}),F=(Q,I,T)=>{Q.listen(I,(_=>{try{T(_)}catch(O){setTimeout((()=>{throw O}),0)}}))};return F(b,Np.EventType.OPEN,(()=>{w||(Wt(_a,`RPC '${e}' stream ${i} transport opened.`),R.o_())})),F(b,Np.EventType.CLOSE,(()=>{w||(w=!0,Wt(_a,`RPC '${e}' stream ${i} transport closed`),R.a_(),this.E_(b))})),F(b,Np.EventType.ERROR,(Q=>{w||(w=!0,bf(_a,`RPC '${e}' stream ${i} transport errored. Name:`,Q.name,"Message:",Q.message),R.a_(new zt(ft.UNAVAILABLE,"The operation could not be completed")))})),F(b,Np.EventType.MESSAGE,(Q=>{if(!w){const I=Q.data[0];Nr(!!I,16349);const T=I,_=T?.error||T[0]?.error;if(_){Wt(_a,`RPC '${e}' stream ${i} received error:`,_);const O=_.status;let z=(function(L){const G=fi[L];if(G!==void 0)return px(G)})(O),$=_.message;z===void 0&&(z=ft.INTERNAL,$="Unknown error status: "+O+" with message "+_.message),w=!0,R.a_(new zt(z,$)),b.close()}else Wt(_a,`RPC '${e}' stream ${i} received:`,I),R.u_(I)}})),F(d,F5.STAT_EVENT,(Q=>{Q.stat===uy.PROXY?Wt(_a,`RPC '${e}' stream ${i} detected buffering proxy`):Q.stat===uy.NOPROXY&&Wt(_a,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Dv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(n){return new nT(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&Wt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="PersistentStream";class Nx{constructor(e,t,r,i,o,c,d,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jx(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ft.RESOURCE_EXHAUSTED?(pu(t.toString()),pu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new zt(ft.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Wt(vb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Wt(vb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZT extends Nx{constructor(e,t,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=iT(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Sn.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Sn.min():c.readTime?vc(c.readTime):Sn.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=by(this.serializer),t.addTarget=(function(o,c){let d;const u=c.target;if(d=gy(u)?{documents:AT(o,u)}:{query:lT(o,u).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=vx(o,c.resumeToken);const p=vy(o,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Sn.min())>0){d.readTime=Ym(o,c.snapshotVersion.toTimestamp());const p=vy(o,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=uT(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=by(this.serializer),t.removeTarget=e,this.q_(t)}}class eU extends Nx{constructor(e,t,r,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Nr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Nr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Nr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=oT(e.writeResults,e.commitTime),r=vc(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=by(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>aT(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{}class nU extends tU{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new zt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,yy(t,r),i,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new zt(ft.UNKNOWN,o.toString())}))}Ho(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,yy(t,r),i,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new zt(ft.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pu(t),this.aa=!1):Wt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh="RemoteStore";class sU{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{_h(this)&&(Wt(yh,"Restarting streams for network reachability change."),await(async function(u){const p=Tn(u);p.Ea.add(4),await vg(p),p.Ra.set("Unknown"),p.Ea.delete(4),await S0(p)})(this))}))})),this.Ra=new rU(r,i)}}async function S0(n){if(_h(n))for(const e of n.da)await e(!0)}async function vg(n){for(const e of n.da)await e(!1)}function Tx(n,e){const t=Tn(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),N1(t)?j1(t):Lf(t).O_()&&I1(t,e))}function _1(n,e){const t=Tn(n),r=Lf(t);t.Ia.delete(e),r.O_()&&Ux(t,e),t.Ia.size===0&&(r.O_()?r.L_():_h(t)&&t.Ra.set("Unknown"))}function I1(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Sn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Lf(n).Y_(e)}function Ux(n,e){n.Va.Ue(e),Lf(n).Z_(e)}function j1(n){n.Va=new J3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Lf(n).start(),n.Ra.ua()}function N1(n){return _h(n)&&!Lf(n).x_()&&n.Ia.size>0}function _h(n){return Tn(n).Ea.size===0}function Fx(n){n.Va=void 0}async function iU(n){n.Ra.set("Online")}async function aU(n){n.Ia.forEach(((e,t)=>{I1(n,e)}))}async function oU(n,e){Fx(n),N1(n)?(n.Ra.ha(e),j1(n)):n.Ra.set("Unknown")}async function AU(n,e,t){if(n.Ra.set("Online"),e instanceof mx&&e.state===2&&e.cause)try{await(async function(i,o){const c=o.cause;for(const d of o.targetIds)i.Ia.has(d)&&(await i.remoteSyncer.rejectListen(d,c),i.Ia.delete(d),i.Va.removeTarget(d))})(n,e)}catch(r){Wt(yh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jm(n,r)}else if(e instanceof Tm?n.Va.Ze(e):e instanceof gx?n.Va.st(e):n.Va.tt(e),!t.isEqual(Sn.min()))try{const r=await Ix(n.localStore);t.compareTo(r)>=0&&await(function(o,c){const d=o.Va.Tt(c);return d.targetChanges.forEach(((u,p)=>{if(u.resumeToken.approximateByteSize()>0){const h=o.Ia.get(p);h&&o.Ia.set(p,h.withResumeToken(u.resumeToken,c))}})),d.targetMismatches.forEach(((u,p)=>{const h=o.Ia.get(u);if(!h)return;o.Ia.set(u,h.withResumeToken(sa.EMPTY_BYTE_STRING,h.snapshotVersion)),Ux(o,u);const b=new rd(h.target,u,p,h.sequenceNumber);I1(o,b)})),o.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){Wt(yh,"Failed to raise snapshot:",r),await Jm(n,r)}}async function Jm(n,e,t){if(!Qf(e))throw e;n.Ea.add(1),await vg(n),n.Ra.set("Offline"),t||(t=()=>Ix(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Wt(yh,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await S0(n)}))}function Qx(n,e){return e().catch((t=>Jm(n,t,e)))}async function _0(n){const e=Tn(n),t=md(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:h1;for(;lU(e);)try{const i=await KT(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,cU(e,i)}catch(i){await Jm(e,i)}Rx(e)&&Lx(e)}function lU(n){return _h(n)&&n.Ta.length<10}function cU(n,e){n.Ta.push(e);const t=md(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Rx(n){return _h(n)&&!md(n).x_()&&n.Ta.length>0}function Lx(n){md(n).start()}async function uU(n){md(n).ra()}async function dU(n){const e=md(n);for(const t of n.Ta)e.ea(t.mutations)}async function hU(n,e,t){const r=n.Ta.shift(),i=w1.from(r,e,t);await Qx(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await _0(n)}async function fU(n,e){e&&md(n).X_&&await(async function(r,i){if((function(c){return W3(c)&&c!==ft.ABORTED})(i.code)){const o=r.Ta.shift();md(r).B_(),await Qx(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await _0(r)}})(n,e),Rx(n)&&Lx(n)}async function yb(n,e){const t=Tn(n);t.asyncQueue.verifyOperationInProgress(),Wt(yh,"RemoteStore received new credentials");const r=_h(t);t.Ea.add(3),await vg(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await S0(t)}async function pU(n,e){const t=Tn(n);e?(t.Ea.delete(2),await S0(t)):e||(t.Ea.add(2),await vg(t),t.Ra.set("Unknown"))}function Lf(n){return n.ma||(n.ma=(function(t,r,i){const o=Tn(t);return o.sa(),new ZT(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:iU.bind(null,n),t_:aU.bind(null,n),r_:oU.bind(null,n),H_:AU.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),N1(n)?j1(n):n.Ra.set("Unknown")):(await n.ma.stop(),Fx(n))}))),n.ma}function md(n){return n.fa||(n.fa=(function(t,r,i){const o=Tn(t);return o.sa(),new eU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:uU.bind(null,n),r_:fU.bind(null,n),ta:dU.bind(null,n),na:hU.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await _0(n)):(await n.fa.stop(),n.Ta.length>0&&(Wt(yh,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new lu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const c=Date.now()+r,d=new T1(e,t,c,i,o);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new zt(ft.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function U1(n,e){if(pu("AsyncQueue",`${e}: ${n}`),Qf(n))return new zt(ft.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{static emptySet(e){return new mf(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ln.comparator(t.key,r.key):(t,r)=>ln.comparator(t.key,r.key),this.keyedMap=Tp(),this.sortedSet=new Fs(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new mf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(){this.ga=new Fs(ln.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):xn(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Sf{constructor(e,t,r,i,o,c,d,u,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=u,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,o){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new Sf(e,t,mf.emptySet(t),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&y0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class mU{constructor(){this.queries=bb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Tn(t),o=i.queries;i.queries=bb(),o.forEach(((c,d)=>{for(const u of d.Sa)u.onError(r)}))})(this,new zt(ft.ABORTED,"Firestore shutting down"))}}function bb(){return new Sh((n=>rx(n)),y0)}async function Dx(n,e){const t=Tn(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new gU,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(c){const d=U1(c,`Initialization of query '${lf(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&F1(t)}async function Ox(n,e){const t=Tn(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function vU(n,e){const t=Tn(n);let r=!1;for(const i of e){const o=i.query,c=t.queries.get(o);if(c){for(const d of c.Sa)d.Fa(i)&&(r=!0);c.wa=i}}r&&F1(t)}function yU(n,e,t){const r=Tn(n),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(t);r.queries.delete(e)}function F1(n){n.Ca.forEach((e=>{e.next()}))}var Cy,Bb;(Bb=Cy||(Cy={})).Ma="default",Bb.Cache="cache";class Px{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Sf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Sf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.key=e}}class kx{constructor(e){this.key=e}}class wU{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ir(),this.mutatedKeys=ir(),this.eu=sx(e),this.tu=new mf(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new wb,i=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=i,d=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,b)=>{const x=i.get(h),w=w0(this.query,b)?b:null,R=!!x&&this.mutatedKeys.has(x.key),F=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let Q=!1;x&&w?x.data.isEqual(w.data)?R!==F&&(r.track({type:3,doc:w}),Q=!0):this.su(x,w)||(r.track({type:2,doc:w}),Q=!0,(u&&this.eu(w,u)>0||p&&this.eu(w,p)<0)&&(d=!0)):!x&&w?(r.track({type:0,doc:w}),Q=!0):x&&!w&&(r.track({type:1,doc:x}),Q=!0,(u||p)&&(d=!0)),Q&&(w?(c=c.add(w),o=F?o.add(h):o.delete(h)):(c=c.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const h=this.query.limitType==="F"?c.last():c.first();c=c.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:c,iu:r,Cs:d,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((h,b)=>(function(w,R){const F=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xn(20277,{Rt:Q})}};return F(w)-F(R)})(h.type,b.type)||this.eu(h.doc,b.doc))),this.ou(r),i=i??!1;const d=t&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,p=u!==this.Za;return this.Za=u,c.length!==0||p?{snapshot:new Sf(this.query,e.tu,o,c,e.mutatedKeys,u===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ir(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new kx(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new Mx(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=ir();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Sf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Q1="SyncEngine";class bU{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class BU{constructor(e){this.key=e,this.hu=!1}}class xU{constructor(e,t,r,i,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Sh((d=>rx(d)),y0),this.Iu=new Map,this.Eu=new Set,this.du=new Fs(ln.comparator),this.Au=new Map,this.Ru=new x1,this.Vu={},this.mu=new Map,this.fu=Ef.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CU(n,e,t=!0){const r=qx(n);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await Hx(r,e,t,!0),i}async function EU(n,e){const t=qx(n);await Hx(t,e,!0,!1)}async function Hx(n,e,t,r){const i=await GT(n.localStore,mc(e)),o=i.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let d;return r&&(d=await SU(n,e,o,c==="current",i.resumeToken)),n.isPrimaryClient&&t&&Tx(n.remoteStore,i),d}async function SU(n,e,t,r,i){n.pu=(b,x,w)=>(async function(F,Q,I,T){let _=Q.view.ru(I);_.Cs&&(_=await fb(F.localStore,Q.query,!1).then((({documents:U})=>Q.view.ru(U,_))));const O=T&&T.targetChanges.get(Q.targetId),z=T&&T.targetMismatches.get(Q.targetId)!=null,$=Q.view.applyChanges(_,F.isPrimaryClient,O,z);return Cb(F,Q.targetId,$.au),$.snapshot})(n,b,x,w);const o=await fb(n.localStore,e,!0),c=new wU(e,o.Qs),d=c.ru(o.documents),u=mg.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=c.applyChanges(d,n.isPrimaryClient,u);Cb(n,t,p.au);const h=new bU(e,t,c);return n.Tu.set(e,h),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function _U(n,e,t){const r=Tn(n),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((c=>!y0(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await By(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&_1(r.remoteStore,i.targetId),Ey(r,i.targetId)})).catch(Ff)):(Ey(r,i.targetId),await By(r.localStore,i.targetId,!0))}async function IU(n,e){const t=Tn(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),_1(t.remoteStore,r.targetId))}async function jU(n,e,t){const r=LU(n);try{const i=await(function(c,d){const u=Tn(c),p=Kr.now(),h=d.reduce(((w,R)=>w.add(R.key)),ir());let b,x;return u.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let R=gu(),F=ir();return u.Ns.getEntries(w,h).next((Q=>{R=Q,R.forEach(((I,T)=>{T.isValidDocument()||(F=F.add(I))}))})).next((()=>u.localDocuments.getOverlayedDocuments(w,R))).next((Q=>{b=Q;const I=[];for(const T of d){const _=K3(T,b.get(T.key).overlayedDocument);_!=null&&I.push(new xd(T.key,_,W5(_.value.mapValue),so.exists(!0)))}return u.mutationQueue.addMutationBatch(w,p,I,d)})).next((Q=>{x=Q;const I=Q.applyToLocalDocumentSet(b,F);return u.documentOverlayCache.saveOverlays(w,Q.batchId,I)}))})).then((()=>({batchId:x.batchId,changes:ax(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,d,u){let p=c.Vu[c.currentUser.toKey()];p||(p=new Fs(rr)),p=p.insert(d,u),c.Vu[c.currentUser.toKey()]=p})(r,i.batchId,t),await yg(r,i.changes),await _0(r.remoteStore)}catch(i){const o=U1(i,"Failed to persist write");t.reject(o)}}async function Vx(n,e){const t=Tn(n);try{const r=await HT(t.localStore,e);e.targetChanges.forEach(((i,o)=>{const c=t.Au.get(o);c&&(Nr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?Nr(c.hu,14607):i.removedDocuments.size>0&&(Nr(c.hu,42227),c.hu=!1))})),await yg(t,r,e)}catch(r){await Ff(r)}}function xb(n,e,t){const r=Tn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&i.push(d.snapshot)})),(function(c,d){const u=Tn(c);u.onlineState=d;let p=!1;u.queries.forEach(((h,b)=>{for(const x of b.Sa)x.va(d)&&(p=!0)})),p&&F1(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NU(n,e,t){const r=Tn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),o=i&&i.key;if(o){let c=new Fs(ln.comparator);c=c.insert(o,Fa.newNoDocument(o,Sn.min()));const d=ir().add(o),u=new C0(Sn.min(),new Map,new Fs(rr),c,d);await Vx(r,u),r.du=r.du.remove(o),r.Au.delete(e),R1(r)}else await By(r.localStore,e,!1).then((()=>Ey(r,e,t))).catch(Ff)}async function TU(n,e){const t=Tn(n),r=e.batch.batchId;try{const i=await kT(t.localStore,e);Gx(t,r,null),Kx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await yg(t,i)}catch(i){await Ff(i)}}async function UU(n,e,t){const r=Tn(n);try{const i=await(function(c,d){const u=Tn(c);return u.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let h;return u.mutationQueue.lookupMutationBatch(p,d).next((b=>(Nr(b!==null,37113),h=b.keys(),u.mutationQueue.removeMutationBatch(p,b)))).next((()=>u.mutationQueue.performConsistencyCheck(p))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(p,h,d))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,h))).next((()=>u.localDocuments.getDocuments(p,h)))}))})(r.localStore,e);Gx(r,e,t),Kx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await yg(r,i)}catch(i){await Ff(i)}}function Kx(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Gx(n,e,t){const r=Tn(n);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Ey(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||zx(n,r)}))}function zx(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(_1(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),R1(n))}function Cb(n,e,t){for(const r of t)r instanceof Mx?(n.Ru.addReference(r.key,e),FU(n,r)):r instanceof kx?(Wt(Q1,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||zx(n,r.key)):xn(19791,{wu:r})}function FU(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Wt(Q1,"New document in limbo: "+t),n.Eu.add(r),R1(n))}function R1(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ln(as.fromString(e)),r=n.fu.next();n.Au.set(r,new BU(t)),n.du=n.du.insert(t,r),Tx(n.remoteStore,new rd(mc(v1(t.path)),r,"TargetPurposeLimboResolution",g0.ce))}}async function yg(n,e,t){const r=Tn(n),i=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,u)=>{c.push(r.pu(u,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const h=p?!p.fromCache:t?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(p){i.push(p);const h=E1.As(u.targetId,p);o.push(h)}})))})),await Promise.all(c),r.Pu.H_(i),await(async function(u,p){const h=Tn(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Bt.forEach(p,(x=>Bt.forEach(x.Es,(w=>h.persistence.referenceDelegate.addReference(b,x.targetId,w))).next((()=>Bt.forEach(x.ds,(w=>h.persistence.referenceDelegate.removeReference(b,x.targetId,w)))))))))}catch(b){if(!Qf(b))throw b;Wt(S1,"Failed to update sequence numbers: "+b)}for(const b of p){const x=b.targetId;if(!b.fromCache){const w=h.Ms.get(x),R=w.snapshotVersion,F=w.withLastLimboFreeSnapshotVersion(R);h.Ms=h.Ms.insert(x,F)}}})(r.localStore,o))}async function QU(n,e){const t=Tn(n);if(!t.currentUser.isEqual(e)){Wt(Q1,"User change. New user:",e.toKey());const r=await _x(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((d=>{d.forEach((u=>{u.reject(new zt(ft.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yg(t,r.Ls)}}function RU(n,e){const t=Tn(n),r=t.Au.get(e);if(r&&r.hu)return ir().add(r.key);{let i=ir();const o=t.Iu.get(e);if(!o)return i;for(const c of o){const d=t.Tu.get(c);i=i.unionWith(d.view.nu)}return i}}function qx(n){const e=Tn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NU.bind(null,e),e.Pu.H_=vU.bind(null,e.eventManager),e.Pu.yu=yU.bind(null,e.eventManager),e}function LU(n){const e=Tn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UU.bind(null,e),e}class Zm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=E0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return MT(this.persistence,new DT,e.initialUser,this.serializer)}Cu(e){return new Sx(C1.mi,this.serializer)}Du(e){return new qT}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zm.provider={build:()=>new Zm};class DU extends Zm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Nr(this.persistence.referenceDelegate instanceof Xm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new BT(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Co.withCacheSize(this.cacheSizeBytes):Co.DEFAULT;return new Sx((r=>Xm.mi(r,t)),this.serializer)}}class Sy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QU.bind(null,this.syncEngine),await pU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mU})()}createDatastore(e){const t=E0(e.databaseInfo.databaseId),r=(function(o){return new JT(o)})(e.databaseInfo);return(function(o,c,d,u){return new nU(o,c,d,u)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,o,c,d){return new sU(r,i,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>xb(this.syncEngine,t,0)),(function(){return mb.v()?new mb:new $T})())}createSyncEngine(e,t){return(function(i,o,c,d,u,p,h){const b=new xU(i,o,c,d,u,p);return h&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Tn(t);Wt(yh,"RemoteStore shutting down."),r.Ea.add(5),await vg(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sy.provider={build:()=>new Sy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="FirestoreClient";class OU{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ua.UNAUTHENTICATED,this.clientId=d1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{Wt(vd,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Wt(vd,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=U1(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ov(n,e){n.asyncQueue.verifyOperationInProgress(),Wt(vd,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await _x(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Eb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await PU(n);Wt(vd,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>yb(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>yb(e.remoteStore,i))),n._onlineComponents=e}async function PU(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Wt(vd,"Using user provided OfflineComponentProvider");try{await Ov(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ft.FAILED_PRECONDITION||i.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;bf("Error using user provided cache. Falling back to memory cache: "+t),await Ov(n,new Zm)}}else Wt(vd,"Using default OfflineComponentProvider"),await Ov(n,new DU(void 0));return n._offlineComponents}async function Wx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Wt(vd,"Using user provided OnlineComponentProvider"),await Eb(n,n._uninitializedComponentsProvider._online)):(Wt(vd,"Using default OnlineComponentProvider"),await Eb(n,new Sy))),n._onlineComponents}function MU(n){return Wx(n).then((e=>e.syncEngine))}async function Yx(n){const e=await Wx(n),t=e.eventManager;return t.onListen=CU.bind(null,e.syncEngine),t.onUnlisten=_U.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=EU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=IU.bind(null,e.syncEngine),t}function kU(n,e,t={}){const r=new lu;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,u,p){const h=new $x({next:x=>{h.Nu(),c.enqueueAndForget((()=>Ox(o,b)));const w=x.docs.has(d);!w&&x.fromCache?p.reject(new zt(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&x.fromCache&&u&&u.source==="server"?p.reject(new zt(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new Px(v1(d.path),h,{includeMetadataChanges:!0,qa:!0});return Dx(o,b)})(await Yx(n),n.asyncQueue,e,t,r))),r.promise}function HU(n,e,t={}){const r=new lu;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,u,p){const h=new $x({next:x=>{h.Nu(),c.enqueueAndForget((()=>Ox(o,b))),x.fromCache&&u.source==="server"?p.reject(new zt(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new Px(d,h,{includeMetadataChanges:!0,qa:!0});return Dx(o,b)})(await Yx(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="firestore.googleapis.com",_b=!0;class Ib{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new zt(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Jx,this.ssl=_b}else this.host=e.host,this.ssl=e.ssl??_b;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ex;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wT)throw new zt(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xx(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new zt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new zt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new zt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class I0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ib({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new zt(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new zt(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ib(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new qN;switch(r.type){case"firstParty":return new XN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new zt(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Sb.get(t);r&&(Wt("ComponentProvider","Removing Datastore"),Sb.delete(t),r.terminate())})(this),Promise.resolve()}}function VU(n,e,t,r={}){n=LA(n,I0);const i=xh(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;i&&(Jy(`https://${d}`),Zy("Firestore",!0)),o.host!==Jx&&o.host!==d&&bf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...o,host:d,ssl:i,emulatorOptions:r};if(!dd(u,c)&&(n._setSettings(u),r.mockUserToken)){let p,h;if(typeof r.mockUserToken=="string")p=r.mockUserToken,h=Ua.MOCK_USER;else{p=PB(r.mockUserToken,n._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new zt(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ua(b)}n._authCredentials=new $N(new D5(p,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cd(this.firestore,e,this._query)}}class ti{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ti(this.firestore,e,this._key)}toJSON(){return{type:ti._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(pg(t,ti._jsonSchema))return new ti(e,r||null,new ln(as.fromString(t.referencePath)))}}ti._jsonSchemaVersion="firestore/documentReference/1.0",ti._jsonSchema={type:gi("string",ti._jsonSchemaVersion),referencePath:gi("string")};class cd extends Cd{constructor(e,t,r){super(e,t,v1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ti(this.firestore,null,new ln(e))}withConverter(e){return new cd(this.firestore,e,this._path)}}function nr(n,e,...t){if(n=ps(n),O5("collection","path",e),n instanceof I0){const r=as.fromString(e,...t);return k2(r),new cd(n,null,r)}{if(!(n instanceof ti||n instanceof cd))throw new zt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(as.fromString(e,...t));return k2(r),new cd(n.firestore,null,r)}}function sr(n,e,...t){if(n=ps(n),arguments.length===1&&(e=d1.newId()),O5("doc","path",e),n instanceof I0){const r=as.fromString(e,...t);return M2(r),new ti(n,null,new ln(r))}{if(!(n instanceof ti||n instanceof cd))throw new zt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(as.fromString(e,...t));return M2(r),new ti(n.firestore,n instanceof cd?n.converter:null,new ln(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="AsyncQueue";class Nb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jx(this,"async_queue_retry"),this._c=()=>{const r=Dv();r&&Wt(jb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Dv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Dv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new lu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qf(e))throw e;Wt(jb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,pu("INTERNAL UNHANDLED ERROR: ",Tb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=T1.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&xn(47125,{Pc:Tb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Tb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ed extends I0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Nb,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nb(e),this._firestoreClient=void 0,await e}}}function KU(n,e){const t=typeof n=="object"?n:u0(),r=typeof n=="string"?n:Gm,i=bd(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=LB("firestore");o&&VU(i,...o)}return i}function j0(n){if(n._terminated)throw new zt(ft.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||GU(n),n._firestoreClient}function GU(n){const e=n._freezeSettings(),t=(function(i,o,c,d){return new f3(i,o,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Xx(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new OU(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new UA(sa.fromBase64String(e))}catch(t){throw new zt(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new UA(sa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:UA._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pg(e,UA._jsonSchema))return UA.fromBase64String(e.bytes)}}UA._jsonSchemaVersion="firestore/bytes/1.0",UA._jsonSchema={type:gi("string",UA._jsonSchemaVersion),bytes:gi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new zt(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new na(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new zt(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new zt(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rr(this._lat,e._lat)||rr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yc._jsonSchemaVersion}}static fromJSON(e){if(pg(e,yc._jsonSchema))return new yc(e.latitude,e.longitude)}}yc._jsonSchemaVersion="firestore/geoPoint/1.0",yc._jsonSchema={type:gi("string",yc._jsonSchemaVersion),latitude:gi("number"),longitude:gi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pg(e,wc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new wc(e.vectorValues);throw new zt(ft.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wc._jsonSchemaVersion="firestore/vectorValue/1.0",wc._jsonSchema={type:gi("string",wc._jsonSchemaVersion),vectorValues:gi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=/^__.*__$/;class qU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new xd(e,this.data,this.fieldMask,t,this.fieldTransforms):new gg(e,this.data,t,this.fieldTransforms)}}class Zx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new xd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xn(40011,{Ac:n})}}class L1{constructor(e,t,r,i,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new L1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return e0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(eC(this.Ac)&&zU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $U{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||E0(e)}Cc(e,t,r,i=!1){return new L1({Ac:e,methodName:t,Dc:r,path:na.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bg(n){const e=n._freezeSettings(),t=E0(n._databaseId);return new $U(n._databaseId,!!e.ignoreUndefinedProperties,t)}function D1(n,e,t,r,i,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,e,t,i);P1("Data must be an object, but it was:",c,r);const d=rC(r,c);let u,p;if(o.merge)u=new sA(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const h=[];for(const b of o.mergeFields){const x=_y(e,b,t);if(!c.contains(x))throw new zt(ft.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);iC(h,x)||h.push(x)}u=new sA(h),p=c.fieldTransforms.filter((b=>u.covers(b.field)))}else u=null,p=c.fieldTransforms;return new qU(new Eo(d),u,p)}class T0 extends N0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof T0}}class O1 extends N0{_toFieldTransform(e){return new M3(e.path,new tg)}isEqual(e){return e instanceof O1}}function tC(n,e,t,r){const i=n.Cc(1,e,t);P1("Data must be an object, but it was:",i,r);const o=[],c=Eo.empty();Bd(r,((u,p)=>{const h=M1(e,u,t);p=ps(p);const b=i.yc(h);if(p instanceof T0)o.push(h);else{const x=Bg(p,b);x!=null&&(o.push(h),c.set(h,x))}}));const d=new sA(o);return new Zx(c,d,i.fieldTransforms)}function nC(n,e,t,r,i,o){const c=n.Cc(1,e,t),d=[_y(e,r,t)],u=[i];if(o.length%2!=0)throw new zt(ft.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)d.push(_y(e,o[x])),u.push(o[x+1]);const p=[],h=Eo.empty();for(let x=d.length-1;x>=0;--x)if(!iC(p,d[x])){const w=d[x];let R=u[x];R=ps(R);const F=c.yc(w);if(R instanceof T0)p.push(w);else{const Q=Bg(R,F);Q!=null&&(p.push(w),h.set(w,Q))}}const b=new sA(p);return new Zx(h,b,c.fieldTransforms)}function WU(n,e,t,r=!1){return Bg(t,n.Cc(r?4:3,e))}function Bg(n,e){if(sC(n=ps(n)))return P1("Unsupported field value:",e,n),rC(n,e);if(n instanceof N0)return(function(r,i){if(!eC(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let c=0;for(const d of r){let u=Bg(d,i.wc(c));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),c++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=ps(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return D3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Kr.fromDate(r);return{timestampValue:Ym(i.serializer,o)}}if(r instanceof Kr){const o=new Kr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ym(i.serializer,o)}}if(r instanceof yc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof UA)return{bytesValue:vx(i.serializer,r._byteString)};if(r instanceof ti){const o=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw i.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:B1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof wc)return(function(c,d){return{mapValue:{fields:{[q5]:{stringValue:$5},[zm]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return y1(d.serializer,p)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${p0(r)}`)})(n,e)}function rC(n,e){const t={};return k5(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bd(n,((r,i)=>{const o=Bg(i,e.mc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function sC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Kr||n instanceof yc||n instanceof UA||n instanceof ti||n instanceof N0||n instanceof wc)}function P1(n,e,t){if(!sC(t)||!P5(t)){const r=p0(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function _y(n,e,t){if((e=ps(e))instanceof wg)return e._internalPath;if(typeof e=="string")return M1(n,e);throw e0("Field path arguments must be of type string or ",n,!1,void 0,t)}const YU=new RegExp("[~\\*/\\[\\]]");function M1(n,e,t){if(e.search(YU)>=0)throw e0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wg(...e.split("."))._internalPath}catch{throw e0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function e0(n,e,t,r,i){const o=r&&!r.isEmpty(),c=i!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let u="";return(o||c)&&(u+=" (found",o&&(u+=` in field ${r}`),c&&(u+=` in document ${i}`),u+=")"),new zt(ft.INVALID_ARGUMENT,d+n+u)}function iC(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ti(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(U0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class XU extends aC{data(){return super.data()}}function U0(n,e){return typeof e=="string"?M1(n,e):e instanceof wg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new zt(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class k1{}class H1 extends k1{}function wh(n,e,...t){let r=[];e instanceof k1&&r.push(e),r=r.concat(t),(function(o){const c=o.filter((u=>u instanceof V1)).length,d=o.filter((u=>u instanceof F0)).length;if(c>1||c>0&&d>0)throw new zt(ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class F0 extends H1{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new F0(e,t,r)}_apply(e){const t=this._parse(e);return oC(e._query,t),new Cd(e.firestore,e.converter,my(e._query,t))}_parse(e){const t=bg(e.firestore);return(function(o,c,d,u,p,h,b){let x;if(p.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new zt(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Fb(b,h);const R=[];for(const F of b)R.push(Ub(u,o,F));x={arrayValue:{values:R}}}else x=Ub(u,o,b)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Fb(b,h),x=WU(d,c,b,h==="in"||h==="not-in");return pi.create(p,h,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function t0(n,e,t){const r=e,i=U0("where",n);return F0._create(i,r,t)}class V1 extends k1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new V1(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Nl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let c=i;const d=o.getFlattenedFilters();for(const u of d)oC(c,u),c=my(c,u)})(e._query,t),new Cd(e.firestore,e.converter,my(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class K1 extends H1{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new K1(e,t)}_apply(e){const t=(function(i,o,c){if(i.startAt!==null)throw new zt(ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new zt(ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eg(o,c)})(e._query,this._field,this._direction);return new Cd(e.firestore,e.converter,(function(i,o){const c=i.explicitOrderBy.concat([o]);return new Rf(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function sg(n,e="asc"){const t=e,r=U0("orderBy",n);return K1._create(r,t)}class G1 extends H1{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new G1(e,t,r)}_apply(e){return new Cd(e.firestore,e.converter,$m(e._query,this._limit,this._limitType))}}function ZU(n){return G1._create("limit",n,"F")}function Ub(n,e,t){if(typeof(t=ps(t))=="string"){if(t==="")throw new zt(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nx(e)&&t.indexOf("/")!==-1)throw new zt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(as.fromString(t));if(!ln.isDocumentKey(r))throw new zt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return W2(n,new ln(r))}if(t instanceof ti)return W2(n,t._key);throw new zt(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${p0(t)}.`)}function Fb(n,e){if(!Array.isArray(n)||n.length===0)throw new zt(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oC(n,e){const t=(function(i,o){for(const c of i)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new zt(ft.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new zt(ft.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class eF{convertValue(e,t="none"){switch(gd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Bd(e,((i,o)=>{r[i]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[zm].arrayValue?.values?.map((r=>Xs(r.doubleValue)));return new wc(t)}convertGeoPoint(e){return new yc(Xs(e.latitude),Xs(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=v0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Xp(e));default:return null}}convertTimestamp(e){const t=fd(e);return new Kr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=as.fromString(e);Nr(Cx(r),9688,{name:e});const i=new Jp(r.get(1),r.get(3)),o=new ln(r.popFirst(5));return i.isEqual(t)||pu(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Fp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uh extends aC{constructor(e,t,r,i,o,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Um(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(U0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new zt(ft.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=uh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}uh._jsonSchemaVersion="firestore/documentSnapshot/1.0",uh._jsonSchema={type:gi("string",uh._jsonSchemaVersion),bundleSource:gi("string","DocumentSnapshot"),bundleName:gi("string"),bundle:gi("string")};class Um extends uh{data(e={}){return super.data(e)}}class vf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Fp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Um(this._firestore,this._userDataWriter,r.key,r,new Fp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new zt(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((d=>{const u=new Um(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Fp(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:u,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const u=new Um(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Fp(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,h=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),h=c.indexOf(d.doc.key)),{type:tF(d.type),doc:u,oldIndex:p,newIndex:h}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new zt(ft.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=d1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xn(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(n){n=LA(n,ti);const e=LA(n.firestore,Ed);return kU(j0(e),n._key).then((t=>nF(e,n,t)))}vf._jsonSchemaVersion="firestore/querySnapshot/1.0",vf._jsonSchema={type:gi("string",vf._jsonSchemaVersion),bundleSource:gi("string","QuerySnapshot"),bundleName:gi("string"),bundle:gi("string")};class AC extends eF{constructor(e){super(),this.firestore=e}convertBytes(e){return new UA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ti(this.firestore,null,t)}}function ra(n){n=LA(n,Cd);const e=LA(n.firestore,Ed),t=j0(e),r=new AC(e);return JU(n._query),HU(t,n._query).then((i=>new vf(e,r,n,i)))}function FA(n,e,t){n=LA(n,ti);const r=LA(n.firestore,Ed),i=z1(n.converter,e,t);return xg(r,[D1(bg(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,so.none())])}function ig(n,e,t,...r){n=LA(n,ti);const i=LA(n.firestore,Ed),o=bg(i);let c;return c=typeof(e=ps(e))=="string"||e instanceof wg?nC(o,"updateDoc",n._key,e,t,r):tC(o,"updateDoc",n._key,e),xg(i,[c.toMutation(n._key,so.exists(!0))])}function ou(n){return xg(LA(n.firestore,Ed),[new x0(n._key,so.none())])}function Tl(n,e){const t=LA(n.firestore,Ed),r=sr(n),i=z1(n.converter,e);return xg(t,[D1(bg(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,so.exists(!1))]).then((()=>r))}function xg(n,e){return(function(r,i){const o=new lu;return r.asyncQueue.enqueueAndForget((async()=>jU(await MU(r),i,o))),o.promise})(j0(n),e)}function nF(n,e,t){const r=t.docs.get(e._key),i=new AC(n);return new uh(n,i,e._key,r,new Fp(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bg(e)}set(e,t,r){this._verifyNotCommitted();const i=Pv(e,this._firestore),o=z1(i.converter,t,r),c=D1(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,so.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Pv(e,this._firestore);let c;return c=typeof(t=ps(t))=="string"||t instanceof wg?nC(this._dataReader,"WriteBatch.update",o._key,t,r,i):tC(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,so.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Pv(e,this._firestore);return this._mutations=this._mutations.concat(new x0(t._key,so.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new zt(ft.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pv(n,e){if((n=ps(n)).firestore!==e)throw new zt(ft.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function _n(){return new O1("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(n){return j0(n=LA(n,Ed)),new rF(n,(e=>xg(n,e)))}(function(e,t=!0){(function(i){Uf=i})(Eh),jl(new QA("firestore",((r,{instanceIdentifier:i,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new Ed(new WN(r.getProvider("auth-internal")),new JN(c,r.getProvider("app-check-internal")),(function(p,h){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new zt(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jp(p.options.projectId,h)})(c,i),c);return o={useFetchStreams:t,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),So(L2,D2,e),So(L2,D2,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="firebasestorage.googleapis.com",sF="storageBucket",iF=120*1e3,aF=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends DA{constructor(e,t,r=0){super(Mv(e),`Firebase Storage: ${t} (${Mv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_c.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Cc;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Cc||(Cc={}));function Mv(n){return"storage/"+n}function oF(){const n="An unknown error occurred, please check the error payload for server response.";return new _c(Cc.UNKNOWN,n)}function AF(){return new _c(Cc.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lF(){return new _c(Cc.CANCELED,"User canceled the upload/download.")}function cF(n){return new _c(Cc.INVALID_URL,"Invalid URL '"+n+"'.")}function uF(n){return new _c(Cc.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Qb(n){return new _c(Cc.INVALID_ARGUMENT,n)}function cC(){return new _c(Cc.APP_DELETED,"The Firebase app was deleted.")}function dF(n){return new _c(Cc.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Sl.makeFromUrl(e,t)}catch{return new Sl(e,"")}if(r.path==="")return r;throw uF(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+i+c,"i"),u={bucket:1,path:3};function p(O){O.path_=decodeURIComponent(O.path)}const h="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",w=new RegExp(`^https?://${b}/${h}/b/${i}/o${x}`,"i"),R={bucket:1,path:3},F=t===lC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,Q="([^?#]*)",I=new RegExp(`^https?://${F}/${i}/${Q}`,"i"),_=[{regex:d,indices:u,postModify:o},{regex:w,indices:R,postModify:p},{regex:I,indices:{bucket:1,path:2},postModify:p}];for(let O=0;O<_.length;O++){const z=_[O],$=z.regex.exec(e);if($){const U=$[z.indices.bucket];let L=$[z.indices.path];L||(L=""),r=new Sl(U,L),z.postModify(r);break}}if(r==null)throw cF(e);return r}}class hF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(n,e,t){let r=1,i=null,o=null,c=!1,d=0;function u(){return d===2}let p=!1;function h(...Q){p||(p=!0,e.apply(null,Q))}function b(Q){i=setTimeout(()=>{i=null,n(w,u())},Q)}function x(){o&&clearTimeout(o)}function w(Q,...I){if(p){x();return}if(Q){x(),h.call(null,Q,...I);return}if(u()||c){x(),h.call(null,Q,...I);return}r<64&&(r*=2);let _;d===1?(d=2,_=0):_=(r+Math.random())*1e3,b(_)}let R=!1;function F(Q){R||(R=!0,x(),!p&&(i!==null?(Q||(d=2),clearTimeout(i),b(0)):Q||(d=1)))}return b(0),o=setTimeout(()=>{c=!0,F(!0)},t),F}function pF(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(n){return n!==void 0}function Rb(n,e,t,r){if(r<e)throw Qb(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Qb(`Invalid value for '${n}'. Expected ${t} or less.`)}function mF(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var n0;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(n0||(n0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,t,r,i,o,c,d,u,p,h,b,x=!0,w=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=u,this.timeout_=p,this.progressCallback_=h,this.connectionFactory_=b,this.retry=x,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,F)=>{this.resolve_=R,this.reject_=F,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new hm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{const u=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,p)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===n0.NO_ERROR,u=o.getStatus();if(!d||vF(u,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===n0.ABORT;r(!1,new hm(!1,null,h));return}const p=this.successCodes_.indexOf(u)!==-1;r(!0,new hm(p,o))})},t=(r,i)=>{const o=this.resolve_,c=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(d,d.getResponse());gF(u)?o(u):o()}catch(u){c(u)}else if(d!==null){const u=oF();u.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,u)):c(u)}else if(i.canceled){const u=this.appDelete_?cC():lF();c(u)}else{const u=AF();c(u)}};this.canceled_?t(!1,new hm(!1,null,!0)):this.backoffId_=fF(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hm{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function wF(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function bF(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function BF(n,e){e&&(n["X-Firebase-GMPID"]=e)}function xF(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function CF(n,e,t,r,i,o,c=!0,d=!1){const u=mF(n.urlParams),p=n.url+u,h=Object.assign({},n.headers);return BF(h,e),wF(h,t),bF(h,o),xF(h,r),new yF(p,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function SF(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,t){this._service=e,t instanceof Sl?this._location=t:this._location=Sl.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new r0(e,t)}get root(){const e=new Sl(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SF(this._location.path)}get storage(){return this._service}get parent(){const e=EF(this._location.path);if(e===null)return null;const t=new Sl(this._location.bucket,e);return new r0(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw dF(e)}}function Lb(n,e){const t=e?.[sF];return t==null?null:Sl.makeFromBucketSpec(t,n)}function _F(n,e,t,r={}){n.host=`${e}:${t}`;const i=xh(e);i&&(Jy(`https://${n.host}/b`),Zy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:PB(o,n.app.options.projectId))}class IF{constructor(e,t,r,i,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=lC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iF,this._maxUploadRetryTime=aF,this._requests=new Set,i!=null?this._bucket=Sl.makeFromBucketSpec(i,this._host):this._bucket=Lb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sl.makeFromBucketSpec(this._url,e):this._bucket=Lb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Rb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Rb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ro(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new r0(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new hF(cC());{const c=CF(e,this._appId,r,i,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const Db="@firebase/storage",Ob="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="storage";function jF(n=u0(),e){n=ps(n);const r=bd(n,uC).getImmediate({identifier:e}),i=LB("storage");return i&&NF(r,...i),r}function NF(n,e,t,r={}){_F(n,e,t,r)}function TF(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new IF(t,r,i,e,Eh)}function UF(){jl(new QA(uC,TF,"PUBLIC").setMultipleInstances(!0)),So(Db,Ob,""),So(Db,Ob,"esm2020")}UF();const dC="@firebase/installations",q1="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=1e4,fC=`w:${q1}`,pC="FIS_v2",FF="https://firebaseinstallations.googleapis.com/v1",QF=3600*1e3,RF="installations",LF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bh=new Ch(RF,LF,DF);function gC(n){return n instanceof DA&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC({projectId:n}){return`${FF}/projects/${n}/installations`}function vC(n){return{token:n.token,requestStatus:2,expiresIn:PF(n.expiresIn),creationTime:Date.now()}}async function yC(n,e){const r=(await e.json()).error;return bh.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function wC({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function OF(n,{refreshToken:e}){const t=wC(n);return t.append("Authorization",MF(e)),t}async function bC(n){const e=await n();return e.status>=500&&e.status<600?n():e}function PF(n){return Number(n.replace("s","000"))}function MF(n){return`${pC} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kF({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=mC(n),i=wC(n),o=e.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const c={fid:t,authVersion:pC,appId:n.appId,sdkVersion:fC},d={method:"POST",headers:i,body:JSON.stringify(c)},u=await bC(()=>fetch(r,d));if(u.ok){const p=await u.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:vC(p.authToken)}}else throw await yC("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=/^[cdef][\w-]{21}$/,Iy="";function KF(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=GF(n);return VF.test(t)?t:Iy}catch{return Iy}}function GF(n){return HF(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=new Map;function CC(n,e){const t=R0(n);EC(t,e),zF(t,e)}function EC(n,e){const t=xC.get(n);if(t)for(const r of t)r(e)}function zF(n,e){const t=qF();t&&t.postMessage({key:n,fid:e}),$F()}let lh=null;function qF(){return!lh&&"BroadcastChannel"in self&&(lh=new BroadcastChannel("[Firebase] FID Change"),lh.onmessage=n=>{EC(n.data.key,n.data.fid)}),lh}function $F(){xC.size===0&&lh&&(lh.close(),lh=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF="firebase-installations-database",YF=1,Bh="firebase-installations-store";let kv=null;function $1(){return kv||(kv=GB(WF,YF,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Bh)}}})),kv}async function s0(n,e){const t=R0(n),i=(await $1()).transaction(Bh,"readwrite"),o=i.objectStore(Bh),c=await o.get(t);return await o.put(e,t),await i.done,(!c||c.fid!==e.fid)&&CC(n,e.fid),e}async function SC(n){const e=R0(n),r=(await $1()).transaction(Bh,"readwrite");await r.objectStore(Bh).delete(e),await r.done}async function L0(n,e){const t=R0(n),i=(await $1()).transaction(Bh,"readwrite"),o=i.objectStore(Bh),c=await o.get(t),d=e(c);return d===void 0?await o.delete(t):await o.put(d,t),await i.done,d&&(!c||c.fid!==d.fid)&&CC(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(n){let e;const t=await L0(n.appConfig,r=>{const i=XF(r),o=JF(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===Iy?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function XF(n){const e=n||{fid:KF(),registrationStatus:0};return _C(e)}function JF(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(bh.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=ZF(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:eQ(n)}:{installationEntry:e}}async function ZF(n,e){try{const t=await kF(n,e);return s0(n.appConfig,t)}catch(t){throw gC(t)&&t.customData.serverCode===409?await SC(n.appConfig):await s0(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function eQ(n){let e=await Pb(n.appConfig);for(;e.registrationStatus===1;)await BC(100),e=await Pb(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await W1(n);return r||t}return e}function Pb(n){return L0(n,e=>{if(!e)throw bh.create("installation-not-found");return _C(e)})}function _C(n){return tQ(n)?{fid:n.fid,registrationStatus:0}:n}function tQ(n){return n.registrationStatus===1&&n.registrationTime+hC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nQ({appConfig:n,heartbeatServiceProvider:e},t){const r=rQ(n,t),i=OF(n,t),o=e.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const c={installation:{sdkVersion:fC,appId:n.appId}},d={method:"POST",headers:i,body:JSON.stringify(c)},u=await bC(()=>fetch(r,d));if(u.ok){const p=await u.json();return vC(p)}else throw await yC("Generate Auth Token",u)}function rQ(n,{fid:e}){return`${mC(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y1(n,e=!1){let t;const r=await L0(n.appConfig,o=>{if(!IC(o))throw bh.create("not-registered");const c=o.authToken;if(!e&&aQ(c))return o;if(c.requestStatus===1)return t=sQ(n,e),o;{if(!navigator.onLine)throw bh.create("app-offline");const d=AQ(o);return t=iQ(n,d),d}});return t?await t:r.authToken}async function sQ(n,e){let t=await Mb(n.appConfig);for(;t.authToken.requestStatus===1;)await BC(100),t=await Mb(n.appConfig);const r=t.authToken;return r.requestStatus===0?Y1(n,e):r}function Mb(n){return L0(n,e=>{if(!IC(e))throw bh.create("not-registered");const t=e.authToken;return lQ(t)?{...e,authToken:{requestStatus:0}}:e})}async function iQ(n,e){try{const t=await nQ(n,e),r={...e,authToken:t};return await s0(n.appConfig,r),t}catch(t){if(gC(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await SC(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await s0(n.appConfig,r)}throw t}}function IC(n){return n!==void 0&&n.registrationStatus===2}function aQ(n){return n.requestStatus===2&&!oQ(n)}function oQ(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+QF}function AQ(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function lQ(n){return n.requestStatus===1&&n.requestTime+hC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cQ(n){const e=n,{installationEntry:t,registrationPromise:r}=await W1(e);return r?r.catch(console.error):Y1(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uQ(n,e=!1){const t=n;return await dQ(t),(await Y1(t,e)).token}async function dQ(n){const{registrationPromise:e}=await W1(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hQ(n){if(!n||!n.options)throw Hv("App Configuration");if(!n.name)throw Hv("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Hv(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Hv(n){return bh.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="installations",fQ="installations-internal",pQ=n=>{const e=n.getProvider("app").getImmediate(),t=hQ(e),r=bd(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},gQ=n=>{const e=n.getProvider("app").getImmediate(),t=bd(e,jC).getImmediate();return{getId:()=>cQ(t),getToken:i=>uQ(t,i)}};function mQ(){jl(new QA(jC,pQ,"PUBLIC")),jl(new QA(fQ,gQ,"PRIVATE"))}mQ();So(dC,q1);So(dC,q1,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="analytics",vQ="firebase_id",yQ="origin",wQ=60*1e3,bQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",X1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new c0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},aA=new Ch("analytics","Analytics",BQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xQ(n){if(!n.startsWith(X1)){const e=aA.create("invalid-gtag-resource",{gtagURL:n});return _o.warn(e.message),""}return n}function NC(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function CQ(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function EQ(n,e){const t=CQ("firebase-js-sdk-policy",{createScriptURL:xQ}),r=document.createElement("script"),i=`${X1}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function SQ(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function _Q(n,e,t,r,i,o){const c=r[i];try{if(c)await e[c];else{const u=(await NC(t)).find(p=>p.measurementId===i);u&&await e[u.appId]}}catch(d){_o.error(d)}n("config",i,o)}async function IQ(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const d=await NC(t);for(const u of c){const p=d.find(b=>b.measurementId===u),h=p&&e[p.appId];if(h)o.push(h);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",r,i||{})}catch(o){_o.error(o)}}function jQ(n,e,t,r){async function i(o,...c){try{if(o==="event"){const[d,u]=c;await IQ(n,e,t,d,u)}else if(o==="config"){const[d,u]=c;await _Q(n,e,t,r,d,u)}else if(o==="consent"){const[d,u]=c;n("consent",d,u)}else if(o==="get"){const[d,u,p]=c;n("get",d,u,p)}else if(o==="set"){const[d]=c;n("set",d)}else n(o,...c)}catch(d){_o.error(d)}}return i}function NQ(n,e,t,r,i){let o=function(...c){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=jQ(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function TQ(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(X1)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UQ=30,FQ=1e3;class QQ{constructor(e={},t=FQ){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const TC=new QQ;function RQ(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function LQ(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:RQ(t)},i=bQ.replace("{app-id}",e),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let c="";try{const d=await o.json();d.error?.message&&(c=d.error.message)}catch{}throw aA.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function DQ(n,e=TC,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw aA.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw aA.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new MQ;return setTimeout(async()=>{d.abort()},wQ),UC({appId:r,apiKey:i,measurementId:o},c,d,e)}async function UC(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=TC){const{appId:o,measurementId:c}=n;try{await OQ(r,e)}catch(d){if(c)return _o.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:o,measurementId:c};throw d}try{const d=await LQ(n);return i.deleteThrottleMetadata(o),d}catch(d){const u=d;if(!PQ(u)){if(i.deleteThrottleMetadata(o),c)return _o.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:c};throw d}const p=Number(u?.customData?.httpStatus)===503?o2(t,i.intervalMillis,UQ):o2(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return i.setThrottleMetadata(o,h),_o.debug(`Calling attemptFetch again in ${p} millis`),UC(n,h,r,i)}}function OQ(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(aA.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function PQ(n){if(!(n instanceof DA)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class MQ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function kQ(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const o=await e,c={...r,send_to:o};n("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HQ(){if(kB())try{await HB()}catch(n){return _o.warn(aA.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return _o.warn(aA.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function VQ(n,e,t,r,i,o,c){const d=DQ(n);d.then(x=>{t[x.measurementId]=x.appId,n.options.measurementId&&x.measurementId!==n.options.measurementId&&_o.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>_o.error(x)),e.push(d);const u=HQ().then(x=>{if(x)return r.getId()}),[p,h]=await Promise.all([d,u]);TQ(o)||EQ(o,p.measurementId),i("js",new Date);const b=c?.config??{};return b[yQ]="firebase",b.update=!0,h!=null&&(b[vQ]=h),i("config",p.measurementId,b),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ{constructor(e){this.app=e}_delete(){return delete Mp[this.app.options.appId],Promise.resolve()}}let Mp={},kb=[];const Hb={};let Vv="dataLayer",GQ="gtag",Vb,FC,Kb=!1;function zQ(){const n=[];if(MB()&&n.push("This is a browser extension environment."),i_()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=aA.create("invalid-analytics-context",{errorInfo:e});_o.warn(t.message)}}function qQ(n,e,t){zQ();const r=n.options.appId;if(!r)throw aA.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)_o.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw aA.create("no-api-key");if(Mp[r]!=null)throw aA.create("already-exists",{id:r});if(!Kb){SQ(Vv);const{wrappedGtag:o,gtagCore:c}=NQ(Mp,kb,Hb,Vv,GQ);FC=o,Vb=c,Kb=!0}return Mp[r]=VQ(n,kb,Hb,e,Vb,Vv,t),new KQ(n)}function $Q(n=u0()){n=ps(n);const e=bd(n,i0);return e.isInitialized()?e.getImmediate():WQ(n)}function WQ(n,e={}){const t=bd(n,i0);if(t.isInitialized()){const i=t.getImmediate();if(dd(e,t.getOptions()))return i;throw aA.create("already-initialized")}return t.initialize({options:e})}function YQ(n,e,t,r){n=ps(n),kQ(FC,Mp[n.app.options.appId],e,t,r).catch(i=>_o.error(i))}const Gb="@firebase/analytics",zb="0.10.18";function XQ(){jl(new QA(i0,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return qQ(r,i,t)},"PUBLIC")),jl(new QA("analytics-internal",n,"PRIVATE")),So(Gb,zb),So(Gb,zb,"esm2020");function n(e){try{const t=e.getProvider(i0).getImmediate();return{logEvent:(r,i,o)=>YQ(t,r,i,o)}}catch(t){throw aA.create("interop-component-reg-failed",{reason:t})}}}XQ();const JQ={apiKey:"AIzaSyB4q6_RuoN3C0T9vc9n-dcq9p21N3I4CAQ",authDomain:"theatre-activities.firebaseapp.com",projectId:"theatre-activities",storageBucket:"theatre-activities.firebasestorage.app",messagingSenderId:"213207908071",appId:"1:213207908071:web:b1a2b4552c186ad3576c42",measurementId:"G-W4J02STN0N"},D0=zB(JQ),nu=GN(D0),Yt=KU(D0);jF(D0);$Q(D0);const sd={async addActivity(n){try{const e=await Tl(nr(Yt,"activities"),{...n,createdAt:_n(),updatedAt:_n()});return console.log("تم إضافة النشاط بنجاح:",e.id),e.id}catch(e){throw console.error("خطأ في إضافة النشاط:",e),e}},async getAllActivities(){try{const n=wh(nr(Yt,"activities"),sg("createdAt","desc")),e=await ra(n),t=[];return e.forEach(r=>{t.push({id:r.id,...r.data()})}),console.log("تم جلب الأنشطة بنجاح:",t.length),t}catch(n){return console.error("خطأ في الحصول على الأنشطة:",n),[]}},async getActivityById(n){try{const e=sr(Yt,"activities",n),t=await _f(e);return t.exists()?{id:t.id,...t.data()}:(console.log("النشاط غير موجود:",n),null)}catch(e){return console.error("خطأ في الحصول على النشاط:",e),null}},async updateActivity(n,e){try{const t=sr(Yt,"activities",n);return await ig(t,{...e,updatedAt:_n()}),console.log("تم تحديث النشاط بنجاح:",n),!0}catch(t){throw console.error("خطأ في تحديث النشاط:",t),t}},async linkReportToActivity(n,e){try{const t=sr(Yt,"activities",n);return await ig(t,{reportId:e,status:"الأنشطة المنجزة",updatedAt:_n()}),console.log("تم ربط التقرير بالنشاط بنجاح:",n,e),!0}catch(t){throw console.error("خطأ في ربط التقرير بالنشاط:",t),t}},async deleteActivity(n){try{const e=sr(Yt,"activities",n);return await ou(e),console.log("تم حذف النشاط بنجاح:",n),!0}catch(e){throw console.error("خطأ في حذف النشاط:",e),e}}},jy={async addActivityReport(n){try{const e=await Tl(nr(Yt,"activity-reports"),{...n,createdAt:_n()});return console.log("تم إضافة تقرير النشاط بنجاح:",e.id),e.id}catch(e){throw console.error("خطأ في إضافة تقرير النشاط:",e),e}},async getAllActivityReports(){try{const n=wh(nr(Yt,"activity-reports"),sg("createdAt","desc")),e=await ra(n),t=[];return e.forEach(r=>{const i=r.data();t.push({id:r.id,...i,createdAt:i.createdAt?.toDate()||new Date})}),console.log("تم جلب تقارير الأنشطة بنجاح:",t.length),t}catch(n){return console.error("خطأ في الحصول على تقارير الأنشطة:",n),[]}},async getActivityReportById(n){try{const e=sr(Yt,"activity-reports",n),t=await _f(e);if(t.exists()){const r=t.data();return{id:t.id,...r,createdAt:r.createdAt?.toDate()||new Date}}else return console.log("تقرير النشاط غير موجود:",n),null}catch(e){return console.error("خطأ في الحصول على تقرير النشاط:",e),null}}},os={async addUser(n){try{const e=this.getAllUsers();if(e.find(o=>o.username===n.username))throw new Error("اسم المستخدم موجود بالفعل");const r={...n,id:"user-"+Date.now(),createdAt:new Date},i=[...e,r];return localStorage.setItem("users",JSON.stringify(i)),console.log("تم إضافة المستخدم:",r),r.id}catch(e){throw console.error("خطأ في إضافة المستخدم:",e),e}},getAllUsers(){try{return JSON.parse(localStorage.getItem("users")||"[]")}catch(n){return console.error("خطأ في جلب المستخدمين:",n),[]}},getCurrentUser(){try{const n=localStorage.getItem("currentUser");return n?JSON.parse(n):null}catch(n){return console.error("خطأ في جلب المستخدم الحالي:",n),null}},getUserByUsername(n){try{return this.getAllUsers().find(t=>t.username===n)||null}catch(e){return console.error("خطأ في الحصول على المستخدم:",e),null}},async updateUser(n,e){try{const t=this.getAllUsers(),r=t.findIndex(i=>i.id===n);if(r===-1)throw new Error("المستخدم غير موجود");return t[r]={...t[r],...e},localStorage.setItem("users",JSON.stringify(t)),console.log("تم تحديث المستخدم:",n),!0}catch(t){throw console.error("خطأ في تحديث المستخدم:",t),t}},async login(n,e){try{const t=this.getUserByUsername(n);if(!t)throw new Error("اسم المستخدم غير صحيح");if(t.password!==e)throw new Error("كلمة المرور غير صحيحة");if(!t.isActive)throw new Error("الحساب غير مفعل");return await this.updateUser(t.id,{lastLogin:new Date}),localStorage.setItem("currentUser",JSON.stringify(t)),console.log("تم تسجيل الدخول بنجاح:",n),t}catch(t){throw console.error("خطأ في تسجيل الدخول:",t),t}},isAdmin(){const n=this.getCurrentUser();return n?n.role==="admin":!1},logout(){localStorage.removeItem("currentUser"),console.log("تم تسجيل الخروج")},refreshCurrentUser(){try{const n=this.getCurrentUser();if(!n)return null;const t=this.getAllUsers().find(r=>r.id===n.id);return t?(localStorage.setItem("currentUser",JSON.stringify(t)),t):n}catch(n){return console.error("خطأ في إعادة تحميل بيانات المستخدم:",n),null}},hasPermission(n){const e=this.getCurrentUser();return e?e.permissions[n]:!1},async deleteUser(n){try{const t=this.getAllUsers().filter(r=>r.id!==n);return localStorage.setItem("users",JSON.stringify(t)),console.log("تم حذف المستخدم:",n),!0}catch(e){throw console.error("خطأ في حذف المستخدم:",e),e}},getUserById(n){try{return this.getAllUsers().find(t=>t.id===n)||null}catch(e){return console.error("خطأ في الحصول على المستخدم:",e),null}},async initializeDefaultAdmin(){if(!this.getAllUsers().some(t=>t.role==="admin")){const t={username:"admin",password:"admin123",fullName:"الأستاذ مصطفى لعرعري",email:"admin@theatre.com",role:"admin",permissions:{canView:!0,canEdit:!0,canDelete:!0,canExportPDF:!0,canAccessSettings:!0,canCreateReports:!0,canEditReports:!0,canDeleteReports:!0,canCreateActivities:!0,canEditActivities:!0,canDeleteActivities:!0,canManageUsers:!0,canViewUserList:!0,canEditUserPermissions:!0,canDeactivateUsers:!0,canAccessArchive:!0,canModifyProgram:!0,canAccessAnalytics:!0},isActive:!0};await this.addUser(t),console.log("تم إنشاء حساب المدير الافتراضي"),console.log("اسم المستخدم: admin"),console.log("كلمة المرور: admin123")}console.log("المدير الافتراضي جاهز. يمكنك الآن إنشاء المستخدمين من صفحة الإعدادات.")}},ZQ=()=>{const[n,e]=pe.useState([]),[t,r]=pe.useState(!0),[i,o]=pe.useState(null);return pe.useEffect(()=>{(async()=>{try{const h=await sd.getAllActivities();e(h),r(!1)}catch(h){o("خطأ في جلب الأنشطة"),console.error(h),r(!1)}})()},[]),{activities:n,loading:t,error:i,addActivity:async p=>{try{r(!0),await sd.addActivity(p)}catch(h){o("خطأ في إضافة النشاط"),console.error(h)}finally{r(!1)}},updateActivity:async(p,h)=>{try{r(!0),await sd.updateActivity(p,h)}catch(b){o("خطأ في تحديث النشاط"),console.error(b)}finally{r(!1)}},deleteActivity:async p=>{try{r(!0),await sd.deleteActivity(p)}catch(h){o("خطأ في حذف النشاط"),console.error(h)}finally{r(!1)}}}},eR=({images:n,onRemoveImage:e})=>{const[t,r]=pe.useState(0),[i,o]=pe.useState("contain"),c=h=>{r(h)},d=()=>{r(t===0?n.length-1:t-1)},u=()=>{r(t===n.length-1?0:t+1)},p=()=>{e(t),t>=n.length-1&&t>0&&r(t-1)};return!n||n.length===0?A.jsx("div",{className:"no-images-placeholder",children:"📷 لا توجد صور بعد - قم برفع صور للنشاط"}):A.jsxs("div",{className:"image-slider",children:[A.jsxs("div",{className:"image-fit-controls",children:[A.jsx("button",{className:`fit-btn ${i==="contain"?"active":""}`,onClick:()=>o("contain"),children:"احتواء كامل"}),A.jsx("button",{className:`fit-btn ${i==="cover"?"active":""}`,onClick:()=>o("cover"),children:"ملء الإطار"}),A.jsx("button",{className:`fit-btn ${i==="fill"?"active":""}`,onClick:()=>o("fill"),children:"تمديد كامل"})]}),A.jsxs("div",{className:"slider-container",children:[A.jsxs("div",{className:"slider-image-container",children:[A.jsx("img",{src:n[t],alt:`صورة ${t+1}`,className:"slider-image",style:{objectFit:i}}),A.jsx("div",{className:"image-caption",children:A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsxs("p",{children:["صورة ",t+1," من ",n.length]}),A.jsx("button",{type:"button",onClick:p,className:"remove-image-btn-slider",title:"حذف هذه الصورة",children:"🗑️ حذف"})]})}),n.length>1&&A.jsxs(A.Fragment,{children:[A.jsx("button",{className:"slider-btn prev-btn",onClick:d,children:"❮"}),A.jsx("button",{className:"slider-btn next-btn",onClick:u,children:"❯"})]})]}),n.length>1&&A.jsx("div",{className:"slider-dots",children:n.map((h,b)=>A.jsx("button",{className:`dot ${b===t?"active":""}`,onClick:()=>c(b)},b))})]})]})},QC=({isOpen:n,onClose:e,onSave:t,selectedActivity:r})=>{const[i,o]=pe.useState(null),c=()=>{const U=new Date,L=["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],G=["يناير","فبراير","مارس","أبريل","ماي","يونيو","يوليوز","غشت","شتنبر","أكتوبر","نونبر","دجنبر"],X=L[U.getDay()],P=U.getDate(),H=G[U.getMonth()],V=U.getFullYear();return`${P} ${X} ${H} ${V}`},[d,u]=pe.useState({title:"",type:"special",content:"",priority:"medium",tags:[],tagInput:"",activityProgram:"",targetGroup:"",location:"",images:[]}),[p,h]=pe.useState(!1);yf.useEffect(()=>{if(n&&r){const U=r.title||"نشاط غير محدد",L=r.date||"غير محدد",G=r.time||"غير محدد",X=r.location||"غير محدد",P=r.description||"غير محدد",H=r.participants||"غير محدد";u(V=>({...V,title:`تقرير ${U}`,content:`تقرير مفصل عن النشاط: ${U}

التاريخ: ${L}
الوقت: ${G}
المكان: ${X}

وصف النشاط:
${P}

المشاركون:
${H}

--- تفاصيل التقرير ---
`,activityProgram:U,targetGroup:H,location:X,type:"special"}))}else n&&!r&&u({title:"",type:"special",content:"",priority:"medium",tags:[],tagInput:"",activityProgram:"",targetGroup:"",location:"",images:[]})},[n,r]);const b=[{value:"urgent",label:"🚨 تقرير عاجل",description:"للأحداث المهمة والعاجلة"},{value:"special",label:"⭐ تقرير خاص",description:"للمناسبات والأحداث المميزة"},{value:"summary",label:"📊 تقرير موجز",description:"ملخص سريع للأنشطة"},{value:"achievement",label:"🏆 تقرير إنجاز",description:"للإنجازات والنجاحات"}],x=[{value:"high",label:"🔴 عالية",color:"#ef4444"},{value:"medium",label:"🟡 متوسطة",color:"#f59e0b"},{value:"low",label:"🟢 منخفضة",color:"#10b981"}],w=(U,L)=>{o({message:U,type:L}),setTimeout(()=>o(null),3e3)},R=(U,L)=>{u(G=>({...G,[U]:L}))},F=()=>{const U=d.tagInput.trim();U&&!d.tags.includes(U)&&u(L=>({...L,tags:[...L.tags,U],tagInput:""}))},Q=U=>{u(L=>({...L,tags:L.tags.filter(G=>G!==U)}))},I=U=>{U.key==="Enter"&&(U.preventDefault(),F())},T=(U,L=!1)=>new Promise((G,X)=>{const P=document.createElement("canvas"),H=P.getContext("2d"),V=new Image;V.onload=()=>{let ge,oe,we;L||U.size>10*1024*1024?(ge=600,oe=450,we=.6):U.size>5*1024*1024?(ge=800,oe=600,we=.7):(ge=1e3,oe=750,we=.8);let{width:be,height:je}=V;be>je?be>ge&&(je=je*ge/be,be=ge):je>oe&&(be=be*oe/je,je=oe),P.width=Math.round(be),P.height=Math.round(je),H&&(H.imageSmoothingEnabled=!0,H.imageSmoothingQuality="high",H.drawImage(V,0,0,P.width,P.height));const re=P.toDataURL("image/jpeg",we);if(re.length>1024*1024&&!L){const de=P.toDataURL("image/jpeg",.5);G(de)}else G(re)},V.onerror=()=>X(new Error("فشل في تحميل الصورة"));const te=new FileReader;te.onload=ge=>{V.src=ge.target?.result},te.onerror=()=>X(new Error("فشل في قراءة الملف")),te.readAsDataURL(U)}),_=async U=>{const L=U.target.files;if(!L)return;h(!0),w(`🔄 بدء معالجة ${L.length} صورة...`,"info");const G=[];let X=0;for(let P=0;P<L.length;P++){const H=L[P];if(!H.type.startsWith("image/")){w(`الملف ${H.name} ليس صورة - تم تجاهله`,"warning");continue}try{w(`🔄 معالجة الصورة ${P+1} من ${L.length}: ${H.name}`,"info");const V=await T(H);G.push(V),X++;const te=(H.size/1024/1024).toFixed(2),ge=(V.length*.75/1024/1024).toFixed(2);console.log(`ضغط ${H.name}: من ${te}MB إلى ${ge}MB`)}catch(V){console.error(`خطأ في معالجة ${H.name}:`,V),w(`فشل في معالجة الصورة ${H.name} - سيتم المحاولة مرة أخرى`,"warning");try{const te=await T(H,!0);G.push(te),X++}catch{w(`تعذر معالجة الصورة ${H.name}`,"error")}}}G.length>0?(u(P=>({...P,images:[...P.images,...G]})),w(`✅ تم رفع وضغط ${X} صورة بنجاح!`,"success")):w("لم يتم رفع أي صورة","warning"),h(!1),U.target.value=""},O=U=>{u(L=>({...L,images:L.images.filter((G,X)=>X!==U)})),w("تم حذف الصورة","info")},z=U=>{if(U.preventDefault(),!d.title.trim()){w("يرجى إدخال عنوان التقرير","error");return}if(!d.content.trim()){w("يرجى إدخال محتوى التقرير","error");return}const L={id:Date.now(),title:d.title.trim(),date:c(),type:d.type,content:d.content.trim(),priority:d.priority,tags:d.tags,createdBy:"الأستاذ مصطفى لعرعري",createdAt:new Date().toISOString(),activityProgram:d.activityProgram.trim(),targetGroup:d.targetGroup.trim(),location:d.location.trim(),images:d.images};t(L),w("تم إنشاء التقرير الخاص بنجاح!","success"),u({title:"",type:"special",content:"",priority:"medium",tags:[],tagInput:"",activityProgram:"",targetGroup:"",location:"",images:[]}),setTimeout(()=>{e()},2e3)},$=()=>{u({title:"",type:"special",content:"",priority:"medium",tags:[],tagInput:"",activityProgram:"",targetGroup:"",location:"",images:[]}),e()};return n?A.jsx("div",{className:"special-report-overlay",children:A.jsxs("div",{className:"special-report-modal",children:[A.jsxs("div",{className:"modal-header",children:[A.jsx("h2",{children:"📝 إنشاء تقرير خاص"}),A.jsx("button",{onClick:$,className:"close-btn",children:"✕"})]}),A.jsxs("form",{onSubmit:z,className:"modal-form",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"نوع التقرير"}),A.jsx("div",{className:"report-types",children:b.map(U=>A.jsxs("div",{className:`report-type-option ${d.type===U.value?"selected":""}`,onClick:()=>R("type",U.value),children:[A.jsx("div",{className:"type-label",children:U.label}),A.jsx("div",{className:"type-description",children:U.description})]},U.value))})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{htmlFor:"title",children:[A.jsx("span",{className:"icon",children:"📄"}),"عنوان التقرير"]}),A.jsx("input",{type:"text",id:"title",value:d.title,onChange:U=>R("title",U.target.value),placeholder:"أدخل عنوان التقرير...",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"مستوى الأولوية"}),A.jsx("div",{className:"priority-levels",children:x.map(U=>A.jsx("button",{type:"button",className:`priority-btn ${d.priority===U.value?"selected":""}`,onClick:()=>R("priority",U.value),style:{borderColor:U.color},children:U.label},U.value))})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{htmlFor:"content",children:[A.jsx("span",{className:"icon",children:"📝"}),"الموضوع (محتوى التقرير)"]}),A.jsx("textarea",{id:"content",value:d.content,onChange:U=>R("content",U.target.value),placeholder:"اكتب موضوع وتفاصيل التقرير هنا...",rows:6,required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{htmlFor:"activityProgram",children:[A.jsx("span",{className:"icon",children:"📅"}),"برنامج النشاط"]}),A.jsx("textarea",{id:"activityProgram",value:d.activityProgram,onChange:U=>R("activityProgram",U.target.value),placeholder:`مثال:
النشاط الأول: التحضير والإعداد
النشاط الثاني: العرض المسرحي
النشاط الثالث: النقاش والتقييم
النشاط الرابع: الختام والتوزيع`,rows:4})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{htmlFor:"targetGroup",children:[A.jsx("span",{className:"icon",children:"👥"}),"الفئة المستفيدة"]}),A.jsx("input",{type:"text",id:"targetGroup",value:d.targetGroup,onChange:U=>R("targetGroup",U.target.value),placeholder:"مثال: طلاب المرحلة الثانوية، جميع المستويات..."})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{htmlFor:"location",children:[A.jsx("span",{className:"icon",children:"📍"}),"مكان النشاط"]}),A.jsx("input",{type:"text",id:"location",value:d.location,onChange:U=>R("location",U.target.value),placeholder:"مثال: قاعة المسرح، الساحة الرئيسية..."})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx("span",{className:"icon",children:"📸"}),"معرض الصور"]}),A.jsx("p",{className:"field-description",children:"قم برفع صور النشاط (أي حجم - سيتم ضغطها تلقائياً). الصور المدعومة: JPG, PNG, GIF, WebP"}),A.jsxs("label",{htmlFor:"images",className:`image-upload-btn ${p?"processing":""}`,children:[A.jsx("span",{className:"icon",children:p?"⏳":"📷"}),p?"جاري المعالجة...":"اختر صور من جهازك",A.jsx("input",{type:"file",id:"images",multiple:!0,accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:_,disabled:p,style:{display:"none"}})]}),d.images.length>0&&A.jsxs("div",{className:"images-preview",children:[A.jsxs("h4",{children:["الصور المرفوعة (",d.images.length,")"]}),A.jsx(eR,{images:d.images,onRemoveImage:O})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx("span",{className:"icon",children:"🏷️"}),"العلامات (اختيارية)"]}),A.jsxs("div",{className:"tags-input",children:[A.jsx("input",{type:"text",value:d.tagInput,onChange:U=>R("tagInput",U.target.value),onKeyDown:I,placeholder:"أضف علامة واضغط Enter..."}),A.jsx("button",{type:"button",onClick:F,className:"add-tag-btn",children:"إضافة"})]}),d.tags.length>0&&A.jsx("div",{className:"tags-list",children:d.tags.map(U=>A.jsxs("span",{className:"tag",children:[U,A.jsx("button",{type:"button",onClick:()=>Q(U),className:"remove-tag",children:"×"})]},U))})]}),A.jsxs("div",{className:"report-info",children:[A.jsxs("div",{className:"info-item",children:[A.jsx("span",{className:"icon",children:"📅"}),A.jsxs("span",{children:["التاريخ: ",c()]})]}),A.jsxs("div",{className:"info-item",children:[A.jsx("span",{className:"icon",children:"👤"}),A.jsx("span",{children:"المؤلف: الأستاذ مصطفى لعرعري"})]})]}),A.jsxs("div",{className:"modal-actions",children:[A.jsx("button",{type:"button",onClick:$,className:"btn-cancel",children:"❌ إلغاء"}),A.jsx("button",{type:"submit",className:"btn-submit",children:"💾 حفظ التقرير"})]})]}),i&&A.jsx(Bc,{message:i.message,type:i.type,onClose:()=>o(null)})]})}):null},J1=n=>{if(!n||typeof n!="string")return"";const e={"٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9"};return n.replace(/[٠-٩]/g,t=>e[t]||t)},Ny=n=>{if(!n||typeof n!="string")return"تاريخ غير محدد";const e=["يناير","فبراير","مارس","أبريل","ماي","يونيو","يوليوز","غشت","شتنبر","أكتوبر","نونبر","دجنبر"];try{const t=new Date(n),r=t.getDate(),i=e[t.getMonth()],o=t.getFullYear();return`${r} ${i} ${o}`}catch(t){return console.warn("خطأ في تحويل التاريخ:",n,t),n}},tR=n=>n?J1(n):"--:--",rA=["يناير","فبراير","مارس","أبريل","ماي","يونيو","يوليوز","غشت","شتنبر","أكتوبر","نونبر","دجنبر"],kp=["شتنبر","أكتوبر","نونبر","دجنبر","يناير","فبراير","مارس","أبريل","ماي","يونيو","يوليوز","غشت"],nR=["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],rR=n=>{const e=n.getDate(),t=rA[n.getMonth()],r=n.getFullYear();return`${nR[n.getDay()]} ${e} ${t} ${r}`},fm=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],sR=()=>{const[n,e]=pe.useState([]),[t,r]=pe.useState(!0),i=()=>{try{const _=localStorage.getItem("customMonths");if(_){const z=JSON.parse(_).map($=>({...$,createdAt:new Date($.createdAt)}));e(z)}else{const O=fm.map((z,$)=>({id:`month-${$+1}`,name:z,order:$+1,isActive:!0,createdAt:new Date}));e(O),o(O)}}catch(_){console.error("خطأ في تحميل الشهور:",_);const O=fm.map((z,$)=>({id:`month-${$+1}`,name:z,order:$+1,isActive:!0,createdAt:new Date}));e(O)}finally{r(!1)}},o=_=>{try{localStorage.setItem("customMonths",JSON.stringify(_))}catch(O){console.error("خطأ في حفظ الشهور:",O)}},c=_=>{e(_),o(_)},d=()=>n.filter(_=>_.isActive).sort((_,O)=>_.order-O.order),u=()=>d().map(_=>_.name),p=_=>n.find(O=>O.name===_&&O.isActive),h=_=>n.find(O=>O.order===_&&O.isActive),b=_=>{const O=p(_);return O?O.order:1},x=_=>{const O=h(_);return O?O.name:"شهر غير معروف"},w=()=>{const _=new Date().getMonth();return h(_+1)},R=()=>{const _=w();return _?_.name:fm[new Date().getMonth()]},F=_=>{const O=h(_+1);return O?O.name:fm[_]||"شهر غير معروف"},Q=_=>{const O=p(_);return O?O.order-1:0},I=()=>{const _=new Date().getFullYear();return d().map(O=>({name:`${O.name} ${_}`,value:`${O.name} ${_}`}))},T=_=>d().map(O=>({name:`${O.name} ${_}`,value:`${O.name} ${_}`}));return pe.useEffect(()=>{i()},[]),pe.useEffect(()=>{const _=O=>{O.key==="customMonths"&&i()};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[]),{months:n,loading:t,updateMonths:c,getActiveMonths:d,getActiveMonthNames:u,getMonthByName:p,getMonthByOrder:h,getMonthNumberByName:b,getMonthNameByNumber:x,getCurrentMonth:w,getCurrentMonthName:R,convertGregorianMonthToCustom:F,convertCustomMonthToGregorian:Q,generateMonthsForCurrentYear:I,generateMonthsForYear:T,loadMonths:i,saveMonths:o}},iR=()=>{const n=Ql(),{activities:e,loading:t,error:r,addActivity:i,updateActivity:o,deleteActivity:c}=ZQ(),[d,u]=pe.useState(!1),[p,h]=pe.useState(null),[b,x]=pe.useState(null),[w,R]=pe.useState(!1),[F,Q]=pe.useState(!1),[I,T]=pe.useState(0),[_,O]=pe.useState(""),{months:z,updateMonths:$,getActiveMonthNames:U}=sR();yf.useEffect(()=>{const Oe=U();if(console.log("🔍 الشهور النشطة الحالية:",Oe),console.log("🔍 الشهور المغربية المطلوبة:",rA),Oe.length===0||!rA.every(rt=>Oe.includes(rt))){console.log("🔧 إعادة تعيين الشهور لتكون مغربية...");const rt=rA.map((Je,pt)=>({id:`month-${pt}`,name:Je,order:pt+1,isActive:!0,createdAt:new Date}));$(rt)}},[]),yf.useEffect(()=>{T(Oe=>Oe+1)},[z]);const[L,G]=pe.useState(null),[X,P]=pe.useState(!1),[H,V]=pe.useState(null),te=e,ge=(Oe,rt)=>{G({message:Oe,type:rt})},oe=()=>{G(null)},we=()=>{u(!d),h(null)},be=Oe=>{const rt=te.find(Je=>Je.id===Oe);rt&&h(rt)},je=async Oe=>{try{if(Oe.id){const{id:rt,...Je}=Oe;await o(rt.toString(),Je)}else throw new Error("معرف النشاط مفقود");h(null),ge("تم حفظ التعديل بنجاح!","success")}catch{ge("خطأ في حفظ التعديل","error")}},re=async Oe=>{const rt=te.find(Je=>Je.id===Oe);if(window.confirm(`هل أنت متأكد من حذف النشاط "${rt?.title}"؟`))try{if(rt?.id)await c(rt.id.toString());else throw new Error("معرف النشاط مفقود");ge("تم حذف النشاط!","warning")}catch{ge("خطأ في حذف النشاط","error")}},de=Oe=>{console.log("🔵 إنشاء تقرير للنشاط:",Oe.title),ge(`فتح نافذة كتابة التقرير للنشاط: ${Oe.title}`,"info"),V(Oe),P(!0)},K=Oe=>{console.log("🔵 عرض التقرير:",Oe),ge("جاري الانتقال إلى التقرير...","info"),setTimeout(()=>{n(`/reports?reportId=${Oe}`)},500)},ne=()=>{ge("جاري الانتقال إلى صفحة التقارير...","info"),setTimeout(()=>{n("/reports")},500)},ce=async Oe=>{if(!(!H||!H.id))try{const rt=Date.now(),Je={...H,status:"الأنشطة المنجزة",reportId:rt};if(H.id)await o(H.id,Je);else throw new Error("معرف النشاط مفقود");console.log("تم إنشاء التقرير:",{id:rt,title:Oe.title,date:Oe.date,summary:Oe.content,activityId:H.id,activityTitle:H.title}),ge(`✅ تم حفظ التقرير وتحديث حالة النشاط "${H.title}" إلى "منجز" بنجاح!`,"success"),P(!1),V(null)}catch(rt){console.error("Error saving special report:",rt),ge("حدث خطأ في حفظ التقرير","error")}},Be=()=>{console.log("🔵 فتح نافذة اختيار الشهر لإضافة نشاط"),R(!0)},he=Oe=>{console.log("🔵 تم اختيار الشهر:",Oe),R(!1),Ie(Oe)},xe=()=>{R(!1)},Se=async()=>{if(F)return;const Oe=te.length,rt=`هل أنت متأكد من حذف جميع الأنشطة؟

سيتم حذف ${Oe} نشاط نهائياً.

هذا الإجراء لا يمكن التراجع عنه!`;if(confirm(rt)){Q(!0);try{if(e.length>0){for(const Je of e)if(Je.id)try{await c(Je.id.toString())}catch(pt){console.error("خطأ في حذف النشاط:",Je.id,pt)}}T(Je=>Je+1),setTimeout(()=>{T(Je=>Je+1)},100),ge(`✅ تم حذف جميع الأنشطة (${Oe} نشاط) بنجاح`,"success")}catch(Je){console.error("خطأ في حذف البيانات:",Je),ge("❌ حدث خطأ في حذف بعض البيانات","error")}finally{Q(!1)}}},Ie=Oe=>{console.log("🔵 بدء إضافة نشاط للشهر:",Oe);const[rt,Je]=Oe.split(" "),pt=`1 ${rt} ${Je}`,_t=te.map(Et=>typeof Et.id=="number"?Et.id:parseInt(Et.id)||0),It={id:(_t.length>0?Math.max(..._t):0)+1,title:"نشاط جديد",date:pt,time:"10:00 صباحاً",location:"قاعة الأنشطة",description:"وصف النشاط الجديد",participants:"جميع المستويات",status:"قيد التحضير"};console.log("🔵 النشاط الجديد:",It),console.log("🔵 تعيين editingActivity..."),h(It),x(Oe)},We=async Oe=>{try{const rt=Ee(Oe.date),Je=rt.getMonth(),pt=rt.getFullYear(),_t=rA[Je];console.log(`💾 حفظ النشاط: ${Oe.title}`),console.log(`📅 التاريخ: ${Oe.date}`),console.log(`📅 التاريخ المحلل: ${rt}`),console.log(`📅 الشهر: ${_t} (${Je})`),console.log(`📅 السنة: ${pt}`);const{id:Nt,...It}=Oe;await i(It),h(null),x(null),T(Et=>Et+1),ge(`✅ تم إضافة النشاط "${Oe.title}" لشهر ${_t} بنجاح!`,"success")}catch(rt){console.error("خطأ في إضافة النشاط:",rt),ge("❌ خطأ في إضافة النشاط","error")}},Xe=()=>{h(null),x(null)},st=({activity:Oe,onSave:rt,onCancel:Je,isNew:pt=!1})=>{const[_t,Nt]=pe.useState(Oe),It=Et=>{Et.preventDefault();const qt=Ee(_t.date),kt=_t.date.split(" ");if(kt.length<3){alert(`⚠️ يرجى إدخال التاريخ بالصيغة الصحيحة: يوم شهر سنة
مثال: 12 شتنبر 2025`);return}const ke=kt[1];if(!rA.includes(ke)){alert(`⚠️ اسم الشهر "${ke}" غير صحيح.
الأشهر المتاحة: ${rA.join(", ")}`);return}console.log(`✅ التاريخ صحيح: ${_t.date} -> ${qt}`),rt(_t)};return A.jsxs("div",{className:"activity-edit-modal",children:[A.jsx("div",{className:"modal-overlay",onClick:Je}),A.jsxs("div",{className:"modal-content",children:[A.jsx("h3",{children:pt?"إضافة نشاط جديد":"تعديل النشاط"}),A.jsxs("form",{onSubmit:It,className:"activity-edit-form",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"اسم النشاط:"}),A.jsx("input",{type:"text",value:_t.title,onChange:Et=>Nt({..._t,title:Et.target.value}),placeholder:"مثال: عرض مسرحي",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"التاريخ:"}),A.jsx("input",{type:"text",value:_t.date,onChange:Et=>Nt({..._t,date:Et.target.value}),placeholder:"مثال: 12 شتنبر 2025 (يوم شهر سنة)",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"الوقت:"}),A.jsx("input",{type:"text",value:_t.time,onChange:Et=>Nt({..._t,time:Et.target.value}),placeholder:"مثال: 10:00 صباحاً",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"المكان:"}),A.jsx("input",{type:"text",value:_t.location,onChange:Et=>Nt({..._t,location:Et.target.value}),placeholder:"مثال: قاعة المسرح الرئيسية",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"المشاركون:"}),A.jsx("input",{type:"text",value:_t.participants,onChange:Et=>Nt({..._t,participants:Et.target.value}),placeholder:"مثال: طلاب الأولى إعدادي",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"الحالة:"}),A.jsxs("select",{value:_t.status,onChange:Et=>Nt({..._t,status:Et.target.value}),required:!0,children:[A.jsx("option",{value:"الأنشطة المنجزة",children:"الأنشطة المنجزة"}),A.jsx("option",{value:"قيد التحضير",children:"قيد التحضير"})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"الوصف:"}),A.jsx("textarea",{value:_t.description,onChange:Et=>Nt({..._t,description:Et.target.value}),rows:3,placeholder:"وصف النشاط...",required:!0})]}),A.jsxs("div",{className:"form-actions",children:[A.jsx("button",{type:"submit",className:"btn btn-primary",children:pt?"إضافة النشاط":"حفظ التعديل"}),A.jsx("button",{type:"button",onClick:Je,className:"btn btn-secondary",children:"إلغاء"})]})]})]})]})},dt=()=>{},Mt=(Oe,rt)=>{Oe==="status"&&O(rt)},Ze=()=>{O("")},Ee=Oe=>{if(!Oe||typeof Oe!="string")return new Date;if(Oe.includes("-")&&Oe.length===10)return new Date(Oe);const rt={};rA.forEach((Je,pt)=>{rt[Je]=pt});try{const Je=Oe.split(" ");if(Je.length>=3){const pt=parseInt(Je[0]),_t=Je[1],Nt=parseInt(Je[2]),It=rt[_t];if(!isNaN(pt)&&It!==void 0&&!isNaN(Nt)){console.log(`🔍 تحليل التاريخ: "${Oe}"`),console.log(`📅 اليوم: ${pt}, الشهر: "${_t}", السنة: ${Nt}`),console.log(`📅 فهرس الشهر في MOROCCAN_MONTHS: ${It}`),console.log(`📅 الشهر المقابل: ${rA[It]}`);const Et=new Date(Nt,It,pt);return console.log(`📅 التاريخ النهائي: ${Et}`),console.log(`📅 الشهر النهائي: ${Et.getMonth()} (${rA[Et.getMonth()]})`),Et}else console.warn(`⚠️ لم يتم العثور على الشهر: "${_t}" في قائمة الأشهر المغربية`),console.log("📋 الأشهر المتاحة:",rA)}}catch(Je){console.warn("خطأ في تحليل التاريخ:",Oe,Je)}return new Date},Ht=Oe=>{if(!Oe)return"تاريخ غير محدد";const rt=Ee(Oe),pt=["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"][rt.getDay()];if(Oe.includes("-")&&Oe.length===10){const Nt=Ny(Oe);return`${pt} ${Nt}`}const _t=J1(Oe);return`${pt} ${_t}`},Ct=pe.useMemo(()=>te.filter(Oe=>_===""||Oe.status===_),[te,_,I]),ct=pe.useMemo(()=>{const Oe={};console.log("🔄 بدء تجميع الأنشطة حسب الشهور..."),console.log("🔍 الأنشطة المفلترة:",Ct.length),console.log("🔍 getActiveMonthNames():",U()),console.log("🔍 MOROCCAN_MONTHS:",rA),Ct.forEach(pt=>{if(!pt||typeof pt!="object"){console.warn("نشاط غير صالح:",pt);return}const _t={...pt,title:pt.title||"نشاط بدون عنوان",time:pt.time||"--:--",location:pt.location||"مكان غير محدد",participants:pt.participants||"غير محدد",status:pt.status||"قيد التحضير"};if(!_t.date){const Nt="بدون تاريخ محدد";Oe[Nt]||(Oe[Nt]=[]),Oe[Nt].push(_t);return}try{const Nt=Ee(_t.date),It=Nt.getMonth(),Et=Nt.getFullYear(),qt=U(),kt=qt.length>0&&qt[It]?qt[It]:rA[It],ke=`${kt} ${Et}`;console.log(`🔧 التجميع: monthIndex=${It}, monthName=${kt}`),console.log(`📊 تجميع النشاط: "${_t.title}"`),console.log(`📅 التاريخ الأصلي: ${_t.date}`),console.log(`📅 التاريخ المحلل: ${Nt}`),console.log(`📅 الشهر: ${kt} (${It})`),console.log(`📅 المجموعة: ${ke}`),Oe[ke]||(Oe[ke]=[],console.log(`📁 إنشاء مجموعة جديدة: ${ke}`)),Oe[ke].push(_t),console.log(`✅ تم إضافة النشاط للمجموعة: ${ke}`)}catch(Nt){console.warn("❌ خطأ في معالجة تاريخ النشاط:",_t,Nt);const It="تاريخ غير صحيح";Oe[It]||(Oe[It]=[]),Oe[It].push(_t)}}),Object.keys(Oe).forEach(pt=>{Oe[pt].sort((_t,Nt)=>{const It=Ee(_t.date),Et=Ee(Nt.date);return It.getTime()-Et.getTime()})});const rt=Object.keys(Oe).sort((pt,_t)=>{const[Nt,It]=pt.split(" "),[Et,qt]=_t.split(" ");if(It!==qt)return parseInt(It)-parseInt(qt);const kt=kp.indexOf(Nt),ke=kp.indexOf(Et);return kt-ke}),Je={};return rt.forEach(pt=>{Oe[pt]&&Oe[pt].length>0&&(Je[pt]=Oe[pt])}),console.log("📊 الشهور النهائية مع الأنشطة:",Object.keys(Je)),Je},[Ct,I,z]);return A.jsxs("div",{className:"page",children:[A.jsx("div",{className:"page-header",children:A.jsxs("div",{className:"container",children:[A.jsx("h1",{children:"البرنامج العام للأنشطة المسرحية"}),A.jsx("p",{children:"جدولة الأنشطة والفعاليات المسرحية المقررة للموسم الدراسي 2025-2026"})]})}),A.jsxs("div",{className:"container",children:[A.jsx(P4,{onSearch:dt,onFilter:Mt,onClearFilters:Ze}),t&&A.jsxs("div",{className:"loading-container",children:[A.jsx("div",{className:"loading-spinner"}),A.jsx("p",{children:"جاري تحميل البيانات من Firebase..."})]}),r&&A.jsx("div",{className:"error-container",children:A.jsx("p",{children:"⚠️ خطأ في الاتصال بـ Firebase. يتم استخدام البيانات المحلية."})}),A.jsxs("div",{className:"print-export-container",children:[A.jsx("button",{onClick:Be,className:"create-btn",title:"إضافة نشاط جديد",children:"➕ إضافة نشاط"}),A.jsx("button",{onClick:ne,className:"program-btn",title:"الانتقال إلى صفحة التقارير",children:"📊 التقارير"}),te.length>0&&A.jsx("button",{onClick:Se,className:"edit-btn",title:"حذف جميع الأنشطة",style:{background:F?"#9ca3af":"#dc2626",cursor:F?"not-allowed":"pointer"},disabled:F,children:F?"⏳ جاري الحذف...":"🗑️ حذف الكل"}),A.jsx(Xy,{title:"البرنامج العام للأنشطة المسرحية",data:Ct,type:"activities",showEditButton:!0,isEditMode:d,onToggleEdit:we})]}),te.length===0?A.jsx("div",{className:"no-activities",children:A.jsxs("div",{className:"text-center py-12",children:[A.jsx("div",{className:"text-6xl mb-4",children:"🎭"}),A.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"لا توجد أنشطة مسرحية حالياً"}),A.jsx("p",{className:"text-gray-600 mb-6",children:"ابدأ بإضافة أنشطة جديدة لبناء برنامجك المسرحي"}),A.jsxs("p",{className:"text-sm text-gray-500",children:['استخدم زر "➕ إضافة نشاط" أعلاه أو اذهب لـ ',A.jsx("a",{href:"/settings",className:"text-blue-600 hover:underline",children:"⚙️ الإعدادات"})," لإعداد Firestore"]})]})}):Ct.length===0?A.jsx("div",{className:"no-activities",children:A.jsx("p",{children:"لا توجد أنشطة تطابق معايير البحث"})}):null,A.jsx("div",{className:"program-by-month",children:Object.keys(ct).length===0?A.jsxs("div",{className:"no-activities-message",style:{textAlign:"center",padding:"3rem",backgroundColor:"#f8fafc",borderRadius:"12px",border:"2px dashed #cbd5e1",margin:"2rem 0"},children:[A.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"🎭"}),A.jsx("h3",{style:{color:"#64748b",marginBottom:"1rem"},children:"لا توجد أنشطة مجدولة حالياً"}),A.jsx("p",{style:{color:"#94a3b8",marginBottom:"2rem"},children:"ابدأ بإضافة أنشطة جديدة لتنظيم برنامجك المسرحي"}),d&&A.jsx("button",{onClick:()=>R(!0),className:"btn btn-primary",style:{padding:"1rem 2rem",fontSize:"1.1rem",borderRadius:"8px"},children:"➕ إضافة أول نشاط"})]}):Object.entries(ct).map(([Oe,rt])=>A.jsxs("div",{className:"month-section",children:[A.jsx("div",{className:"month-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",padding:"1rem",background:"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)",borderRadius:"12px",color:"white"},children:A.jsxs("h2",{className:"month-title",style:{margin:0,fontSize:"1.5rem",fontWeight:"bold"},children:["📅 ",Oe]})}),A.jsxs("div",{className:"program-grid",children:[rt.map(Je=>A.jsxs("div",{className:"session-card",children:[A.jsxs("div",{className:"session-time",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsxs("span",{children:[Ht(Je.date)," - ",tR(Je.time||"--:--")]}),A.jsx("span",{className:`status ${Je.status==="الأنشطة المنجزة"?"confirmed":Je.status==="قيد التحضير"?"pending":"cancelled"}`,children:Je.status})]}),A.jsxs("div",{className:"session-details",children:[A.jsx("h4",{style:{color:"#f59e0b",fontWeight:"bold",fontSize:"1.2rem",marginBottom:"0.5rem"},children:Je.title}),A.jsx("p",{className:"activity-name",children:Je.description}),A.jsxs("p",{className:"room-info",children:["📍 ",Je.location]}),A.jsxs("p",{className:"participants-info",children:["👥 ",Je.participants]}),A.jsx("div",{className:"create-report-section",style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #e5e7eb"},children:Je.status==="الأنشطة المنجزة"&&Je.reportId?A.jsx("button",{onClick:()=>K(Je.reportId),className:"view-report-btn",title:"قراءة تقرير هذا النشاط",children:"📖 قراءة التقرير"}):A.jsx("button",{onClick:()=>de(Je),className:"create-report-btn",title:"إنشاء تقرير لهذا النشاط",children:"📝 إنشاء تقرير"})})]}),d&&A.jsxs("div",{className:"session-actions",children:[A.jsx("button",{onClick:()=>be(Je.id),className:"btn btn-small btn-primary",title:"تعديل",children:"✏️"}),A.jsx("button",{onClick:()=>re(Je.id),className:"btn btn-small btn-danger",title:"حذف",children:"🗑️"})]})]},Je.id)),d&&A.jsx("div",{className:"add-activity-card",children:A.jsxs("button",{onClick:()=>Ie(Oe),className:"add-activity-card-btn",title:"إضافة نشاط جديد لهذا الشهر",children:[A.jsx("div",{className:"add-icon",children:"➕"}),A.jsx("div",{className:"add-text",children:"إضافة نشاط جديد"}),A.jsxs("div",{className:"add-subtext",children:["لشهر ",Oe.split(" ")[0]]})]})})]})]},`${Oe}-${I}`))},I),p&&A.jsx(st,{activity:p,onSave:b?We:je,onCancel:Xe,isNew:!!b}),L&&A.jsx(Bc,{message:L.message,type:L.type,onClose:oe}),w&&A.jsx("div",{className:"modal-overlay",onClick:xe,children:A.jsxs("div",{className:"modal-content",onClick:Oe=>Oe.stopPropagation(),children:[A.jsxs("div",{className:"modal-header",children:[A.jsx("h3",{style:{color:"#1e40af",fontSize:"1.5rem",fontWeight:"bold",margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:"📅 اختر الشهر لإضافة النشاط الجديد"}),A.jsx("button",{onClick:xe,className:"close-btn",style:{background:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"35px",height:"35px",cursor:"pointer",fontSize:"1.2rem",display:"flex",alignItems:"center",justifyContent:"center"},children:"✕"})]}),A.jsxs("div",{className:"modal-body",children:[A.jsx("p",{style:{textAlign:"center",color:"#6b7280",marginBottom:"1.5rem",fontSize:"1rem"},children:"🎭 اختر الشهر الذي تريد إضافة النشاط إليه من الشهور الأكاديمية المغربية"}),A.jsx("div",{className:"months-grid",children:kp.map(Oe=>{const rt=new Date().getFullYear();let Je=rt;["شتنبر","أكتوبر","نونبر","دجنبر"].includes(Oe)?Je=rt:Je=rt+1;const pt=`${Oe} ${Je}`;return A.jsxs("button",{onClick:()=>he(pt),className:"month-btn",title:`إضافة نشاط جديد لشهر ${Oe}`,children:["📅 ",pt]},pt)})})]})]})}),A.jsx(QC,{isOpen:X,onClose:()=>{P(!1),V(null)},onSave:ce,selectedActivity:H}),L&&A.jsx(Bc,{message:L.message,type:L.type,onClose:()=>G(null)})]})]})},ru=({children:n,requireAdmin:e=!1,requirePermission:t,fallback:r=null})=>os.getCurrentUser()?e&&!os.isAdmin()?A.jsx(A.Fragment,{children:r}):t&&!os.hasPermission(t)?A.jsx(A.Fragment,{children:r}):A.jsx(A.Fragment,{children:n}):A.jsx(A.Fragment,{children:r}),aR=()=>{const[n,e]=pe.useState(!1),r=os.getCurrentUser()&&os.hasPermission("canModifyProgram");pe.useEffect(()=>{n&&!r&&e(!1)},[r,n]);const[i,o]=pe.useState(null),[c,d]=pe.useState(null),u=[{day:"الأحد",sessions:[{time:"8:00 - 9:30",class:"ما قبل التمدرس الأول",activity:"ألعاب حركية وتعبيرية",room:"قاعة الأنشطة"},{time:"10:00 - 11:30",class:"الأول ابتدائي",activity:"تمارين التعبير الحركي",room:"قاعة الأنشطة"},{time:"2:00 - 3:30",class:"الثالثة إعدادي 1",activity:"تدريب على النص المسرحي",room:"المسرح الرئيسي"}]},{day:"الاثنين",sessions:[{time:"8:30 - 10:00",class:"ما قبل التمدرس الثاني",activity:"قصص تفاعلية",room:"قاعة الأنشطة"},{time:"10:30 - 12:00",class:"الثاني ابتدائي",activity:"ألعاب مسرحية تعليمية",room:"قاعة الأنشطة"},{time:"2:00 - 3:30",class:"الأولى إعدادي 1",activity:"ورشة الإلقاء",room:"المسرح الرئيسي"}]},{day:"الثلاثاء",sessions:[{time:"8:00 - 9:30",class:"الثالث ابتدائي",activity:"مسرح العرائس",room:"قاعة الأنشطة"},{time:"10:00 - 11:30",class:"الرابع ابتدائي",activity:"التمثيل والحوار",room:"قاعة الأنشطة"},{time:"2:00 - 3:30",class:"الثانية إعدادي 1",activity:"تدريب على الحوار",room:"المسرح الرئيسي"}]},{day:"الأربعاء",sessions:[{time:"8:30 - 10:00",class:"الخامس ابتدائي",activity:"مسرح الظل",room:"قاعة الأنشطة"},{time:"10:30 - 12:00",class:"السادس ابتدائي",activity:"التمثيل الصامت",room:"قاعة الأنشطة"},{time:"2:00 - 3:30",class:"الأولى إعدادي 2",activity:"إعداد العروض",room:"المسرح الرئيسي"}]},{day:"الخميس",sessions:[{time:"9:00 - 10:30",class:"الثانية إعدادي 2",activity:"كتابة النصوص",room:"المسرح الرئيسي"},{time:"11:00 - 12:30",class:"الثالثة إعدادي 2",activity:"الإخراج المسرحي",room:"المسرح الرئيسي"}]}],[p,h]=pe.useState(u),b=()=>{const $=document.createElement("div");$.innerHTML=x(),$.style.position="absolute",$.style.left="-9999px",$.style.top="-9999px",$.style.width="210mm",$.style.fontFamily="Arial, sans-serif",$.style.direction="rtl",$.style.fontSize="12px",document.body.appendChild($),gh(()=>import("./html2canvas.esm-B0tyYwQk.js"),[]).then(U=>{gh(async()=>{const{jsPDF:L}=await Promise.resolve().then(()=>rw);return{jsPDF:L}},void 0).then(({jsPDF:L})=>{U.default($,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}).then(G=>{const X=G.toDataURL("image/png"),P=new L("p","mm","a4"),H=210,V=295,te=G.height*H/G.width;let ge=te,oe=0;for(P.addImage(X,"PNG",0,oe,H,te),ge-=V;ge>=0;)oe=ge-te,P.addPage(),P.addImage(X,"PNG",0,oe,H,te),ge-=V;const je=`البرنامج_الأسبوعي_للطباعة_${(re=>{const de=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"],K=["0","1","2","3","4","5","6","7","8","9"];let ne=re;for(let ce=0;ce<de.length;ce++)ne=ne.replace(new RegExp(de[ce],"g"),K[ce]);return ne})(new Date().toLocaleDateString("ar-EG")).replace(/\//g,"-")}.pdf`;P.save(je),document.body.removeChild($),w("تم تحميل ملف PDF بنجاح!","success")}).catch(G=>{console.error("خطأ في إنشاء PDF:",G),document.body.removeChild($),w("حدث خطأ في تحميل الملف","error")})})}).catch(U=>{console.error("خطأ في تحميل المكتبات:",U),document.body.removeChild($),w("حدث خطأ في تحميل الملف","error")})},x=()=>{const U=(P=>{const H=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"],V=["0","1","2","3","4","5","6","7","8","9"];let te=P;for(let ge=0;ge<H.length;ge++)te=te.replace(new RegExp(H[ge],"g"),V[ge]);return te})(new Date().toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"})),L=p.filter(P=>P.sessions.length>0),G=new Set;L.forEach(P=>{P.sessions.forEach(H=>{G.add(H.time)})});const X=Array.from(G).sort();return`
      <div style="font-family: Arial, sans-serif; direction: rtl; padding: 20px; background: white;">
        <div style="text-align: center; margin-bottom: 30px; padding: 20px; border-bottom: 3px solid #1e3a8a;">
          <h1 style="font-size: 24px; color: #1e3a8a; margin-bottom: 10px;">📅 البرنامج الأسبوعي للحصص المسرحية</h1>
          <p style="font-size: 16px; color: #666; margin: 5px 0;"><strong>الأستاذ مصطفى لعرعري</strong> - مسؤول الأنشطة المسرحية</p>
          <p style="font-size: 14px; color: #666; margin: 5px 0;">مجموعة مدارس العمران</p>
          <p style="font-size: 14px; color: #666; margin: 5px 0;">تاريخ الطباعة: ${U}</p>
        </div>

        ${L.length>0?`
          <table style="width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 14px;">
            <thead>
              <tr>
                <th style="border: 2px solid #1e3a8a; padding: 12px; background: #f59e0b; color: white; font-weight: bold; width: 100px;">⏰ التوقيت</th>
                ${L.map(P=>`<th style="border: 2px solid #1e3a8a; padding: 12px; background: #1e3a8a; color: white; font-weight: bold; min-width: 120px;">📅 ${P.day}</th>`).join("")}
              </tr>
            </thead>
            <tbody>
              ${X.map(P=>`
                <tr>
                  <td style="border: 2px solid #1e3a8a; padding: 10px; background: #f8fafc; font-weight: bold; color: #1e3a8a; text-align: center;">${P}</td>
                  ${L.map(H=>{const V=H.sessions.filter(te=>te.time===P);return`
                      <td style="border: 2px solid #1e3a8a; padding: 8px; min-height: 60px; vertical-align: top;">
                        ${V.length>0?V.map((te,ge)=>`
                            ${ge>0?'<hr style="margin: 5px 0; border: 1px solid #e5e7eb;">':""}
                            <div style="margin: 3px 0; padding: 8px; background: #f0f9ff; border-radius: 4px; border: 1px solid #3b82f6; text-align: center;">
                              <div style="font-weight: bold; color: #1e40af; font-size: 14px;">${te.class}</div>
                            </div>
                          `).join(""):'<div style="color: #9ca3af; font-style: italic; text-align: center;">-</div>'}
                      </td>
                    `}).join("")}
                </tr>
              `).join("")}
            </tbody>
          </table>
        `:'<p style="text-align: center; color: #666; font-size: 18px;">لا توجد حصص مجدولة في البرنامج الأسبوعي.</p>'}

        <div style="text-align: center; margin-top: 30px; padding-top: 20px; border-top: 2px solid #e5e7eb; color: #666; font-size: 12px;">
          <p>🎭 مجموعة مدارس العمران - قسم الأنشطة المسرحية</p>
          <p>تم إنشاء هذا التقرير بواسطة نظام إدارة الأنشطة المسرحية</p>
        </div>
      </div>
    `},w=($,U)=>{d({message:$,type:U})},R=()=>{d(null)},F=($,U)=>{o({dayIndex:$,sessionIndex:U})},Q=($,U,L)=>{const G=[...p];G[$].sessions[U]=L,h(G),o(null),w("تم حفظ التعديل محلياً! (سيتم ربطه بـ Firebase لاحقاً)","success")},I=$=>{const U={time:"00:00 - 00:00",class:"مستوى جديد",activity:"نشاط جديد",room:"قاعة"},L=[...p];L[$].sessions.push(U),h(L),w("تم إضافة حصة جديدة محلياً!","success")},T=()=>{const $=["الجمعة","السبت"],U=p.map(X=>X.day),L=$.find(X=>!U.includes(X));if(!L){w("جميع أيام الأسبوع موجودة بالفعل!","warning");return}const G={day:L,sessions:[]};h([...p,G]),w(`تم إضافة يوم ${L} محلياً!`,"success")},_=$=>{const U=p[$].day;if(window.confirm(`هل أنت متأكد من حذف يوم ${U} وجميع حصصه؟`)){const L=p.filter((G,X)=>X!==$);h(L),w(`تم حذف يوم ${U} محلياً!`,"warning")}},O=($,U)=>{if(window.confirm("هل أنت متأكد من حذف هذه الحصة؟")){const L=[...p];L[$].sessions.splice(U,1),h(L),w("تم حذف الحصة محلياً!","warning")}},z=({session:$,onSave:U,onCancel:L})=>{const[G,X]=pe.useState($),P=H=>{H.preventDefault(),U(G)};return A.jsxs("form",{onSubmit:P,className:"session-edit-form",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"الوقت:"}),A.jsx("input",{type:"text",value:G.time,onChange:H=>X({...G,time:H.target.value}),placeholder:"مثال: 8:00 - 9:30",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"المستوى:"}),A.jsx("input",{type:"text",value:G.class,onChange:H=>X({...G,class:H.target.value}),placeholder:"مثال: الأول ابتدائي",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"النشاط:"}),A.jsx("input",{type:"text",value:G.activity,onChange:H=>X({...G,activity:H.target.value}),placeholder:"مثال: تمارين التعبير الحركي",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"القاعة:"}),A.jsx("input",{type:"text",value:G.room,onChange:H=>X({...G,room:H.target.value}),placeholder:"مثال: قاعة الأنشطة",required:!0})]}),A.jsxs("div",{className:"form-actions",children:[A.jsx("button",{type:"submit",className:"btn btn-primary",children:"حفظ"}),A.jsx("button",{type:"button",onClick:L,className:"btn btn-secondary",children:"إلغاء"})]})]})};return A.jsxs("div",{className:"page",children:[A.jsx("div",{className:"page-header",children:A.jsxs("div",{className:"container",children:[A.jsx("h1",{children:"📅 البرنامج الأسبوعي للحصص المسرحية"}),A.jsx("p",{children:"جدول الحصص المسرحية الأسبوعية لجميع المراحل الدراسية - الموسم 2025-2026"})]})}),A.jsxs("div",{className:"container",children:[A.jsxs("div",{style:{background:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)",color:"white",padding:"1rem",borderRadius:"8px",marginBottom:"2rem",textAlign:"center",boxShadow:"0 4px 12px rgba(251, 191, 36, 0.3)"},children:[A.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"0.5rem"},children:"⚠️ ملاحظة مهمة"}),A.jsx("p",{style:{margin:0,fontSize:"1rem"},children:"البرنامج الأسبوعي يعمل حالياً بالبيانات المحلية. سيتم ربطه بـ Firebase قريباً لحفظ البيانات بشكل دائم."})]}),A.jsx("div",{className:"toolbar",children:A.jsxs("div",{className:"toolbar-section",children:[A.jsx("h3",{children:"🛠️ إدارة البرنامج"}),A.jsxs("div",{className:"toolbar-buttons",children:[A.jsx(ru,{requirePermission:"canModifyProgram",children:A.jsx("button",{onClick:()=>{r&&e(!n)},className:`btn ${n?"btn-warning":"btn-primary"}`,title:n?"إنهاء التعديل":"تفعيل وضع التعديل",children:n?"✅ إنهاء التعديل":"✏️ تعديل البرنامج"})}),A.jsx(ru,{requirePermission:"canModifyProgram",children:A.jsx("button",{onClick:T,className:"btn btn-success",title:"إضافة يوم جديد للبرنامج",children:"➕ إضافة يوم"})}),A.jsx("button",{onClick:b,className:"btn btn-info",title:"تحميل ملف PDF للبرنامج الأسبوعي",children:"📄 تحميل PDF"})]})]})}),n&&A.jsx("div",{className:"edit-mode-notice",children:A.jsxs("div",{className:"notice-content",children:[A.jsx("span",{className:"notice-icon",children:"✏️"}),A.jsxs("div",{className:"notice-text",children:[A.jsx("strong",{children:"وضع التعديل مفعل"}),A.jsx("p",{children:"يمكنك الآن إضافة وتعديل وحذف الحصص والأيام"})]})]})}),A.jsx("div",{className:"weekly-schedule",children:p.filter($=>$.sessions.length>0||n&&r).map($=>{const U=p.findIndex(L=>L.day===$.day);return A.jsxs("div",{className:"day-schedule",children:[A.jsxs("div",{className:"day-header",children:[A.jsx("h2",{className:"day-title",children:$.day}),n&&r&&A.jsxs("div",{className:"day-actions",children:[A.jsx(ru,{requirePermission:"canCreateActivities",children:A.jsx("button",{onClick:()=>I(U),className:"btn btn-small btn-success",title:"إضافة حصة جديدة",children:"➕ إضافة حصة"})}),A.jsx(ru,{requirePermission:"canDeleteActivities",children:A.jsx("button",{onClick:()=>_(U),className:"btn btn-small btn-danger",title:"حذف اليوم",children:"🗑️ حذف اليوم"})})]})]}),$.sessions.length===0&&n&&r?A.jsxs("div",{className:"empty-day-message",children:[A.jsx("p",{children:"لا توجد حصص في هذا اليوم"}),A.jsx("p",{className:"text-muted",children:'اضغط "إضافة حصة" لإضافة حصة جديدة'})]}):A.jsx("div",{className:"sessions-grid",children:$.sessions.map((L,G)=>A.jsx("div",{className:"session-card",children:i?.dayIndex===U&&i?.sessionIndex===G?A.jsx(z,{session:L,onSave:X=>Q(U,G,X),onCancel:()=>o(null)}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"session-time",children:L.time}),A.jsxs("div",{className:"session-details",children:[A.jsx("h4",{children:L.class}),A.jsx("p",{className:"activity-name",children:L.activity}),A.jsxs("p",{className:"room-info",children:["📍 ",L.room]})]}),n&&r&&A.jsxs("div",{className:"session-actions",children:[A.jsx(ru,{requirePermission:"canEditActivities",children:A.jsx("button",{onClick:()=>F(U,G),className:"btn btn-small btn-primary",title:"تعديل",children:"✏️"})}),A.jsx(ru,{requirePermission:"canDeleteActivities",children:A.jsx("button",{onClick:()=>O(U,G),className:"btn btn-small btn-danger",title:"حذف",children:"🗑️"})})]})]})},G))})]},U)})})]}),c&&A.jsx(Bc,{message:c.message,type:c.type,onClose:R})]})},oR=new su;function sh(n){switch(n.code){case"auth/user-not-found":return"المستخدم غير موجود";case"auth/wrong-password":return"كلمة المرور غير صحيحة";case"auth/email-already-in-use":return"هذا البريد مستخدم بالفعل";case"auth/invalid-email":return"البريد الإلكتروني غير صالح";default:return"حدث خطأ غير متوقع"}}const cu={async signInWithEmail(n,e){try{const t=await Ij(nu,n,e);return console.log("تم تسجيل الدخول بنجاح:",t.user.email),t.user}catch(t){throw console.error("خطأ في تسجيل الدخول:",t),new Error(sh(t))}},async createAccount(n,e,t,r){try{const o=(await _j(nu,n,e)).user;await Nj(o,{displayName:t});const c={uid:o.uid,email:n,displayName:t,role:r,createdAt:new Date};return await FA(sr(Yt,"users",o.uid),{...c,createdAt:_n()}),console.log("تم إنشاء الحساب بنجاح:",t),o}catch(i){throw console.error("خطأ في إنشاء الحساب:",i),new Error(sh(i))}},async signInWithGoogle(){try{const e=(await eN(nu,oR)).user;if(!(await _f(sr(Yt,"users",e.uid))).exists()){const r={uid:e.uid,email:e.email||"",displayName:e.displayName||"",role:"student",createdAt:new Date};await FA(sr(Yt,"users",e.uid),{...r,createdAt:_n()})}return console.log("تم تسجيل الدخول بـ Google بنجاح:",e.displayName),e}catch(n){throw console.error("خطأ في تسجيل الدخول بـ Google:",n),new Error(sh(n))}},async signOut(){try{return await Fj(nu),console.log("تم تسجيل الخروج بنجاح"),!0}catch(n){throw console.error("خطأ في تسجيل الخروج:",n),new Error(sh(n))}},onAuthStateChanged(n){return v5(nu,n)},async getUserProfile(n){try{const e=await _f(sr(Yt,"users",n));if(e.exists()){const t=e.data();return{uid:t.uid,email:t.email,displayName:t.displayName,role:t.role,school:t.school,grade:t.grade,createdAt:t.createdAt?.toDate()||new Date}}return null}catch(e){return console.error("خطأ في الحصول على ملف المستخدم:",e),null}},async resetPassword(n){try{return await Sj(nu,n),console.log("تم إرسال رابط إعادة تعيين كلمة المرور إلى:",n),!0}catch(e){throw console.error("خطأ في إعادة تعيين كلمة المرور:",e),new Error(sh(e))}},async updateUserProfile(n,e){try{return await ig(sr(Yt,"users",n),{...e,updatedAt:_n()}),console.log("تم تحديث الملف الشخصي بنجاح:",n),!0}catch(t){throw console.error("خطأ في تحديث الملف الشخصي:",t),new Error(sh(t))}},async deleteAccount(n){try{const e=nu.currentUser;return e?(await Qj(e),await ou(sr(Yt,"users",n)),console.log("تم حذف الحساب بنجاح"),!0):!1}catch(e){throw console.error("خطأ في حذف الحساب:",e),new Error(sh(e))}}},RC=pe.createContext(void 0),AR=()=>{const n=pe.useContext(RC);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},lR=({children:n})=>{const[e,t]=pe.useState(null),[r,i]=pe.useState(!0);pe.useEffect(()=>v5(nu,async b=>{b?t(b):(console.log("لا يوجد مستخدم مسجل دخول"),t(null)),i(!1)}),[]);const p={user:e,loading:r,login:async(h,b)=>{try{const x=await cu.signInWithEmail(h,b);console.log("تم تسجيل الدخول بنجاح:",x?.email)}catch(x){throw console.error("خطأ في تسجيل الدخول:",x),x}},register:async(h,b,x)=>{try{const w=await cu.createAccount(h,b,x,"student");console.log("تم إنشاء الحساب بنجاح:",w?.email)}catch(w){throw console.error("خطأ في إنشاء الحساب:",w),w}},loginAnonymously:async()=>{try{const h=await Bj(nu);console.log("تم تسجيل الدخول كمجهول:",h.user.uid)}catch(h){throw console.error("خطأ في تسجيل الدخول المجهول:",h),h}},logout:async()=>{try{await cu.signOut(),t(null),console.log("تم تسجيل الخروج بنجاح")}catch(h){throw console.error("خطأ في تسجيل الخروج:",h),h}}};return A.jsx(RC.Provider,{value:p,children:n})};class cR{collectionName="yearProjects";async createProject(e){try{const t=await Tl(nr(Yt,this.collectionName),{...e,createdAt:Kr.now(),updatedAt:Kr.now()});return console.log("تم إنشاء مشروع السنة بنجاح:",t.id),t.id}catch(t){throw console.error("خطأ في إنشاء مشروع السنة:",t),t}}async updateProject(e,t){try{const r=sr(Yt,this.collectionName,e);await ig(r,{...t,updatedAt:Kr.now()}),console.log("تم تحديث مشروع السنة بنجاح:",e)}catch(r){throw console.error("خطأ في تحديث مشروع السنة:",r),r}}async getProject(e){try{const t=sr(Yt,this.collectionName,e),r=await _f(t);return r.exists()?{id:r.id,...r.data()}:(console.log("مشروع السنة غير موجود"),null)}catch(t){throw console.error("خطأ في جلب مشروع السنة:",t),t}}async getCurrentProject(e){try{const t=wh(nr(Yt,this.collectionName),t0("userId","==",e),sg("createdAt","desc"),ZU(1)),r=await ra(t);if(r.empty)return null;{const i=r.docs[0];return{id:i.id,...i.data()}}}catch(t){throw console.error("خطأ في جلب المشروع الحالي:",t),t}}async getUserProjects(e){try{const t=wh(nr(Yt,this.collectionName),t0("userId","==",e),sg("createdAt","desc")),r=await ra(t),i=[];return r.forEach(o=>{i.push({id:o.id,...o.data()})}),i}catch(t){throw console.error("خطأ في جلب مشاريع المستخدم:",t),t}}async deleteProject(e){try{const t=sr(Yt,this.collectionName,e);await ou(t),console.log("تم حذف مشروع السنة بنجاح:",e)}catch(t){throw console.error("خطأ في حذف مشروع السنة:",t),t}}async updateTimeline(e,t){try{await this.updateProject(e,{timeline:t}),console.log("تم تحديث الجدول الزمني بنجاح")}catch(r){throw console.error("خطأ في تحديث الجدول الزمني:",r),r}}async updateList(e,t,r){try{await this.updateProject(e,{[t]:r}),console.log(`تم تحديث ${t} بنجاح`)}catch(i){throw console.error(`خطأ في تحديث ${t}:`,i),i}}async updateStatus(e,t){try{await this.updateProject(e,{status:t}),console.log("تم تحديث حالة المشروع بنجاح")}catch(r){throw console.error("خطأ في تحديث حالة المشروع:",r),r}}async addImage(e,t){try{const r=await this.getProject(e);if(r){const i=[...r.images,t];await this.updateProject(e,{images:i})}}catch(r){throw console.error("خطأ في إضافة الصورة:",r),r}}async removeImage(e,t){try{const r=await this.getProject(e);if(r){const i=r.images.filter(o=>o!==t);await this.updateProject(e,{images:i})}}catch(r){throw console.error("خطأ في حذف الصورة:",r),r}}async searchProjects(e,t){try{return(await this.getUserProjects(e)).filter(i=>i.title.toLowerCase().includes(t.toLowerCase())||i.description.toLowerCase().includes(t.toLowerCase()))}catch(r){throw console.error("خطأ في البحث:",r),r}}async getProjectStats(e){try{const t=await this.getUserProjects(e);return{totalProjects:t.length,completedProjects:t.filter(r=>r.status==="مكتمل").length,inProgressProjects:t.filter(r=>r.status==="قيد التنفيذ").length,plannedProjects:t.filter(r=>r.status==="قيد التخطيط").length}}catch(t){throw console.error("خطأ في جلب الإحصائيات:",t),t}}}const cc=new cR,uR=()=>{const{user:n,loginAnonymously:e}=AR(),[t,r]=pe.useState(null),[i,o]=pe.useState(!0),[c,d]=pe.useState(null),u=async()=>{if(!n)try{await e();return}catch(I){console.error("فشل في تسجيل الدخول المجهول:",I),r(null),o(!1);return}try{o(!0),d(null),console.log("محاولة تحميل المشروع للمستخدم:",n.uid);const I=await cc.getCurrentProject(n.uid);console.log("تم تحميل المشروع:",I),r(I)}catch(I){console.error("خطأ في تحميل المشروع:",I),console.error("تفاصيل الخطأ:",I instanceof Error?I.message:"خطأ غير معروف"),d("فشل في تحميل المشروع"),r(null)}finally{o(!1)}},p=async I=>{if(!n)throw new Error("المستخدم غير مسجل الدخول");try{o(!0),d(null);const T=await cc.createProject({...I,userId:n.uid}),_=await cc.getProject(T);return r(_),T}catch(T){throw console.error("خطأ في إنشاء المشروع:",T),d("فشل في إنشاء المشروع"),T}finally{o(!1)}},h=async I=>{if(!t)throw new Error("لا يوجد مشروع حالي");try{o(!0),d(null),await cc.updateProject(t.id,I),r(T=>T?{...T,...I}:null)}catch(T){throw console.error("خطأ في تحديث المشروع:",T),d("فشل في تحديث المشروع"),T}finally{o(!1)}},b=async()=>{if(!t)throw new Error("لا يوجد مشروع حالي");try{o(!0),d(null),await cc.deleteProject(t.id),r(null)}catch(I){throw console.error("خطأ في حذف المشروع:",I),d("فشل في حذف المشروع"),I}finally{o(!1)}},x=async I=>{if(!t)throw new Error("لا يوجد مشروع حالي");try{await cc.updateTimeline(t.id,I),r(T=>T?{...T,timeline:I}:null)}catch(T){throw console.error("خطأ في تحديث الجدول الزمني:",T),d("فشل في تحديث الجدول الزمني"),T}},w=async(I,T)=>{if(!t)throw new Error("لا يوجد مشروع حالي");try{await cc.updateList(t.id,I,T),r(_=>_?{..._,[I]:T}:null)}catch(_){throw console.error(`خطأ في تحديث ${I}:`,_),d(`فشل في تحديث ${I}`),_}},R=async I=>{if(!t)throw new Error("لا يوجد مشروع حالي");try{await cc.updateStatus(t.id,I),r(T=>T?{...T,status:I}:null)}catch(T){throw console.error("خطأ في تحديث حالة المشروع:",T),d("فشل في تحديث حالة المشروع"),T}},F=async I=>{if(!t)throw new Error("لا يوجد مشروع حالي");try{await cc.addImage(t.id,I),r(T=>T?{...T,images:[...T.images,I]}:null)}catch(T){throw console.error("خطأ في إضافة الصورة:",T),d("فشل في إضافة الصورة"),T}},Q=async I=>{if(!t)throw new Error("لا يوجد مشروع حالي");try{await cc.removeImage(t.id,I),r(T=>T?{...T,images:T.images.filter(_=>_!==I)}:null)}catch(T){throw console.error("خطأ في حذف الصورة:",T),d("فشل في حذف الصورة"),T}};return pe.useEffect(()=>{u()},[n]),{currentProject:t,loading:i,error:c,createProject:p,updateProject:h,deleteProject:b,updateTimeline:x,updateList:w,updateStatus:R,addImage:F,removeImage:Q,refreshProject:u}},dR=()=>{const n=Ql(),[e,t]=pe.useState(null),{currentProject:r,loading:i,createProject:o,updateProject:c,deleteProject:d}=uR(),[u,p]=pe.useState(!1),[h,b]=pe.useState(null),[x,w]=pe.useState(!1),[R,F]=pe.useState("overview"),[Q,I]=pe.useState(null),T=()=>({title:"مشروع أنتيغون 2025-2026: رحلة عبر الزمن والثقافات",description:"مشروع مسرحي تربوي طموح يهدف إلى تنمية الحس الفني واللغوي لدى المتعلمين من خلال الاشتغال على نص أنتيغون الكلاسيكي بنسختيه: نسخة سوفوكل الإغريقية (مترجمة للعربية) مع طلاب الأولى إعدادي، ونسخة جون أنوي الحديثة (بالفرنسية) مع طلاب الثانية إعدادي، مما يتيح مقارنة ثقافية وأدبية ثرية بين العصور والحضارات",startDate:"2025-10-01",endDate:"2026-06-30",status:"قيد التنفيذ",director:"الأستاذ مصطفى لعرعري والأستاذة سلمى بيروش",cast:["تلاميذ الأولى إعدادي - أنتيغون سوفوكل (النسخة العربية الكلاسيكية)","تلاميذ الثانية إعدادي - Antigone جون أنوي (النسخة الفرنسية الحديثة)","تلاميذ الثالثة إعدادي - الكورس والأدوار المساعدة في كلا النسختين","فريق الرواة - لربط النسختين وتقديم السياق التاريخي والثقافي"],crew:["الأستاذ صفوان بيروش - مناقشة النص المسرحي بالفرنسية","الأستاذة سلمى بيروش - الإشراف التقني والإلقاء وضبط مخارج الحروف","فريق الإضاءة والصوت","فريق الديكور والأزياء","فريق التصوير والتوثيق","فريق التنظيم والإدارة"],budget:15e3,venue:"قاعة المؤسسة الكبرى",targetAudience:"أولياء الأمور، الطلاب، الأساتذة، المجتمع المحلي",objectives:["استكشاف عمق نص أنتيغون عبر نسختيه الكلاسيكية والحديثة","تنمية المهارات اللغوية من خلال نصين بلغتين مختلفتين","فهم التطور الأدبي للنص عبر العصور (من سوفوكل إلى أنوي)","تطوير القدرة على التعبير المسرحي باللغتين العربية والفرنسية","إثراء الثقافة الكلاسيكية والمعاصرة لدى الطلاب","تعميق فهم القيم الإنسانية الخالدة (العدالة، الشجاعة، المقاومة)","تطوير الحس النقدي من خلال مقارنة النسختين","إكساب تقنيات الأداء المسرحي الكلاسيكي والحديث","تعزيز الثقة في استخدام اللغة الفرنسية في السياق الأدبي"],timeline:[{id:"1",title:"اختيار نصي أنتيغون",description:"اختيار نص أنتيغون سوفوكل (بالعربية) للأولى إعدادي ونص Antigone جون أنوي (بالفرنسية) للثانية إعدادي",date:"2025-10-15",status:"مخطط",responsible:"الأستاذ مصطفى لعرعري والأستاذة سلمى بيروش"},{id:"2",title:"دراسة مقارنة للنصين",description:"دراسة معمقة ومقارنة بين نسخة سوفوكل الكلاسيكية ونسخة أنوي الحديثة، وتحليل الاختلافات والتشابهات",date:"2025-11-01",status:"مخطط",responsible:"الأستاذ مصطفى لعرعري والأستاذة سلمى بيروش والتلاميذ"},{id:"3",title:"مناقشة النص المسرحي بالفرنسية",description:"جلسات مناقشة معمقة لنص Antigone جون أنوي بالفرنسية مع تلاميذ الثانية إعدادي",date:"2025-11-15",status:"مخطط",responsible:"الأستاذ صفوان بيروش"},{id:"4",title:"ورش الإلقاء والإشراف التقني",description:"ورش متخصصة لإتقان الإلقاء وضبط مخارج الحروف مع الإشراف التقني للعرض",date:"2025-12-01",status:"مخطط",responsible:"الأستاذة سلمى بيروش والأستاذ مصطفى لعرعري"},{id:"5",title:"توزيع الأدوار حسب النصين",description:"اختيار التلاميذ لأدوار أنتيغون، كريون، إسمين وباقي الشخصيات في كلا النسختين",date:"2025-12-15",status:"مخطط",responsible:"الأستاذ مصطفى لعرعري والأستاذة سلمى بيروش"},{id:"6",title:"التدريبات المنفصلة لكل نص",description:"تدريبات منفصلة: الأولى إعدادي على نص سوفوكل والثانية إعدادي على نص أنوي",date:"2026-01-15",status:"مخطط",responsible:"الأستاذ مصطفى لعرعري والأستاذة سلمى بيروش والتلاميذ"},{id:"7",title:"التدريبات المشتركة والمقارنة",description:"جلسات مشتركة بين المجموعتين لمقارنة الأداء وتبادل الخبرات بين النسختين",date:"2026-03-01",status:"مخطط",responsible:"الأستاذ مصطفى لعرعري والأستاذة سلمى بيروش وجميع التلاميذ"},{id:"8",title:"إعداد الديكور والإشراف التقني",description:"تصميم ديكور يعكس الطابع الإغريقي الكلاسيكي والحداثة الأوروبية مع الإشراف التقني الشامل",date:"2026-04-01",status:"مخطط",responsible:"الأستاذة سلمى بيروش والأستاذ مصطفى لعرعري وفريق الديكور"},{id:"9",title:"البروفات العامة مع الإشراف التقني",description:"بروفات نهائية للعرض مع الإشراف التقني الكامل وضبط الإلقاء ومخارج الحروف",date:"2026-05-15",status:"مخطط",responsible:"الأستاذة سلمى بيروش والأستاذ مصطفى لعرعري وجميع الفرق"},{id:"10",title:"العرض النهائي: أنتيغون عبر الزمن",description:"تقديم العرض النهائي الذي يجمع بين نسخة سوفوكل ونسخة أنوي في رحلة عبر الزمن والثقافات",date:"2026-06-15",status:"مخطط",responsible:"جميع المشاركين"}],resources:["نص أنتيغون سوفوكل مترجم للعربية (طبعة محققة)","نص Antigone جون أنوي بالفرنسية (النسخة الأصلية)","مراجع تاريخية حول المسرح الإغريقي والمسرح الفرنسي الحديث","قاعة عروض بإضاءة متدرجة لتمييز العصرين","أزياء إغريقية كلاسيكية وأزياء أوروبية حديثة","ديكور مزدوج: أعمدة إغريقية وعناصر حداثية","معدات صوتية لتسجيل الأداء باللغتين","قواميس فرنسية-عربية متخصصة في المسرح","مواد بصرية عن الحضارة الإغريقية والثقافة الفرنسية"],challenges:["فهم عمق الفلسفة الإغريقية في نص سوفوكل وتبسيطها لتلاميذ الأولى إعدادي","إتقان النطق الفرنسي الصحيح لنص أنوي مع تلاميذ الثانية إعدادي","تنسيق العمل بين الأساتذة الثلاثة لضمان التكامل في التدريب","الموازنة بين روح النص الأصلي الإغريقي والتفسير الحديث لأنوي","ضبط مخارج الحروف للنصين العربي والفرنسي بدقة عالية","إدارة المناقشات بالفرنسية مع مراعاة مستويات التلاميذ المختلفة","إيجاد الانسجام الفني بين الأسلوب الكلاسيكي والحديث في العرض الواحد","ضمان فهم التلاميذ للسياق التاريخي والثقافي لكلا النسختين"],achievements:["إتقان تلاميذ الأولى إعدادي للنطق الكلاسيكي العربي لنص سوفوكل","تحسن كبير في مستوى اللغة الفرنسية لدى تلاميذ الثانية إعدادي","نجاح المناقشات بالفرنسية حول نص أنوي مع الأستاذ صفوان بيروش","تطوير مهارات الإلقاء وضبط مخارج الحروف مع الأستاذة سلمى بيروش","إشراف تقني متميز من الأستاذة سلمى بيروش على جميع جوانب العرض","فهم عميق لشخصية أنتيغون عبر تفسيرين مختلفين","اكتشاف الفروق الثقافية بين المسرح الإغريقي والفرنسي الحديث","تطوير القدرة على المقارنة الأدبية والنقد البناء","إنتاج عرض مسرحي فريد يجمع بين عصرين وثقافتين","تعزيز الثقة في الأداء المسرحي باللغتين","إثراء المعرفة بالأدب الكلاسيكي والحديث","توثيق تجربة تعليمية مبتكرة في تدريس الأدب المقارن"],images:["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjOGI1Y2Y2Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyNCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7Zhdiz2LHYrdmK2Kkg2KfZhNiz2YbYqTwvdGV4dD48L3N2Zz4=","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZWY0NDQ0Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyMCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7YqtmF2KfYsdmK2YYg2KfZhNiq2YXYq9mK2YQ8L3RleHQ+PC9zdmc+","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjMTBiOTgxIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyMCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7YqtmF2KfYsdmK2YYg2KfZhNiv2YrZg9mI2LE8L3RleHQ+PC9zdmc+"],notes:"مشروع تربوي مبتكر بإشراف مشترك من الأستاذ مصطفى لعرعري والأستاذة سلمى بيروش، يجمع بين نسختين من أنتيغون: الكلاسيكية الإغريقية لسوفوكل (بالعربية) والحديثة الفرنسية لجون أنوي، مما يتيح للتلاميذ رحلة ثقافية ولغوية ثرية عبر الزمن والحضارات، ويطور لديهم الحس النقدي والمقارن في الأدب العالمي"}),_=(de,K)=>{t({message:de,type:K})},O=()=>{t(null)},z=()=>{r&&(I(r),p(!0),_("تم تفعيل وضع التعديل","info"))},$=async()=>{if(Q)try{r?await c(Q):await o(Q),p(!1),_("تم حفظ التعديلات بنجاح!","success")}catch{_("فشل في حفظ التعديلات","error")}},U=()=>{I(r),p(!1),_("تم إلغاء التعديل","warning")},L=async()=>{if(window.confirm("هل أنت متأكد من حذف المشروع؟ هذا الإجراء لا يمكن التراجع عنه."))try{await d(),_("تم حذف المشروع","warning")}catch{_("فشل في حذف المشروع","error")}},G=async()=>{try{const de=T();await o(de),I(r),p(!0),_("تم إنشاء مشروع جديد","success")}catch{_("فشل في إنشاء المشروع","error")}},X=()=>{b({id:Date.now().toString(),title:"",description:"",date:"",status:"مخطط",responsible:""}),w(!0)},P=de=>{b(de),w(!0)},H=de=>{if(Q&&window.confirm("هل أنت متأكد من حذف هذا العنصر من الجدول الزمني؟")){const K=Q.timeline.filter(ce=>ce.id!==de),ne={...Q,timeline:K};I(ne),_("تم حذف العنصر من الجدول الزمني","warning")}},V=async de=>{if(!Q)return;let K;Q.timeline.find(ce=>ce.id===de.id)?K=Q.timeline.map(ce=>ce.id===de.id?de:ce):K=[...Q.timeline,de];const ne={...Q,timeline:K};I(ne),w(!1),b(null),_("تم حفظ العنصر في الجدول الزمني","success")},te=de=>{if(!Q)return;const K=prompt(`أدخل ${we(de)} جديد:`);if(K&&K.trim()){const ne={...Q,[de]:[...Q[de],K.trim()]};I(ne),_(`تم إضافة ${we(de)} جديد`,"success")}},ge=(de,K)=>{if(!Q)return;const ne=Q[de][K],ce=prompt(`تعديل ${we(de)}:`,ne);if(ce!==null&&ce.trim()){const Be=[...Q[de]];Be[K]=ce.trim();const he={...Q,[de]:Be};I(he),_(`تم تعديل ${we(de)}`,"success")}},oe=(de,K)=>{if(Q&&window.confirm(`هل أنت متأكد من حذف هذا ${we(de)}؟`)){const ne=Q[de].filter((Be,he)=>he!==K),ce={...Q,[de]:ne};I(ce),_(`تم حذف ${we(de)}`,"warning")}},we=de=>({cast:"عضو فريق التمثيل",crew:"عضو الفريق التقني",objectives:"الهدف",achievements:"الإنجاز",resources:"المورد",challenges:"التحدي"})[de]||"العنصر",be=de=>{switch(de){case"مكتمل":return"#10b981";case"قيد التنفيذ":return"#f59e0b";case"مخطط":return"#3b82f6";case"مؤجل":return"#ef4444";default:return"#6b7280"}},je=de=>{switch(de){case"مكتمل":return"✅";case"قيد التنفيذ":return"🔄";case"مخطط":return"📋";case"مؤجل":return"⏸️";default:return"❓"}};if(i)return A.jsxs("div",{className:"page",children:[A.jsx("div",{className:"page-header",children:A.jsxs("div",{className:"container",children:[A.jsx("h1",{children:"🎭 مشروع السنة"}),A.jsx("p",{children:"المشروع المسرحي الكبير للسنة الدراسية"})]})}),A.jsxs("div",{className:"container",style:{textAlign:"center",padding:"4rem 0"},children:[A.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"⏳"}),A.jsx("h2",{children:"جاري تحميل المشروع..."})]})]});if(!r&&!u)return A.jsxs("div",{className:"page",children:[A.jsx("div",{className:"page-header",children:A.jsxs("div",{className:"container",children:[A.jsx("h1",{children:"🎭 مشروع السنة"}),A.jsx("p",{children:"المشروع المسرحي الكبير للسنة الدراسية"})]})}),A.jsxs("div",{className:"container",style:{textAlign:"center",padding:"4rem 0"},children:[A.jsx("div",{style:{fontSize:"4rem",marginBottom:"2rem"},children:"🎭"}),A.jsx("h2",{style:{marginBottom:"1rem",color:"#4b5563"},children:"لا يوجد مشروع حالياً"}),A.jsx("p",{style:{marginBottom:"2rem",color:"#6b7280",fontSize:"1.1rem"},children:"ابدأ بإنشاء مشروع السنة المسرحي الخاص بك"}),A.jsxs("div",{style:{display:"flex",gap:"1rem",flexDirection:"column",alignItems:"center"},children:[A.jsx("button",{onClick:G,style:{background:"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)",color:"white",border:"none",padding:"1rem 2rem",borderRadius:"12px",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)",transition:"all 0.3s ease"},onMouseOver:de=>{de.currentTarget.style.transform="translateY(-2px)",de.currentTarget.style.boxShadow="0 6px 20px rgba(59, 130, 246, 0.4)"},onMouseOut:de=>{de.currentTarget.style.transform="translateY(0)",de.currentTarget.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.3)"},children:"🎭 إنشاء مشروع جديد"}),A.jsxs("div",{style:{textAlign:"center",marginTop:"1rem"},children:[A.jsx("p",{style:{color:"#6b7280",marginBottom:"0.5rem"},children:"أو جرب البيانات التجريبية:"}),A.jsx("button",{onClick:()=>n("/dev-settings"),style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)",transition:"all 0.3s ease"},onMouseOver:de=>{de.currentTarget.style.transform="translateY(-2px)",de.currentTarget.style.boxShadow="0 6px 20px rgba(16, 185, 129, 0.4)"},onMouseOut:de=>{de.currentTarget.style.transform="translateY(0)",de.currentTarget.style.boxShadow="0 4px 12px rgba(16, 185, 129, 0.3)"},children:"📊 إضافة بيانات تجريبية"})]})]})]})]});const re=u?Q:r;return re?A.jsxs("div",{className:"page",children:[A.jsx("div",{className:"page-header",children:A.jsxs("div",{className:"container",children:[A.jsx("h1",{children:"🎭 مشروع السنة"}),A.jsx("p",{children:"المشروع المسرحي الكبير للسنة الدراسية"})]})}),A.jsxs("div",{className:"container",children:[A.jsx("div",{className:"project-actions",style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap",justifyContent:"center"},children:u?A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:$,className:"btn btn-success",style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:"💾 حفظ التعديلات"}),A.jsx("button",{onClick:U,className:"btn btn-secondary",style:{background:"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(107, 114, 128, 0.3)"},children:"❌ إلغاء"})]}):A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:z,className:"btn btn-primary",style:{background:"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},children:"✏️ تعديل المشروع"}),A.jsx("button",{onClick:L,className:"btn btn-danger",style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.3)"},children:"🗑️ حذف المشروع"})]})}),A.jsx("div",{className:"project-tabs",style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",borderBottom:"2px solid #e5e7eb",overflowX:"auto",paddingBottom:"1rem"},children:[{key:"overview",label:"📋 نظرة عامة",icon:"📋"},{key:"timeline",label:"📅 الجدول الزمني",icon:"📅"},{key:"teams",label:"👥 الفرق",icon:"👥"},{key:"objectives",label:"🎯 الأهداف والإنجازات",icon:"🎯"},{key:"resources",label:"📦 الموارد والتحديات",icon:"📦"},{key:"gallery",label:"📸 المعرض",icon:"📸"}].map(de=>A.jsx("button",{onClick:()=>F(de.key),className:`tab-btn ${R===de.key?"active":""}`,style:{background:R===de.key?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"transparent",color:R===de.key?"white":"#4b5563",border:R===de.key?"none":"2px solid #e5e7eb",padding:"12px 20px",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",whiteSpace:"nowrap",minWidth:"fit-content"},children:de.label},de.key))}),R==="overview"&&A.jsx("div",{className:"project-overview",children:A.jsxs("div",{className:"project-card",children:[A.jsxs("div",{className:"project-header",children:[u?A.jsx("input",{type:"text",value:Q?.title||"",onChange:de=>Q&&I({...Q,title:de.target.value}),style:{fontSize:"1.8rem",fontWeight:"bold",border:"2px solid #3b82f6",borderRadius:"8px",padding:"0.5rem",width:"100%",marginBottom:"1rem"}}):A.jsx("h2",{children:re.title}),A.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:u?A.jsxs("select",{value:Q?.status,onChange:de=>I(K=>K?{...K,status:de.target.value}:null),style:{background:be(Q?.status||"قيد التخطيط"),color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.9rem",fontWeight:"600"},children:[A.jsx("option",{value:"قيد التخطيط",children:"قيد التخطيط"}),A.jsx("option",{value:"قيد التنفيذ",children:"قيد التنفيذ"}),A.jsx("option",{value:"مكتمل",children:"مكتمل"}),A.jsx("option",{value:"مؤجل",children:"مؤجل"})]}):A.jsxs("div",{className:"project-status",style:{background:be(re.status),color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.9rem",fontWeight:"600"},children:[je(re.status)," ",re.status]})})]}),A.jsxs("div",{className:"project-info",children:[u?A.jsx("textarea",{value:Q?.description||"",onChange:de=>I(K=>K?{...K,description:de.target.value}:null),style:{width:"100%",minHeight:"120px",padding:"1rem",border:"2px solid #3b82f6",borderRadius:"8px",fontSize:"1.1rem",lineHeight:"1.6",marginBottom:"1.5rem",resize:"vertical"}}):A.jsx("p",{className:"project-description",children:re.description}),A.jsxs("div",{className:"project-details",children:[A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"📅 فترة المشروع:"}),u?A.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",marginTop:"0.5rem"},children:[A.jsx("input",{type:"date",value:Q?.startDate||"",onChange:de=>I(K=>K?{...K,startDate:de.target.value}:null),style:{padding:"0.5rem",border:"2px solid #e5e7eb",borderRadius:"4px"}}),A.jsx("span",{children:"إلى"}),A.jsx("input",{type:"date",value:Q?.endDate||"",onChange:de=>I(K=>K?{...K,endDate:de.target.value}:null),style:{padding:"0.5rem",border:"2px solid #e5e7eb",borderRadius:"4px"}})]}):A.jsxs("span",{children:[re.startDate," إلى ",re.endDate]})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"🎬 المخرج:"}),u?A.jsx("input",{type:"text",value:Q?.director||"",onChange:de=>I(K=>K?{...K,director:de.target.value}:null),style:{width:"100%",padding:"0.5rem",border:"2px solid #e5e7eb",borderRadius:"4px",marginTop:"0.5rem"}}):A.jsx("span",{children:re.director})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"🏛️ مكان العرض:"}),u?A.jsx("input",{type:"text",value:Q?.venue||"",onChange:de=>I(K=>K?{...K,venue:de.target.value}:null),style:{width:"100%",padding:"0.5rem",border:"2px solid #e5e7eb",borderRadius:"4px",marginTop:"0.5rem"}}):A.jsx("span",{children:re.venue})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"💰 الميزانية:"}),u?A.jsx("input",{type:"number",value:Q?.budget||0,onChange:de=>I(K=>K?{...K,budget:parseInt(de.target.value)||0}:null),style:{width:"100%",padding:"0.5rem",border:"2px solid #e5e7eb",borderRadius:"4px",marginTop:"0.5rem"}}):A.jsxs("span",{children:[re.budget.toLocaleString()," درهم"]})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("strong",{children:"👥 الجمهور المستهدف:"}),u?A.jsx("input",{type:"text",value:Q?.targetAudience||"",onChange:de=>I(K=>K?{...K,targetAudience:de.target.value}:null),style:{width:"100%",padding:"0.5rem",border:"2px solid #e5e7eb",borderRadius:"4px",marginTop:"0.5rem"}}):A.jsx("span",{children:re.targetAudience})]})]})]})]})}),R==="timeline"&&A.jsxs("div",{className:"timeline-section",children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[A.jsx("h3",{children:"📅 الجدول الزمني للمشروع"}),u&&A.jsx("button",{onClick:X,style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",fontSize:"0.9rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},children:"➕ إضافة مرحلة جديدة"})]}),A.jsx("div",{className:"timeline",children:re.timeline.map(de=>A.jsxs("div",{className:"timeline-item",children:[A.jsx("div",{className:"timeline-marker",style:{background:be(de.status)},children:je(de.status)}),A.jsxs("div",{className:"timeline-content",children:[A.jsxs("div",{className:"timeline-header",children:[A.jsx("h4",{children:de.title}),A.jsx("span",{className:"timeline-date",children:de.date})]}),A.jsx("p",{children:de.description}),A.jsxs("div",{className:"timeline-responsible",children:[A.jsx("strong",{children:"المسؤول:"})," ",de.responsible]}),u&&A.jsxs("div",{className:"timeline-actions",style:{marginTop:"1rem",display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[A.jsx("button",{onClick:()=>P(de),style:{background:"#3b82f6",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"},children:"✏️ تعديل"}),A.jsx("button",{onClick:()=>H(de.id),style:{background:"#ef4444",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"},children:"🗑️ حذف"})]})]})]},de.id))})]}),R==="teams"&&A.jsx("div",{className:"teams-section",children:A.jsxs("div",{className:"teams-grid",children:[A.jsxs("div",{className:"team-card",children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[A.jsx("h3",{children:"🎭 فريق التمثيل"}),u&&A.jsx("button",{onClick:()=>te("cast"),style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"},children:"➕ إضافة"})]}),A.jsx("ul",{children:re.cast.map((de,K)=>A.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 0"},children:[A.jsx("span",{children:de}),u&&A.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[A.jsx("button",{onClick:()=>ge("cast",K),style:{background:"#3b82f6",color:"white",border:"none",padding:"2px 6px",borderRadius:"3px",fontSize:"0.7rem",cursor:"pointer"},children:"✏️"}),A.jsx("button",{onClick:()=>oe("cast",K),style:{background:"#ef4444",color:"white",border:"none",padding:"2px 6px",borderRadius:"3px",fontSize:"0.7rem",cursor:"pointer"},children:"🗑️"})]})]},K))})]}),A.jsxs("div",{className:"team-card",children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[A.jsx("h3",{children:"🎬 الفريق التقني"}),u&&A.jsx("button",{onClick:()=>te("crew"),style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"},children:"➕ إضافة"})]}),A.jsx("ul",{children:re.crew.map((de,K)=>A.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 0"},children:[A.jsx("span",{children:de}),u&&A.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[A.jsx("button",{onClick:()=>ge("crew",K),style:{background:"#3b82f6",color:"white",border:"none",padding:"2px 6px",borderRadius:"3px",fontSize:"0.7rem",cursor:"pointer"},children:"✏️"}),A.jsx("button",{onClick:()=>oe("crew",K),style:{background:"#ef4444",color:"white",border:"none",padding:"2px 6px",borderRadius:"3px",fontSize:"0.7rem",cursor:"pointer"},children:"🗑️"})]})]},K))})]})]})}),R==="objectives"&&A.jsx("div",{className:"objectives-achievements",children:A.jsxs("div",{className:"objectives-grid",children:[A.jsxs("div",{className:"objectives-card",children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[A.jsx("h3",{children:"🎯 أهداف المشروع"}),u&&A.jsx("button",{onClick:()=>te("objectives"),style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"},children:"➕ إضافة"})]}),A.jsx("ul",{children:re.objectives.map((de,K)=>A.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",padding:"0.75rem 0",paddingLeft:"1.5rem"},children:[A.jsx("span",{style:{flex:1},children:de}),u&&A.jsxs("div",{style:{display:"flex",gap:"0.25rem",marginLeft:"0.5rem"},children:[A.jsx("button",{onClick:()=>ge("objectives",K),style:{background:"#3b82f6",color:"white",border:"none",padding:"2px 6px",borderRadius:"3px",fontSize:"0.7rem",cursor:"pointer"},children:"✏️"}),A.jsx("button",{onClick:()=>oe("objectives",K),style:{background:"#ef4444",color:"white",border:"none",padding:"2px 6px",borderRadius:"3px",fontSize:"0.7rem",cursor:"pointer"},children:"🗑️"})]})]},K))})]}),A.jsxs("div",{className:"achievements-card",children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[A.jsx("h3",{children:"🏆 الإنجازات المحققة"}),u&&A.jsx("button",{onClick:()=>te("achievements"),style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"},children:"➕ إضافة"})]}),A.jsx("ul",{children:re.achievements.map((de,K)=>A.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",padding:"0.75rem 0",paddingLeft:"1.5rem"},children:[A.jsx("span",{style:{flex:1},children:de}),u&&A.jsxs("div",{style:{display:"flex",gap:"0.25rem",marginLeft:"0.5rem"},children:[A.jsx("button",{onClick:()=>ge("achievements",K),style:{background:"#3b82f6",color:"white",border:"none",padding:"2px 6px",borderRadius:"3px",fontSize:"0.7rem",cursor:"pointer"},children:"✏️"}),A.jsx("button",{onClick:()=>oe("achievements",K),style:{background:"#ef4444",color:"white",border:"none",padding:"2px 6px",borderRadius:"3px",fontSize:"0.7rem",cursor:"pointer"},children:"🗑️"})]})]},K))})]})]})}),R==="resources"&&A.jsx("div",{className:"resources-challenges",children:A.jsxs("div",{className:"resources-grid",children:[A.jsxs("div",{className:"resources-card",children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[A.jsx("h3",{children:"📦 الموارد المطلوبة"}),u&&A.jsx("button",{onClick:()=>te("resources"),style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"},children:"➕ إضافة"})]}),A.jsx("ul",{children:re.resources.map((de,K)=>A.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",padding:"0.75rem 0",paddingLeft:"1.5rem"},children:[A.jsx("span",{style:{flex:1},children:de}),u&&A.jsxs("div",{style:{display:"flex",gap:"0.25rem",marginLeft:"0.5rem"},children:[A.jsx("button",{onClick:()=>ge("resources",K),style:{background:"#3b82f6",color:"white",border:"none",padding:"2px 6px",borderRadius:"3px",fontSize:"0.7rem",cursor:"pointer"},children:"✏️"}),A.jsx("button",{onClick:()=>oe("resources",K),style:{background:"#ef4444",color:"white",border:"none",padding:"2px 6px",borderRadius:"3px",fontSize:"0.7rem",cursor:"pointer"},children:"🗑️"})]})]},K))})]}),A.jsxs("div",{className:"challenges-card",children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[A.jsx("h3",{children:"⚠️ التحديات"}),u&&A.jsx("button",{onClick:()=>te("challenges"),style:{background:"#10b981",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",fontSize:"0.8rem",cursor:"pointer"},children:"➕ إضافة"})]}),A.jsx("ul",{children:re.challenges.map((de,K)=>A.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",padding:"0.75rem 0",paddingLeft:"1.5rem"},children:[A.jsx("span",{style:{flex:1},children:de}),u&&A.jsxs("div",{style:{display:"flex",gap:"0.25rem",marginLeft:"0.5rem"},children:[A.jsx("button",{onClick:()=>ge("challenges",K),style:{background:"#3b82f6",color:"white",border:"none",padding:"2px 6px",borderRadius:"3px",fontSize:"0.7rem",cursor:"pointer"},children:"✏️"}),A.jsx("button",{onClick:()=>oe("challenges",K),style:{background:"#ef4444",color:"white",border:"none",padding:"2px 6px",borderRadius:"3px",fontSize:"0.7rem",cursor:"pointer"},children:"🗑️"})]})]},K))})]})]})}),R==="gallery"&&A.jsxs(A.Fragment,{children:[re.images&&re.images.length>0&&A.jsxs("div",{className:"project-gallery",children:[A.jsx("h3",{children:"📸 معرض صور المشروع"}),A.jsx("div",{className:"gallery-grid",children:re.images.map((de,K)=>A.jsx("div",{className:"gallery-item",children:A.jsx("img",{src:de,alt:`صورة المشروع ${K+1}`})},K))})]}),A.jsxs("div",{className:"project-notes",children:[A.jsx("h3",{children:"📝 ملاحظات"}),A.jsx("div",{className:"notes-content",children:u?A.jsx("textarea",{value:Q?.notes||"",onChange:de=>Q&&I({...Q,notes:de.target.value}),style:{width:"100%",minHeight:"100px",padding:"1rem",border:"2px solid #3b82f6",borderRadius:"8px",fontSize:"1rem",lineHeight:"1.6",resize:"vertical"},placeholder:"أضف ملاحظات حول المشروع..."}):A.jsx("p",{children:re.notes})})]})]}),x&&h&&A.jsx("div",{className:"timeline-modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:A.jsxs("div",{className:"timeline-modal",style:{background:"white",borderRadius:"12px",padding:"2rem",width:"90%",maxWidth:"500px",maxHeight:"80vh",overflow:"auto"},children:[A.jsx("h3",{children:"✏️ تعديل مرحلة الجدول الزمني"}),A.jsxs("form",{onSubmit:de=>{de.preventDefault(),V(h)},children:[A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"العنوان:"}),A.jsx("input",{type:"text",value:h.title,onChange:de=>b({...h,title:de.target.value}),style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"6px",fontSize:"1rem"},required:!0})]}),A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"الوصف:"}),A.jsx("textarea",{value:h.description,onChange:de=>b({...h,description:de.target.value}),style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"6px",fontSize:"1rem",minHeight:"100px",resize:"vertical"},required:!0})]}),A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"التاريخ:"}),A.jsx("input",{type:"date",value:h.date,onChange:de=>b({...h,date:de.target.value}),style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"6px",fontSize:"1rem"},required:!0})]}),A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"الحالة:"}),A.jsxs("select",{value:h.status,onChange:de=>b({...h,status:de.target.value}),style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"6px",fontSize:"1rem"},children:[A.jsx("option",{value:"مخطط",children:"مخطط"}),A.jsx("option",{value:"قيد التنفيذ",children:"قيد التنفيذ"}),A.jsx("option",{value:"مكتمل",children:"مكتمل"})]})]}),A.jsxs("div",{style:{marginBottom:"2rem"},children:[A.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"المسؤول:"}),A.jsx("input",{type:"text",value:h.responsible,onChange:de=>b({...h,responsible:de.target.value}),style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"6px",fontSize:"1rem"},required:!0})]}),A.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[A.jsx("button",{type:"button",onClick:()=>{w(!1),b(null)},style:{background:"#6b7280",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px",fontSize:"1rem",cursor:"pointer"},children:"إلغاء"}),A.jsx("button",{type:"submit",style:{background:"#10b981",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px",fontSize:"1rem",cursor:"pointer"},children:"حفظ"})]})]})]})}),e&&A.jsx(Bc,{message:e.message,type:e.type,onClose:O})]})]}):null},Ep=({end:n,duration:e=2e3,suffix:t="",prefix:r=""})=>{const[i,o]=pe.useState(0);return pe.useEffect(()=>{let c,d;const u=p=>{c||(c=p);const h=Math.min((p-c)/e,1),b=1-Math.pow(1-h,4),x=Math.floor(b*n);o(x),h<1&&(d=requestAnimationFrame(u))};return d=requestAnimationFrame(u),()=>{d&&cancelAnimationFrame(d)}},[n,e]),A.jsxs("span",{className:"animated-counter",children:[r,i,t]})},qb=({images:n})=>{const[e,t]=pe.useState(0),[r,i]=pe.useState("contain"),o=u=>{t(u)},c=()=>{t(e===0?n.length-1:e-1)},d=()=>{t(e===n.length-1?0:e+1)};return!n||n.length===0?null:A.jsxs("div",{className:"image-slider",children:[A.jsxs("div",{className:"image-fit-controls",children:[A.jsx("button",{className:`fit-btn ${r==="contain"?"active":""}`,onClick:()=>i("contain"),children:"احتواء كامل"}),A.jsx("button",{className:`fit-btn ${r==="cover"?"active":""}`,onClick:()=>i("cover"),children:"ملء الإطار"}),A.jsx("button",{className:`fit-btn ${r==="fill"?"active":""}`,onClick:()=>i("fill"),children:"تمديد كامل"})]}),A.jsxs("div",{className:"slider-container",children:[A.jsxs("div",{className:"slider-image-container",children:[A.jsx("img",{src:n[e],alt:`صورة ${e+1}`,className:"slider-image",style:{objectFit:r}}),A.jsx("div",{className:"image-caption",children:A.jsxs("p",{children:["صورة من الأنشطة المسرحية المنفذة - ",e+1," من ",n.length]})}),n.length>1&&A.jsxs(A.Fragment,{children:[A.jsx("button",{className:"slider-btn prev-btn",onClick:c,children:"❮"}),A.jsx("button",{className:"slider-btn next-btn",onClick:d,children:"❯"})]})]}),n.length>1&&A.jsx("div",{className:"slider-dots",children:n.map((u,p)=>A.jsx("button",{className:`dot ${p===e?"active":""}`,onClick:()=>o(p)},p))})]})]})},hR=()=>{const n=Ql(),e=mu(),[t,r]=pe.useState(null),[i,o]=pe.useState(!1),[c,d]=pe.useState(!1),u={totalActivities:12,completedActivities:8,upcomingActivities:4,totalParticipants:245,averageAttendance:92},[p,h]=pe.useState([{id:1,title:"تقرير شهر يناير 2025",date:"31 يناير 2025",summary:"تم تنفيذ 8 أنشطة مسرحية بمشاركة 180 طالب وطالبة",image:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjMWU0MGFmIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyNCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7YqtmC2LHZitixINmK2YbYp9mK2LEgMjAyNTwvdGV4dD48L3N2Zz4=",activities:["عرض مسرحي: حلم ليلة صيف (الثالثة إعدادي 1) - 25 مشارك","ورشة الإلقاء والتعبير (الأولى و الثانية إعدادي) - 48 مشارك","مسابقة أفضل نص مسرحي (الخامس و السادس ابتدائي) - 32 مشارك","تدريب على الارتجال (جميع المستويات الإعدادية) - 65 مشارك","مسرح العرائس للصغار (ما قبل التمدرس) - 28 مشارك","ورشة التمثيل الصامت (الثالث و الرابع ابتدائي) - 35 مشارك"],achievements:["زيادة المشاركة بنسبة 15% عن الشهر الماضي","تطوير 3 نصوص مسرحية جديدة","تدريب 12 طالب على الإخراج المسرحي"],gallery:["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjM2I4MmY2Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyMCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7ZhtmI2KfYtyAxPC90ZXh0Pjwvc3ZnPg==","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjMTBiOTgxIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyMCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7ZhtmI2KfYtyAyPC90ZXh0Pjwvc3ZnPg==","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjU5ZTBiIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyMCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7ZhtmI2KfYtyAzPC90ZXh0Pjwvc3ZnPg=="]},{id:2,title:"تقرير شهر ديسمبر 2024",date:"31 ديسمبر 2024",summary:"شهر مميز بتنظيم المهرجان السنوي للمسرح المدرسي",image:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjMDU5NjY5Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyMCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7YqtmC2LHZitixINiv2YrYs9mF2KjYsCAyMDI0PC90ZXh0Pjwvc3ZnPg==",activities:["المهرجان السنوي للمسرح (جميع المستويات) - 180 مشارك","عرض نهاية الفصل (الثانية و الثالثة إعدادي) - 65 مشارك","ورشة الماكياج المسرحي (الأولى إعدادي 1 و 2) - 28 مشارك","مسابقة التمثيل الصامت (الأول إلى الرابع ابتدائي) - 45 مشارك","عروض ما قبل التمدرس (ما قبل التمدرس الأول و الثاني) - 32 مشارك"],achievements:["نجاح المهرجان السنوي بحضور 300 ولي أمر","فوز المدرسة بالمركز الأول على مستوى المنطقة","إنتاج 5 عروض مسرحية متكاملة"],gallery:["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjOGI1Y2Y2Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyMCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7Yl9mG2KzYp9iyIDE8L3RleHQ+PC9zdmc+","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZWY0NDQ0Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyMCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7Yl9mG2KzYp9iyIDI8L3RleHQ+PC9zdmc+","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjMDZiNmQ0Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyMCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7Yl9mG2KzYp9iyIDM8L3RleHQ+PC9zdmc+"]}]),b=(O,z)=>{r({message:O,type:z})},x=()=>{r(null)};pe.useEffect(()=>{const z=new URLSearchParams(e.search).get("reportId");z&&setTimeout(()=>{const $=document.getElementById(`report-${z}`);$?($.scrollIntoView({behavior:"smooth",block:"center"}),$.style.border="3px solid #3b82f6",$.style.boxShadow="0 0 20px rgba(59, 130, 246, 0.3)",setTimeout(()=>{$.style.border="",$.style.boxShadow=""},3e3),b("تم العثور على التقرير المطلوب","success")):b("لم يتم العثور على التقرير المحدد","warning")},1e3)},[e.search]);const w=()=>{const O=new Date().getFullYear(),z=`الموسم المسرحي ${O}-${O+1}`;if(p.length===0){b("لا توجد تقارير للأرشفة","warning");return}const $=`هل أنت متأكد من رفع جميع التقارير (${p.length} تقرير) إلى الأرشيف؟

سيتم نقل التقارير إلى أرشيف "${z}" ومسحها من الصفحة الحالية.`;if(window.confirm($))try{const U={id:Date.now().toString(),year:`${O}-${O+1}`,title:z,description:`أرشيف الأنشطة المسرحية للموسم الدراسي ${O}-${O+1}`,reports:p,totalReports:p.length,createdAt:new Date().toISOString().split("T")[0],archivedBy:"الأستاذ مصطفى لعرعري"};console.log("أرشفة الموسم:",U),h([]),b(`✅ تم أرشفة ${p.length} تقرير للموسم ${z} بنجاح!`,"success")}catch(U){console.error("Error archiving reports:",U),b("حدث خطأ أثناء الأرشفة","error")}},R=O=>{const z=p.find(U=>U.id===O);if(!z){b("لم يتم العثور على التقرير","error");return}const $=`هل أنت متأكد من رفع التقرير "${z.title}" إلى الأرشيف؟`;if(window.confirm($))try{const U=p.map(L=>L.id===O?{...L,isArchived:!0,archivedAt:new Date().toISOString()}:L);h(U),console.log("أرشفة التقرير:",z),b(`✅ تم أرشفة التقرير "${z.title}" بنجاح!`,"success")}catch(U){console.error("Error archiving single report:",U),b("حدث خطأ أثناء أرشفة التقرير","error")}},F=O=>{const z=p.find($=>$.id===O);if(window.confirm(`هل أنت متأكد من حذف التقرير "${z?.title}"؟`)){const $=p.filter(U=>U.id!==O);h($),b("تم حذف التقرير!","warning")}},Q=O=>{n(`/edit-report/${O}`)},I=O=>{console.log("حفظ التقرير الخاص:",O),b("تم حفظ التقرير الخاص في الأرشيف بنجاح!","success")},T=O=>{const z=["يناير","فبراير","مارس","أبريل","ماي","يونيو","يوليوز","غشت","شتنبر","أكتوبر","نونبر","دجنبر"],$=O.split(" ");if($.length>=3){const U=parseInt($[0]),L=$[1],G=parseInt($[2]),X=z.indexOf(L);if(X!==-1)return new Date(G,X,U)}return new Date},_=yf.useMemo(()=>{const O={};return p.forEach(z=>{const U=`${T(z.date).toLocaleDateString("ar-MA",{month:"long",year:"numeric"})}`;O[U]||(O[U]=[]),O[U].push(z)}),Object.keys(O).forEach(z=>{O[z].sort(($,U)=>{const L=T($.date);return T(U.date).getTime()-L.getTime()})}),O},[p]);return A.jsxs("div",{className:"page",children:[A.jsx("div",{className:"page-header",children:A.jsxs("div",{className:"container",children:[A.jsx("h1",{children:"📊 التقارير والإحصائيات"}),A.jsx("p",{children:"تقارير شاملة عن الأنشطة المسرحية والإنجازات المحققة"})]})}),A.jsxs("div",{className:"container",children:[A.jsxs("div",{className:"reports-actions",style:{display:"flex",gap:"1rem",flexWrap:"wrap",marginBottom:"2rem"},children:[A.jsx(ru,{requirePermission:"canCreateReports",children:A.jsx("button",{onClick:w,className:"btn btn-archive",style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"white",border:"none",padding:"12px 24px",fontSize:"1rem",fontWeight:"600",borderRadius:"8px",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.4)",transition:"all 0.3s ease"},onMouseOver:O=>{O.currentTarget.style.transform="translateY(-2px)",O.currentTarget.style.boxShadow="0 6px 20px rgba(245, 158, 11, 0.6)"},onMouseOut:O=>{O.currentTarget.style.transform="translateY(0)",O.currentTarget.style.boxShadow="0 4px 12px rgba(245, 158, 11, 0.4)"},children:"📦 رفع التقارير إلى الأرشيف"})}),A.jsx("button",{onClick:()=>d(!0),className:"btn btn-special",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"12px 24px",fontSize:"1rem",fontWeight:"600",borderRadius:"8px",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.4)",transition:"all 0.3s ease"},onMouseOver:O=>{O.currentTarget.style.transform="translateY(-2px)",O.currentTarget.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.6)"},onMouseOut:O=>{O.currentTarget.style.transform="translateY(0)",O.currentTarget.style.boxShadow="0 4px 12px rgba(102, 126, 234, 0.4)"},children:"⭐ تقرير خاص سريع"}),p.length>0&&A.jsxs("button",{onClick:()=>{console.log("Archive button clicked, reports:",p.length),o(!0)},className:"btn btn-warning",title:"أرشفة جميع التقارير الحالية",style:{padding:"12px 24px",fontSize:"1rem",fontWeight:"600",borderRadius:"8px"},children:["📚 أرشفة الموسم الحالي (",p.length,")"]})]}),A.jsxs("div",{className:"stats-grid",children:[A.jsxs("div",{className:"stat-card",children:[A.jsx("div",{className:"stat-number",children:A.jsx(Ep,{end:u.totalActivities})}),A.jsx("div",{className:"stat-label",children:"إجمالي الأنشطة"})]}),A.jsxs("div",{className:"stat-card",children:[A.jsx("div",{className:"stat-number",children:A.jsx(Ep,{end:u.completedActivities})}),A.jsx("div",{className:"stat-label",children:"الأنشطة المكتملة"})]}),A.jsxs("div",{className:"stat-card",children:[A.jsx("div",{className:"stat-number",children:A.jsx(Ep,{end:u.upcomingActivities})}),A.jsx("div",{className:"stat-label",children:"الأنشطة القادمة"})]}),A.jsxs("div",{className:"stat-card",children:[A.jsx("div",{className:"stat-number",children:A.jsx(Ep,{end:u.totalParticipants})}),A.jsx("div",{className:"stat-label",children:"إجمالي المشاركين"})]}),A.jsxs("div",{className:"stat-card",children:[A.jsx("div",{className:"stat-number",children:A.jsx(Ep,{end:u.averageAttendance,suffix:"%"})}),A.jsx("div",{className:"stat-label",children:"متوسط الحضور"})]})]}),A.jsxs("div",{className:"reports-section",children:[A.jsx(Xy,{title:"التقارير الشهرية للأنشطة المسرحية",data:p,type:"reports",showEditButton:!1,showCreateButton:!1}),A.jsx("div",{className:"reports-header",children:A.jsx("h2",{children:"التقارير الشهرية"})}),A.jsx("div",{className:"reports-by-month",children:Object.entries(_).map(([O,z])=>A.jsxs("div",{className:"month-section",children:[A.jsxs("h2",{className:"month-title",children:["📊 ",O]}),A.jsx("div",{className:"reports-grid",children:z.map($=>A.jsxs("div",{id:`report-${$.id}`,className:"report-card",children:[A.jsxs("div",{className:"report-header",children:[A.jsx("h3",{children:$.title}),A.jsx("span",{className:"report-date",children:$.date})]}),A.jsxs("div",{className:"report-actions",children:[A.jsx(ru,{requirePermission:"canEdit",children:A.jsx("button",{onClick:()=>Q($.id),className:"btn btn-small btn-primary",title:"تعديل التقرير",children:"✏️ تعديل"})}),A.jsx(ru,{requirePermission:"canDelete",children:A.jsx("button",{onClick:()=>F($.id),className:"btn btn-small btn-danger",title:"حذف التقرير",children:"🗑️ حذف"})})]}),$.image&&A.jsx("div",{className:"report-image",children:A.jsx("img",{src:$.image,alt:$.title})}),A.jsx("div",{className:"report-summary",children:A.jsx("p",{children:$.summary})}),$.activityProgram?A.jsxs("div",{className:"report-section",children:[A.jsx("h4",{children:"📅 برنامج النشاط:"}),A.jsx("div",{className:"activity-program",children:$.activityProgram.split(`
`).map((U,L)=>A.jsx("p",{className:"program-line",children:U.trim()&&A.jsx(A.Fragment,{children:U.includes(":")?A.jsxs(A.Fragment,{children:[A.jsxs("strong",{children:[U.split(":")[0],":"]}),A.jsx("span",{children:U.split(":").slice(1).join(":")})]}):U})},L))})]}):A.jsxs("div",{className:"report-section",children:[A.jsx("h4",{children:"الأنشطة المنفذة:"}),A.jsx("ul",{children:$.activities.map((U,L)=>A.jsx("li",{children:U},L))})]}),($.targetGroup||$.location)&&A.jsx("div",{className:"report-section",children:A.jsxs("div",{className:"activity-details",children:[$.targetGroup&&A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"👥 الفئة المستفيدة:"}),A.jsx("span",{className:"detail-value",children:$.targetGroup})]}),$.location&&A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"📍 مكان النشاط:"}),A.jsx("span",{className:"detail-value",children:$.location})]})]})}),$.activitiesWithImages&&$.activitiesWithImages.length>0&&A.jsxs("div",{className:"report-section",children:[A.jsxs("h4",{children:["🎭 الأنشطة المفصلة (",$.activitiesWithImages.length,"):"]}),$.activitiesWithImages.map((U,L)=>A.jsxs("div",{className:"detailed-activity",children:[A.jsxs("div",{className:"activity-info",children:[A.jsxs("h5",{children:["🎪 ",U.name||`النشاط ${L+1}`]}),U.description&&A.jsx("p",{className:"activity-description",children:U.description})]}),U.images&&U.images.length>0&&A.jsxs("div",{className:"activity-gallery",children:[A.jsxs("h6",{children:["📸 صور النشاط (",U.images.length,"):"]}),A.jsx(qb,{images:U.images})]})]},L))]}),$.gallery&&$.gallery.length>0&&A.jsxs("div",{className:"report-section",children:[A.jsxs("h4",{children:["معرض الصور (",$.gallery.length,"):"]}),A.jsx(qb,{images:$.gallery})]}),A.jsx("div",{className:"report-archive-section",style:{marginTop:"2rem",paddingTop:"1rem",borderTop:"2px solid #e5e7eb",textAlign:"center"},children:$.isArchived?A.jsxs("div",{className:"archived-status",children:[A.jsx("span",{style:{background:"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"600",display:"inline-flex",alignItems:"center",gap:"0.5rem",cursor:"default"},children:"📦 التقرير مؤرشف"}),$.archivedAt&&A.jsxs("p",{style:{fontSize:"0.8rem",color:"#6b7280",marginTop:"0.5rem"},children:["تم الأرشفة في: ",new Date($.archivedAt).toLocaleDateString("ar-EG")]})]}):A.jsx("button",{onClick:()=>R($.id),className:"archive-single-btn",style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",display:"inline-flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 2px 4px rgba(245, 158, 11, 0.3)"},onMouseOver:U=>{U.currentTarget.style.transform="translateY(-2px)",U.currentTarget.style.boxShadow="0 4px 12px rgba(245, 158, 11, 0.4)"},onMouseOut:U=>{U.currentTarget.style.transform="translateY(0)",U.currentTarget.style.boxShadow="0 2px 4px rgba(245, 158, 11, 0.3)"},title:"رفع هذا التقرير إلى الأرشيف",children:"📦 رفع إلى الأرشيف"})})]},$.id))})]},O))})]}),t&&A.jsx(Bc,{message:t.message,type:t.type,onClose:x})]}),A.jsx(QC,{isOpen:c,onClose:()=>d(!1),onSave:I}),i&&A.jsx("div",{className:"form-overlay",children:A.jsxs("div",{className:"form-container",children:[A.jsxs("div",{className:"form-header",children:[A.jsx("h2",{children:"🗃️ أرشفة الموسم الحالي"}),A.jsx("button",{onClick:()=>o(!1),className:"close-btn",children:"✕"})]}),A.jsxs("div",{className:"form-body",children:[A.jsxs("div",{className:"archive-warning",children:[A.jsx("div",{className:"warning-icon",children:"⚠️"}),A.jsxs("div",{className:"warning-content",children:[A.jsx("h3",{children:"تأكيد الأرشفة"}),A.jsxs("p",{children:["سيتم نقل جميع التقارير الحالية (",p.length," تقرير) إلى الأرشيف.",A.jsx("br",{}),"هذا الإجراء سيمسح التقارير من القائمة الحالية وينقلها للأرشيف."]}),A.jsx("p",{children:A.jsx("strong",{children:"هل أنت متأكد من المتابعة؟"})})]})]}),A.jsxs("div",{className:"archive-actions",children:[A.jsx("button",{onClick:()=>o(!1),className:"btn btn-secondary",children:"إلغاء"}),A.jsx("button",{onClick:w,className:"btn btn-warning",children:"📚 تأكيد الأرشفة"})]})]})]})})]})};function Z1(n,e){const[t,r]=pe.useState(()=>{try{const o=window.localStorage.getItem(n);return o?JSON.parse(o):e}catch(o){return console.error(`Error reading localStorage key "${n}":`,o),e}});return[t,o=>{try{const c=o instanceof Function?o(t):o;r(c),window.localStorage.setItem(n,JSON.stringify(c))}catch(c){console.error(`Error setting localStorage key "${n}":`,c)}}]}const fR=({images:n,onRemoveImage:e})=>{const[t,r]=pe.useState(0),[i,o]=pe.useState("contain"),c=h=>{r(h)},d=()=>{r(t===0?n.length-1:t-1)},u=()=>{r(t===n.length-1?0:t+1)},p=()=>{e(t),t>=n.length-1&&t>0&&r(t-1)};return!n||n.length===0?null:A.jsxs("div",{className:"image-slider",children:[A.jsxs("div",{className:"image-fit-controls",children:[A.jsx("button",{className:`fit-btn ${i==="contain"?"active":""}`,onClick:()=>o("contain"),children:"احتواء كامل"}),A.jsx("button",{className:`fit-btn ${i==="cover"?"active":""}`,onClick:()=>o("cover"),children:"ملء الإطار"}),A.jsx("button",{className:`fit-btn ${i==="fill"?"active":""}`,onClick:()=>o("fill"),children:"تمديد كامل"})]}),A.jsxs("div",{className:"slider-container",children:[A.jsxs("div",{className:"slider-image-container",children:[A.jsx("img",{src:n[t],alt:`صورة ${t+1}`,className:"slider-image",style:{objectFit:i}}),A.jsx("div",{className:"image-caption",children:A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsxs("p",{children:["صورة ",t+1," من ",n.length]}),A.jsx("button",{type:"button",onClick:p,className:"remove-image-btn-slider",title:"حذف هذه الصورة",children:"🗑️ حذف"})]})}),n.length>1&&A.jsxs(A.Fragment,{children:[A.jsx("button",{className:"slider-btn prev-btn",onClick:d,children:"❮"}),A.jsx("button",{className:"slider-btn next-btn",onClick:u,children:"❯"})]})]}),n.length>1&&A.jsx("div",{className:"slider-dots",children:n.map((h,b)=>A.jsx("button",{className:`dot ${b===t?"active":""}`,onClick:()=>c(b)},b))})]})]})},pR=({images:n,activityIndex:e,onRemoveImage:t})=>{const[r,i]=pe.useState(0),[o,c]=pe.useState("contain"),d=b=>{i(b)},u=()=>{i(r===0?n.length-1:r-1)},p=()=>{i(r===n.length-1?0:r+1)},h=()=>{t(e,r),r>=n.length-1&&r>0&&i(r-1)};return!n||n.length===0?null:A.jsxs("div",{className:"activity-image-slider",children:[A.jsxs("div",{className:"image-fit-controls",children:[A.jsx("button",{className:`fit-btn ${o==="contain"?"active":""}`,onClick:()=>c("contain"),children:"احتواء"}),A.jsx("button",{className:`fit-btn ${o==="cover"?"active":""}`,onClick:()=>c("cover"),children:"ملء"})]}),A.jsxs("div",{className:"slider-container",children:[A.jsxs("div",{className:"slider-image-container",children:[A.jsx("img",{src:n[r],alt:`صورة النشاط ${r+1}`,className:"slider-image",style:{objectFit:o}}),A.jsx("div",{className:"image-caption",children:A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsxs("p",{children:["صورة ",r+1," من ",n.length]}),A.jsx("button",{type:"button",onClick:h,className:"remove-image-btn-slider",title:"حذف هذه الصورة",children:"🗑️"})]})}),n.length>1&&A.jsxs(A.Fragment,{children:[A.jsx("button",{className:"slider-btn prev-btn",onClick:u,children:"❮"}),A.jsx("button",{className:"slider-btn next-btn",onClick:p,children:"❯"})]})]}),n.length>1&&A.jsx("div",{className:"slider-dots",children:n.map((b,x)=>A.jsx("button",{className:`dot ${x===r?"active":""}`,onClick:()=>d(x)},x))})]})]})},gR=()=>{const n=Ql(),[,e]=Z1("theatre-reports",[]),[t,r]=pe.useState(null),i=()=>{const he=new Date,Se=["يناير","فبراير","مارس","أبريل","ماي","يونيو","يوليوز","غشت","شتنبر","أكتوبر","نونبر","دجنبر"][he.getMonth()],Ie=he.getFullYear();return{month:Se,year:Ie}},o=(he,xe)=>{const Se=he||u,Ie=xe||p,We=["يناير","فبراير","مارس","أبريل","ماي","يونيو","يوليوز","غشت","شتنبر","أكتوبر","نونبر","دجنبر"].indexOf(Se);return new Date(Ie,We+1,0).getDate()},c=(he,xe,Se)=>{const Ie=["يناير","فبراير","مارس","أبريل","ماي","يونيو","يوليوز","غشت","شتنبر","أكتوبر","نونبر","دجنبر"].indexOf(xe),We=new Date(Se,Ie,he);return["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"][We.getDay()]},d=(he,xe)=>{const Se=o(he,xe),Ie=[];for(let We=1;We<=Se;We++){const Xe=c(We,he,xe);Ie.push({value:We,label:`${We} - ${Xe}`,fullDate:`${We} ${he} ${xe}`})}return Ie},{month:u,year:p}=i(),h=o(),[b,x]=pe.useState(u),[w,R]=pe.useState(p),[F,Q]=pe.useState(h),[I,T]=pe.useState([]),[_,O]=pe.useState(!1),[z,$]=pe.useState(!1),[U,L]=pe.useState({id:0,title:`تقرير شهر ${u} ${p}`,date:`${h} ${u} ${p}`,summary:`تقرير شامل عن الأنشطة المسرحية المنفذة خلال شهر ${u} ${p}`,image:"",activities:[""],activitiesWithImages:[{name:"",description:"",images:[]}],achievements:[""],gallery:[]}),G=he=>({يناير:{activities:["ورشة تدريبية للمبتدئين","عرض مسرحي للأطفال","جلسة قراءة نصوص"],achievements:["تدريب 25 طفل جديد","إنتاج عرض مسرحي جديد","تطوير مهارات الإلقاء"]},فبراير:{activities:["مهرجان المسرح المدرسي","ورشة كتابة النصوص","عرض مسرحي تراثي"],achievements:["مشاركة 15 مدرسة","كتابة 5 نصوص جديدة","إحياء التراث المحلي"]},مارس:{activities:["احتفالية يوم المسرح العالمي","ورشة الإخراج المسرحي","مسرحية تفاعلية"],achievements:["تنظيم فعالية كبرى","تدريب 10 مخرجين جدد","جذب 500 متفرج"]},أبريل:{activities:["مسرح الشارع","ورشة الماكياج المسرحي","عرض في الهواء الطلق"],achievements:["الوصول لـ 1000 شخص","تعلم تقنيات جديدة","كسر حاجز المكان"]},ماي:{activities:["مهرجان نهاية الموسم","عرض تخرج الطلاب","حفل تكريم المتميزين"],achievements:["تخريج 30 طالب","تكريم 15 متميز","ختام موسم ناجح"]},يونيو:{activities:["مخيم مسرحي صيفي","ورشة مسرح الدمى","عروض ترفيهية"],achievements:["استقبال 100 طفل","إنتاج 10 عرائس","تسلية الأطفال"]},يوليوز:{activities:["مسرح تحت النجوم","ورشة الارتجال","عروض ليلية"],achievements:["تجربة فريدة","تطوير الإبداع","جو ساحر"]},غشت:{activities:["مهرجان المسرح الشبابي","ورشة التمثيل المتقدم","مسابقة أفضل ممثل"],achievements:["مشاركة 50 شاب","رفع المستوى","اكتشاف مواهب"]},شتنبر:{activities:["بداية الموسم الجديد","ورشة تأهيل المدربين","عرض افتتاحي"],achievements:["انطلاقة قوية","تأهيل 8 مدربين","حضور مميز"]},أكتوبر:{activities:["أسبوع المسرح التربوي","ورشة المسرح العلاجي","عروض تعليمية"],achievements:["دمج التعليم والفن","مساعدة ذوي الاحتياجات","تعلم ممتع"]},نونبر:{activities:["مهرجان المسرح النسائي","ورشة الإضاءة والصوت","عرض نسائي"],achievements:["تمكين المرأة","تعلم التقنيات","إبداع نسائي"]},دجنبر:{activities:["احتفالية نهاية السنة","عرض خيري","حفل تكريم المتطوعين"],achievements:["ختام ناجح","مساعدة المحتاجين","تقدير المتطوعين"]}})[he]||{activities:[""],achievements:[""]},X=(he,xe,Se)=>{const Ie=o(he,xe),We=Se||Ie,Xe=G(he);We>Ie?Q(Ie):Se&&Q(Se);const st=We>Ie?Ie:We;L(dt=>({...dt,title:`تقرير شهر ${he} ${xe}`,date:`${st} ${he} ${xe}`,summary:`تقرير شامل عن الأنشطة المسرحية المنفذة خلال شهر ${he} ${xe}`,activities:Xe.activities,achievements:Xe.achievements}))},P=(he,xe)=>{r({message:he,type:xe}),setTimeout(()=>r(null),3e3)},H=(he,xe)=>{L(Se=>({...Se,[he]:xe}))},V=(he,xe,Se)=>{L(Ie=>({...Ie,[he]:Ie[he].map((We,Xe)=>Xe===xe?Se:We)}))},te=he=>{L(xe=>({...xe,[he]:[...xe[he],""]}))},ge=(he,xe)=>{U[he].length>1&&L(Se=>({...Se,[he]:Se[he].filter((Ie,We)=>We!==xe)}))},oe=(he,xe,Se)=>{L(Ie=>({...Ie,activitiesWithImages:Ie.activitiesWithImages.map((We,Xe)=>Xe===he?{...We,[xe]:Se}:We)}))},we=()=>{L(he=>({...he,activitiesWithImages:[...he.activitiesWithImages,{name:"",description:"",images:[]}]}))},be=he=>{U.activitiesWithImages.length>1&&L(xe=>({...xe,activitiesWithImages:xe.activitiesWithImages.filter((Se,Ie)=>Ie!==he)}))},je=(he,xe)=>{L(Se=>({...Se,activitiesWithImages:Se.activitiesWithImages.map((Ie,We)=>We===he?{...Ie,images:Ie.images.filter((Xe,st)=>st!==xe)}:Ie)}))},re=he=>{if(he.preventDefault(),!U.title.trim()||!U.summary.trim()){P("يرجى ملء جميع الحقول المطلوبة","error");return}const xe={...U,id:Date.now(),activities:U.activities.filter(Se=>Se.trim()!==""),activitiesWithImages:z?U.activitiesWithImages.filter(Se=>Se.name.trim()!==""||Se.description.trim()!==""||Se.images.length>0):[],achievements:U.achievements.filter(Se=>Se.trim()!==""),gallery:I};e(Se=>[xe,...Se]),P("تم إنشاء التقرير بنجاح!","success"),setTimeout(()=>{n("/reports")},2e3)},de=()=>{n("/reports")},K=he=>new Promise((xe,Se)=>{const Ie=document.createElement("canvas"),We=Ie.getContext("2d"),Xe=new Image;Xe.onload=()=>{const dt=Xe.width,Mt=Xe.height,Ze=800,Ee=600;let{width:Ht,height:Ct}=Xe;Ht>Ct?Ht>Ze&&(Ct=Ct*Ze/Ht,Ht=Ze):Ct>Ee&&(Ht=Ht*Ee/Ct,Ct=Ee),Ie.width=Ht,Ie.height=Ct,We?.drawImage(Xe,0,0,Ht,Ct);const ct=Ie.toDataURL("image/jpeg",.8);xe({base64:ct,originalDimensions:{width:dt,height:Mt},compressedDimensions:{width:Math.round(Ht),height:Math.round(Ct)}})},Xe.onerror=()=>Se(new Error("فشل في تحميل الصورة"));const st=new FileReader;st.onload=dt=>{Xe.src=dt.target?.result},st.onerror=()=>Se(new Error("فشل في قراءة الملف")),st.readAsDataURL(he)}),ne=async he=>{const xe=he.target.files;if(!xe)return;O(!0),P(`🔄 بدء معالجة ${xe.length} صورة...`,"success");const Se=[];for(let Ie=0;Ie<xe.length;Ie++){const We=xe[Ie];if(!We.type.startsWith("image/")){P("يرجى اختيار ملفات صور فقط","error");continue}We.size>5*1024*1024&&P(`📏 الصورة ${We.name} كبيرة (${Math.round(We.size/1024/1024)}MB) - سيتم ضغطها`,"success");try{const Xe=Math.round(We.size/1024),st=await K(We),dt=Math.round(st.base64.length*3/4/1024),Mt=Math.round((Xe-dt)/Xe*100),{originalDimensions:Ze,compressedDimensions:Ee}=st;P(`✅ تم ضغط ${We.name}:
📏 الأبعاد: ${Ze.width}×${Ze.height} ← ${Ee.width}×${Ee.height}
💾 الحجم: ${Xe}KB ← ${dt}KB (توفير ${Mt}%)`,"success"),Se.push(st.base64)}catch{P(`❌ فشل في ضغط الصورة ${We.name}`,"error")}}Se.length>0?(T(Ie=>[...Ie,...Se]),L(Ie=>({...Ie,gallery:[...Ie.gallery,...Se]})),setTimeout(()=>{P(`🎉 تم الانتهاء من معالجة وضغط ${Se.length} صورة بنجاح!
📸 إجمالي الصور في المعرض: ${I.length+Se.length}`,"success")},1e3)):P("لم يتم رفع أي صورة. تحقق من نوع وحجم الملفات.","error"),O(!1),he.target.value=""},ce=async(he,xe)=>{const Se=he.target.files;if(!Se)return;O(!0),P(`🔄 بدء معالجة ${Se.length} صورة للنشاط ${xe+1}...`,"success");const Ie=[];for(let We=0;We<Se.length;We++){const Xe=Se[We];if(!Xe.type.startsWith("image/")){P("يرجى اختيار ملفات صور فقط","error");continue}Xe.size>5*1024*1024&&P(`📏 الصورة ${Xe.name} كبيرة (${Math.round(Xe.size/1024/1024)}MB) - سيتم ضغطها`,"success");try{const st=Math.round(Xe.size/1024),dt=await K(Xe),Mt=Math.round(dt.base64.length*3/4/1024),Ze=Math.round((st-Mt)/st*100),{originalDimensions:Ee,compressedDimensions:Ht}=dt;P(`✅ تم ضغط ${Xe.name} للنشاط ${xe+1}:
📏 ${Ee.width}×${Ee.height} ← ${Ht.width}×${Ht.height}
💾 ${st}KB ← ${Mt}KB (توفير ${Ze}%)`,"success"),Ie.push(dt.base64)}catch{P(`❌ فشل في ضغط الصورة ${Xe.name}`,"error")}}Ie.length>0?(L(We=>({...We,activitiesWithImages:We.activitiesWithImages.map((Xe,st)=>st===xe?{...Xe,images:[...Xe.images,...Ie]}:Xe)})),setTimeout(()=>{P(`🎉 تم إضافة ${Ie.length} صورة للنشاط ${xe+1}!`,"success")},1e3)):P("لم يتم رفع أي صورة. تحقق من نوع وحجم الملفات.","error"),O(!1),he.target.value=""},Be=he=>{const xe=I.filter((Se,Ie)=>Ie!==he);T(xe),L(Se=>({...Se,gallery:xe})),P("تم حذف الصورة","success")};return A.jsxs("div",{className:"page",children:[A.jsx("div",{className:"page-header",children:A.jsxs("div",{className:"container",children:[A.jsx("h1",{children:"📝 إنشاء تقرير جديد"}),A.jsx("p",{children:"قم بكتابة تقرير مفصل عن الأنشطة والإنجازات"})]})}),A.jsx("div",{className:"container",children:A.jsx("div",{className:"create-report-container",children:A.jsxs("form",{onSubmit:re,className:"report-form",children:[A.jsxs("div",{className:"form-section",children:[A.jsx("h3",{children:"📅 اختيار الشهر والسنة"}),A.jsxs("p",{className:"section-note",children:["💡 ",A.jsx("strong",{children:"ملاحظة:"})," عند اختيار الشهر والسنة واليوم، سيتم تحديث العنوان والتاريخ والملخص تلقائياً، كما ستظهر اقتراحات للأنشطة والإنجازات المناسبة لهذا الشهر. اليوم سيظهر مع اسم اليوم (مثل: 15 - الثلاثاء)."]}),A.jsxs("div",{className:"form-row",children:[A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{htmlFor:"month",children:[A.jsx("span",{className:"icon",children:"📅"}),"الشهر"]}),A.jsx("select",{id:"month",value:b,onChange:he=>{x(he.target.value),X(he.target.value,w)},children:["يناير","فبراير","مارس","أبريل","ماي","يونيو","يوليوز","غشت","شتنبر","أكتوبر","نونبر","دجنبر"].map(he=>A.jsx("option",{value:he,children:he},he))})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{htmlFor:"year",children:[A.jsx("span",{className:"icon",children:"🗓️"}),"السنة"]}),A.jsx("select",{id:"year",value:w,onChange:he=>{const xe=parseInt(he.target.value);R(xe),X(b,xe)},children:Array.from({length:5},(he,xe)=>p-2+xe).map(he=>A.jsx("option",{value:he,children:he},he))})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{htmlFor:"day",children:[A.jsx("span",{className:"icon",children:"📆"}),"اليوم"]}),A.jsx("select",{id:"day",value:F,onChange:he=>{const xe=parseInt(he.target.value);Q(xe),X(b,w,xe)},children:d(b,w).map(he=>A.jsx("option",{value:he.value,children:he.label},he.value))})]})]}),A.jsxs("div",{className:"form-section",children:[A.jsx("h3",{children:"📋 المعلومات الأساسية"}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx("span",{className:"icon",children:"📅"}),"التاريخ المختار"]}),A.jsxs("div",{className:"date-display",children:[U.date," - ",c(F,b,w)]})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{htmlFor:"title",children:[A.jsx("span",{className:"icon",children:"📄"}),"عنوان التقرير"]}),A.jsx("input",{type:"text",id:"title",value:U.title,onChange:he=>H("title",he.target.value),placeholder:"أدخل عنوان التقرير...",required:!0})]})]}),A.jsxs("div",{className:"form-section",children:[A.jsx("h3",{children:"📝 ملخص التقرير"}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{htmlFor:"summary",children:[A.jsx("span",{className:"icon",children:"📄"}),"ملخص مفصل"]}),A.jsx("textarea",{id:"summary",value:U.summary,onChange:he=>H("summary",he.target.value),placeholder:"اكتب ملخصاً مفصلاً عن التقرير...",rows:6,required:!0})]})]}),A.jsxs("div",{className:"form-section",children:[A.jsx("h3",{children:"🎯 النشاط الرئيسي"}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx("span",{className:"icon",children:"🎪"}),"وصف النشاط الرئيسي"]}),A.jsx("input",{type:"text",value:U.activities[0]||"",onChange:he=>{const xe=[...U.activities];xe[0]=he.target.value,L(Se=>({...Se,activities:xe}))},placeholder:"اكتب وصف النشاط الرئيسي..."})]}),A.jsx("div",{className:"additional-activities-toggle",children:A.jsx("button",{type:"button",onClick:()=>$(!z),className:`btn-toggle-activities ${z?"active":""}`,children:z?"🔼 إخفاء الأنشطة الأخرى":"🔽 النشاط الآخر"})})]}),z&&A.jsxs("div",{className:"form-section detailed-activities-section",children:[A.jsx("h3",{children:"🎭 الأنشطة المفصلة مع الصور"}),A.jsxs("p",{className:"section-note",children:["🎪 ",A.jsx("strong",{children:"ملاحظة:"})," هنا يمكنك إضافة تفاصيل كل نشاط مع صوره الخاصة. كل نشاط له اسم ووصف ومجموعة صور منفصلة."]}),U.activitiesWithImages.map((he,xe)=>A.jsxs("div",{className:"activity-with-images",children:[A.jsxs("div",{className:"activity-header",children:[A.jsxs("h4",{children:["🎪 النشاط ",xe+1]}),A.jsx("button",{type:"button",onClick:()=>be(xe),className:"btn-remove",disabled:U.activitiesWithImages.length===1,title:"حذف النشاط",children:"🗑️"})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx("span",{className:"icon",children:"🎭"}),"اسم النشاط"]}),A.jsx("input",{type:"text",value:he.name,onChange:Se=>oe(xe,"name",Se.target.value),placeholder:"مثال: عرض مسرحي - حلم ليلة صيف"})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx("span",{className:"icon",children:"📝"}),"وصف النشاط"]}),A.jsx("textarea",{value:he.description,onChange:Se=>oe(xe,"description",Se.target.value),placeholder:"اكتب وصفاً مفصلاً عن النشاط، المشاركين، المكان، والنتائج...",rows:3})]}),A.jsxs("div",{className:"activity-images",children:[A.jsxs("h5",{children:["📸 صور النشاط (",he.images.length,")"]}),he.images.length>0?A.jsx(pR,{images:he.images,activityIndex:xe,onRemoveImage:je}):A.jsx("div",{className:"no-images",children:"📷 لا توجد صور لهذا النشاط بعد"}),A.jsxs("label",{className:"activity-image-upload-btn",children:[A.jsx("span",{className:"icon",children:"📷"}),"إضافة صور لهذا النشاط",A.jsx("input",{type:"file",multiple:!0,accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:Se=>ce(Se,xe),style:{display:"none"}})]})]})]},xe)),A.jsx("button",{type:"button",onClick:we,className:"btn-add-activity",children:"➕ إضافة نشاط مفصل"})]}),A.jsxs("div",{className:"form-section",children:[A.jsx("h3",{children:"🏆 الإنجازات المحققة"}),U.achievements.map((he,xe)=>A.jsxs("div",{className:"form-group array-item",children:[A.jsxs("label",{children:[A.jsx("span",{className:"icon",children:"🎖️"}),"الإنجاز ",xe+1]}),A.jsxs("div",{className:"array-input",children:[A.jsx("input",{type:"text",value:he,onChange:Se=>V("achievements",xe,Se.target.value),placeholder:`اكتب الإنجاز ${xe+1}...`}),A.jsx("button",{type:"button",onClick:()=>ge("achievements",xe),className:"btn-remove",disabled:U.achievements.length===1,children:"🗑️"})]})]},xe)),A.jsx("button",{type:"button",onClick:()=>te("achievements"),className:"btn-add",children:"➕ إضافة إنجاز"})]}),A.jsxs("div",{className:"form-section",children:[A.jsx("h3",{children:"🖼️ معرض الصور"}),A.jsxs("p",{className:"section-note",children:["📸 ",A.jsx("strong",{children:"ملاحظة:"})," يمكنك رفع عدة صور من جهازك (أقل من 5MB لكل صورة). الصور المدعومة: JPG, PNG, GIF, WebP. سيتم ضغط الصور تلقائياً إلى 800x600 بكسل لتحسين الأداء."]}),A.jsxs("div",{className:"image-upload-section",children:[A.jsxs("label",{htmlFor:"images",className:`image-upload-btn ${_?"processing":""}`,children:[A.jsx("span",{className:"icon",children:_?"⏳":"📷"}),_?"جاري المعالجة...":"اختر صور من جهازك",A.jsx("input",{type:"file",id:"images",multiple:!0,accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:ne,disabled:_,style:{display:"none"}})]}),A.jsxs("p",{style:{marginTop:"0.5rem",fontSize:"0.9rem",color:"#6b7280"},children:["الصور المرفوعة حالياً: ",I.length,_&&A.jsx("span",{style:{color:"#f59e0b",marginLeft:"0.5rem"},children:"🔄 جاري المعالجة..."})]})]}),I.length>0&&A.jsxs("div",{className:"image-gallery",children:[A.jsxs("h4",{children:["الصور المرفوعة (",I.length,")"]}),A.jsx(fR,{images:I,onRemoveImage:Be})]})]}),A.jsxs("div",{className:"form-actions",children:[A.jsx("button",{type:"button",onClick:de,className:"btn-cancel",children:"❌ إلغاء"}),A.jsx("button",{type:"submit",className:"btn-submit",children:"💾 حفظ التقرير"})]})]})})}),t&&A.jsx(Bc,{message:t.message,type:t.type,onClose:()=>r(null)})]})},mR=({images:n,onRemoveImage:e})=>{const[t,r]=pe.useState(0),[i,o]=pe.useState("contain"),c=h=>{r(h)},d=()=>{r(t===0?n.length-1:t-1)},u=()=>{r(t===n.length-1?0:t+1)},p=()=>{e(t),t>=n.length-1&&t>0&&r(t-1)};return!n||n.length===0?null:A.jsxs("div",{className:"image-slider",children:[A.jsxs("div",{className:"image-fit-controls",children:[A.jsx("button",{className:`fit-btn ${i==="contain"?"active":""}`,onClick:()=>o("contain"),children:"احتواء كامل"}),A.jsx("button",{className:`fit-btn ${i==="cover"?"active":""}`,onClick:()=>o("cover"),children:"ملء الإطار"}),A.jsx("button",{className:`fit-btn ${i==="fill"?"active":""}`,onClick:()=>o("fill"),children:"تمديد كامل"})]}),A.jsxs("div",{className:"slider-container",children:[A.jsxs("div",{className:"slider-image-container",children:[A.jsx("img",{src:n[t],alt:`صورة ${t+1}`,className:"slider-image",style:{objectFit:i}}),A.jsx("div",{className:"image-caption",children:A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsxs("p",{children:["صورة ",t+1," من ",n.length]}),A.jsx("button",{type:"button",onClick:p,className:"remove-image-btn-slider",title:"حذف هذه الصورة",children:"🗑️ حذف"})]})}),n.length>1&&A.jsxs(A.Fragment,{children:[A.jsx("button",{className:"slider-btn prev-btn",onClick:d,children:"❮"}),A.jsx("button",{className:"slider-btn next-btn",onClick:u,children:"❯"})]})]}),n.length>1&&A.jsx("div",{className:"slider-dots",children:n.map((h,b)=>A.jsx("button",{className:`dot ${b===t?"active":""}`,onClick:()=>c(b)},b))})]})]})},vR=()=>{const n=Ql(),{id:e}=CB(),[t,r]=Z1("theatre-reports",[]),[i,o]=pe.useState(null),[c,d]=pe.useState([]),[u,p]=pe.useState({id:0,title:"",date:"",summary:"",image:"",activities:[""],achievements:[""],gallery:[]});pe.useEffect(()=>{if(e){const I=parseInt(e),T=t.find(_=>_.id===I);T?(p(T),d(T.gallery||[])):(h("التقرير غير موجود!","error"),n("/reports"))}},[e,t,n]);const h=(I,T)=>{o({message:I,type:T}),setTimeout(()=>o(null),3e3)},b=(I,T)=>{p(_=>({..._,[I]:T}))},x=(I,T,_)=>{p(O=>({...O,[I]:O[I].map((z,$)=>$===T?_:z)}))},w=I=>{p(T=>({...T,[I]:[...T[I],""]}))},R=(I,T)=>{u[I].length>1&&p(_=>({..._,[I]:_[I].filter((O,z)=>z!==T)}))},F=I=>{if(I.preventDefault(),!u.title.trim()||!u.summary.trim()){h("يرجى ملء جميع الحقول المطلوبة","error");return}const T={...u,activities:u.activities.filter(O=>O.trim()!==""),achievements:u.achievements.filter(O=>O.trim()!==""),gallery:c},_=t.map(O=>O.id===T.id?T:O);r(_),h("تم تحديث التقرير بنجاح!","success"),setTimeout(()=>{n("/reports")},2e3)},Q=()=>{n("/reports")};return A.jsxs("div",{className:"page",children:[A.jsx("div",{className:"page-header",children:A.jsxs("div",{className:"container",children:[A.jsx("h1",{children:"✏️ تعديل التقرير"}),A.jsx("p",{children:"قم بتعديل بيانات التقرير"})]})}),A.jsx("div",{className:"container",children:A.jsx("div",{className:"create-report-container",children:A.jsxs("form",{onSubmit:F,className:"report-form",children:[A.jsxs("div",{className:"form-section",children:[A.jsx("h3",{children:"📋 المعلومات الأساسية"}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{htmlFor:"title",children:[A.jsx("span",{className:"icon",children:"📄"}),"عنوان التقرير"]}),A.jsx("input",{type:"text",id:"title",value:u.title,onChange:I=>b("title",I.target.value),placeholder:"أدخل عنوان التقرير...",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{htmlFor:"date",children:[A.jsx("span",{className:"icon",children:"📅"}),"التاريخ"]}),A.jsx("input",{type:"text",id:"date",value:u.date,onChange:I=>b("date",I.target.value),placeholder:"مثال: 31 يناير 2025",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{htmlFor:"summary",children:[A.jsx("span",{className:"icon",children:"📝"}),"ملخص التقرير"]}),A.jsx("textarea",{id:"summary",value:u.summary,onChange:I=>b("summary",I.target.value),placeholder:"اكتب ملخصاً مختصراً عن التقرير...",rows:3,required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{htmlFor:"image",children:[A.jsx("span",{className:"icon",children:"🖼️"}),"رابط الصورة الرئيسية"]}),A.jsx("input",{type:"url",id:"image",value:u.image,onChange:I=>b("image",I.target.value),placeholder:"https://example.com/image.jpg"})]})]}),A.jsxs("div",{className:"form-section",children:[A.jsx("h3",{children:"🎯 الأنشطة المنفذة"}),u.activities.map((I,T)=>A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx("span",{className:"icon",children:"🎭"}),"النشاط ",T+1]}),A.jsxs("div",{className:"array-input",children:[A.jsx("input",{type:"text",value:I,onChange:_=>x("activities",T,_.target.value),placeholder:`اكتب النشاط ${T+1}...`}),A.jsx("button",{type:"button",onClick:()=>R("activities",T),className:"btn-remove",disabled:u.activities.length===1,children:"🗑️"})]})]},T)),A.jsx("button",{type:"button",onClick:()=>w("activities"),className:"btn-add",children:"➕ إضافة نشاط"})]}),A.jsxs("div",{className:"form-section",children:[A.jsx("h3",{children:"🏆 الإنجازات المحققة"}),u.achievements.map((I,T)=>A.jsxs("div",{className:"form-group",children:[A.jsxs("label",{children:[A.jsx("span",{className:"icon",children:"🌟"}),"الإنجاز ",T+1]}),A.jsxs("div",{className:"array-input",children:[A.jsx("input",{type:"text",value:I,onChange:_=>x("achievements",T,_.target.value),placeholder:`اكتب الإنجاز ${T+1}...`}),A.jsx("button",{type:"button",onClick:()=>R("achievements",T),className:"btn-remove",disabled:u.achievements.length===1,children:"🗑️"})]})]},T)),A.jsx("button",{type:"button",onClick:()=>w("achievements"),className:"btn-add",children:"➕ إضافة إنجاز"})]}),A.jsxs("div",{className:"form-section",children:[A.jsx("h3",{children:"🖼️ معرض الصور"}),A.jsxs("p",{className:"section-note",children:["📸 ",A.jsx("strong",{children:"ملاحظة:"})," يمكنك إضافة صور جديدة أو حذف الصور الموجودة."]}),c.length>0&&A.jsxs("div",{className:"image-gallery",children:[A.jsxs("h4",{children:["الصور الحالية (",c.length,")"]}),A.jsx(mR,{images:c,onRemoveImage:I=>{const T=c.filter((_,O)=>O!==I);d(T),p(_=>({..._,gallery:T})),h("تم حذف الصورة","success")}})]}),c.length===0&&A.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:"📷 لا توجد صور في هذا التقرير"})]}),A.jsxs("div",{className:"form-actions",children:[A.jsx("button",{type:"button",onClick:Q,className:"btn-cancel",children:"❌ إلغاء"}),A.jsx("button",{type:"submit",className:"btn-submit",children:"💾 حفظ التعديلات"})]})]})})}),i&&A.jsx(Bc,{message:i.message,type:i.type,onClose:()=>o(null)})]})};var Kv={exports:{}};function Qr(n){"@babel/helpers - typeof";return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(n)}var Qa=Uint8Array,iA=Uint16Array,ew=Int32Array,O0=new Qa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),P0=new Qa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ty=new Qa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),LC=function(n,e){for(var t=new iA(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new ew(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)i[o]=o-t[r]<<5|r;return{b:t,r:i}},DC=LC(O0,2),OC=DC.b,Uy=DC.r;OC[28]=258,Uy[258]=28;var PC=LC(P0,0),yR=PC.b,$b=PC.r,Fy=new iA(32768);for(var fs=0;fs<32768;++fs){var Yu=(fs&43690)>>1|(fs&21845)<<1;Yu=(Yu&52428)>>2|(Yu&13107)<<2,Yu=(Yu&61680)>>4|(Yu&3855)<<4,Fy[fs]=((Yu&65280)>>8|(Yu&255)<<8)>>1}var bc=(function(n,e,t){for(var r=n.length,i=0,o=new iA(e);i<r;++i)n[i]&&++o[n[i]-1];var c=new iA(e);for(i=1;i<e;++i)c[i]=c[i-1]+o[i-1]<<1;var d;if(t){d=new iA(1<<e);var u=15-e;for(i=0;i<r;++i)if(n[i])for(var p=i<<4|n[i],h=e-n[i],b=c[n[i]-1]++<<h,x=b|(1<<h)-1;b<=x;++b)d[Fy[b]>>u]=p}else for(d=new iA(r),i=0;i<r;++i)n[i]&&(d[i]=Fy[c[n[i]-1]++]>>15-n[i]);return d}),yd=new Qa(288);for(var fs=0;fs<144;++fs)yd[fs]=8;for(var fs=144;fs<256;++fs)yd[fs]=9;for(var fs=256;fs<280;++fs)yd[fs]=7;for(var fs=280;fs<288;++fs)yd[fs]=8;var ag=new Qa(32);for(var fs=0;fs<32;++fs)ag[fs]=5;var wR=bc(yd,9,0),bR=bc(yd,9,1),BR=bc(ag,5,0),xR=bc(ag,5,1),Gv=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Bl=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},zv=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},tw=function(n){return(n+7)/8|0},MC=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Qa(n.subarray(e,t))},CR=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Cl=function(n,e,t){var r=new Error(e||CR[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Cl),!t)throw r;return r},ER=function(n,e,t,r){var i=n.length,o=0;if(!i||e.f&&!e.l)return t||new Qa(0);var c=!t,d=c||e.i!=2,u=e.i;c&&(t=new Qa(i*3));var p=function(Xe){var st=t.length;if(Xe>st){var dt=new Qa(Math.max(st*2,Xe));dt.set(t),t=dt}},h=e.f||0,b=e.p||0,x=e.b||0,w=e.l,R=e.d,F=e.m,Q=e.n,I=i*8;do{if(!w){h=Bl(n,b,1);var T=Bl(n,b+1,3);if(b+=3,T)if(T==1)w=bR,R=xR,F=9,Q=5;else if(T==2){var $=Bl(n,b,31)+257,U=Bl(n,b+10,15)+4,L=$+Bl(n,b+5,31)+1;b+=14;for(var G=new Qa(L),X=new Qa(19),P=0;P<U;++P)X[Ty[P]]=Bl(n,b+P*3,7);b+=U*3;for(var H=Gv(X),V=(1<<H)-1,te=bc(X,H,1),P=0;P<L;){var ge=te[Bl(n,b,V)];b+=ge&15;var _=ge>>4;if(_<16)G[P++]=_;else{var oe=0,we=0;for(_==16?(we=3+Bl(n,b,3),b+=2,oe=G[P-1]):_==17?(we=3+Bl(n,b,7),b+=3):_==18&&(we=11+Bl(n,b,127),b+=7);we--;)G[P++]=oe}}var be=G.subarray(0,$),je=G.subarray($);F=Gv(be),Q=Gv(je),w=bc(be,F,1),R=bc(je,Q,1)}else Cl(1);else{var _=tw(b)+4,O=n[_-4]|n[_-3]<<8,z=_+O;if(z>i){u&&Cl(0);break}d&&p(x+O),t.set(n.subarray(_,z),x),e.b=x+=O,e.p=b=z*8,e.f=h;continue}if(b>I){u&&Cl(0);break}}d&&p(x+131072);for(var re=(1<<F)-1,de=(1<<Q)-1,K=b;;K=b){var oe=w[zv(n,b)&re],ne=oe>>4;if(b+=oe&15,b>I){u&&Cl(0);break}if(oe||Cl(2),ne<256)t[x++]=ne;else if(ne==256){K=b,w=null;break}else{var ce=ne-254;if(ne>264){var P=ne-257,Be=O0[P];ce=Bl(n,b,(1<<Be)-1)+OC[P],b+=Be}var he=R[zv(n,b)&de],xe=he>>4;he||Cl(3),b+=he&15;var je=yR[xe];if(xe>3){var Be=P0[xe];je+=zv(n,b)&(1<<Be)-1,b+=Be}if(b>I){u&&Cl(0);break}d&&p(x+131072);var Se=x+ce;if(x<je){var Ie=o-je,We=Math.min(je,Se);for(Ie+x<0&&Cl(3);x<We;++x)t[x]=r[Ie+x]}for(;x<Se;++x)t[x]=t[x-je]}}e.l=w,e.p=K,e.b=x,e.f=h,w&&(h=1,e.m=F,e.d=R,e.n=Q)}while(!h);return x!=t.length&&c?MC(t,0,x):t.subarray(0,x)},tu=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Sp=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},qv=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,o=t.slice();if(!i)return{t:HC,l:0};if(i==1){var c=new Qa(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(z,$){return z.f-$.f}),t.push({s:-1,f:25001});var d=t[0],u=t[1],p=0,h=1,b=2;for(t[0]={s:-1,f:d.f+u.f,l:d,r:u};h!=i-1;)d=t[t[p].f<t[b].f?p++:b++],u=t[p!=h&&t[p].f<t[b].f?p++:b++],t[h++]={s:-1,f:d.f+u.f,l:d,r:u};for(var x=o[0].s,r=1;r<i;++r)o[r].s>x&&(x=o[r].s);var w=new iA(x+1),R=Qy(t[h-1],w,0);if(R>e){var r=0,F=0,Q=R-e,I=1<<Q;for(o.sort(function($,U){return w[U.s]-w[$.s]||$.f-U.f});r<i;++r){var T=o[r].s;if(w[T]>e)F+=I-(1<<R-w[T]),w[T]=e;else break}for(F>>=Q;F>0;){var _=o[r].s;w[_]<e?F-=1<<e-w[_]++-1:++r}for(;r>=0&&F;--r){var O=o[r].s;w[O]==e&&(--w[O],++F)}R=e}return{t:new Qa(w),l:R}},Qy=function(n,e,t){return n.s==-1?Math.max(Qy(n.l,e,t+1),Qy(n.r,e,t+1)):e[n.s]=t},Wb=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new iA(++e),r=0,i=n[0],o=1,c=function(u){t[r++]=u},d=1;d<=e;++d)if(n[d]==i&&d!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(i),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(i);o=1,i=n[d]}return{c:t.subarray(0,r),n:e}},_p=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},kC=function(n,e,t){var r=t.length,i=tw(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var o=0;o<r;++o)n[i+o+4]=t[o];return(i+4+r)*8},Yb=function(n,e,t,r,i,o,c,d,u,p,h){tu(e,h++,t),++i[256];for(var b=qv(i,15),x=b.t,w=b.l,R=qv(o,15),F=R.t,Q=R.l,I=Wb(x),T=I.c,_=I.n,O=Wb(F),z=O.c,$=O.n,U=new iA(19),L=0;L<T.length;++L)++U[T[L]&31];for(var L=0;L<z.length;++L)++U[z[L]&31];for(var G=qv(U,7),X=G.t,P=G.l,H=19;H>4&&!X[Ty[H-1]];--H);var V=p+5<<3,te=_p(i,yd)+_p(o,ag)+c,ge=_p(i,x)+_p(o,F)+c+14+3*H+_p(U,X)+2*U[16]+3*U[17]+7*U[18];if(u>=0&&V<=te&&V<=ge)return kC(e,h,n.subarray(u,u+p));var oe,we,be,je;if(tu(e,h,1+(ge<te)),h+=2,ge<te){oe=bc(x,w,0),we=x,be=bc(F,Q,0),je=F;var re=bc(X,P,0);tu(e,h,_-257),tu(e,h+5,$-1),tu(e,h+10,H-4),h+=14;for(var L=0;L<H;++L)tu(e,h+3*L,X[Ty[L]]);h+=3*H;for(var de=[T,z],K=0;K<2;++K)for(var ne=de[K],L=0;L<ne.length;++L){var ce=ne[L]&31;tu(e,h,re[ce]),h+=X[ce],ce>15&&(tu(e,h,ne[L]>>5&127),h+=ne[L]>>12)}}else oe=wR,we=yd,be=BR,je=ag;for(var L=0;L<d;++L){var Be=r[L];if(Be>255){var ce=Be>>18&31;Sp(e,h,oe[ce+257]),h+=we[ce+257],ce>7&&(tu(e,h,Be>>23&31),h+=O0[ce]);var he=Be&31;Sp(e,h,be[he]),h+=je[he],he>3&&(Sp(e,h,Be>>5&8191),h+=P0[he])}else Sp(e,h,oe[Be]),h+=we[Be]}return Sp(e,h,oe[256]),h+we[256]},SR=new ew([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),HC=new Qa(0),_R=function(n,e,t,r,i,o){var c=o.z||n.length,d=new Qa(r+c+5*(1+Math.ceil(c/7e3))+i),u=d.subarray(r,d.length-i),p=o.l,h=(o.r||0)&7;if(e){h&&(u[0]=o.r>>3);for(var b=SR[e-1],x=b>>13,w=b&8191,R=(1<<t)-1,F=o.p||new iA(32768),Q=o.h||new iA(R+1),I=Math.ceil(t/3),T=2*I,_=function(Mt){return(n[Mt]^n[Mt+1]<<I^n[Mt+2]<<T)&R},O=new ew(25e3),z=new iA(288),$=new iA(32),U=0,L=0,G=o.i||0,X=0,P=o.w||0,H=0;G+2<c;++G){var V=_(G),te=G&32767,ge=Q[V];if(F[te]=ge,Q[V]=te,P<=G){var oe=c-G;if((U>7e3||X>24576)&&(oe>423||!p)){h=Yb(n,u,0,O,z,$,L,X,H,G-H,h),X=U=L=0,H=G;for(var we=0;we<286;++we)z[we]=0;for(var we=0;we<30;++we)$[we]=0}var be=2,je=0,re=w,de=te-ge&32767;if(oe>2&&V==_(G-de))for(var K=Math.min(x,oe)-1,ne=Math.min(32767,G),ce=Math.min(258,oe);de<=ne&&--re&&te!=ge;){if(n[G+be]==n[G+be-de]){for(var Be=0;Be<ce&&n[G+Be]==n[G+Be-de];++Be);if(Be>be){if(be=Be,je=de,Be>K)break;for(var he=Math.min(de,Be-2),xe=0,we=0;we<he;++we){var Se=G-de+we&32767,Ie=F[Se],We=Se-Ie&32767;We>xe&&(xe=We,ge=Se)}}}te=ge,ge=F[te],de+=te-ge&32767}if(je){O[X++]=268435456|Uy[be]<<18|$b[je];var Xe=Uy[be]&31,st=$b[je]&31;L+=O0[Xe]+P0[st],++z[257+Xe],++$[st],P=G+be,++U}else O[X++]=n[G],++z[n[G]]}}for(G=Math.max(G,P);G<c;++G)O[X++]=n[G],++z[n[G]];h=Yb(n,u,p,O,z,$,L,X,H,G-H,h),p||(o.r=h&7|u[h/8|0]<<3,h-=7,o.h=Q,o.p=F,o.i=G,o.w=P)}else{for(var G=o.w||0;G<c+p;G+=65535){var dt=G+65535;dt>=c&&(u[h/8|0]=p,dt=c),h=kC(u,h+1,n.subarray(G,dt))}o.i=c}return MC(d,0,r+tw(h)+i)},VC=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,o=t.length|0,c=0;c!=o;){for(var d=Math.min(c+2655,o);c<d;++c)i+=r+=t[c];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},IR=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new Qa(o.length+n.length);c.set(o),c.set(n,o.length),n=c,i.w=o.length}return _R(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},KC=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},jR=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=VC();i.p(e.dictionary),KC(n,2,i.d())}},NR=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Cl(6,"invalid zlib data"),(n[1]>>5&1)==1&&Cl(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function Ry(n,e){e||(e={});var t=VC();t.p(n);var r=IR(n,e,e.dictionary?6:2,4);return jR(r,e),KC(r,r.length-4,t.d()),r}function TR(n,e){return ER(n.subarray(NR(n),-4),{i:2},e,e)}var UR=typeof TextDecoder<"u"&&new TextDecoder,FR=0;try{UR.decode(HC,{stream:!0}),FR=1}catch{}var bn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function $v(){bn.console&&typeof bn.console.log=="function"&&bn.console.log.apply(bn.console,arguments)}var Jr={log:$v,warn:function(n){bn.console&&(typeof bn.console.warn=="function"?bn.console.warn.apply(bn.console,arguments):$v.call(null,arguments))},error:function(n){bn.console&&(typeof bn.console.error=="function"?bn.console.error.apply(bn.console,arguments):$v(n))}};function Wv(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){ah(r.response,e,t)},r.onerror=function(){Jr.error("could not download file")},r.send()}function Xb(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function pm(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Hp,Ly,ah=bn.saveAs||((typeof window>"u"?"undefined":Qr(window))!=="object"||window!==bn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=bn.URL||bn.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?Xb(i.href)?Wv(n,e,t):pm(i,i.target="_blank"):pm(i)):(i.href=r.createObjectURL(n),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){pm(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Xb(n))Wv(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout((function(){pm(r)}))}else navigator.msSaveOrOpenBlob((function(i,o){return o===void 0?o={autoBom:!1}:Qr(o)!=="object"&&(Jr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Wv(n,e,t);var i=n.type==="application/octet-stream",o=/constructor/i.test(bn.HTMLElement)||bn.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&o)&&(typeof FileReader>"u"?"undefined":Qr(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var h=d.result;h=c?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},d.readAsDataURL(n)}else{var u=bn.URL||bn.webkitURL,p=u.createObjectURL(n);r?r.location=p:location.href=p,r=null,setTimeout((function(){u.revokeObjectURL(p)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function GC(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,o=t[r].process,c=i.exec(n);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),u=this.g.toString(16),p=this.b.toString(16);return d.length==1&&(d="0"+d),u.length==1&&(u="0"+u),p.length==1&&(p="0"+p),"#"+d+u+p}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Yv(n,e){var t=n[0],r=n[1],i=n[2],o=n[3];t=Ia(t,r,i,o,e[0],7,-680876936),o=Ia(o,t,r,i,e[1],12,-389564586),i=Ia(i,o,t,r,e[2],17,606105819),r=Ia(r,i,o,t,e[3],22,-1044525330),t=Ia(t,r,i,o,e[4],7,-176418897),o=Ia(o,t,r,i,e[5],12,1200080426),i=Ia(i,o,t,r,e[6],17,-1473231341),r=Ia(r,i,o,t,e[7],22,-45705983),t=Ia(t,r,i,o,e[8],7,1770035416),o=Ia(o,t,r,i,e[9],12,-1958414417),i=Ia(i,o,t,r,e[10],17,-42063),r=Ia(r,i,o,t,e[11],22,-1990404162),t=Ia(t,r,i,o,e[12],7,1804603682),o=Ia(o,t,r,i,e[13],12,-40341101),i=Ia(i,o,t,r,e[14],17,-1502002290),t=ja(t,r=Ia(r,i,o,t,e[15],22,1236535329),i,o,e[1],5,-165796510),o=ja(o,t,r,i,e[6],9,-1069501632),i=ja(i,o,t,r,e[11],14,643717713),r=ja(r,i,o,t,e[0],20,-373897302),t=ja(t,r,i,o,e[5],5,-701558691),o=ja(o,t,r,i,e[10],9,38016083),i=ja(i,o,t,r,e[15],14,-660478335),r=ja(r,i,o,t,e[4],20,-405537848),t=ja(t,r,i,o,e[9],5,568446438),o=ja(o,t,r,i,e[14],9,-1019803690),i=ja(i,o,t,r,e[3],14,-187363961),r=ja(r,i,o,t,e[8],20,1163531501),t=ja(t,r,i,o,e[13],5,-1444681467),o=ja(o,t,r,i,e[2],9,-51403784),i=ja(i,o,t,r,e[7],14,1735328473),t=Na(t,r=ja(r,i,o,t,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Na(o,t,r,i,e[8],11,-2022574463),i=Na(i,o,t,r,e[11],16,1839030562),r=Na(r,i,o,t,e[14],23,-35309556),t=Na(t,r,i,o,e[1],4,-1530992060),o=Na(o,t,r,i,e[4],11,1272893353),i=Na(i,o,t,r,e[7],16,-155497632),r=Na(r,i,o,t,e[10],23,-1094730640),t=Na(t,r,i,o,e[13],4,681279174),o=Na(o,t,r,i,e[0],11,-358537222),i=Na(i,o,t,r,e[3],16,-722521979),r=Na(r,i,o,t,e[6],23,76029189),t=Na(t,r,i,o,e[9],4,-640364487),o=Na(o,t,r,i,e[12],11,-421815835),i=Na(i,o,t,r,e[15],16,530742520),t=Ta(t,r=Na(r,i,o,t,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Ta(o,t,r,i,e[7],10,1126891415),i=Ta(i,o,t,r,e[14],15,-1416354905),r=Ta(r,i,o,t,e[5],21,-57434055),t=Ta(t,r,i,o,e[12],6,1700485571),o=Ta(o,t,r,i,e[3],10,-1894986606),i=Ta(i,o,t,r,e[10],15,-1051523),r=Ta(r,i,o,t,e[1],21,-2054922799),t=Ta(t,r,i,o,e[8],6,1873313359),o=Ta(o,t,r,i,e[15],10,-30611744),i=Ta(i,o,t,r,e[6],15,-1560198380),r=Ta(r,i,o,t,e[13],21,1309151649),t=Ta(t,r,i,o,e[4],6,-145523070),o=Ta(o,t,r,i,e[11],10,-1120210379),i=Ta(i,o,t,r,e[2],15,718787259),r=Ta(r,i,o,t,e[9],21,-343485551),n[0]=id(t,n[0]),n[1]=id(r,n[1]),n[2]=id(i,n[2]),n[3]=id(o,n[3])}function M0(n,e,t,r,i,o){return e=id(id(e,n),id(r,o)),id(e<<i|e>>>32-i,t)}function Ia(n,e,t,r,i,o,c){return M0(e&t|~e&r,n,e,i,o,c)}function ja(n,e,t,r,i,o,c){return M0(e&r|t&~r,n,e,i,o,c)}function Na(n,e,t,r,i,o,c){return M0(e^t^r,n,e,i,o,c)}function Ta(n,e,t,r,i,o,c){return M0(t^(e|~r),n,e,i,o,c)}function zC(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Yv(r,QR(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Yv(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,Yv(r,i),r}function QR(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Hp=bn.atob.bind(bn),Ly=bn.btoa.bind(bn);var Jb="0123456789abcdef".split("");function RR(n){for(var e="",t=0;t<4;t++)e+=Jb[n>>8*t+4&15]+Jb[n>>8*t&15];return e}function LR(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Dy(n){return zC(n).map(LR).join("")}var DR=(function(n){for(var e=0;e<n.length;e++)n[e]=RR(n[e]);return n.join("")})(zC("hello"))!="5d41402abc4b2a76b9719d911017c592";function id(n,e){if(DR){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Oy(n,e){var t,r,i,o;if(n!==t){for(var c=(i=n,o=1+(256/n.length>>0),new Array(o+1).join(i)),d=[],u=0;u<256;u++)d[u]=u;var p=0;for(u=0;u<256;u++){var h=d[u];p=(p+h+c.charCodeAt(u))%256,d[u]=d[p],d[p]=h}t=n,r=d}else d=r;var b=e.length,x=0,w=0,R="";for(u=0;u<b;u++)w=(w+(h=d[x=(x+1)%256]))%256,d[x]=d[w],d[w]=h,c=d[(d[x]+d[w])%256],R+=String.fromCharCode(e.charCodeAt(u)^c);return R}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Zb={print:4,modify:8,copy:16,"annot-forms":32};function df(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach((function(d){if(Zb.perm!==void 0)throw new Error("Invalid permission: "+d);i+=Zb[d]})),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^i)),this.encryptionKey=Dy(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Oy(this.encryptionKey,this.padding)}function hf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function eB(n){if(Qr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!i],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(n,r)}catch(d){bn.console&&Jr.error("jsPDF PubSub Error",d.message,d)}c[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function og(n){if(!(this instanceof og))return new og(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function qC(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function nd(n,e,t,r,i){if(!(this instanceof nd))return new nd(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,qC.call(this,r,i)}function ch(n,e,t,r,i){if(!(this instanceof ch))return new ch(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,qC.call(this,r,i)}function pn(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],c=[],d=1,u=16,p="S",h=null;Qr(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,o=n.compress||n.compressPdf||o,(h=n.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),d=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),p=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),r=r||"mm",t=(""+(t||"P")).toLowerCase();var b=n.putOnlyUsedFonts||!1,x={},w={internal:{},__private__:{}};w.__private__.PubSub=eB;var R="1.3",F=w.__private__.getPdfVersion=function(){return R};w.__private__.setPdfVersion=function(N){R=N};var Q={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return Q};var I=w.__private__.getPageFormat=function(N){return Q[N]};i=i||"a4";var T={COMPAT:"compat",ADVANCED:"advanced"},_=T.COMPAT;function O(){this.saveGraphicsState(),Ee(new Pt(ze,0,0,-ze,0,oi()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),p="n",_=T.ADVANCED}function z(){this.restoreGraphicsState(),p="S",_=T.COMPAT}var $=w.__private__.combineFontStyleAndFontWeight=function(N,ee){if(N=="bold"&&ee=="normal"||N=="bold"&&ee==400||N=="normal"&&ee=="italic"||N=="bold"&&ee=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(N=ee==400||ee==="normal"?N==="italic"?"italic":"normal":ee!=700&&ee!=="bold"||N!=="normal"?(ee==700?"bold":ee)+""+N:"bold"),N};w.advancedAPI=function(N){var ee=_===T.COMPAT;return ee&&O.call(this),typeof N!="function"||(N(this),ee&&z.call(this)),this},w.compatAPI=function(N){var ee=_===T.ADVANCED;return ee&&z.call(this),typeof N!="function"||(N(this),ee&&O.call(this)),this},w.isAdvancedAPI=function(){return _===T.ADVANCED};var U,L=function(N){if(_!==T.ADVANCED)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=w.roundToPrecision=w.__private__.roundToPrecision=function(N,ee){var Ce=e||ee;if(isNaN(N)||isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(Ce).replace(/0+$/,"")};U=w.hpf=w.__private__.hpf=typeof u=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,u)}:u==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,16)};var X=w.f2=w.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return G(N,2)},P=w.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return G(N,3)},H=w.scale=w.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return _===T.COMPAT?N*ze:_===T.ADVANCED?N:void 0},V=function(N){return _===T.COMPAT?oi()-N:_===T.ADVANCED?N:void 0},te=function(N){return H(V(N))};w.__private__.setPrecision=w.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(e=parseInt(N,10))};var ge,oe="00000000000000000000000000000000",we=w.__private__.getFileId=function(){return oe},be=w.__private__.setFileId=function(N){return oe=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():oe.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),h!==null&&(br=new df(h.userPermissions,h.userPassword,h.ownerPassword,oe)),oe};w.setFileId=function(N){return be(N),this},w.getFileId=function(){return we()};var je=w.__private__.convertDateToPDFDate=function(N){var ee=N.getTimezoneOffset(),Ce=ee<0?"+":"-",Ne=Math.floor(Math.abs(ee/60)),Pe=Math.abs(ee%60),it=[Ce,ce(Ne),"'",ce(Pe),"'"].join("");return["D:",N.getFullYear(),ce(N.getMonth()+1),ce(N.getDate()),ce(N.getHours()),ce(N.getMinutes()),ce(N.getSeconds()),it].join("")},re=w.__private__.convertPDFDateToDate=function(N){var ee=parseInt(N.substr(2,4),10),Ce=parseInt(N.substr(6,2),10)-1,Ne=parseInt(N.substr(8,2),10),Pe=parseInt(N.substr(10,2),10),it=parseInt(N.substr(12,2),10),xt=parseInt(N.substr(14,2),10);return new Date(ee,Ce,Ne,Pe,it,xt,0)},de=w.__private__.setCreationDate=function(N){var ee;if(N===void 0&&(N=new Date),N instanceof Date)ee=je(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=N}return ge=ee},K=w.__private__.getCreationDate=function(N){var ee=ge;return N==="jsDate"&&(ee=re(ge)),ee};w.setCreationDate=function(N){return de(N),this},w.getCreationDate=function(N){return K(N)};var ne,ce=w.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},Be=w.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},he=0,xe=[],Se=[],Ie=0,We=[],Xe=[],st=!1,dt=Se,Mt=function(){he=0,Ie=0,Se=[],xe=[],We=[],Gs=Tr(),Es=Tr()};w.__private__.setCustomOutputDestination=function(N){st=!0,dt=N};var Ze=function(N){st||(dt=N)};w.__private__.resetCustomOutputDestination=function(){st=!1,dt=Se};var Ee=w.__private__.out=function(N){return N=N.toString(),Ie+=N.length+1,dt.push(N),dt},Ht=w.__private__.write=function(N){return Ee(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},Ct=w.__private__.getArrayBuffer=function(N){for(var ee=N.length,Ce=new ArrayBuffer(ee),Ne=new Uint8Array(Ce);ee--;)Ne[ee]=N.charCodeAt(ee);return Ce},ct=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return ct};var Oe=n.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(N){return Oe=_===T.ADVANCED?N/ze:N,this};var rt,Je=w.__private__.getFontSize=w.getFontSize=function(){return _===T.COMPAT?Oe:Oe*ze},pt=n.R2L||!1;w.__private__.setR2L=w.setR2L=function(N){return pt=N,this},w.__private__.getR2L=w.getR2L=function(){return pt};var _t,Nt=w.__private__.setZoomMode=function(N){var ee=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))rt=N;else if(isNaN(N)){if(ee.indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');rt=N}else rt=parseInt(N,10)};w.__private__.getZoomMode=function(){return rt};var It,Et=w.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');_t=N};w.__private__.getPageMode=function(){return _t};var qt=w.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');It=N};w.__private__.getLayoutMode=function(){return It},w.__private__.setDisplayMode=w.setDisplayMode=function(N,ee,Ce){return Nt(N),qt(ee),Et(Ce),this};var kt={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(N){if(Object.keys(kt).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return kt[N]},w.__private__.getDocumentProperties=function(){return kt},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(N){for(var ee in kt)kt.hasOwnProperty(ee)&&N[ee]&&(kt[ee]=N[ee]);return this},w.__private__.setDocumentProperty=function(N,ee){if(Object.keys(kt).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return kt[N]=ee};var ke,ze,vt,yt,$t,Ft={},rn={},wr=[],un={},Qs={},Ln={},Rr={},on=null,Qt=0,St=[],Kt=new eB(w),vn=n.hotfixes||[],In={},Lr={},Vs=[],Pt=function N(ee,Ce,Ne,Pe,it,xt){if(!(this instanceof N))return new N(ee,Ce,Ne,Pe,it,xt);isNaN(ee)&&(ee=1),isNaN(Ce)&&(Ce=0),isNaN(Ne)&&(Ne=0),isNaN(Pe)&&(Pe=1),isNaN(it)&&(it=0),isNaN(xt)&&(xt=0),this._matrix=[ee,Ce,Ne,Pe,it,xt]};Object.defineProperty(Pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Pt.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(N)},Pt.prototype.multiply=function(N){var ee=N.sx*this.sx+N.shy*this.shx,Ce=N.sx*this.shy+N.shy*this.sy,Ne=N.shx*this.sx+N.sy*this.shx,Pe=N.shx*this.shy+N.sy*this.sy,it=N.tx*this.sx+N.ty*this.shx+this.tx,xt=N.tx*this.shy+N.ty*this.sy+this.ty;return new Pt(ee,Ce,Ne,Pe,it,xt)},Pt.prototype.decompose=function(){var N=this.sx,ee=this.shy,Ce=this.shx,Ne=this.sy,Pe=this.tx,it=this.ty,xt=Math.sqrt(N*N+ee*ee),Lt=(N/=xt)*Ce+(ee/=xt)*Ne;Ce-=N*Lt,Ne-=ee*Lt;var v=Math.sqrt(Ce*Ce+Ne*Ne);return Lt/=v,N*(Ne/=v)<ee*(Ce/=v)&&(N=-N,ee=-ee,Lt=-Lt,xt=-xt),{scale:new Pt(xt,0,0,v,0,0),translate:new Pt(1,0,0,1,Pe,it),rotate:new Pt(N,ee,-ee,N,0,0),skew:new Pt(1,0,Lt,1,0,0)}},Pt.prototype.toString=function(N){return this.join(" ")},Pt.prototype.inversed=function(){var N=this.sx,ee=this.shy,Ce=this.shx,Ne=this.sy,Pe=this.tx,it=this.ty,xt=1/(N*Ne-ee*Ce),Lt=Ne*xt,v=-ee*xt,k=-Ce*xt,W=N*xt;return new Pt(Lt,v,k,W,-Lt*Pe-k*it,-v*Pe-W*it)},Pt.prototype.applyToPoint=function(N){var ee=N.x*this.sx+N.y*this.shx+this.tx,Ce=N.x*this.shy+N.y*this.sy+this.ty;return new Lo(ee,Ce)},Pt.prototype.applyToRectangle=function(N){var ee=this.applyToPoint(N),Ce=this.applyToPoint(new Lo(N.x+N.w,N.y+N.h));return new dA(ee.x,ee.y,Ce.x-ee.x,Ce.y-ee.y)},Pt.prototype.clone=function(){var N=this.sx,ee=this.shy,Ce=this.shx,Ne=this.sy,Pe=this.tx,it=this.ty;return new Pt(N,ee,Ce,Ne,Pe,it)},w.Matrix=Pt;var hr=w.matrixMult=function(N,ee){return ee.multiply(N)},fr=new Pt(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=fr;var Er=function(N,ee){if(!Qs[N]){var Ce=(ee instanceof nd?"Sh":"P")+(Object.keys(un).length+1).toString(10);ee.id=Ce,Qs[N]=Ce,un[Ce]=ee,Kt.publish("addPattern",ee)}};w.ShadingPattern=nd,w.TilingPattern=ch,w.addShadingPattern=function(N,ee){return L("addShadingPattern()"),Er(N,ee),this},w.beginTilingPattern=function(N){L("beginTilingPattern()"),uo(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},w.endTilingPattern=function(N,ee){L("endTilingPattern()"),ee.stream=Xe[ne].join(`
`),Er(N,ee),Kt.publish("endTilingPattern",ee),Vs.pop().restore()};var tn=w.__private__.newObject=function(){var N=Tr();return Zr(N,!0),N},Tr=w.__private__.newObjectDeferred=function(){return he++,xe[he]=function(){return Ie},he},Zr=function(N,ee){return ee=typeof ee=="boolean"&&ee,xe[N]=Ie,ee&&Ee(N+" 0 obj"),N},Ks=w.__private__.newAdditionalObject=function(){var N={objId:Tr(),content:""};return We.push(N),N},Gs=Tr(),Es=Tr(),gs=w.__private__.decodeColorString=function(N){var ee=N.split(" ");if(ee.length!==2||ee[1]!=="g"&&ee[1]!=="G")ee.length===5&&(ee[4]==="k"||ee[4]==="K")&&(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var Ce=parseFloat(ee[0]);ee=[Ce,Ce,Ce,"r"]}for(var Ne="#",Pe=0;Pe<3;Pe++)Ne+=("0"+Math.floor(255*parseFloat(ee[Pe])).toString(16)).slice(-2);return Ne},ms=w.__private__.encodeColorString=function(N){var ee;typeof N=="string"&&(N={ch1:N});var Ce=N.ch1,Ne=N.ch2,Pe=N.ch3,it=N.ch4,xt=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ce=="string"&&Ce.charAt(0)!=="#"){var Lt=new GC(Ce);if(Lt.ok)Ce=Lt.toHex();else if(!/^\d*\.?\d*$/.test(Ce))throw new Error('Invalid color "'+Ce+'" passed to jsPDF.encodeColorString.')}if(typeof Ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ce)&&(Ce="#"+Ce[1]+Ce[1]+Ce[2]+Ce[2]+Ce[3]+Ce[3]),typeof Ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ce)){var v=parseInt(Ce.substr(1),16);Ce=v>>16&255,Ne=v>>8&255,Pe=255&v}if(Ne===void 0||it===void 0&&Ce===Ne&&Ne===Pe)if(typeof Ce=="string")ee=Ce+" "+xt[0];else switch(N.precision){case 2:ee=X(Ce/255)+" "+xt[0];break;case 3:default:ee=P(Ce/255)+" "+xt[0]}else if(it===void 0||Qr(it)==="object"){if(it&&!isNaN(it.a)&&it.a===0)return ee=["1.","1.","1.",xt[1]].join(" ");if(typeof Ce=="string")ee=[Ce,Ne,Pe,xt[1]].join(" ");else switch(N.precision){case 2:ee=[X(Ce/255),X(Ne/255),X(Pe/255),xt[1]].join(" ");break;default:case 3:ee=[P(Ce/255),P(Ne/255),P(Pe/255),xt[1]].join(" ")}}else if(typeof Ce=="string")ee=[Ce,Ne,Pe,it,xt[2]].join(" ");else switch(N.precision){case 2:ee=[X(Ce),X(Ne),X(Pe),X(it),xt[2]].join(" ");break;case 3:default:ee=[P(Ce),P(Ne),P(Pe),P(it),xt[2]].join(" ")}return ee},vs=w.__private__.getFilters=function(){return c},Sr=w.__private__.putStream=function(N){var ee=(N=N||{}).data||"",Ce=N.filters||vs(),Ne=N.alreadyAppliedFilters||[],Pe=N.addLength1||!1,it=ee.length,xt=N.objectId,Lt=function(cn){return cn};if(h!==null&&xt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Lt=br.encryptor(xt,0));var v={};Ce===!0&&(Ce=["FlateEncode"]);var k=N.additionalKeyValues||[],W=(v=pn.API.processDataByFilters!==void 0?pn.API.processDataByFilters(ee,Ce):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(Ne)?Ne.join(" "):Ne.toString());if(v.data.length!==0&&(k.push({key:"Length",value:v.data.length}),Pe===!0&&k.push({key:"Length1",value:it})),W.length!=0)if(W.split("/").length-1==1)k.push({key:"Filter",value:W});else{k.push({key:"Filter",value:"["+W+"]"});for(var Ae=0;Ae<k.length;Ae+=1)if(k[Ae].key==="DecodeParms"){for(var Re=[],Ke=0;Ke<v.reverseChain.split("/").length-1;Ke+=1)Re.push("null");Re.push(k[Ae].value),k[Ae].value="["+Re.join(" ")+"]"}}Ee("<<");for(var ot=0;ot<k.length;ot++)Ee("/"+k[ot].key+" "+k[ot].value);Ee(">>"),v.data.length!==0&&(Ee("stream"),Ee(Lt(v.data)),Ee("endstream"))},or=w.__private__.putPage=function(N){var ee=N.number,Ce=N.data,Ne=N.objId,Pe=N.contentsObjId;Zr(Ne,!0),Ee("<</Type /Page"),Ee("/Parent "+N.rootDictionaryObjId+" 0 R"),Ee("/Resources "+N.resourceDictionaryObjId+" 0 R"),Ee("/MediaBox ["+parseFloat(U(N.mediaBox.bottomLeftX))+" "+parseFloat(U(N.mediaBox.bottomLeftY))+" "+U(N.mediaBox.topRightX)+" "+U(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&Ee("/CropBox ["+U(N.cropBox.bottomLeftX)+" "+U(N.cropBox.bottomLeftY)+" "+U(N.cropBox.topRightX)+" "+U(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&Ee("/BleedBox ["+U(N.bleedBox.bottomLeftX)+" "+U(N.bleedBox.bottomLeftY)+" "+U(N.bleedBox.topRightX)+" "+U(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&Ee("/TrimBox ["+U(N.trimBox.bottomLeftX)+" "+U(N.trimBox.bottomLeftY)+" "+U(N.trimBox.topRightX)+" "+U(N.trimBox.topRightY)+"]"),N.artBox!==null&&Ee("/ArtBox ["+U(N.artBox.bottomLeftX)+" "+U(N.artBox.bottomLeftY)+" "+U(N.artBox.topRightX)+" "+U(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&Ee("/UserUnit "+N.userUnit),Kt.publish("putPage",{objId:Ne,pageContext:St[ee],pageNumber:ee,page:Ce}),Ee("/Contents "+Pe+" 0 R"),Ee(">>"),Ee("endobj");var it=Ce.join(`
`);return _===T.ADVANCED&&(it+=`
Q`),Zr(Pe,!0),Sr({data:it,filters:vs(),objectId:Pe}),Ee("endobj"),Ne},qi=w.__private__.putPages=function(){var N,ee,Ce=[];for(N=1;N<=Qt;N++)St[N].objId=Tr(),St[N].contentsObjId=Tr();for(N=1;N<=Qt;N++)Ce.push(or({number:N,data:Xe[N],objId:St[N].objId,contentsObjId:St[N].contentsObjId,mediaBox:St[N].mediaBox,cropBox:St[N].cropBox,bleedBox:St[N].bleedBox,trimBox:St[N].trimBox,artBox:St[N].artBox,userUnit:St[N].userUnit,rootDictionaryObjId:Gs,resourceDictionaryObjId:Es}));Zr(Gs,!0),Ee("<</Type /Pages");var Ne="/Kids [";for(ee=0;ee<Qt;ee++)Ne+=Ce[ee]+" 0 R ";Ee(Ne+"]"),Ee("/Count "+Qt),Ee(">>"),Ee("endobj"),Kt.publish("postPutPages")},ia=function(N){Kt.publish("putFont",{font:N,out:Ee,newObject:tn,putStream:Sr}),N.isAlreadyPutted!==!0&&(N.objectNumber=tn(),Ee("<<"),Ee("/Type /Font"),Ee("/BaseFont /"+hf(N.postScriptName)),Ee("/Subtype /Type1"),typeof N.encoding=="string"&&Ee("/Encoding /"+N.encoding),Ee("/FirstChar 32"),Ee("/LastChar 255"),Ee(">>"),Ee("endobj"))},ni=function(){for(var N in Ft)Ft.hasOwnProperty(N)&&(b===!1||b===!0&&x.hasOwnProperty(N))&&ia(Ft[N])},_i=function(N){N.objectNumber=tn();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[U(N.x),U(N.y),U(N.x+N.width),U(N.y+N.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var Ce=N.pages[1].join(`
`);Sr({data:Ce,additionalKeyValues:ee,objectId:N.objectNumber}),Ee("endobj")},jo=function(){for(var N in In)In.hasOwnProperty(N)&&_i(In[N])},OA=function(N,ee){var Ce,Ne=[],Pe=1/(ee-1);for(Ce=0;Ce<1;Ce+=Pe)Ne.push(Ce);if(Ne.push(1),N[0].offset!=0){var it={offset:0,color:N[0].color};N.unshift(it)}if(N[N.length-1].offset!=1){var xt={offset:1,color:N[N.length-1].color};N.push(xt)}for(var Lt="",v=0,k=0;k<Ne.length;k++){for(Ce=Ne[k];Ce>N[v+1].offset;)v++;var W=N[v].offset,Ae=(Ce-W)/(N[v+1].offset-W),Re=N[v].color,Ke=N[v+1].color;Lt+=Be(Math.round((1-Ae)*Re[0]+Ae*Ke[0]).toString(16))+Be(Math.round((1-Ae)*Re[1]+Ae*Ke[1]).toString(16))+Be(Math.round((1-Ae)*Re[2]+Ae*Ke[2]).toString(16))}return Lt.trim()},No=function(N,ee){ee||(ee=21);var Ce=tn(),Ne=OA(N.colors,ee),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+ee+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Sr({data:Ne,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ce}),Ee("endobj"),N.objectNumber=tn(),Ee("<< /ShadingType "+N.type),Ee("/ColorSpace /DeviceRGB");var it="/Coords ["+U(parseFloat(N.coords[0]))+" "+U(parseFloat(N.coords[1]))+" ";N.type===2?it+=U(parseFloat(N.coords[2]))+" "+U(parseFloat(N.coords[3])):it+=U(parseFloat(N.coords[2]))+" "+U(parseFloat(N.coords[3]))+" "+U(parseFloat(N.coords[4]))+" "+U(parseFloat(N.coords[5])),Ee(it+="]"),N.matrix&&Ee("/Matrix ["+N.matrix.toString()+"]"),Ee("/Function "+Ce+" 0 R"),Ee("/Extend [true true]"),Ee(">>"),Ee("endobj")},Dl=function(N,ee){var Ce=Tr(),Ne=tn();ee.push({resourcesOid:Ce,objectOid:Ne}),N.objectNumber=Ne;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+N.boundingBox.map(U).join(" ")+"]"}),Pe.push({key:"XStep",value:U(N.xStep)}),Pe.push({key:"YStep",value:U(N.yStep)}),Pe.push({key:"Resources",value:Ce+" 0 R"}),N.matrix&&Pe.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),Sr({data:N.stream,additionalKeyValues:Pe,objectId:N.objectNumber}),Ee("endobj")},zs=function(N){var ee;for(ee in un)un.hasOwnProperty(ee)&&(un[ee]instanceof nd?No(un[ee]):un[ee]instanceof ch&&Dl(un[ee],N))},Ii=function(N){for(var ee in N.objectNumber=tn(),Ee("<<"),N)switch(ee){case"opacity":Ee("/ca "+X(N[ee]));break;case"stroke-opacity":Ee("/CA "+X(N[ee]))}Ee(">>"),Ee("endobj")},es=function(){var N;for(N in Ln)Ln.hasOwnProperty(N)&&Ii(Ln[N])},aa=function(){for(var N in Ee("/XObject <<"),In)In.hasOwnProperty(N)&&In[N].objectNumber>=0&&Ee("/"+N+" "+In[N].objectNumber+" 0 R");Kt.publish("putXobjectDict"),Ee(">>")},io=function(){br.oid=tn(),Ee("<<"),Ee("/Filter /Standard"),Ee("/V "+br.v),Ee("/R "+br.r),Ee("/U <"+br.toHexString(br.U)+">"),Ee("/O <"+br.toHexString(br.O)+">"),Ee("/P "+br.P),Ee(">>"),Ee("endobj")},oa=function(){for(var N in Ee("/Font <<"),Ft)Ft.hasOwnProperty(N)&&(b===!1||b===!0&&x.hasOwnProperty(N))&&Ee("/"+N+" "+Ft[N].objectNumber+" 0 R");Ee(">>")},oA=function(){if(Object.keys(un).length>0){for(var N in Ee("/Shading <<"),un)un.hasOwnProperty(N)&&un[N]instanceof nd&&un[N].objectNumber>=0&&Ee("/"+N+" "+un[N].objectNumber+" 0 R");Kt.publish("putShadingPatternDict"),Ee(">>")}},ji=function(N){if(Object.keys(un).length>0){for(var ee in Ee("/Pattern <<"),un)un.hasOwnProperty(ee)&&un[ee]instanceof w.TilingPattern&&un[ee].objectNumber>=0&&un[ee].objectNumber<N&&Ee("/"+ee+" "+un[ee].objectNumber+" 0 R");Kt.publish("putTilingPatternDict"),Ee(">>")}},La=function(){if(Object.keys(Ln).length>0){var N;for(N in Ee("/ExtGState <<"),Ln)Ln.hasOwnProperty(N)&&Ln[N].objectNumber>=0&&Ee("/"+N+" "+Ln[N].objectNumber+" 0 R");Kt.publish("putGStateDict"),Ee(">>")}},_r=function(N){Zr(N.resourcesOid,!0),Ee("<<"),Ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),oa(),oA(),ji(N.objectOid),La(),aa(),Ee(">>"),Ee("endobj")},Rs=function(){var N=[];ni(),es(),jo(),zs(N),Kt.publish("putResources"),N.forEach(_r),_r({resourcesOid:Es,objectOid:Number.MAX_SAFE_INTEGER}),Kt.publish("postPutResources")},AA=function(){Kt.publish("putAdditionalObjects");for(var N=0;N<We.length;N++){var ee=We[N];Zr(ee.objId,!0),Ee(ee.content),Ee("endobj")}Kt.publish("postPutAdditionalObjects")},To=function(N){rn[N.fontName]=rn[N.fontName]||{},rn[N.fontName][N.fontStyle]=N.id},$i=function(N,ee,Ce,Ne,Pe){var it={id:"F"+(Object.keys(Ft).length+1).toString(10),postScriptName:N,fontName:ee,fontStyle:Ce,encoding:Ne,isStandardFont:Pe||!1,metadata:{}};return Kt.publish("addFont",{font:it,instance:this}),Ft[it.id]=it,To(it),it.id},Da=function(N){for(var ee=0,Ce=ct.length;ee<Ce;ee++){var Ne=$i.call(this,N[ee][0],N[ee][1],N[ee][2],ct[ee][3],!0);b===!1&&(x[Ne]=!0);var Pe=N[ee][0].split("-");To({id:Ne,fontName:Pe[0],fontStyle:Pe[1]||""})}Kt.publish("addFonts",{fonts:Ft,dictionary:rn})},qs=function(N){return N.foo=function(){try{return N.apply(this,arguments)}catch(Ne){var ee=Ne.stack||"";~ee.indexOf(" at ")&&(ee=ee.split(" at ")[1]);var Ce="Error in function "+ee.split(`
`)[0].split("<")[0]+": "+Ne.message;if(!bn.console)throw new Error(Ce);bn.console.error(Ce,Ne),bn.alert&&alert(Ce)}},N.foo.bar=N,N.foo},As=function(N,ee){var Ce,Ne,Pe,it,xt,Lt,v,k,W;if(Pe=(ee=ee||{}).sourceEncoding||"Unicode",xt=ee.outputEncoding,(ee.autoencode||xt)&&Ft[ke].metadata&&Ft[ke].metadata[Pe]&&Ft[ke].metadata[Pe].encoding&&(it=Ft[ke].metadata[Pe].encoding,!xt&&Ft[ke].encoding&&(xt=Ft[ke].encoding),!xt&&it.codePages&&(xt=it.codePages[0]),typeof xt=="string"&&(xt=it[xt]),xt)){for(v=!1,Lt=[],Ce=0,Ne=N.length;Ce<Ne;Ce++)(k=xt[N.charCodeAt(Ce)])?Lt.push(String.fromCharCode(k)):Lt.push(N[Ce]),Lt[Ce].charCodeAt(0)>>8&&(v=!0);N=Lt.join("")}for(Ce=N.length;v===void 0&&Ce!==0;)N.charCodeAt(Ce-1)>>8&&(v=!0),Ce--;if(!v)return N;for(Lt=ee.noBOM?[]:[254,255],Ce=0,Ne=N.length;Ce<Ne;Ce++){if((W=(k=N.charCodeAt(Ce))>>8)>>8)throw new Error("Character at position "+Ce+" of string '"+N+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Lt.push(W),Lt.push(k-(W<<8))}return String.fromCharCode.apply(void 0,Lt)},qn=w.__private__.pdfEscape=w.pdfEscape=function(N,ee){return As(N,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$s=w.__private__.beginPage=function(N){Xe[++Qt]=[],St[Qt]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},Aa(Qt),Ze(Xe[ne])},ao=function(N,ee){var Ce,Ne,Pe;switch(t=ee||t,typeof N=="string"&&(Ce=I(N.toLowerCase()),Array.isArray(Ce)&&(Ne=Ce[0],Pe=Ce[1])),Array.isArray(N)&&(Ne=N[0]*ze,Pe=N[1]*ze),isNaN(Ne)&&(Ne=i[0],Pe=i[1]),(Ne>14400||Pe>14400)&&(Jr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ne=Math.min(14400,Ne),Pe=Math.min(14400,Pe)),i=[Ne,Pe],t.substr(0,1)){case"l":Pe>Ne&&(i=[Pe,Ne]);break;case"p":Ne>Pe&&(i=[Pe,Ne])}$s(i),MA(ka),Ee(ws),Qo!==0&&Ee(Qo+" J"),Ro!==0&&Ee(Ro+" j"),Kt.publish("addPage",{pageNumber:Qt})},oo=function(N){N>0&&N<=Qt&&(Xe.splice(N,1),St.splice(N,1),Qt--,ne>Qt&&(ne=Qt),this.setPage(ne))},Aa=function(N){N>0&&N<=Qt&&(ne=N)},Ar=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Xe.length-1},Ao=function(N,ee,Ce){var Ne,Pe=void 0;return Ce=Ce||{},N=N!==void 0?N:Ft[ke].fontName,ee=ee!==void 0?ee:Ft[ke].fontStyle,Ne=N.toLowerCase(),rn[Ne]!==void 0&&rn[Ne][ee]!==void 0?Pe=rn[Ne][ee]:rn[N]!==void 0&&rn[N][ee]!==void 0?Pe=rn[N][ee]:Ce.disableWarning===!1&&Jr.warn("Unable to look up font label for font '"+N+"', '"+ee+"'. Refer to getFontList() for available fonts."),Pe||Ce.noFallback||(Pe=rn.times[ee])==null&&(Pe=rn.times.normal),Pe},Ni=w.__private__.putInfo=function(){var N=tn(),ee=function(Ne){return Ne};for(var Ce in h!==null&&(ee=br.encryptor(N,0)),Ee("<<"),Ee("/Producer ("+qn(ee("jsPDF "+pn.version))+")"),kt)kt.hasOwnProperty(Ce)&&kt[Ce]&&Ee("/"+Ce.substr(0,1).toUpperCase()+Ce.substr(1)+" ("+qn(ee(kt[Ce]))+")");Ee("/CreationDate ("+qn(ee(ge))+")"),Ee(">>"),Ee("endobj")},Ti=w.__private__.putCatalog=function(N){var ee=(N=N||{}).rootDictionaryObjId||Gs;switch(tn(),Ee("<<"),Ee("/Type /Catalog"),Ee("/Pages "+ee+" 0 R"),rt||(rt="fullwidth"),rt){case"fullwidth":Ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ee("/OpenAction [3 0 R /Fit]");break;case"original":Ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ce=""+rt;Ce.substr(Ce.length-1)==="%"&&(rt=parseInt(rt)/100),typeof rt=="number"&&Ee("/OpenAction [3 0 R /XYZ null null "+X(rt)+"]")}switch(It||(It="continuous"),It){case"continuous":Ee("/PageLayout /OneColumn");break;case"single":Ee("/PageLayout /SinglePage");break;case"two":case"twoleft":Ee("/PageLayout /TwoColumnLeft");break;case"tworight":Ee("/PageLayout /TwoColumnRight")}_t&&Ee("/PageMode /"+_t),Kt.publish("putCatalog"),Ee(">>"),Ee("endobj")},Ol=w.__private__.putTrailer=function(){Ee("trailer"),Ee("<<"),Ee("/Size "+(he+1)),Ee("/Root "+he+" 0 R"),Ee("/Info "+(he-1)+" 0 R"),h!==null&&Ee("/Encrypt "+br.oid+" 0 R"),Ee("/ID [ <"+oe+"> <"+oe+"> ]"),Ee(">>")},lA=w.__private__.putHeader=function(){Ee("%PDF-"+R),Ee("%ºß¬à")},PA=w.__private__.putXRef=function(){var N="0000000000";Ee("xref"),Ee("0 "+(he+1)),Ee("0000000000 65535 f ");for(var ee=1;ee<=he;ee++)typeof xe[ee]=="function"?Ee((N+xe[ee]()).slice(-10)+" 00000 n "):xe[ee]!==void 0?Ee((N+xe[ee]).slice(-10)+" 00000 n "):Ee("0000000000 00000 n ")},Oa=w.__private__.buildDocument=function(){Mt(),Ze(Se),Kt.publish("buildDocument"),lA(),qi(),AA(),Rs(),h!==null&&io(),Ni(),Ti();var N=Ie;return PA(),Ol(),Ee("startxref"),Ee(""+N),Ee("%%EOF"),Ze(Xe[ne]),Se.join(`
`)},Uo=w.__private__.getBlob=function(N){return new Blob([Ct(N)],{type:"application/pdf"})},Wi=w.output=w.__private__.output=qs((function(N,ee){switch(typeof(ee=ee||{})=="string"?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",N){case void 0:return Oa();case"save":w.save(ee.filename);break;case"arraybuffer":return Ct(Oa());case"blob":return Uo(Oa());case"bloburi":case"bloburl":if(bn.URL!==void 0&&typeof bn.URL.createObjectURL=="function")return bn.URL&&bn.URL.createObjectURL(Uo(Oa()))||void 0;Jr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ce="",Ne=Oa();try{Ce=Ly(Ne)}catch{Ce=Ly(unescape(encodeURIComponent(Ne)))}return"data:application/pdf;filename="+ee.filename+";base64,"+Ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(bn)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",it=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(Pe=ee.pdfObjectUrl,it="");var xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+it+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",Lt=bn.open();return Lt!==null&&Lt.document.write(xt),Lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(bn)==="[object Window]"){var v='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',k=bn.open();if(k!==null){k.document.write(v);var W=this;k.document.documentElement.querySelector("#pdfViewer").onload=function(){k.document.title=ee.filename,k.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(W.output("bloburl"))}}return k}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(bn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ae='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',Re=bn.open();if(Re!==null&&(Re.document.write(Ae),Re.document.title=ee.filename),Re||typeof safari>"u")return Re;break;case"datauri":case"dataurl":return bn.document.location.href=this.output("datauristring",ee);default:return null}})),Ls=function(N){return Array.isArray(vn)===!0&&vn.indexOf(N)>-1};switch(r){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=Ls("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ze=r}var br=null;de(),be();var Pa=function(N){return h!==null?br.encryptor(N,0):function(ee){return ee}},la=w.__private__.getPageInfo=w.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:St[N].objId,pageNumber:N,pageContext:St[N]}},sn=w.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in St)if(St[ee].objId===N)break;return la(ee)},ca=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:St[ne].objId,pageNumber:ne,pageContext:St[ne]}};w.addPage=function(){return ao.apply(this,arguments),this},w.setPage=function(){return Aa.apply(this,arguments),Ze.call(this,Xe[ne]),this},w.insertPage=function(N){return this.addPage(),this.movePage(ne,N),this},w.movePage=function(N,ee){var Ce,Ne;if(N>ee){Ce=Xe[N],Ne=St[N];for(var Pe=N;Pe>ee;Pe--)Xe[Pe]=Xe[Pe-1],St[Pe]=St[Pe-1];Xe[ee]=Ce,St[ee]=Ne,this.setPage(ee)}else if(N<ee){Ce=Xe[N],Ne=St[N];for(var it=N;it<ee;it++)Xe[it]=Xe[it+1],St[it]=St[it+1];Xe[ee]=Ce,St[ee]=Ne,this.setPage(ee)}return this},w.deletePage=function(){return oo.apply(this,arguments),this},w.__private__.text=w.text=function(N,ee,Ce,Ne,Pe){var it,xt,Lt,v,k,W,Ae,Re,Ke,ot=(Ne=Ne||{}).scope||this;if(typeof N=="number"&&typeof ee=="number"&&(typeof Ce=="string"||Array.isArray(Ce))){var cn=Ce;Ce=ee,ee=N,N=cn}if(arguments[3]instanceof Pt?(L("The transform parameter of text() with a Matrix value"),Ke=Pe):(Lt=arguments[4],v=arguments[5],Qr(Ae=arguments[3])==="object"&&Ae!==null||(typeof Lt=="string"&&(v=Lt,Lt=null),typeof Ae=="string"&&(v=Ae,Ae=null),typeof Ae=="number"&&(Lt=Ae,Ae=null),Ne={flags:Ae,angle:Lt,align:v})),isNaN(ee)||isNaN(Ce)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return ot;var Fn="",yn=!1,Kn=typeof Ne.lineHeightFactor=="number"?Ne.lineHeightFactor:Dn,On=ot.internal.scaleFactor;function ga(Qn){return Qn=Qn.split("	").join(Array(Ne.TabLen||9).join(" ")),qn(Qn,Ae)}function gr(Qn){for(var Rn,Ir=Qn.concat(),Pr=[],ma=Ir.length;ma--;)typeof(Rn=Ir.shift())=="string"?Pr.push(Rn):Array.isArray(Qn)&&(Rn.length===1||Rn[1]===void 0&&Rn[2]===void 0)?Pr.push(Rn[0]):Pr.push([Rn[0],Rn[1],Rn[2]]);return Pr}function $n(Qn,Rn){var Ir;if(typeof Qn=="string")Ir=Rn(Qn)[0];else if(Array.isArray(Qn)){for(var Pr,ma,wA=Qn.concat(),po=[],Ho=wA.length;Ho--;)typeof(Pr=wA.shift())=="string"?po.push(Rn(Pr)[0]):Array.isArray(Pr)&&typeof Pr[0]=="string"&&(ma=Rn(Pr[0],Pr[1],Pr[2]),po.push([ma[0],ma[1],ma[2]]));Ir=po}return Ir}var Ka=!1,Or=!0;if(typeof N=="string")Ka=!0;else if(Array.isArray(N)){var fA=N.concat();xt=[];for(var Qi,zr=fA.length;zr--;)(typeof(Qi=fA.shift())!="string"||Array.isArray(Qi)&&typeof Qi[0]!="string")&&(Or=!1);Ka=Or}if(Ka===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var Wn=Oe/ot.internal.scaleFactor,pA=Wn*(Kn-1);switch(Ne.baseline){case"bottom":Ce-=pA;break;case"top":Ce+=Wn-pA;break;case"hanging":Ce+=Wn-2*pA;break;case"middle":Ce+=Wn/2-pA}if((W=Ne.maxWidth||0)>0&&(typeof N=="string"?N=ot.splitTextToSize(N,W):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce((function(Qn,Rn){return Qn.concat(ot.splitTextToSize(Rn,W))}),[]))),it={text:N,x:ee,y:Ce,options:Ne,mutex:{pdfEscape:qn,activeFontKey:ke,fonts:Ft,activeFontSize:Oe}},Kt.publish("preProcessText",it),N=it.text,Lt=(Ne=it.options).angle,!(Ke instanceof Pt)&&Lt&&typeof Lt=="number"){Lt*=Math.PI/180,Ne.rotationDirection===0&&(Lt=-Lt),_===T.ADVANCED&&(Lt=-Lt);var gA=Math.cos(Lt),kA=Math.sin(Lt);Ke=new Pt(gA,kA,-kA,gA,0,0)}else Lt&&Lt instanceof Pt&&(Ke=Lt);_!==T.ADVANCED||Ke||(Ke=fr),(k=Ne.charSpace||ai)!==void 0&&(Fn+=U(H(k))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Re=Ne.horizontalScale)!==void 0&&(Fn+=U(100*Re)+` Tz
`),Ne.lang;var vi=-1,Hl=Ne.renderingMode!==void 0?Ne.renderingMode:Ne.stroke,Vl=ot.internal.getCurrentPageInfo().pageContext;switch(Hl){case 0:case!1:case"fill":vi=0;break;case 1:case!0:case"stroke":vi=1;break;case 2:case"fillThenStroke":vi=2;break;case 3:case"invisible":vi=3;break;case 4:case"fillAndAddForClipping":vi=4;break;case 5:case"strokeAndAddPathForClipping":vi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":vi=6;break;case 7:case"addToPathForClipping":vi=7}var jc=Vl.usedRenderingMode!==void 0?Vl.usedRenderingMode:-1;vi!==-1?Fn+=vi+` Tr
`:jc!==-1&&(Fn+=`0 Tr
`),vi!==-1&&(Vl.usedRenderingMode=vi),v=Ne.align||"left";var qr,Ur=Oe*Kn,yi=ot.internal.pageSize.getWidth(),ts=Ft[ke];k=Ne.charSpace||ai,W=Ne.maxWidth||0,Ae=Object.assign({autoencode:!0,noBOM:!0},Ne.flags);var Ai=[],Po=function(Qn){return ot.getStringUnitWidth(Qn,{font:ts,charSpace:k,fontSize:Oe,doKerning:!1})*Oe/On};if(Object.prototype.toString.call(N)==="[object Array]"){var li;xt=gr(N),v!=="left"&&(qr=xt.map(Po));var Ss,Mo=0;if(v==="right"){ee-=qr[0],N=[],zr=xt.length;for(var Ri=0;Ri<zr;Ri++)Ri===0?(Ss=ii(ee),li=ys(Ce)):(Ss=H(Mo-qr[Ri]),li=-Ur),N.push([xt[Ri],Ss,li]),Mo=qr[Ri]}else if(v==="center"){ee-=qr[0]/2,N=[],zr=xt.length;for(var wi=0;wi<zr;wi++)wi===0?(Ss=ii(ee),li=ys(Ce)):(Ss=H((Mo-qr[wi])/2),li=-Ur),N.push([xt[wi],Ss,li]),Mo=qr[wi]}else if(v==="left"){N=[],zr=xt.length;for(var Os=0;Os<zr;Os++)N.push(xt[Os])}else if(v==="justify"&&ts.encoding==="Identity-H"){N=[],zr=xt.length,W=W!==0?W:yi;for(var Ga=0,ns=0;ns<zr;ns++)if(li=ns===0?ys(Ce):-Ur,Ss=ns===0?ii(ee):Ga,ns<zr-1){var Li=H((W-qr[ns])/(xt[ns].split(" ").length-1)),cs=xt[ns].split(" ");N.push([cs[0]+" ",Ss,li]),Ga=0;for(var Di=1;Di<cs.length;Di++){var HA=(Po(cs[Di-1]+" "+cs[Di])-Po(cs[Di]))*On+Li;Di==cs.length-1?N.push([cs[Di],HA,0]):N.push([cs[Di]+" ",HA,0]),Ga-=HA}}else N.push([xt[ns],Ss,li]);N.push(["",Ga,0])}else{if(v!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],zr=xt.length,W=W!==0?W:yi,ns=0;ns<zr;ns++)li=ns===0?ys(Ce):-Ur,Ss=ns===0?ii(ee):0,ns<zr-1?Ai.push(U(H((W-qr[ns])/(xt[ns].split(" ").length-1)))):Ai.push(0),N.push([xt[ns],Ss,li])}}var bs=typeof Ne.R2L=="boolean"?Ne.R2L:pt;bs===!0&&(N=$n(N,(function(Qn,Rn,Ir){return[Qn.split("").reverse().join(""),Rn,Ir]}))),it={text:N,x:ee,y:Ce,options:Ne,mutex:{pdfEscape:qn,activeFontKey:ke,fonts:Ft,activeFontSize:Oe}},Kt.publish("postProcessText",it),N=it.text,yn=it.mutex.isHex||!1;var VA=Ft[ke].encoding;VA!=="WinAnsiEncoding"&&VA!=="StandardEncoding"||(N=$n(N,(function(Qn,Rn,Ir){return[ga(Qn),Rn,Ir]}))),xt=gr(N),N=[];for(var mA,vA,za,KA=0,GA=1,ko=Array.isArray(xt[0])?GA:KA,fo="",yA=function(Qn,Rn,Ir){var Pr="";return Ir instanceof Pt?(Ir=typeof Ne.angle=="number"?hr(Ir,new Pt(1,0,0,1,Qn,Rn)):hr(new Pt(1,0,0,1,Qn,Rn),Ir),_===T.ADVANCED&&(Ir=hr(new Pt(1,0,0,-1,0,0),Ir)),Pr=Ir.join(" ")+` Tm
`):Pr=U(Qn)+" "+U(Rn)+` Td
`,Pr},$r=0;$r<xt.length;$r++){switch(fo="",ko){case GA:za=(yn?"<":"(")+xt[$r][0]+(yn?">":")"),mA=parseFloat(xt[$r][1]),vA=parseFloat(xt[$r][2]);break;case KA:za=(yn?"<":"(")+xt[$r]+(yn?">":")"),mA=ii(ee),vA=ys(Ce)}Ai!==void 0&&Ai[$r]!==void 0&&(fo=Ai[$r]+` Tw
`),$r===0?N.push(fo+yA(mA,vA,Ke)+za):ko===KA?N.push(fo+za):ko===GA&&N.push(fo+yA(mA,vA,Ke)+za)}N=ko===KA?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var Oi=`BT
/`;return Oi+=ke+" "+Oe+` Tf
`,Oi+=U(Oe*Kn)+` TL
`,Oi+=pa+`
`,Oi+=Fn,Oi+=N,Ee(Oi+="ET"),x[ke]=!0,ot};var Pl=w.__private__.clip=w.clip=function(N){return Ee(N==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return Pl("evenodd")},w.__private__.discardPath=w.discardPath=function(){return Ee("n"),this};var ri=w.__private__.isValidStyle=function(N){var ee=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(ee=!0),ee};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(N){return ri(N)&&(p=N),this};var Ui=w.__private__.getStyle=w.getStyle=function(N){var ee=p;switch(N){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=N}return ee},mi=w.close=function(){return Ee("h"),this};w.stroke=function(){return Ee("S"),this},w.fill=function(N){return ua("f",N),this},w.fillEvenOdd=function(N){return ua("f*",N),this},w.fillStroke=function(N){return ua("B",N),this},w.fillStrokeEvenOdd=function(N){return ua("B*",N),this};var ua=function(N,ee){Qr(ee)==="object"?da(ee,N):Ee(N)},Gr=function(N){N===null||_===T.ADVANCED&&N===void 0||(N=Ui(N),Ee(N))};function Ma(N,ee,Ce,Ne,Pe){var it=new ch(ee||this.boundingBox,Ce||this.xStep,Ne||this.yStep,this.gState,Pe||this.matrix);it.stream=this.stream;var xt=N+"$$"+this.cloneIndex+++"$$";return Er(xt,it),it}var da=function(N,ee){var Ce=Qs[N.key],Ne=un[Ce];if(Ne instanceof nd)Ee("q"),Ee(cA(ee)),Ne.gState&&w.setGState(Ne.gState),Ee(N.matrix.toString()+" cm"),Ee("/"+Ce+" sh"),Ee("Q");else if(Ne instanceof ch){var Pe=new Pt(1,0,0,-1,0,oi());N.matrix&&(Pe=Pe.multiply(N.matrix||fr),Ce=Ma.call(Ne,N.key,N.boundingBox,N.xStep,N.yStep,Pe).id),Ee("q"),Ee("/Pattern cs"),Ee("/"+Ce+" scn"),Ne.gState&&w.setGState(Ne.gState),Ee(ee),Ee("Q")}},cA=function(N){switch(N){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Fi=w.moveTo=function(N,ee){return Ee(U(H(N))+" "+U(te(ee))+" m"),this},si=w.lineTo=function(N,ee){return Ee(U(H(N))+" "+U(te(ee))+" l"),this},ha=w.curveTo=function(N,ee,Ce,Ne,Pe,it){return Ee([U(H(N)),U(te(ee)),U(H(Ce)),U(te(Ne)),U(H(Pe)),U(te(it)),"c"].join(" ")),this};w.__private__.line=w.line=function(N,ee,Ce,Ne,Pe){if(isNaN(N)||isNaN(ee)||isNaN(Ce)||isNaN(Ne)||!ri(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return _===T.COMPAT?this.lines([[Ce-N,Ne-ee]],N,ee,[1,1],Pe||"S"):this.lines([[Ce-N,Ne-ee]],N,ee,[1,1]).stroke()},w.__private__.lines=w.lines=function(N,ee,Ce,Ne,Pe,it){var xt,Lt,v,k,W,Ae,Re,Ke,ot,cn,Fn,yn;if(typeof N=="number"&&(yn=Ce,Ce=ee,ee=N,N=yn),Ne=Ne||[1,1],it=it||!1,isNaN(ee)||isNaN(Ce)||!Array.isArray(N)||!Array.isArray(Ne)||!ri(Pe)||typeof it!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Fi(ee,Ce),xt=Ne[0],Lt=Ne[1],k=N.length,cn=ee,Fn=Ce,v=0;v<k;v++)(W=N[v]).length===2?(cn=W[0]*xt+cn,Fn=W[1]*Lt+Fn,si(cn,Fn)):(Ae=W[0]*xt+cn,Re=W[1]*Lt+Fn,Ke=W[2]*xt+cn,ot=W[3]*Lt+Fn,cn=W[4]*xt+cn,Fn=W[5]*Lt+Fn,ha(Ae,Re,Ke,ot,cn,Fn));return it&&mi(),Gr(Pe),this},w.path=function(N){for(var ee=0;ee<N.length;ee++){var Ce=N[ee],Ne=Ce.c;switch(Ce.op){case"m":Fi(Ne[0],Ne[1]);break;case"l":si(Ne[0],Ne[1]);break;case"c":ha.apply(this,Ne);break;case"h":mi()}}return this},w.__private__.rect=w.rect=function(N,ee,Ce,Ne,Pe){if(isNaN(N)||isNaN(ee)||isNaN(Ce)||isNaN(Ne)||!ri(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return _===T.COMPAT&&(Ne=-Ne),Ee([U(H(N)),U(te(ee)),U(H(Ce)),U(H(Ne)),"re"].join(" ")),Gr(Pe),this},w.__private__.triangle=w.triangle=function(N,ee,Ce,Ne,Pe,it,xt){if(isNaN(N)||isNaN(ee)||isNaN(Ce)||isNaN(Ne)||isNaN(Pe)||isNaN(it)||!ri(xt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ce-N,Ne-ee],[Pe-Ce,it-Ne],[N-Pe,ee-it]],N,ee,[1,1],xt,!0),this},w.__private__.roundedRect=w.roundedRect=function(N,ee,Ce,Ne,Pe,it,xt){if(isNaN(N)||isNaN(ee)||isNaN(Ce)||isNaN(Ne)||isNaN(Pe)||isNaN(it)||!ri(xt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Lt=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*Ce),it=Math.min(it,.5*Ne),this.lines([[Ce-2*Pe,0],[Pe*Lt,0,Pe,it-it*Lt,Pe,it],[0,Ne-2*it],[0,it*Lt,-Pe*Lt,it,-Pe,it],[2*Pe-Ce,0],[-Pe*Lt,0,-Pe,-it*Lt,-Pe,-it],[0,2*it-Ne],[0,-it*Lt,Pe*Lt,-it,Pe,-it]],N+Pe,ee,[1,1],xt,!0),this},w.__private__.ellipse=w.ellipse=function(N,ee,Ce,Ne,Pe){if(isNaN(N)||isNaN(ee)||isNaN(Ce)||isNaN(Ne)||!ri(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var it=4/3*(Math.SQRT2-1)*Ce,xt=4/3*(Math.SQRT2-1)*Ne;return Fi(N+Ce,ee),ha(N+Ce,ee-xt,N+it,ee-Ne,N,ee-Ne),ha(N-it,ee-Ne,N-Ce,ee-xt,N-Ce,ee),ha(N-Ce,ee+xt,N-it,ee+Ne,N,ee+Ne),ha(N+it,ee+Ne,N+Ce,ee+xt,N+Ce,ee),Gr(Pe),this},w.__private__.circle=w.circle=function(N,ee,Ce,Ne){if(isNaN(N)||isNaN(ee)||isNaN(Ce)||!ri(Ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,ee,Ce,Ce,Ne)},w.setFont=function(N,ee,Ce){return Ce&&(ee=$(ee,Ce)),ke=Ao(N,ee,{disableWarning:!1}),this};var ls=w.__private__.getFont=w.getFont=function(){return Ft[Ao.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var N,ee,Ce={};for(N in rn)if(rn.hasOwnProperty(N))for(ee in Ce[N]=[],rn[N])rn[N].hasOwnProperty(ee)&&Ce[N].push(ee);return Ce},w.addFont=function(N,ee,Ce,Ne,Pe){var it=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&it.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&it.indexOf(arguments[3])==-1&&(Ce=$(Ce,Ne)),Pe=Pe||"Identity-H",$i.call(this,N,ee,Ce,Pe)};var Dn,ka=n.lineWidth||.200025,fa=w.__private__.getLineWidth=w.getLineWidth=function(){return ka},MA=w.__private__.setLineWidth=w.setLineWidth=function(N){return ka=N,Ee(U(H(N))+" w"),this};w.__private__.setLineDash=pn.API.setLineDash=pn.API.setLineDashPattern=function(N,ee){if(N=N||[],ee=ee||0,isNaN(ee)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map((function(Ce){return U(H(Ce))})).join(" "),ee=U(H(ee)),Ee("["+N+"] "+ee+" d"),this};var Dr=w.__private__.getLineHeight=w.getLineHeight=function(){return Oe*Dn};w.__private__.getLineHeight=w.getLineHeight=function(){return Oe*Dn};var Fo=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(Dn=N),this},Ds=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return Dn};Fo(n.lineHeight);var ii=w.__private__.getHorizontalCoordinate=function(N){return H(N)},ys=w.__private__.getVerticalCoordinate=function(N){return _===T.ADVANCED?N:St[ne].mediaBox.topRightY-St[ne].mediaBox.bottomLeftY-H(N)},Ml=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(N){return U(ii(N))},lo=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(N){return U(ys(N))},ws=n.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return gs(ws)},w.__private__.setStrokeColor=w.setDrawColor=function(N,ee,Ce,Ne){return ws=ms({ch1:N,ch2:ee,ch3:Ce,ch4:Ne,pdfColorType:"draw",precision:2}),Ee(ws),this};var Yi=n.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return gs(Yi)},w.__private__.setFillColor=w.setFillColor=function(N,ee,Ce,Ne){return Yi=ms({ch1:N,ch2:ee,ch3:Ce,ch4:Ne,pdfColorType:"fill",precision:2}),Ee(Yi),this};var pa=n.textColor||"0 g",uA=w.__private__.getTextColor=w.getTextColor=function(){return gs(pa)};w.__private__.setTextColor=w.setTextColor=function(N,ee,Ce,Ne){return pa=ms({ch1:N,ch2:ee,ch3:Ce,ch4:Ne,pdfColorType:"text",precision:3}),this};var ai=n.charSpace,Ha=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(ai||0)};w.__private__.setCharSpace=w.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ai=N,this};var Qo=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(N){var ee=w.CapJoinStyles[N];if(ee===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qo=ee,Ee(ee+" J"),this};var Ro=0;w.__private__.setLineJoin=w.setLineJoin=function(N){var ee=w.CapJoinStyles[N];if(ee===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ro=ee,Ee(ee+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ee(U(H(N))+" M"),this},w.GState=og,w.setGState=function(N){(N=typeof N=="string"?Ln[Rr[N]]:co(null,N)).equals(on)||(Ee("/"+N.id+" gs"),on=N)};var co=function(N,ee){if(!N||!Rr[N]){var Ce=!1;for(var Ne in Ln)if(Ln.hasOwnProperty(Ne)&&Ln[Ne].equals(ee)){Ce=!0;break}if(Ce)ee=Ln[Ne];else{var Pe="GS"+(Object.keys(Ln).length+1).toString(10);Ln[Pe]=ee,ee.id=Pe}return N&&(Rr[N]=ee.id),Kt.publish("addGState",ee),ee}};w.addGState=function(N,ee){return co(N,ee),this},w.saveGraphicsState=function(){return Ee("q"),wr.push({key:ke,size:Oe,color:pa}),this},w.restoreGraphicsState=function(){Ee("Q");var N=wr.pop();return ke=N.key,Oe=N.size,pa=N.color,on=null,this},w.setCurrentTransformationMatrix=function(N){return Ee(N.toString()+" cm"),this},w.comment=function(N){return Ee("#"+N),this};var Lo=function(N,ee){var Ce=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ce},set:function(it){isNaN(it)||(Ce=parseFloat(it))}});var Ne=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ne},set:function(it){isNaN(it)||(Ne=parseFloat(it))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(it){Pe=it.toString()}}),this},dA=function(N,ee,Ce,Ne){Lo.call(this,N,ee),this.type="rect";var Pe=Ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(xt){isNaN(xt)||(Pe=parseFloat(xt))}});var it=Ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return it},set:function(xt){isNaN(xt)||(it=parseFloat(xt))}}),this},Do=function(){this.page=Qt,this.currentPage=ne,this.pages=Xe.slice(0),this.pagesContext=St.slice(0),this.x=vt,this.y=yt,this.matrix=$t,this.width=ho(ne),this.height=oi(ne),this.outputDestination=dt,this.id="",this.objectNumber=-1};Do.prototype.restore=function(){Qt=this.page,ne=this.currentPage,St=this.pagesContext,Xe=this.pages,vt=this.x,yt=this.y,$t=this.matrix,Oo(ne,this.width),hA(ne,this.height),dt=this.outputDestination};var uo=function(N,ee,Ce,Ne,Pe){Vs.push(new Do),Qt=ne=0,Xe=[],vt=N,yt=ee,$t=Pe,$s([Ce,Ne])},kl=function(N){if(Lr[N])Vs.pop().restore();else{var ee=new Do,Ce="Xo"+(Object.keys(In).length+1).toString(10);ee.id=Ce,Lr[N]=Ce,In[Ce]=ee,Kt.publish("addFormObject",ee),Vs.pop().restore()}};for(var Va in w.beginFormObject=function(N,ee,Ce,Ne,Pe){return uo(N,ee,Ce,Ne,Pe),this},w.endFormObject=function(N){return kl(N),this},w.doFormObject=function(N,ee){var Ce=In[Lr[N]];return Ee("q"),Ee(ee.toString()+" cm"),Ee("/"+Ce.id+" Do"),Ee("Q"),this},w.getFormObject=function(N){var ee=In[Lr[N]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},w.save=function(N,ee){return N=N||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,ee.returnPromise===!1?(ah(Uo(Oa()),N),typeof ah.unload=="function"&&bn.setTimeout&&setTimeout(ah.unload,911),this):new Promise((function(Ce,Ne){try{var Pe=ah(Uo(Oa()),N);typeof ah.unload=="function"&&bn.setTimeout&&setTimeout(ah.unload,911),Ce(Pe)}catch(it){Ne(it.message)}}))},pn.API)pn.API.hasOwnProperty(Va)&&(Va==="events"&&pn.API.events.length?(function(N,ee){var Ce,Ne,Pe;for(Pe=ee.length-1;Pe!==-1;Pe--)Ce=ee[Pe][0],Ne=ee[Pe][1],N.subscribe.apply(N,[Ce].concat(typeof Ne=="function"?[Ne]:Ne))})(Kt,pn.API.events):w[Va]=pn.API[Va]);var ho=w.getPageWidth=function(N){return(St[N=N||ne].mediaBox.topRightX-St[N].mediaBox.bottomLeftX)/ze},Oo=w.setPageWidth=function(N,ee){St[N].mediaBox.topRightX=ee*ze+St[N].mediaBox.bottomLeftX},oi=w.getPageHeight=function(N){return(St[N=N||ne].mediaBox.topRightY-St[N].mediaBox.bottomLeftY)/ze},hA=w.setPageHeight=function(N,ee){St[N].mediaBox.topRightY=ee*ze+St[N].mediaBox.bottomLeftY};return w.internal={pdfEscape:qn,getStyle:Ui,getFont:ls,getFontSize:Je,getCharSpace:Ha,getTextColor:uA,getLineHeight:Dr,getLineHeightFactor:Ds,getLineWidth:fa,write:Ht,getHorizontalCoordinate:ii,getVerticalCoordinate:ys,getCoordinateString:Ml,getVerticalCoordinateString:lo,collections:{},newObject:tn,newAdditionalObject:Ks,newObjectDeferred:Tr,newObjectDeferredBegin:Zr,getFilters:vs,putStream:Sr,events:Kt,scaleFactor:ze,pageSize:{getWidth:function(){return ho(ne)},setWidth:function(N){Oo(ne,N)},getHeight:function(){return oi(ne)},setHeight:function(N){hA(ne,N)}},encryptionOptions:h,encryption:br,getEncryptor:Pa,output:Wi,getNumberOfPages:Ar,pages:Xe,out:Ee,f2:X,f3:P,getPageInfo:la,getPageInfoByObjId:sn,getCurrentPageInfo:ca,getPDFVersion:F,Point:Lo,Rectangle:dA,Matrix:Pt,hasHotfix:Ls},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return ho(ne)},set:function(N){Oo(ne,N)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return oi(ne)},set:function(N){hA(ne,N)},enumerable:!0,configurable:!0}),Da.call(w,ct),ke="F1",ao(i,t),Kt.publish("initialized"),w}df.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},df.prototype.toHexString=function(n){return n.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},df.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},df.prototype.processOwnerPassword=function(n,e){return Oy(Dy(e).substr(0,5),n)},df.prototype.encryptor=function(n,e){var t=Dy(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Oy(t,r)}},og.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Qr(n)!==Qr(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},pn.API={events:[]},pn.version="3.0.1";var Hs=pn.API,nw=1,Ih=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},af=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Nn=function(n){return n.toFixed(2)},Xu=function(n){return n.toFixed(5)};Hs.__acroform__={};var Io=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},tB=function(n){return n*nw},uc=function(n){var e=new WC,t=Jt.internal.getHeight(n)||0,r=Jt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Nn(r)),Number(Nn(t))],e},OR=Hs.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},PR=Hs.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},MR=Hs.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},Js=Hs.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return MR(n,e-1)},Zs=Hs.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return OR(n,e-1)},ei=Hs.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return PR(n,e-1)},kR=Hs.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],o=n[1],c=n[2],d=n[3],u={};return u.lowerLeft_X=t(i)||0,u.lowerLeft_Y=r(o+d)||0,u.upperRight_X=t(i+c)||0,u.upperRight_Y=r(o)||0,[Number(Nn(u.lowerLeft_X)),Number(Nn(u.lowerLeft_Y)),Number(Nn(u.upperRight_X)),Number(Nn(u.upperRight_Y))]},HR=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=Py(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Nn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=uc(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},Py=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map((function(P){return P.split(`
`)})):i.map((function(P){return[P]}));var o=t,c=Jt.internal.getHeight(n)||0;c=c<0?-c:c;var d=Jt.internal.getWidth(n)||0;d=d<0?-d:d;var u=function(P,H,V){if(P+1<i.length){var te=H+" "+i[P+1][0];return gm(te,n,V).width<=d-4}return!1};o++;e:for(;o>0;){e="",o--;var p,h,b=gm("3",n,o).height,x=n.multiline?c-o:(c-b)/2,w=x+=2,R=0,F=0,Q=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+gm(e,n,o=12).width+", FieldWidth:"+d+`
`;break}for(var I="",T=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var O=!1;if(i[_].length!==1&&Q!==i[_].length-1){if((b+2)*(T+2)+2>c)continue e;I+=i[_][Q],O=!0,F=_,_--}else{I=(I+=i[_][Q]+" ").substr(I.length-1)==" "?I.substr(0,I.length-1):I;var z=parseInt(_),$=u(z,I,o),U=_>=i.length-1;if($&&!U){I+=" ",Q=0;continue}if($||U){if(U)F=z;else if(n.multiline&&(b+2)*(T+2)+2>c)continue e}else{if(!n.multiline||(b+2)*(T+2)+2>c)continue e;F=z}}for(var L="",G=R;G<=F;G++){var X=i[G];if(n.multiline){if(G===F){L+=X[Q]+" ",Q=(Q+1)%X.length;continue}if(G===R){L+=X[X.length-1]+" ";continue}}L+=X[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,h=gm(L,n,o).width,n.textAlign){case"right":p=d-h-2;break;case"center":p=(d-h)/2;break;case"left":default:p=2}e+=Nn(p)+" "+Nn(w)+` Td
`,e+="("+Ih(L)+`) Tj
`,e+=-Nn(p)+` 0 Td
`,w=-(o+2),h=0,R=O?F:F+1,T++,I=""}break}return r.text=e,r.fontSize=o,r},gm=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},VR={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},KR=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find((function(r){return r.type===t.type&&r.object===t.object}))===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},GR=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),Qr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},zR=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Rl.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(VR)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");nw=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new YC,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",(function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)})),n.internal.events.subscribe("buildDocument",(function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&KR(o,t)}})(n)})),n.internal.events.subscribe("putCatalog",(function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)})),n.internal.events.subscribe("postPutPages",(function(t){(function(r,i){var o=!r;for(var c in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(c)){var d=r[c],u=[],p=d.Rect;if(d.Rect&&(d.Rect=kR(d.Rect,i)),i.internal.newObjectDeferredBegin(d.objId,!0),d.DA=Jt.createDefaultAppearanceStream(d),Qr(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(u=d.getKeyValueListForStream()),d.Rect=p,d.hasAppearanceStream&&!d.appearanceStreamContent){var h=HR(d);u.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(d.appearanceStreamContent){var b="";for(var x in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(x)){var w=d.appearanceStreamContent[x];if(b+="/"+x+" ",b+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var c in w)if(w.hasOwnProperty(c)){var R=w[c];typeof R=="function"&&(R=R.call(i,d)),b+="/"+c+" "+R+" ",i.internal.acroformPlugin.xForms.indexOf(R)>=0||i.internal.acroformPlugin.xForms.push(R)}}else typeof(R=w)=="function"&&(R=R.call(i,d)),b+="/"+c+" "+R,i.internal.acroformPlugin.xForms.indexOf(R)>=0||i.internal.acroformPlugin.xForms.push(R);b+=">>"}u.push({key:"AP",value:`<<
`+b+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:d.objId}),i.internal.out("endobj")}o&&GR(i.internal.acroformPlugin.xForms,i)})(t,n)})),n.internal.acroformPlugin.isInitialized=!0}},$C=Hs.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(c){return c};if(Array.isArray(n)){for(var i="[",o=0;o<n.length;o++)switch(o!==0&&(i+=" "),Qr(n[o])){case"boolean":case"number":case"object":i+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Ih(r(n[o].toString()))+")"):i+=n[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Xv=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Ih(r(n))+")"},fc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};fc.prototype.toString=function(){return this.objId+" 0 R"},fc.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},fc.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter((function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"}));for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:$C(i,this.objId,this.scope)}):i instanceof fc?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var WC=function(){fc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Io(WC,fc);var YC=function(){fc.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Ih(t(n))+")"}},set:function(t){n=t}})};Io(YC,fc);var Rl=function n(){fc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');e=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Js(e,3)},set:function(I){I?this.F=Zs(e,3):this.F=ei(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');t=I}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(I){r=I!==void 0?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(I){r[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(I){r[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(I){r[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(I){r[3]=I}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof a0)return;o="FieldObject"+n.FieldNum++}var I=function(T){return T};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+Ih(I(o))+")"},set:function(I){o=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(I){o=I}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(I){c=I}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(I){d=I}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(I){u=I}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/nw:p},set:function(I){p=I}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(I){h=I}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof a0||this instanceof ud))return Xv(b,this.objId,this.scope)},set:function(I){I=I.toString(),b=I}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Ei?x:Xv(x,this.objId,this.scope)},set:function(I){I=I.toString(),x=this instanceof Ei?I:I.substr(0,1)==="("?af(I.substr(1,I.length-2)):af(I)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ei?af(x.substr(1,x.length-1)):x},set:function(I){I=I.toString(),x=this instanceof Ei?"/"+I:I}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Ei?w:Xv(w,this.objId,this.scope)},set:function(I){I=I.toString(),w=this instanceof Ei?I:I.substr(0,1)==="("?af(I.substr(1,I.length-2)):af(I)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ei?af(w.substr(1,w.length-1)):w},set:function(I){I=I.toString(),w=this instanceof Ei?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var R,F=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return F},set:function(I){I=!!I,F=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(R)return R},set:function(I){R=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,1)},set:function(I){I?this.Ff=Zs(this.Ff,1):this.Ff=ei(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,2)},set:function(I){I?this.Ff=Zs(this.Ff,2):this.Ff=ei(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,3)},set:function(I){I?this.Ff=Zs(this.Ff,3):this.Ff=ei(this.Ff,3)}});var Q=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Q!==null)return Q},set:function(I){if([0,1,2].indexOf(I)===-1)throw new Error('Invalid value "'+I+'" for attribute Q supplied.');Q=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(Q){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:Q=2;break;case"center":case 1:Q=1;break;case"left":case 0:default:Q=0}}})};Io(Rl,fc);var dh=function(){Rl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return $C(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(o,c,d){d||(d=1);for(var u,p=[];u=c.exec(o);)p.push(u[d]);return p})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,18)},set:function(t){t?this.Ff=Zs(this.Ff,18):this.Ff=ei(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Zs(this.Ff,19):this.Ff=ei(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,20)},set:function(t){t?(this.Ff=Zs(this.Ff,20),e.sort()):this.Ff=ei(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,22)},set:function(t){t?this.Ff=Zs(this.Ff,22):this.Ff=ei(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,23)},set:function(t){t?this.Ff=Zs(this.Ff,23):this.Ff=ei(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,27)},set:function(t){t?this.Ff=Zs(this.Ff,27):this.Ff=ei(this.Ff,27)}}),this.hasAppearanceStream=!1};Io(dh,Rl);var hh=function(){dh.call(this),this.fontName="helvetica",this.combo=!1};Io(hh,dh);var fh=function(){hh.call(this),this.combo=!0};Io(fh,hh);var Vp=function(){fh.call(this),this.edit=!0};Io(Vp,fh);var Ei=function(){Rl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,15)},set:function(t){t?this.Ff=Zs(this.Ff,15):this.Ff=ei(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,16)},set:function(t){t?this.Ff=Zs(this.Ff,16):this.Ff=ei(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,17)},set:function(t){t?this.Ff=Zs(this.Ff,17):this.Ff=ei(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,26)},set:function(t){t?this.Ff=Zs(this.Ff,26):this.Ff=ei(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Ih(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Qr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Io(Ei,Rl);var Kp=function(){Ei.call(this),this.pushButton=!0};Io(Kp,Ei);var ph=function(){Ei.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Io(ph,Ei);var a0=function(){var n,e;Rl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(d){return d};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),r)c.push("/"+o+" ("+Ih(i(r[o]))+")");return c.push(">>"),c.join(`
`)},set:function(i){Qr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Jt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Io(a0,Rl),ph.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},ph.prototype.createOption=function(n){var e=new a0;return e.Parent=this,e.optionName=n,this.Kids.push(e),qR.call(this.scope,e),e};var Gp=function(){Ei.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Jt.CheckBox.createAppearanceStream()};Io(Gp,Ei);var ud=function(){Rl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,13)},set:function(e){e?this.Ff=Zs(this.Ff,13):this.Ff=ei(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,21)},set:function(e){e?this.Ff=Zs(this.Ff,21):this.Ff=ei(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,23)},set:function(e){e?this.Ff=Zs(this.Ff,23):this.Ff=ei(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,24)},set:function(e){e?this.Ff=Zs(this.Ff,24):this.Ff=ei(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,25)},set:function(e){e?this.Ff=Zs(this.Ff,25):this.Ff=ei(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,26)},set:function(e){e?this.Ff=Zs(this.Ff,26):this.Ff=ei(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Io(ud,Rl);var zp=function(){ud.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Js(this.Ff,14)},set:function(n){n?this.Ff=Zs(this.Ff,14):this.Ff=ei(this.Ff,14)}}),this.password=!0};Io(zp,ud);var Jt={CheckBox:{createAppearanceStream:function(){return{N:{On:Jt.CheckBox.YesNormal},D:{On:Jt.CheckBox.YesPushDown,Off:Jt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=uc(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),o=Py(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Nn(Jt.internal.getWidth(n))+" "+Nn(Jt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Nn(o.fontSize)+" Tf "+i),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=uc(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],o=Jt.internal.getHeight(n),c=Jt.internal.getWidth(n),d=Py(n,n.caption);return i.push("1 g"),i.push("0 0 "+Nn(c)+" "+Nn(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Nn(c-1)+" "+Nn(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Nn(d.fontSize)+" Tf "+r),i.push(d.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=uc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Nn(Jt.internal.getWidth(n))+" "+Nn(Jt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Jt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Jt.RadioButton.Circle.YesNormal,e.D[n]=Jt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=uc(n);e.scope=n.scope;var t=[],r=Jt.internal.getWidth(n)<=Jt.internal.getHeight(n)?Jt.internal.getWidth(n)/4:Jt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Jt.internal.Bezier_C,o=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Xu(Jt.internal.getWidth(n)/2)+" "+Xu(Jt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=uc(n);e.scope=n.scope;var t=[],r=Jt.internal.getWidth(n)<=Jt.internal.getHeight(n)?Jt.internal.getWidth(n)/4:Jt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Jt.internal.Bezier_C).toFixed(5)),c=Number((r*Jt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Xu(Jt.internal.getWidth(n)/2)+" "+Xu(Jt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Xu(Jt.internal.getWidth(n)/2)+" "+Xu(Jt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),t.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),t.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),t.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=uc(n);e.scope=n.scope;var t=[],r=Jt.internal.getWidth(n)<=Jt.internal.getHeight(n)?Jt.internal.getWidth(n)/4:Jt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Jt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Xu(Jt.internal.getWidth(n)/2)+" "+Xu(Jt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Jt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Jt.RadioButton.Cross.YesNormal,e.D[n]=Jt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=uc(n);e.scope=n.scope;var t=[],r=Jt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Nn(Jt.internal.getWidth(n)-2)+" "+Nn(Jt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Nn(r.x1.x)+" "+Nn(r.x1.y)+" m"),t.push(Nn(r.x2.x)+" "+Nn(r.x2.y)+" l"),t.push(Nn(r.x4.x)+" "+Nn(r.x4.y)+" m"),t.push(Nn(r.x3.x)+" "+Nn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=uc(n);e.scope=n.scope;var t=Jt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Nn(Jt.internal.getWidth(n))+" "+Nn(Jt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Nn(Jt.internal.getWidth(n)-2)+" "+Nn(Jt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Nn(t.x1.x)+" "+Nn(t.x1.y)+" m"),r.push(Nn(t.x2.x)+" "+Nn(t.x2.y)+" l"),r.push(Nn(t.x4.x)+" "+Nn(t.x4.y)+" m"),r.push(Nn(t.x3.x)+" "+Nn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=uc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Nn(Jt.internal.getWidth(n))+" "+Nn(Jt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Jt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Jt.internal.getWidth(n),t=Jt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Jt.internal.getWidth=function(n){var e=0;return Qr(n)==="object"&&(e=tB(n.Rect[2])),e},Jt.internal.getHeight=function(n){var e=0;return Qr(n)==="object"&&(e=tB(n.Rect[3])),e};var qR=Hs.addField=function(n){if(zR(this,n),!(n instanceof Rl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Hs.AcroFormChoiceField=dh,Hs.AcroFormListBox=hh,Hs.AcroFormComboBox=fh,Hs.AcroFormEditBox=Vp,Hs.AcroFormButton=Ei,Hs.AcroFormPushButton=Kp,Hs.AcroFormRadioButton=ph,Hs.AcroFormCheckBox=Gp,Hs.AcroFormTextField=ud,Hs.AcroFormPasswordField=zp,Hs.AcroFormAppearance=Jt,Hs.AcroForm={ChoiceField:dh,ListBox:hh,ComboBox:fh,EditBox:Vp,Button:Ei,PushButton:Kp,RadioButton:ph,CheckBox:Gp,TextField:ud,PasswordField:zp,Appearance:Jt},pn.AcroForm={ChoiceField:dh,ListBox:hh,ComboBox:fh,EditBox:Vp,Button:Ei,PushButton:Kp,RadioButton:ph,CheckBox:Gp,TextField:ud,PasswordField:zp,Appearance:Jt};var $R=pn.AcroForm;function XC(n){return n.reduce((function(e,t,r){return e[t]=r,e}),{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(P,H){var V,te,ge,oe,we,be=e;if((H=H||e)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if($(P))for(we in t)for(ge=t[we],V=0;V<ge.length;V+=1){for(oe=!0,te=0;te<ge[V].length;te+=1)if(ge[V][te]!==void 0&&ge[V][te]!==P[te]){oe=!1;break}if(oe===!0){be=we;break}}else for(we in t)for(ge=t[we],V=0;V<ge.length;V+=1){for(oe=!0,te=0;te<ge[V].length;te+=1)if(ge[V][te]!==void 0&&ge[V][te]!==P.charCodeAt(te)){oe=!1;break}if(oe===!0){be=we;break}}return be===e&&H!==e&&(be=H),be},i=function P(H){for(var V=this.internal.write,te=this.internal.putStream,ge=(0,this.internal.getFilters)();ge.indexOf("FlateEncode")!==-1;)ge.splice(ge.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var oe=[];if(oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Image"}),oe.push({key:"Width",value:H.width}),oe.push({key:"Height",value:H.height}),H.colorSpace===Q.INDEXED?oe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(oe.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===Q.DEVICE_CMYK&&oe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),oe.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&oe.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)){for(var we="",be=0,je=H.transparency.length;be<je;be++)we+=H.transparency[be]+" "+H.transparency[be]+" ";oe.push({key:"Mask",value:"["+we+"]"})}H.sMask!==void 0&&oe.push({key:"SMask",value:H.objectId+1+" 0 R"});var re=H.filter!==void 0?["/"+H.filter]:void 0;if(te({data:H.data,additionalKeyValues:oe,alreadyAppliedFilters:re,objectId:H.objectId}),V("endobj"),"sMask"in H&&H.sMask!==void 0){var de="/Predictor "+H.predictor+" /Colors 1 /BitsPerComponent "+H.bitsPerComponent+" /Columns "+H.width,K={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:H.bitsPerComponent,decodeParameters:de,data:H.sMask};"filter"in H&&(K.filter=H.filter),P.call(this,K)}if(H.colorSpace===Q.INDEXED){var ne=this.internal.newObject();te({data:L(new Uint8Array(H.palette)),objectId:ne}),V("endobj")}},o=function(){var P=this.internal.collections.addImage_images;for(var H in P)i.call(this,P[H])},c=function(){var P,H=this.internal.collections.addImage_images,V=this.internal.write;for(var te in H)V("/I"+(P=H[te]).index,P.objectId,"0","R")},d=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",c))},u=function(){var P=this.internal.collections.addImage_images;return d.call(this),P},p=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(P){return typeof n["process"+P.toUpperCase()]=="function"},b=function(P){return Qr(P)==="object"&&P.nodeType===1},x=function(P,H){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var V=""+P.getAttribute("src");if(V.indexOf("data:image/")===0)return Hp(unescape(V).split("base64,").pop());var te=n.loadFile(V,!0);if(te!==void 0)return te}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var ge;switch(H){case"PNG":ge="image/png";break;case"WEBP":ge="image/webp";break;case"JPEG":case"JPG":default:ge="image/jpeg"}return Hp(P.toDataURL(ge,1).split("base64,").pop())}},w=function(P){var H=this.internal.collections.addImage_images;if(H){for(var V in H)if(P===H[V].alias)return H[V]}},R=function(P,H,V){return P||H||(P=-96,H=-96),P<0&&(P=-1*V.width*72/P/this.internal.scaleFactor),H<0&&(H=-1*V.height*72/H/this.internal.scaleFactor),P===0&&(P=H*V.width/V.height),H===0&&(H=P*V.height/V.width),[P,H]},F=function(P,H,V,te,ge,oe){var we=R.call(this,V,te,ge),be=this.internal.getCoordinateString,je=this.internal.getVerticalCoordinateString,re=u.call(this);if(V=we[0],te=we[1],re[ge.index]=ge,oe){oe*=Math.PI/180;var de=Math.cos(oe),K=Math.sin(oe),ne=function(Be){return Be.toFixed(4)},ce=[ne(de),ne(K),ne(-1*K),ne(de),0,0,"cm"]}this.internal.write("q"),oe?(this.internal.write([1,"0","0",1,be(P),je(H+te),"cm"].join(" ")),this.internal.write(ce.join(" ")),this.internal.write([be(V),"0","0",be(te),"0","0","cm"].join(" "))):this.internal.write([be(V),"0","0",be(te),be(P),je(H+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ge.index+" Do"),this.internal.write("Q")},Q=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=n.__addimage__.sHashCode=function(P){var H,V,te=0;if(typeof P=="string")for(V=P.length,H=0;H<V;H++)te=(te<<5)-te+P.charCodeAt(H),te|=0;else if($(P))for(V=P.byteLength/2,H=0;H<V;H++)te=(te<<5)-te+P[H],te|=0;return te},_=n.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var H=!0;return P.length===0&&(H=!1),P.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(H=!1),H},O=n.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var H=P.indexOf(",");return H<0?null:P.substring(0,H).trim().endsWith("base64")?P.substring(H+1):null},z=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(P){return z()&&P instanceof ArrayBuffer};var $=n.__addimage__.isArrayBufferView=function(P){return z()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},U=n.__addimage__.binaryStringToUint8Array=function(P){for(var H=P.length,V=new Uint8Array(H),te=0;te<H;te++)V[te]=P.charCodeAt(te);return V},L=n.__addimage__.arrayBufferToBinaryString=function(P){for(var H="",V=$(P)?P:new Uint8Array(P),te=0;te<V.length;te+=8192)H+=String.fromCharCode.apply(null,V.subarray(te,te+8192));return H};n.addImage=function(){var P,H,V,te,ge,oe,we,be,je;if(typeof arguments[1]=="number"?(H=e,V=arguments[1],te=arguments[2],ge=arguments[3],oe=arguments[4],we=arguments[5],be=arguments[6],je=arguments[7]):(H=arguments[1],V=arguments[2],te=arguments[3],ge=arguments[4],oe=arguments[5],we=arguments[6],be=arguments[7],je=arguments[8]),Qr(P=arguments[0])==="object"&&!b(P)&&"imageData"in P){var re=P;P=re.imageData,H=re.format||H||e,V=re.x||V||0,te=re.y||te||0,ge=re.w||re.width||ge,oe=re.h||re.height||oe,we=re.alias||we,be=re.compression||be,je=re.rotation||re.angle||je}var de=this.internal.getFilters();if(be===void 0&&de.indexOf("FlateEncode")!==-1&&(be="SLOW"),isNaN(V)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var K=G.call(this,P,H,we,be);return F.call(this,V,te,ge,oe,K,je),this};var G=function(P,H,V,te){var ge,oe,we;if(typeof P=="string"&&r(P)===e){P=unescape(P);var be=X(P,!1);(be!==""||(be=n.loadFile(P,!0))!==void 0)&&(P=be)}if(b(P)&&(P=x(P,H)),H=r(P,H),!h(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((we=V)==null||we.length===0)&&(V=(function(je){return typeof je=="string"||$(je)?T(je):$(je.data)?T(je.data):null})(P)),(ge=w.call(this,V))||(z()&&(P instanceof Uint8Array||H==="RGBA"||(oe=P,P=U(P))),ge=this["process"+H.toUpperCase()](P,p.call(this),V,(function(je){return je&&typeof je=="string"&&(je=je.toUpperCase()),je in n.image_compression?je:I.NONE})(te),oe)),!ge)throw new Error("An unknown error occurred whilst processing the image.");return ge},X=n.__addimage__.convertBase64ToBinaryString=function(P,H){H=typeof H!="boolean"||H;var V,te="";if(typeof P=="string"){var ge;V=(ge=O(P))!==null&&ge!==void 0?ge:P;try{te=Hp(V)}catch(oe){if(H)throw _(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+oe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};n.getImageProperties=function(P){var H,V,te="";if(b(P)&&(P=x(P)),typeof P=="string"&&r(P)===e&&((te=X(P,!1))===""&&(te=n.loadFile(P)||""),P=te),V=r(P),!h(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(!z()||P instanceof Uint8Array||(P=U(P)),!(H=this["process"+V.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=V,H}})(pn.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};pn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,o,c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),p=t.pageContext.annotations,h=!1,b=0;b<p.length&&!h;b++)switch((r=p[b]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var x=0;x<p.length;x++){r=p[x];var w=this.internal.pdfEscape,R=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var F=this.internal.newAdditionalObject(),Q=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(F.objId),T=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+c(r.bounds.x)+" "+d(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y)+"] ")+"/Contents ("+w(I(r.contents))+")",o+=" /Popup "+Q.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+w(I(T))+") >>",F.content=o;var _=F.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+c(r.bounds.x+30)+" "+d(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w+30)+" "+d(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(o+=" /Open true"),o+=" >>",Q.content=o,this.internal.write(F.objId,"0 R",Q.objId,"0 R");break;case"freetext":i="/Rect ["+c(r.bounds.x)+" "+d(r.bounds.y)+" "+c(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y+r.bounds.h)+"] ";var O=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+w(R(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var z=this.annotations._nameMap[r.options.name];r.options.pageNumber=z.page,r.options.top=z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+w(R(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var $=d(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+$+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,o,c){var d=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:u(t),y:p(r),w:u(t+i),h:p(r+o)},options:c,type:"link"})},n.textWithLink=function(t,r,i,o){var c,d,u=this.getTextWidth(t),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){d=o.maxWidth;var h=this.splitTextToSize(t,d).length;c=Math.ceil(p*h)}else d=u,c=p;return this.text(t,r,i,o),i+=.2*p,o.align==="center"&&(r-=u/2),o.align==="right"&&(r-=u),this.link(r,i-p,d,c,o),u},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(pn.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(F){return e[F.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(F){return typeof F=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(F)},d=n.__arabicParser__.isArabicEndLetter=function(F){return c(F)&&o(F)&&e[F.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(F){return c(F)&&i.indexOf(F.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(F){return c(F)&&o(F)&&e[F.charCodeAt(0)].length>=1};var p=n.__arabicParser__.arabicLetterHasFinalForm=function(F){return c(F)&&o(F)&&e[F.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(F){return c(F)&&o(F)&&e[F.charCodeAt(0)].length>=3};var h=n.__arabicParser__.arabicLetterHasMedialForm=function(F){return c(F)&&o(F)&&e[F.charCodeAt(0)].length==4},b=n.__arabicParser__.resolveLigatures=function(F){var Q=0,I=t,T="",_=0;for(Q=0;Q<F.length;Q+=1)I[F.charCodeAt(Q)]!==void 0?(_++,typeof(I=I[F.charCodeAt(Q)])=="number"&&(T+=String.fromCharCode(I),I=t,_=0),Q===F.length-1&&(I=t,T+=F.charAt(Q-(_-1)),Q-=_-1,_=0)):(I=t,T+=F.charAt(Q-_),Q-=_,_=0);return T};n.__arabicParser__.isArabicDiacritic=function(F){return F!==void 0&&r[F.charCodeAt(0)]!==void 0};var x=n.__arabicParser__.getCorrectForm=function(F,Q,I){return c(F)?o(F)===!1?-1:!p(F)||!c(Q)&&!c(I)||!c(I)&&d(Q)||d(F)&&!c(Q)||d(F)&&u(Q)||d(F)&&d(Q)?0:h(F)&&c(Q)&&!d(Q)&&c(I)&&p(I)?3:d(F)||!c(I)?1:2:-1},w=function(F){var Q=0,I=0,T=0,_="",O="",z="",$=(F=F||"").split("\\s+"),U=[];for(Q=0;Q<$.length;Q+=1){for(U.push(""),I=0;I<$[Q].length;I+=1)_=$[Q][I],O=$[Q][I-1],z=$[Q][I+1],c(_)?(T=x(_,O,z),U[Q]+=T!==-1?String.fromCharCode(e[_.charCodeAt(0)][T]):_):U[Q]+=_;U[Q]=b(U[Q])}return U.join(" ")},R=n.__arabicParser__.processArabic=n.processArabic=function(){var F,Q=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,I=[];if(Array.isArray(Q)){var T=0;for(I=[],T=0;T<Q.length;T+=1)Array.isArray(Q[T])?I.push([w(Q[T][0]),Q[T][1],Q[T][2]]):I.push([w(Q[T])]);F=I}else F=w(Q);return typeof arguments[0]=="string"?F:(arguments[0].text=F,arguments[0])};n.events.push(["preProcessText",R])})(pn.API),pn.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(d){t=d}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(d){r=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(d){i=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(d){o=d}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(d){c=d}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(pn.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(F){u=F}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(F){p=F}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(F){h=F}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(F){b=F}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(F){x=F}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(F){w=F}});var R=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return R},set:function(F){R=F}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,p){r.call(this);var h=(p=p||{}).fontSize||this.getFontSize(),b=p.font||this.getFont(),x=p.scaleFactor||this.internal.scaleFactor,w=0,R=0,F=0,Q=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var I=p.maxWidth;I>0?typeof u=="string"?u=this.splitTextToSize(u,I):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce((function(_,O){return _.concat(Q.splitTextToSize(O,I))}),[])):u=Array.isArray(u)?u:[u];for(var T=0;T<u.length;T++)w<(F=this.getStringUnitWidth(u[T],{font:b})*h)&&(w=F);return w!==0&&(R=u.length),{w:w/=x,h:Math.max((R*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/x,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var p=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,b=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===u.lineNumber?(u.x=(p.x||0)+(p.width||0),u.y=p.y||0):p.y+p.height+u.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=b.top,w&&x&&(this.printHeaderRow(u.lineNumber,!0),u.y+=x[0].height)):u.y=p.y+p.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-h,u.y+h,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+h,{align:"center",baseline:"top",maxWidth:u.width-h-h}):this.text(u.text,u.x+h,u.y+h,{align:"left",baseline:"top",maxWidth:u.width-h-h})),this.internal.__cell__.lastCell=u,this};n.table=function(u,p,h,b,x){if(r.call(this),!h)throw new Error("No data for PDF table.");var w,R,F,Q,I=[],T=[],_=[],O={},z={},$=[],U=[],L=(x=x||{}).autoSize||!1,G=x.printHeaders!==!1,X=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,P=x.margins||Object.assign({width:this.getPageWidth()},e),H=typeof x.padding=="number"?x.padding:3,V=x.headerBackgroundColor||"#c8c8c8",te=x.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=G,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=te,this.setFontSize(X),b==null)T=I=Object.keys(h[0]),_=I.map((function(){return"left"}));else if(Array.isArray(b)&&Qr(b[0])==="object")for(I=b.map((function(re){return re.name})),T=b.map((function(re){return re.prompt||re.name||""})),_=b.map((function(re){return re.align||"left"})),w=0;w<b.length;w+=1)z[b[w].name]=b[w].width*(19.049976/25.4);else Array.isArray(b)&&typeof b[0]=="string"&&(T=I=b,_=I.map((function(){return"left"})));if(L||Array.isArray(b)&&typeof b[0]=="string")for(w=0;w<I.length;w+=1){for(O[Q=I[w]]=h.map((function(re){return re[Q]})),this.setFont(void 0,"bold"),$.push(this.getTextDimensions(T[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),R=O[Q],this.setFont(void 0,"normal"),F=0;F<R.length;F+=1)$.push(this.getTextDimensions(R[F],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[Q]=Math.max.apply(null,$)+H+H,$=[]}if(G){var ge={};for(w=0;w<I.length;w+=1)ge[I[w]]={},ge[I[w]].text=T[w],ge[I[w]].align=_[w];var oe=d.call(this,ge,z);U=I.map((function(re){return new o(u,p,z[re],oe,ge[re].text,void 0,ge[re].align)})),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var we=b.reduce((function(re,de){return re[de.name]=de.align,re}),{});for(w=0;w<h.length;w+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:w,data:h[w]},this);var be=d.call(this,h[w],z);for(F=0;F<I.length;F+=1){var je=h[w][I[F]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:w,col:F,data:je},this),c.call(this,new o(u,p,z[I[F]],be,je,w+2,we[I[F]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=p,this};var d=function(u,p){var h=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(u).map((function(w){var R=u[w];return this.splitTextToSize(R.hasOwnProperty("text")?R.text:R,p[w]-h-h)}),this).map((function(w){return this.getLineHeightFactor()*w.length*b/x+h+h}),this).reduce((function(w,R){return Math.max(w,R)}),0)};n.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,p){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){h=this.internal.__cell__.tableHeaderRow[w].clone(),p&&(h.y=this.internal.__cell__.margins.top||0,x.push(h)),h.lineNumber=u;var R=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,h),this.setTextColor(R)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),t=!1}})(pn.API);var JC={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ZC=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],My=XC(ZC),eE=[100,200,300,400,500,600,700,800,900],WR=XC(eE);function ky(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return JC[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}})(n.weight),i=(function(o){return typeof My[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function nB(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var YR={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},rB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function sB(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function XR(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},YR,t.genericFontFamilies||{}),o=null,c=null,d=0;d<e.length;++d)if(i[(o=ky(e[d])).family]&&(o.family=i[o.family]),n.hasOwnProperty(o.family)){c=n[o.family];break}if(!(c=c||n[r]))throw new Error("Could not find a font-family for the rule '"+sB(o)+"' and default family '"+r+"'.");if(c=(function(u,p){if(p[u])return p[u];var h=My[u],b=h<=My.normal?-1:1,x=nB(p,ZC,h,b);if(!x)throw new Error("Could not find a matching font-stretch value for "+u);return x})(o.stretch,c),c=(function(u,p){if(p[u])return p[u];for(var h=JC[u],b=0;b<h.length;++b)if(p[h[b]])return p[h[b]];throw new Error("Could not find a matching font-style for "+u)})(o.style,c),!(c=(function(u,p){if(p[u])return p[u];if(u===400&&p[500])return p[500];if(u===500&&p[400])return p[400];var h=WR[u],b=nB(p,eE,h,u<400?-1:1);if(!b)throw new Error("Could not find a matching font-weight for value "+u);return b})(o.weight,c)))throw new Error("Failed to resolve a font for the rule '"+sB(o)+"'.");return c}function iB(n){return n.trimLeft()}function JR(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function ZR(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var mm,aB,oB,Jv=["times"];(function(n){var e,t,r,i,o,c,d,u,p,h=function(K){return K=K||{},this.isStrokeTransparent=K.isStrokeTransparent||!1,this.strokeOpacity=K.strokeOpacity||1,this.strokeStyle=K.strokeStyle||"#000000",this.fillStyle=K.fillStyle||"#000000",this.isFillTransparent=K.isFillTransparent||!1,this.fillOpacity=K.fillOpacity||1,this.font=K.font||"10px sans-serif",this.textBaseline=K.textBaseline||"alphabetic",this.textAlign=K.textAlign||"left",this.lineWidth=K.lineWidth||1,this.lineJoin=K.lineJoin||"miter",this.lineCap=K.lineCap||"butt",this.path=K.path||[],this.transform=K.transform!==void 0?K.transform.clone():new u,this.globalCompositeOperation=K.globalCompositeOperation||"normal",this.globalAlpha=K.globalAlpha||1,this.clip_path=K.clip_path||[],this.currentPoint=K.currentPoint||new c,this.miterLimit=K.miterLimit||10,this.lastPoint=K.lastPoint||new c,this.lineDashOffset=K.lineDashOffset||0,this.lineDash=K.lineDash||[],this.margin=K.margin||[0,0,0,0],this.prevPageLastElemOffset=K.prevPageLastElemOffset||0,this.ignoreClearRect=typeof K.ignoreClearRect!="boolean"||K.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new b(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,d=this.internal.Rectangle,u=this.internal.Matrix,p=new h}]);var b=function(K){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ne=K;Object.defineProperty(this,"pdf",{get:function(){return ne}});var ce=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ce},set:function(Ze){ce=!!Ze}});var Be=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Be},set:function(Ze){Be=!!Ze}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(Ze){isNaN(Ze)||(he=Ze)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(Ze){isNaN(Ze)||(xe=Ze)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Ze){var Ee;typeof Ze=="number"?Ee=[Ze,Ze,Ze,Ze]:((Ee=new Array(4))[0]=Ze[0],Ee[1]=Ze.length>=2?Ze[1]:Ee[0],Ee[2]=Ze.length>=3?Ze[2]:Ee[0],Ee[3]=Ze.length>=4?Ze[3]:Ee[1]),p.margin=Ee}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(Ze){Se=Ze}});var Ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ie},set:function(Ze){Ie=Ze}});var We=[];Object.defineProperty(this,"pageBreaks",{get:function(){return We},set:function(Ze){We=Ze}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Ze){Ze instanceof h&&(p=Ze)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Ze){p.path=Ze}});var Xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xe},set:function(Ze){Xe=Ze}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ze){var Ee;Ee=x(Ze),this.ctx.fillStyle=Ee.style,this.ctx.isFillTransparent=Ee.a===0,this.ctx.fillOpacity=Ee.a,this.pdf.setFillColor(Ee.r,Ee.g,Ee.b,{a:Ee.a}),this.pdf.setTextColor(Ee.r,Ee.g,Ee.b,{a:Ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ze){var Ee=x(Ze);this.ctx.strokeStyle=Ee.style,this.ctx.isStrokeTransparent=Ee.a===0,this.ctx.strokeOpacity=Ee.a,Ee.a===0?this.pdf.setDrawColor(255,255,255):(Ee.a,this.pdf.setDrawColor(Ee.r,Ee.g,Ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ze){["butt","round","square"].indexOf(Ze)!==-1&&(this.ctx.lineCap=Ze,this.pdf.setLineCap(Ze))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ze){isNaN(Ze)||(this.ctx.lineWidth=Ze,this.pdf.setLineWidth(Ze))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ze){["bevel","round","miter"].indexOf(Ze)!==-1&&(this.ctx.lineJoin=Ze,this.pdf.setLineJoin(Ze))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ze){isNaN(Ze)||(this.ctx.miterLimit=Ze,this.pdf.setMiterLimit(Ze))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ze){this.ctx.textBaseline=Ze}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ze){["right","end","center","left","start"].indexOf(Ze)!==-1&&(this.ctx.textAlign=Ze)}});var st=null;function dt(Ze,Ee){if(st===null){var Ht=(function(Ct){var ct=[];return Object.keys(Ct).forEach((function(Oe){Ct[Oe].forEach((function(rt){var Je=null;switch(rt){case"bold":Je={family:Oe,weight:"bold"};break;case"italic":Je={family:Oe,style:"italic"};break;case"bolditalic":Je={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":Je={family:Oe}}Je!==null&&(Je.ref={name:Oe,style:rt},ct.push(Je))}))})),ct})(Ze.getFontList());st=(function(Ct){for(var ct={},Oe=0;Oe<Ct.length;++Oe){var rt=ky(Ct[Oe]),Je=rt.family,pt=rt.stretch,_t=rt.style,Nt=rt.weight;ct[Je]=ct[Je]||{},ct[Je][pt]=ct[Je][pt]||{},ct[Je][pt][_t]=ct[Je][pt][_t]||{},ct[Je][pt][_t][Nt]=rt}return ct})(Ht.concat(Ee))}return st}var Mt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Mt},set:function(Ze){st=null,Mt=Ze}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ze){var Ee;if(this.ctx.font=Ze,(Ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ze))!==null){var Ht=Ee[1];Ee[2];var Ct=Ee[3],ct=Ee[4];Ee[5];var Oe=Ee[6],rt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ct)[2];ct=Math.floor(rt==="px"?parseFloat(ct)*this.pdf.internal.scaleFactor:rt==="em"?parseFloat(ct)*this.pdf.getFontSize():parseFloat(ct)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ct);var Je=(function(kt){var ke,ze,vt=[],yt=kt.trim();if(yt==="")return Jv;if(yt in rB)return[rB[yt]];for(;yt!=="";){switch(ze=null,ke=(yt=iB(yt)).charAt(0)){case'"':case"'":ze=JR(yt.substring(1),ke);break;default:ze=ZR(yt)}if(ze===null||(vt.push(ze[0]),(yt=iB(ze[1]))!==""&&yt.charAt(0)!==","))return Jv;yt=yt.replace(/^,/,"")}return vt})(Oe);if(this.fontFaces){var pt=XR(dt(this.pdf,this.fontFaces),Je.map((function(kt){return{family:kt,stretch:"normal",weight:Ct,style:Ht}})));this.pdf.setFont(pt.ref.name,pt.ref.style)}else{var _t="";(Ct==="bold"||parseInt(Ct,10)>=700||Ht==="bold")&&(_t="bold"),Ht==="italic"&&(_t+="italic"),_t.length===0&&(_t="normal");for(var Nt="",It={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Et=0;Et<Je.length;Et++){if(this.pdf.internal.getFont(Je[Et],_t,{noFallback:!0,disableWarning:!0})!==void 0){Nt=Je[Et];break}if(_t==="bolditalic"&&this.pdf.internal.getFont(Je[Et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nt=Je[Et],_t="bold";else if(this.pdf.internal.getFont(Je[Et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nt=Je[Et],_t="normal";break}}if(Nt===""){for(var qt=0;qt<Je.length;qt++)if(It[Je[qt]]){Nt=It[Je[qt]];break}}Nt=Nt===""?"Times":Nt,this.pdf.setFont(Nt,_t)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ze){this.ctx.globalCompositeOperation=Ze}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ze){this.ctx.globalAlpha=Ze}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ze){this.ctx.lineDashOffset=Ze,de.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ze){this.ctx.lineDash=Ze,de.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ze){this.ctx.ignoreClearRect=!!Ze}})};b.prototype.setLineDash=function(K){this.lineDash=K},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){O.call(this,"fill",!1)},b.prototype.stroke=function(){O.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(K,ne){if(isNaN(K)||isNaN(ne))throw Jr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ce=this.ctx.transform.applyToPoint(new c(K,ne));this.path.push({type:"mt",x:ce.x,y:ce.y}),this.ctx.lastPoint=new c(K,ne)},b.prototype.closePath=function(){var K=new c(0,0),ne=0;for(ne=this.path.length-1;ne!==-1;ne--)if(this.path[ne].type==="begin"&&Qr(this.path[ne+1])==="object"&&typeof this.path[ne+1].x=="number"){K=new c(this.path[ne+1].x,this.path[ne+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(K.x,K.y)},b.prototype.lineTo=function(K,ne){if(isNaN(K)||isNaN(ne))throw Jr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ce=this.ctx.transform.applyToPoint(new c(K,ne));this.path.push({type:"lt",x:ce.x,y:ce.y}),this.ctx.lastPoint=new c(ce.x,ce.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},b.prototype.quadraticCurveTo=function(K,ne,ce,Be){if(isNaN(ce)||isNaN(Be)||isNaN(K)||isNaN(ne))throw Jr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new c(ce,Be)),xe=this.ctx.transform.applyToPoint(new c(K,ne));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:he.x,y:he.y}),this.ctx.lastPoint=new c(he.x,he.y)},b.prototype.bezierCurveTo=function(K,ne,ce,Be,he,xe){if(isNaN(he)||isNaN(xe)||isNaN(K)||isNaN(ne)||isNaN(ce)||isNaN(Be))throw Jr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new c(he,xe)),Ie=this.ctx.transform.applyToPoint(new c(K,ne)),We=this.ctx.transform.applyToPoint(new c(ce,Be));this.path.push({type:"bct",x1:Ie.x,y1:Ie.y,x2:We.x,y2:We.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new c(Se.x,Se.y)},b.prototype.arc=function(K,ne,ce,Be,he,xe){if(isNaN(K)||isNaN(ne)||isNaN(ce)||isNaN(Be)||isNaN(he))throw Jr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new c(K,ne));K=Se.x,ne=Se.y;var Ie=this.ctx.transform.applyToPoint(new c(0,ce)),We=this.ctx.transform.applyToPoint(new c(0,0));ce=Math.sqrt(Math.pow(Ie.x-We.x,2)+Math.pow(Ie.y-We.y,2))}Math.abs(he-Be)>=2*Math.PI&&(Be=0,he=2*Math.PI),this.path.push({type:"arc",x:K,y:ne,radius:ce,startAngle:Be,endAngle:he,counterclockwise:xe})},b.prototype.arcTo=function(K,ne,ce,Be,he){throw new Error("arcTo not implemented.")},b.prototype.rect=function(K,ne,ce,Be){if(isNaN(K)||isNaN(ne)||isNaN(ce)||isNaN(Be))throw Jr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(K,ne),this.lineTo(K+ce,ne),this.lineTo(K+ce,ne+Be),this.lineTo(K,ne+Be),this.lineTo(K,ne),this.lineTo(K+ce,ne),this.lineTo(K,ne)},b.prototype.fillRect=function(K,ne,ce,Be){if(isNaN(K)||isNaN(ne)||isNaN(ce)||isNaN(Be))throw Jr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(K,ne,ce,Be),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},b.prototype.strokeRect=function(K,ne,ce,Be){if(isNaN(K)||isNaN(ne)||isNaN(ce)||isNaN(Be))throw Jr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");R.call(this)||(this.beginPath(),this.rect(K,ne,ce,Be),this.stroke())},b.prototype.clearRect=function(K,ne,ce,Be){if(isNaN(K)||isNaN(ne)||isNaN(ce)||isNaN(Be))throw Jr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(K,ne,ce,Be))},b.prototype.save=function(K){K=typeof K!="boolean"||K;for(var ne=this.pdf.internal.getCurrentPageInfo().pageNumber,ce=0;ce<this.pdf.internal.getNumberOfPages();ce++)this.pdf.setPage(ce+1),this.pdf.internal.out("q");if(this.pdf.setPage(ne),K){this.ctx.fontSize=this.pdf.internal.getFontSize();var Be=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Be}},b.prototype.restore=function(K){K=typeof K!="boolean"||K;for(var ne=this.pdf.internal.getCurrentPageInfo().pageNumber,ce=0;ce<this.pdf.internal.getNumberOfPages();ce++)this.pdf.setPage(ce+1),this.pdf.internal.out("Q");this.pdf.setPage(ne),K&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(K){var ne,ce,Be,he;if(K.isCanvasGradient===!0&&(K=K.getColor()),!K)return{r:0,g:0,b:0,a:0,style:K};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(K))ne=0,ce=0,Be=0,he=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(K);if(xe!==null)ne=parseInt(xe[1]),ce=parseInt(xe[2]),Be=parseInt(xe[3]),he=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(K))!==null)ne=parseInt(xe[1]),ce=parseInt(xe[2]),Be=parseInt(xe[3]),he=parseFloat(xe[4]);else{if(he=1,typeof K=="string"&&K.charAt(0)!=="#"){var Se=new GC(K);K=Se.ok?Se.toHex():"#000000"}K.length===4?(ne=K.substring(1,2),ne+=ne,ce=K.substring(2,3),ce+=ce,Be=K.substring(3,4),Be+=Be):(ne=K.substring(1,3),ce=K.substring(3,5),Be=K.substring(5,7)),ne=parseInt(ne,16),ce=parseInt(ce,16),Be=parseInt(Be,16)}}return{r:ne,g:ce,b:Be,a:he,style:K}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},R=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(K,ne,ce,Be){if(isNaN(ne)||isNaN(ce)||typeof K!="string")throw Jr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Be=isNaN(Be)?void 0:Be,!w.call(this)){var he=be(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;H.call(this,{text:K,x:ne,y:ce,scale:xe,angle:he,align:this.textAlign,maxWidth:Be})}},b.prototype.strokeText=function(K,ne,ce,Be){if(isNaN(ne)||isNaN(ce)||typeof K!="string")throw Jr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!R.call(this)){Be=isNaN(Be)?void 0:Be;var he=be(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;H.call(this,{text:K,x:ne,y:ce,scale:xe,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:Be})}},b.prototype.measureText=function(K){if(typeof K!="string")throw Jr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ne=this.pdf,ce=this.pdf.internal.scaleFactor,Be=ne.internal.getFontSize(),he=ne.getStringUnitWidth(K)*Be/ne.internal.scaleFactor,xe=function(Se){var Ie=(Se=Se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ie}}),this};return new xe({width:he*=Math.round(96*ce/72*1e4)/1e4})},b.prototype.scale=function(K,ne){if(isNaN(K)||isNaN(ne))throw Jr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ce=new u(K,0,0,ne,0,0);this.ctx.transform=this.ctx.transform.multiply(ce)},b.prototype.rotate=function(K){if(isNaN(K))throw Jr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ne=new u(Math.cos(K),Math.sin(K),-Math.sin(K),Math.cos(K),0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},b.prototype.translate=function(K,ne){if(isNaN(K)||isNaN(ne))throw Jr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ce=new u(1,0,0,1,K,ne);this.ctx.transform=this.ctx.transform.multiply(ce)},b.prototype.transform=function(K,ne,ce,Be,he,xe){if(isNaN(K)||isNaN(ne)||isNaN(ce)||isNaN(Be)||isNaN(he)||isNaN(xe))throw Jr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new u(K,ne,ce,Be,he,xe);this.ctx.transform=this.ctx.transform.multiply(Se)},b.prototype.setTransform=function(K,ne,ce,Be,he,xe){K=isNaN(K)?1:K,ne=isNaN(ne)?0:ne,ce=isNaN(ce)?0:ce,Be=isNaN(Be)?1:Be,he=isNaN(he)?0:he,xe=isNaN(xe)?0:xe,this.ctx.transform=new u(K,ne,ce,Be,he,xe)};var F=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(K,ne,ce,Be,he,xe,Se,Ie,We){var Xe=this.pdf.getImageProperties(K),st=1,dt=1,Mt=1,Ze=1;Be!==void 0&&Ie!==void 0&&(Mt=Ie/Be,Ze=We/he,st=Xe.width/Be*Ie/Be,dt=Xe.height/he*We/he),xe===void 0&&(xe=ne,Se=ce,ne=0,ce=0),Be!==void 0&&Ie===void 0&&(Ie=Be,We=he),Be===void 0&&Ie===void 0&&(Ie=Xe.width,We=Xe.height);for(var Ee,Ht=this.ctx.transform.decompose(),Ct=be(Ht.rotate.shx),ct=new u,Oe=(ct=(ct=(ct=ct.multiply(Ht.translate)).multiply(Ht.skew)).multiply(Ht.scale)).applyToRectangle(new d(xe-ne*Mt,Se-ce*Ze,Be*st,he*dt)),rt=Q.call(this,Oe),Je=[],pt=0;pt<rt.length;pt+=1)Je.indexOf(rt[pt])===-1&&Je.push(rt[pt]);if(_(Je),this.autoPaging)for(var _t=Je[0],Nt=Je[Je.length-1],It=_t;It<Nt+1;It++){this.pdf.setPage(It);var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qt=It===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=It===1?0:kt+(It-2)*ke;if(this.ctx.clip_path.length!==0){var vt=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(Ee,this.posX+this.margin[3],-ze+qt+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=vt}var yt=JSON.parse(JSON.stringify(Oe));yt=T([yt],this.posX+this.margin[3],-ze+qt+this.ctx.prevPageLastElemOffset)[0];var $t=(It>_t||It<Nt)&&F.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,ke,null).clip().discardPath()),this.pdf.addImage(K,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,Ct),$t&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(K,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,Ct)};var Q=function(K,ne,ce){var Be=[];ne=ne||this.pdf.internal.pageSize.width,ce=ce||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(K.type){default:case"mt":case"lt":Be.push(Math.floor((K.y+he)/ce)+1);break;case"arc":Be.push(Math.floor((K.y+he-K.radius)/ce)+1),Be.push(Math.floor((K.y+he+K.radius)/ce)+1);break;case"qct":var xe=je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,K.x1,K.y1,K.x,K.y);Be.push(Math.floor((xe.y+he)/ce)+1),Be.push(Math.floor((xe.y+xe.h+he)/ce)+1);break;case"bct":var Se=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,K.x1,K.y1,K.x2,K.y2,K.x,K.y);Be.push(Math.floor((Se.y+he)/ce)+1),Be.push(Math.floor((Se.y+Se.h+he)/ce)+1);break;case"rect":Be.push(Math.floor((K.y+he)/ce)+1),Be.push(Math.floor((K.y+K.h+he)/ce)+1)}for(var Ie=0;Ie<Be.length;Ie+=1)for(;this.pdf.internal.getNumberOfPages()<Be[Ie];)I.call(this);return Be},I=function(){var K=this.fillStyle,ne=this.strokeStyle,ce=this.font,Be=this.lineCap,he=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=K,this.strokeStyle=ne,this.font=ce,this.lineCap=Be,this.lineWidth=he,this.lineJoin=xe},T=function(K,ne,ce){for(var Be=0;Be<K.length;Be++)switch(K[Be].type){case"bct":K[Be].x2+=ne,K[Be].y2+=ce;case"qct":K[Be].x1+=ne,K[Be].y1+=ce;case"mt":case"lt":case"arc":default:K[Be].x+=ne,K[Be].y+=ce}return K},_=function(K){return K.sort((function(ne,ce){return ne-ce}))},O=function(K,ne){for(var ce,Be,he=this.fillStyle,xe=this.strokeStyle,Se=this.lineCap,Ie=this.lineWidth,We=Math.abs(Ie*this.ctx.transform.scaleX),Xe=this.lineJoin,st=JSON.parse(JSON.stringify(this.path)),dt=JSON.parse(JSON.stringify(this.path)),Mt=[],Ze=0;Ze<dt.length;Ze++)if(dt[Ze].x!==void 0)for(var Ee=Q.call(this,dt[Ze]),Ht=0;Ht<Ee.length;Ht+=1)Mt.indexOf(Ee[Ht])===-1&&Mt.push(Ee[Ht]);for(var Ct=0;Ct<Mt.length;Ct++)for(;this.pdf.internal.getNumberOfPages()<Mt[Ct];)I.call(this);if(_(Mt),this.autoPaging)for(var ct=Mt[0],Oe=Mt[Mt.length-1],rt=ct;rt<Oe+1;rt++){this.pdf.setPage(rt),this.fillStyle=he,this.strokeStyle=xe,this.lineCap=Se,this.lineWidth=We,this.lineJoin=Xe;var Je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=rt===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],It=rt===1?0:_t+(rt-2)*Nt;if(this.ctx.clip_path.length!==0){var Et=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(ce,this.posX+this.margin[3],-It+pt+this.ctx.prevPageLastElemOffset),z.call(this,K,!0),this.path=Et}if(Be=JSON.parse(JSON.stringify(st)),this.path=T(Be,this.posX+this.margin[3],-It+pt+this.ctx.prevPageLastElemOffset),ne===!1||rt===0){var qt=(rt>ct||rt<Oe)&&F.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,Nt,null).clip().discardPath()),z.call(this,K,ne),qt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ie}else this.lineWidth=We,z.call(this,K,ne),this.lineWidth=Ie;this.path=st},z=function(K,ne){if((K!=="stroke"||ne||!R.call(this))&&(K==="stroke"||ne||!w.call(this))){for(var ce,Be,he=[],xe=this.path,Se=0;Se<xe.length;Se++){var Ie=xe[Se];switch(Ie.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:Ie,deltas:[],abs:[]});break;case"lt":var We=he.length;if(xe[Se-1]&&!isNaN(xe[Se-1].x)&&(ce=[Ie.x-xe[Se-1].x,Ie.y-xe[Se-1].y],We>0)){for(;We>=0;We--)if(he[We-1].close!==!0&&he[We-1].begin!==!0){he[We-1].deltas.push(ce),he[We-1].abs.push(Ie);break}}break;case"bct":ce=[Ie.x1-xe[Se-1].x,Ie.y1-xe[Se-1].y,Ie.x2-xe[Se-1].x,Ie.y2-xe[Se-1].y,Ie.x-xe[Se-1].x,Ie.y-xe[Se-1].y],he[he.length-1].deltas.push(ce);break;case"qct":var Xe=xe[Se-1].x+2/3*(Ie.x1-xe[Se-1].x),st=xe[Se-1].y+2/3*(Ie.y1-xe[Se-1].y),dt=Ie.x+2/3*(Ie.x1-Ie.x),Mt=Ie.y+2/3*(Ie.y1-Ie.y),Ze=Ie.x,Ee=Ie.y;ce=[Xe-xe[Se-1].x,st-xe[Se-1].y,dt-xe[Se-1].x,Mt-xe[Se-1].y,Ze-xe[Se-1].x,Ee-xe[Se-1].y],he[he.length-1].deltas.push(ce);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(Ie)}}Be=ne?null:K==="stroke"?"stroke":"fill";for(var Ht=!1,Ct=0;Ct<he.length;Ct++)if(he[Ct].arc)for(var ct=he[Ct].abs,Oe=0;Oe<ct.length;Oe++){var rt=ct[Oe];rt.type==="arc"?L.call(this,rt.x,rt.y,rt.radius,rt.startAngle,rt.endAngle,rt.counterclockwise,void 0,ne,!Ht):V.call(this,rt.x,rt.y),Ht=!0}else if(he[Ct].close===!0)this.pdf.internal.out("h"),Ht=!1;else if(he[Ct].begin!==!0){var Je=he[Ct].start.x,pt=he[Ct].start.y;te.call(this,he[Ct].deltas,Je,pt),Ht=!0}Be&&G.call(this,Be),ne&&X.call(this)}},$=function(K){var ne=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ce=ne*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return K-ce;case"top":return K+ne-ce;case"hanging":return K+ne-2*ce;case"middle":return K+ne/2-ce;case"ideographic":return K;case"alphabetic":default:return K}},U=function(K){return K+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var K=function(){};return K.colorStops=[],K.addColorStop=function(ne,ce){this.colorStops.push([ne,ce])},K.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},K.isCanvasGradient=!0,K},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(K,ne,ce,Be,he,xe,Se,Ie,We){for(var Xe=oe.call(this,ce,Be,he,xe),st=0;st<Xe.length;st++){var dt=Xe[st];st===0&&(We?P.call(this,dt.x1+K,dt.y1+ne):V.call(this,dt.x1+K,dt.y1+ne)),ge.call(this,K,ne,dt.x2,dt.y2,dt.x3,dt.y3,dt.x4,dt.y4)}Ie?X.call(this):G.call(this,Se)},G=function(K){switch(K){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(K,ne){this.pdf.internal.out(t(K)+" "+r(ne)+" m")},H=function(K){var ne;switch(K.align){case"right":case"end":ne="right";break;case"center":ne="center";break;case"left":case"start":default:ne="left"}var ce=this.pdf.getTextDimensions(K.text),Be=$.call(this,K.y),he=U.call(this,Be)-ce.h,xe=this.ctx.transform.applyToPoint(new c(K.x,Be)),Se=this.ctx.transform.decompose(),Ie=new u;Ie=(Ie=(Ie=Ie.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale);for(var We,Xe,st,dt=this.ctx.transform.applyToRectangle(new d(K.x,Be,ce.w,ce.h)),Mt=Ie.applyToRectangle(new d(K.x,he,ce.w,ce.h)),Ze=Q.call(this,Mt),Ee=[],Ht=0;Ht<Ze.length;Ht+=1)Ee.indexOf(Ze[Ht])===-1&&Ee.push(Ze[Ht]);if(_(Ee),this.autoPaging)for(var Ct=Ee[0],ct=Ee[Ee.length-1],Oe=Ct;Oe<ct+1;Oe++){this.pdf.setPage(Oe);var rt=Oe===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[2],_t=pt-this.margin[0],Nt=this.pdf.internal.pageSize.width-this.margin[1],It=Nt-this.margin[3],Et=Oe===1?0:Je+(Oe-2)*_t;if(this.ctx.clip_path.length!==0){var qt=this.path;We=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(We,this.posX+this.margin[3],-1*Et+rt),z.call(this,"fill",!0),this.path=qt}var kt=T([JSON.parse(JSON.stringify(Mt))],this.posX+this.margin[3],-Et+rt+this.ctx.prevPageLastElemOffset)[0];K.scale>=.01&&(Xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xe*K.scale),st=this.lineWidth,this.lineWidth=st*K.scale);var ke=this.autoPaging!=="text";if(ke||kt.y+kt.h<=pt){if(ke||kt.y>=rt&&kt.x<=Nt){var ze=ke?K.text:this.pdf.splitTextToSize(K.text,K.maxWidth||Nt-kt.x)[0],vt=T([JSON.parse(JSON.stringify(dt))],this.posX+this.margin[3],-Et+rt+this.ctx.prevPageLastElemOffset)[0],yt=ke&&(Oe>Ct||Oe<ct)&&F.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],It,_t,null).clip().discardPath()),this.pdf.text(ze,vt.x,vt.y,{angle:K.angle,align:ne,renderingMode:K.renderingMode}),yt&&this.pdf.restoreGraphicsState()}}else kt.y<pt&&(this.ctx.prevPageLastElemOffset+=pt-kt.y);K.scale>=.01&&(this.pdf.setFontSize(Xe),this.lineWidth=st)}else K.scale>=.01&&(Xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xe*K.scale),st=this.lineWidth,this.lineWidth=st*K.scale),this.pdf.text(K.text,xe.x+this.posX,xe.y+this.posY,{angle:K.angle,align:ne,renderingMode:K.renderingMode,maxWidth:K.maxWidth}),K.scale>=.01&&(this.pdf.setFontSize(Xe),this.lineWidth=st)},V=function(K,ne,ce,Be){ce=ce||0,Be=Be||0,this.pdf.internal.out(t(K+ce)+" "+r(ne+Be)+" l")},te=function(K,ne,ce){return this.pdf.lines(K,ne,ce,null,null)},ge=function(K,ne,ce,Be,he,xe,Se,Ie){this.pdf.internal.out([e(i(ce+K)),e(o(Be+ne)),e(i(he+K)),e(o(xe+ne)),e(i(Se+K)),e(o(Ie+ne)),"c"].join(" "))},oe=function(K,ne,ce,Be){for(var he=2*Math.PI,xe=Math.PI/2;ne>ce;)ne-=he;var Se=Math.abs(ce-ne);Se<he&&Be&&(Se=he-Se);for(var Ie=[],We=Be?-1:1,Xe=ne;Se>1e-5;){var st=Xe+We*Math.min(Se,xe);Ie.push(we.call(this,K,Xe,st)),Se-=Math.abs(st-Xe),Xe=st}return Ie},we=function(K,ne,ce){var Be=(ce-ne)/2,he=K*Math.cos(Be),xe=K*Math.sin(Be),Se=he,Ie=-xe,We=Se*Se+Ie*Ie,Xe=We+Se*he+Ie*xe,st=4/3*(Math.sqrt(2*We*Xe)-Xe)/(Se*xe-Ie*he),dt=Se-st*Ie,Mt=Ie+st*Se,Ze=dt,Ee=-Mt,Ht=Be+ne,Ct=Math.cos(Ht),ct=Math.sin(Ht);return{x1:K*Math.cos(ne),y1:K*Math.sin(ne),x2:dt*Ct-Mt*ct,y2:dt*ct+Mt*Ct,x3:Ze*Ct-Ee*ct,y3:Ze*ct+Ee*Ct,x4:K*Math.cos(ce),y4:K*Math.sin(ce)}},be=function(K){return 180*K/Math.PI},je=function(K,ne,ce,Be,he,xe){var Se=K+.5*(ce-K),Ie=ne+.5*(Be-ne),We=he+.5*(ce-he),Xe=xe+.5*(Be-xe),st=Math.min(K,he,Se,We),dt=Math.max(K,he,Se,We),Mt=Math.min(ne,xe,Ie,Xe),Ze=Math.max(ne,xe,Ie,Xe);return new d(st,Mt,dt-st,Ze-Mt)},re=function(K,ne,ce,Be,he,xe,Se,Ie){var We,Xe,st,dt,Mt,Ze,Ee,Ht,Ct,ct,Oe,rt,Je,pt,_t=ce-K,Nt=Be-ne,It=he-ce,Et=xe-Be,qt=Se-he,kt=Ie-xe;for(Xe=0;Xe<41;Xe++)Ct=(Ee=(st=K+(We=Xe/40)*_t)+We*((Mt=ce+We*It)-st))+We*(Mt+We*(he+We*qt-Mt)-Ee),ct=(Ht=(dt=ne+We*Nt)+We*((Ze=Be+We*Et)-dt))+We*(Ze+We*(xe+We*kt-Ze)-Ht),Xe==0?(Oe=Ct,rt=ct,Je=Ct,pt=ct):(Oe=Math.min(Oe,Ct),rt=Math.min(rt,ct),Je=Math.max(Je,Ct),pt=Math.max(pt,ct));return new d(Math.round(Oe),Math.round(rt),Math.round(Je-Oe),Math.round(pt-rt))},de=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var K,ne,ce=(K=this.ctx.lineDash,ne=this.ctx.lineDashOffset,JSON.stringify({lineDash:K,lineDashOffset:ne}));this.prevLineDash!==ce&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ce)}}})(pn.API),(function(n){var e=function(o){var c,d,u,p,h,b,x,w,R,F;for(d=[],u=0,p=(o+=c="\0\0\0\0".slice(o.length%4||4)).length;p>u;u+=4)(h=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(b=(h=((h=((h=((h=(h-(F=h%85))/85)-(R=h%85))/85)-(w=h%85))/85)-(x=h%85))/85)%85,d.push(b+33,x+33,w+33,R+33,F+33)):d.push(122);return(function(Q,I){for(var T=I;T>0;T--)Q.pop()})(d,c.length),String.fromCharCode.apply(String,d)+"~>"},t=function(o){var c,d,u,p,h,b=String,x="length",w=255,R="charCodeAt",F="slice",Q="replace";for(o[F](-2),o=o[F](0,-2)[Q](/\s/g,"")[Q]("z","!!!!!"),u=[],p=0,h=(o+=c="uuuuu"[F](o[x]%5||5))[x];h>p;p+=5)d=52200625*(o[R](p)-33)+614125*(o[R](p+1)-33)+7225*(o[R](p+2)-33)+85*(o[R](p+3)-33)+(o[R](p+4)-33),u.push(w&d>>24,w&d>>16,w&d>>8,w&d);return(function(I,T){for(var _=T;_>0;_--)I.pop()})(u,c[x]),b.fromCharCode.apply(b,u)},r=function(o){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),c.test(o)===!1)return"";for(var d="",u=0;u<o.length;u+=2)d+=String.fromCharCode("0x"+(o[u]+o[u+1]));return d},i=function(o){for(var c=new Uint8Array(o.length),d=o.length;d--;)c[d]=o.charCodeAt(d);return o=(c=Ry(c)).reduce((function(u,p){return u+String.fromCharCode(p)}),"")};n.processDataByFilters=function(o,c){var d=0,u=o||"",p=[];for(typeof(c=c||[])=="string"&&(c=[c]),d=0;d<c.length;d+=1)switch(c[d]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map((function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)})).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[d]+'" is not implemented')}return{data:u,reverseChain:p.reverse().join(" ")}}})(pn.API),(function(n){n.loadFile=function(e,t,r){return(function(i,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var d=void 0;try{d=(function(u,p,h){var b=new XMLHttpRequest,x=0,w=function(R){var F=R.length,Q=[],I=String.fromCharCode;for(x=0;x<F;x+=1)Q.push(I(255&R.charCodeAt(x)));return Q.join("")};if(b.open("GET",u,!p),b.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(b.onload=function(){b.status===200?h(w(this.responseText)):h(void 0)}),b.send(null),p&&b.status===200)return w(b.responseText)})(i,o,c)}catch{}return d})(e,t,r)},n.loadImageFile=n.loadFile})(pn.API),(function(n){function e(){return(bn.html2canvas?Promise.resolve(bn.html2canvas):gh(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch((function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))})).then((function(c){return c.default?c.default:c}))}function t(){return(bn.DOMPurify?Promise.resolve(bn.DOMPurify):gh(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch((function(c){return Promise.reject(new Error("Could not load dompurify: "+c))})).then((function(c){return c.default?c.default:c}))}var r=function(c){var d=Qr(c);return d==="undefined"?"undefined":d==="string"||c instanceof String?"string":d==="number"||c instanceof Number?"number":d==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":d==="object"?"object":"unknown"},i=function(c,d){var u=document.createElement(c);for(var p in d.className&&(u.className=d.className),d.innerHTML&&d.dompurify&&(u.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)u.style[p]=d.style[p];return u},o=function c(d){var u=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),p=c.convert(Promise.resolve(),u);return p=(p=p.setProgress(1,c,1,[c])).set(d)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(c,d){return c.__proto__=d||o.prototype,c},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(c,d){return this.then((function(){switch(d=d||(function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c)){case"string":return this.then(t).then((function(u){return this.set({src:i("div",{innerHTML:c,dompurify:u})})}));case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}}))},o.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=(function u(p,h){for(var b=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),x=p.firstChild;x;x=x.nextSibling)h!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||b.appendChild(u(x,h));return p.nodeType===1&&(p.nodeName==="CANVAS"?(b.width=p.width,b.height=p.height,b.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(b.value=p.value),b.addEventListener("load",(function(){b.scrollTop=p.scrollTop,b.scrollLeft=p.scrollLeft}),!0)),b})(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},o.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then((function(d){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,d(this.prop.container,u)})).then((function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)}))},o.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then((function(d){var u=this.opt.jsPDF,p=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=p,p)for(var x=0;x<p.length;++x){var w=p[x],R=w.src.find((function(F){return F.format==="truetype"}));R&&u.addFont(R.url,w.ref.name,w.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,u.context2d.save(!0),d(this.prop.container,b)})).then((function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)}))},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c}))},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},o.prototype.output=function(c,d,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(c,d):this.outputPdf(c,d)},o.prototype.outputPdf=function(c,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(c,d)}))},o.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}}))},o.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},o.prototype.set=function(c){if(r(c)!=="object")return this;var d=Object.keys(c||{}).map((function(u){if(u in o.template.prop)return function(){this.prop[u]=c[u]};switch(u){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[u]=c[u]}}}),this);return this.then((function(){return this.thenList(d)}))},o.prototype.get=function(c,d){return this.then((function(){var u=c in o.template.prop?this.prop[c]:this.opt[c];return d?d(u):u}))},o.prototype.setMargin=function(c){return this.then((function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c})).then(this.setPageSize)},o.prototype.setPageSize=function(c){function d(u,p){return Math.floor(u*p/72*96)}return this.then((function(){(c=c||pn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:d(c.inner.width,c.k),height:d(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c}))},o.prototype.setProgress=function(c,d,u,p){return c!=null&&(this.progress.val=c),d!=null&&(this.progress.state=d),u!=null&&(this.progress.n=u),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(c,d,u,p){return this.setProgress(c?this.progress.val+c:null,d||null,u?this.progress.n+u:null,p?this.progress.stack.concat(p):null)},o.prototype.then=function(c,d){var u=this;return this.thenCore(c,d,(function(p,h){return u.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,(function(b){return u.updateProgress(null,p),b})).then(p,h).then((function(b){return u.updateProgress(1),b}))}))},o.prototype.thenCore=function(c,d,u){u=u||Promise.prototype.then,c&&(c=c.bind(this)),d&&(d=d.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),h=u.call(p,c,d);return o.convert(h,this.__proto__)},o.prototype.thenExternal=function(c,d){return Promise.prototype.then.call(this,c,d)},o.prototype.thenList=function(c){var d=this;return c.forEach((function(u){d=d.thenCore(u)})),d},o.prototype.catch=function(c){c&&(c=c.bind(this));var d=Promise.prototype.catch.call(this,c);return o.convert(d,this)},o.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},o.prototype.error=function(c){return this.then((function(){throw new Error(c)}))},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,pn.getPageSize=function(c,d,u){if(Qr(c)==="object"){var p=c;c=p.orientation,d=p.unit||d,u=p.format||u}d=d||"mm",u=u||"a4",c=(""+(c||"P")).toLowerCase();var h,b=(""+u).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+d}var w,R=0,F=0;if(x.hasOwnProperty(b))R=x[b][1]/h,F=x[b][0]/h;else try{R=u[1],F=u[0]}catch{throw new Error("Invalid format: "+u)}if(c==="p"||c==="portrait")c="p",F>R&&(w=F,F=R,R=w);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",R>F&&(w=F,F=R,R=w)}return{width:F,height:R,unit:d,k:h,orientation:c}},n.html=function(c,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(ky):null;var u=new o(d);return d.worker?u:u.from(c).doCallback()}})(pn.API),pn.API.addJS=function(n){return oB=n,this.internal.events.subscribe("postPutResources",(function(){mm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(mm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),aB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+oB+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){mm!==void 0&&aB!==void 0&&this.internal.out("/Names <</JavaScript "+mm+" 0 R>>")})),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),o=0;o<i.length;o++){var c=i[o],d=r.exec(c);if(d!=null){var u=d[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,h=[];for(o=0;o<p;o++){var b=t.internal.newObject();h.push(b);var x=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var w=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<h.length;o++)t.internal.write("(page_"+(o+1)+")"+h[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+w+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,o){var c={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var c=r.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var d=this.count=this.count_r({count:0},c);if(d>0&&this.line("/Count "+d),c.options&&c.options.pageNumber){var u=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var p=0;p<r.children.length;p++)this.renderItems(r.children[p])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])})(pn.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,o,c,d){var u,p=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(u=(function(b){for(var x,w=256*b.charCodeAt(4)+b.charCodeAt(5),R=b.length,F={width:0,height:0,numcomponents:1},Q=4;Q<R;Q+=2){if(Q+=w,e.indexOf(b.charCodeAt(Q+1))!==-1){x=256*b.charCodeAt(Q+5)+b.charCodeAt(Q+6),F={width:256*b.charCodeAt(Q+7)+b.charCodeAt(Q+8),height:x,numcomponents:b.charCodeAt(Q+9)};break}w=256*b.charCodeAt(Q+2)+b.charCodeAt(Q+3)}return F})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}h={data:t,width:u.width,height:u.height,colorSpace:d,bitsPerComponent:8,filter:p,index:r,alias:i}}return h}})(pn.API);var of,vm,AB,lB,cB,e6=(function(){var n,e,t;function r(o){var c,d,u,p,h,b,x,w,R,F,Q,I,T,_;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},b=null;;){switch(c=this.readUInt32(),R=(function(){var O,z;for(z=[],O=0;O<4;++O)z.push(String.fromCharCode(this.data[this.pos++]));return z}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(c);break;case"fcTL":b&&this.animation.frames.push(b),this.pos+=4,b={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),p=this.readUInt16()||100,b.delay=1e3*h/p,b.disposeOp=this.data[this.pos++],b.blendOp=this.data[this.pos++],b.data=[];break;case"IDAT":case"fdAT":for(R==="fdAT"&&(this.pos+=4,c-=4),o=b?.data||this.imgData,I=0;0<=c?I<c:I>c;0<=c?++I:--I)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(c),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((F=u-this.transparency.indexed.length)>0)for(T=0;0<=F?T<F:T>F;0<=F?++T:--T)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;case"tEXt":x=(Q=this.read(c)).indexOf(0),w=String.fromCharCode.apply(String,Q.slice(0,x)),this.text[w]=String.fromCharCode.apply(String,Q.slice(x+1));break;case"IEND":return b&&this.animation.frames.push(b),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,d=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*d,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=c}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var c,d;for(d=[],c=0;0<=o?c<o:c>o;0<=o?++c:--c)d.push(this.data[this.pos++]);return d},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var c=this.pixelBitlength/8,d=new Uint8Array(this.width*this.height*c),u=0,p=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function h(b,x,w,R){var F,Q,I,T,_,O,z,$,U,L,G,X,P,H,V,te,ge,oe,we,be,je,re=Math.ceil((p.width-b)/w),de=Math.ceil((p.height-x)/R),K=p.width==re&&p.height==de;for(H=c*re,X=K?d:new Uint8Array(H*de),O=o.length,P=0,Q=0;P<de&&u<O;){switch(o[u++]){case 0:for(T=ge=0;ge<H;T=ge+=1)X[Q++]=o[u++];break;case 1:for(T=oe=0;oe<H;T=oe+=1)F=o[u++],_=T<c?0:X[Q-c],X[Q++]=(F+_)%256;break;case 2:for(T=we=0;we<H;T=we+=1)F=o[u++],I=(T-T%c)/c,V=P&&X[(P-1)*H+I*c+T%c],X[Q++]=(V+F)%256;break;case 3:for(T=be=0;be<H;T=be+=1)F=o[u++],I=(T-T%c)/c,_=T<c?0:X[Q-c],V=P&&X[(P-1)*H+I*c+T%c],X[Q++]=(F+Math.floor((_+V)/2))%256;break;case 4:for(T=je=0;je<H;T=je+=1)F=o[u++],I=(T-T%c)/c,_=T<c?0:X[Q-c],P===0?V=te=0:(V=X[(P-1)*H+I*c+T%c],te=I&&X[(P-1)*H+(I-1)*c+T%c]),z=_+V-te,$=Math.abs(z-_),L=Math.abs(z-V),G=Math.abs(z-te),U=$<=L&&$<=G?_:L<=G?V:te,X[Q++]=(F+U)%256;break;default:throw new Error("Invalid filter algorithm: "+o[u-1])}if(!K){var ne=((x+P*R)*p.width+b)*c,ce=P*H;for(T=0;T<re;T+=1){for(var Be=0;Be<c;Be+=1)d[ne++]=X[ce++];ne+=(w-1)*c}}P++}}return o=TR(o),p.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),d},r.prototype.decodePalette=function(){var o,c,d,u,p,h,b,x,w;for(d=this.palette,h=this.transparency.indexed||[],p=new Uint8Array((h.length||0)+d.length),u=0,o=0,c=b=0,x=d.length;b<x;c=b+=3)p[u++]=d[c],p[u++]=d[c+1],p[u++]=d[c+2],p[u++]=(w=h[o++])!=null?w:255;return p},r.prototype.copyToImageData=function(o,c){var d,u,p,h,b,x,w,R,F,Q,I;if(u=this.colors,F=null,d=this.hasAlphaChannel,this.palette.length&&(F=(I=this._decodedPalette)!=null?I:this._decodedPalette=this.decodePalette(),u=4,d=!0),R=(p=o.data||o).length,b=F||c,h=x=0,u===1)for(;h<R;)w=F?4*c[h/4]:x,Q=b[w++],p[h++]=Q,p[h++]=Q,p[h++]=Q,p[h++]=d?b[w++]:255,x=w;else for(;h<R;)w=F?4*c[h/4]:x,p[h++]=b[w++],p[h++]=b[w++],p[h++]=b[w++],p[h++]=d?b[w++]:255,x=w},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call(bn)==="[object Window]"){try{e=bn.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(o){var c;if(i()===!0)return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(c=new Image).src=e.toDataURL(),c;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var c,d,u,p,h,b,x,w;if(this.animation){for(w=[],d=h=0,b=(x=this.animation.frames).length;h<b;d=++h)c=x[d],u=o.createImageData(c.width,c.height),p=this.decodePixels(new Uint8Array(c.data)),this.copyToImageData(u,p),c.imageData=u,w.push(c.image=n(u));return w}},r.prototype.renderFrame=function(o,c){var d,u,p;return d=(u=this.animation.frames)[c],p=u[c-1],c===0&&o.clearRect(0,0,this.width,this.height),p?.disposeOp===1?o.clearRect(p.xOffset,p.yOffset,p.width,p.height):p?.disposeOp===2&&o.putImageData(p.imageData,p.xOffset,p.yOffset),d.blendOp===0&&o.clearRect(d.xOffset,d.yOffset,d.width,d.height),o.drawImage(d.image,d.xOffset,d.yOffset)},r.prototype.animate=function(o){var c,d,u,p,h,b,x=this;return d=0,b=this.animation,p=b.numFrames,u=b.frames,h=b.numPlays,(c=function(){var w,R;if(w=d++%p,R=u[w],x.renderFrame(o,w),p>1&&d/p<h)return x.animation._timeout=setTimeout(c,R.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var c,d;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,c=o.getContext("2d"),this.animation?(this.decodeFrames(c),this.animate(c)):(d=c.createImageData(this.width,this.height),this.copyToImageData(d,this.decodePixels()),c.putImageData(d,0,0))},r})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function t6(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],o=i>>7,c=1<<(7&i)+1;n[e++],n[e++];var d=null,u=null;o&&(d=e,u=c,e+=3*c);var p=!0,h=[],b=0,x=null,w=0,R=null;for(this.width=t,this.height=r;p&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,R=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var F=n[e++];b=n[e++]|n[e++]<<8,x=n[e++],(1&F)==0&&(x=null),w=F>>2&7,e++;break;case 254:for(;;){if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var Q=n[e++]|n[e++]<<8,I=n[e++]|n[e++]<<8,T=n[e++]|n[e++]<<8,_=n[e++]|n[e++]<<8,O=n[e++],z=O>>6&1,$=1<<(7&O)+1,U=d,L=u,G=!1;O>>7&&(G=!0,U=e,L=$,e+=3*$);var X=e;for(e++;;){var P;if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}h.push({x:Q,y:I,width:T,height:_,has_local_palette:G,palette_offset:U,palette_size:L,data_offset:X,data_length:e-X,transparent_index:x,interlaced:!!z,delay:b,disposal:w});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return R},this.frameInfo=function(H){if(H<0||H>=h.length)throw new Error("Frame index out of range.");return h[H]},this.decodeAndBlitFrameBGRA=function(H,V){var te=this.frameInfo(H),ge=te.width*te.height,oe=new Uint8Array(ge);uB(n,te.data_offset,oe,ge);var we=te.palette_offset,be=te.transparent_index;be===null&&(be=256);var je=te.width,re=t-je,de=je,K=4*(te.y*t+te.x),ne=4*((te.y+te.height)*t+te.x),ce=K,Be=4*re;te.interlaced===!0&&(Be+=4*t*7);for(var he=8,xe=0,Se=oe.length;xe<Se;++xe){var Ie=oe[xe];if(de===0&&(de=je,(ce+=Be)>=ne&&(Be=4*re+4*t*(he-1),ce=K+(je+re)*(he<<1),he>>=1)),Ie===be)ce+=4;else{var We=n[we+3*Ie],Xe=n[we+3*Ie+1],st=n[we+3*Ie+2];V[ce++]=st,V[ce++]=Xe,V[ce++]=We,V[ce++]=255}--de}},this.decodeAndBlitFrameRGBA=function(H,V){var te=this.frameInfo(H),ge=te.width*te.height,oe=new Uint8Array(ge);uB(n,te.data_offset,oe,ge);var we=te.palette_offset,be=te.transparent_index;be===null&&(be=256);var je=te.width,re=t-je,de=je,K=4*(te.y*t+te.x),ne=4*((te.y+te.height)*t+te.x),ce=K,Be=4*re;te.interlaced===!0&&(Be+=4*t*7);for(var he=8,xe=0,Se=oe.length;xe<Se;++xe){var Ie=oe[xe];if(de===0&&(de=je,(ce+=Be)>=ne&&(Be=4*re+4*t*(he-1),ce=K+(je+re)*(he<<1),he>>=1)),Ie===be)ce+=4;else{var We=n[we+3*Ie],Xe=n[we+3*Ie+1],st=n[we+3*Ie+2];V[ce++]=We,V[ce++]=Xe,V[ce++]=st,V[ce++]=255}--de}}}function uB(n,e,t,r){for(var i=n[e++],o=1<<i,c=o+1,d=c+1,u=i+1,p=(1<<u)-1,h=0,b=0,x=0,w=n[e++],R=new Int32Array(4096),F=null;;){for(;h<16&&w!==0;)b|=n[e++]<<h,h+=8,w===1?w=n[e++]:--w;if(h<u)break;var Q=b&p;if(b>>=u,h-=u,Q!==o){if(Q===c)break;for(var I=Q<d?Q:F,T=0,_=I;_>o;)_=R[_]>>8,++T;var O=_;if(x+T+(I!==Q?1:0)>r)return void Jr.log("Warning, gif stream longer than expected.");t[x++]=O;var z=x+=T;for(I!==Q&&(t[x++]=O),_=I;T--;)_=R[_],t[--z]=255&_,_>>=8;F!==null&&d<4096&&(R[d++]=F<<8|O,d>=p+1&&u<12&&(++u,p=p<<1|1)),F=Q}else d=c+1,p=(1<<(u=i+1))-1,F=null}return x!==r&&Jr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Zv(n){var e,t,r,i,o,c=Math.floor,d=new Array(64),u=new Array(64),p=new Array(64),h=new Array(64),b=new Array(65535),x=new Array(65535),w=new Array(64),R=new Array(64),F=[],Q=0,I=7,T=new Array(64),_=new Array(64),O=new Array(64),z=new Array(256),$=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ge=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function oe(K,ne){for(var ce=0,Be=0,he=new Array,xe=1;xe<=16;xe++){for(var Se=1;Se<=K[xe];Se++)he[ne[Be]]=[],he[ne[Be]][0]=ce,he[ne[Be]][1]=xe,Be++,ce++;ce*=2}return he}function we(K){for(var ne=K[0],ce=K[1]-1;ce>=0;)ne&1<<ce&&(Q|=1<<I),ce--,--I<0&&(Q==255?(be(255),be(0)):be(Q),I=7,Q=0)}function be(K){F.push(K)}function je(K){be(K>>8&255),be(255&K)}function re(K,ne,ce,Be,he){for(var xe,Se=he[0],Ie=he[240],We=(function(ct,Oe){var rt,Je,pt,_t,Nt,It,Et,qt,kt,ke,ze=0;for(kt=0;kt<8;++kt){rt=ct[ze],Je=ct[ze+1],pt=ct[ze+2],_t=ct[ze+3],Nt=ct[ze+4],It=ct[ze+5],Et=ct[ze+6];var vt=rt+(qt=ct[ze+7]),yt=rt-qt,$t=Je+Et,Ft=Je-Et,rn=pt+It,wr=pt-It,un=_t+Nt,Qs=_t-Nt,Ln=vt+un,Rr=vt-un,on=$t+rn,Qt=$t-rn;ct[ze]=Ln+on,ct[ze+4]=Ln-on;var St=.707106781*(Qt+Rr);ct[ze+2]=Rr+St,ct[ze+6]=Rr-St;var Kt=.382683433*((Ln=Qs+wr)-(Qt=Ft+yt)),vn=.5411961*Ln+Kt,In=1.306562965*Qt+Kt,Lr=.707106781*(on=wr+Ft),Vs=yt+Lr,Pt=yt-Lr;ct[ze+5]=Pt+vn,ct[ze+3]=Pt-vn,ct[ze+1]=Vs+In,ct[ze+7]=Vs-In,ze+=8}for(ze=0,kt=0;kt<8;++kt){rt=ct[ze],Je=ct[ze+8],pt=ct[ze+16],_t=ct[ze+24],Nt=ct[ze+32],It=ct[ze+40],Et=ct[ze+48];var hr=rt+(qt=ct[ze+56]),fr=rt-qt,Er=Je+Et,tn=Je-Et,Tr=pt+It,Zr=pt-It,Ks=_t+Nt,Gs=_t-Nt,Es=hr+Ks,gs=hr-Ks,ms=Er+Tr,vs=Er-Tr;ct[ze]=Es+ms,ct[ze+32]=Es-ms;var Sr=.707106781*(vs+gs);ct[ze+16]=gs+Sr,ct[ze+48]=gs-Sr;var or=.382683433*((Es=Gs+Zr)-(vs=tn+fr)),qi=.5411961*Es+or,ia=1.306562965*vs+or,ni=.707106781*(ms=Zr+tn),_i=fr+ni,jo=fr-ni;ct[ze+40]=jo+qi,ct[ze+24]=jo-qi,ct[ze+8]=_i+ia,ct[ze+56]=_i-ia,ze++}for(kt=0;kt<64;++kt)ke=ct[kt]*Oe[kt],w[kt]=ke>0?ke+.5|0:ke-.5|0;return w})(K,ne),Xe=0;Xe<64;++Xe)R[U[Xe]]=We[Xe];var st=R[0]-ce;ce=R[0],st==0?we(Be[0]):(we(Be[x[xe=32767+st]]),we(b[xe]));for(var dt=63;dt>0&&R[dt]==0;)dt--;if(dt==0)return we(Se),ce;for(var Mt,Ze=1;Ze<=dt;){for(var Ee=Ze;R[Ze]==0&&Ze<=dt;)++Ze;var Ht=Ze-Ee;if(Ht>=16){Mt=Ht>>4;for(var Ct=1;Ct<=Mt;++Ct)we(Ie);Ht&=15}xe=32767+R[Ze],we(he[(Ht<<4)+x[xe]]),we(b[xe]),Ze++}return dt!=63&&we(Se),ce}function de(K){K=Math.min(Math.max(K,1),100),o!=K&&((function(ne){for(var ce=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Be=0;Be<64;Be++){var he=c((ce[Be]*ne+50)/100);he=Math.min(Math.max(he,1),255),d[U[Be]]=he}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var Ie=c((xe[Se]*ne+50)/100);Ie=Math.min(Math.max(Ie,1),255),u[U[Se]]=Ie}for(var We=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xe=0,st=0;st<8;st++)for(var dt=0;dt<8;dt++)p[Xe]=1/(d[U[Xe]]*We[st]*We[dt]*8),h[Xe]=1/(u[U[Xe]]*We[st]*We[dt]*8),Xe++})(K<50?Math.floor(5e3/K):Math.floor(200-2*K)),o=K)}this.encode=function(K,ne){ne&&de(ne),F=new Array,Q=0,I=7,je(65496),je(65504),je(16),be(74),be(70),be(73),be(70),be(0),be(1),be(1),be(0),je(1),je(1),be(0),be(0),(function(){je(65499),je(132),be(0);for(var Je=0;Je<64;Je++)be(d[Je]);be(1);for(var pt=0;pt<64;pt++)be(u[pt])})(),(function(Je,pt){je(65472),je(17),be(8),je(pt),je(Je),be(3),be(1),be(17),be(0),be(2),be(17),be(1),be(3),be(17),be(1)})(K.width,K.height),(function(){je(65476),je(418),be(0);for(var Je=0;Je<16;Je++)be(L[Je+1]);for(var pt=0;pt<=11;pt++)be(G[pt]);be(16);for(var _t=0;_t<16;_t++)be(X[_t+1]);for(var Nt=0;Nt<=161;Nt++)be(P[Nt]);be(1);for(var It=0;It<16;It++)be(H[It+1]);for(var Et=0;Et<=11;Et++)be(V[Et]);be(17);for(var qt=0;qt<16;qt++)be(te[qt+1]);for(var kt=0;kt<=161;kt++)be(ge[kt])})(),je(65498),je(12),be(3),be(1),be(0),be(2),be(17),be(3),be(17),be(0),be(63),be(0);var ce=0,Be=0,he=0;Q=0,I=7,this.encode.displayName="_encode_";for(var xe,Se,Ie,We,Xe,st,dt,Mt,Ze,Ee=K.data,Ht=K.width,Ct=K.height,ct=4*Ht,Oe=0;Oe<Ct;){for(xe=0;xe<ct;){for(Xe=ct*Oe+xe,dt=-1,Mt=0,Ze=0;Ze<64;Ze++)st=Xe+(Mt=Ze>>3)*ct+(dt=4*(7&Ze)),Oe+Mt>=Ct&&(st-=ct*(Oe+1+Mt-Ct)),xe+dt>=ct&&(st-=xe+dt-ct+4),Se=Ee[st++],Ie=Ee[st++],We=Ee[st++],T[Ze]=($[Se]+$[Ie+256>>0]+$[We+512>>0]>>16)-128,_[Ze]=($[Se+768>>0]+$[Ie+1024>>0]+$[We+1280>>0]>>16)-128,O[Ze]=($[Se+1280>>0]+$[Ie+1536>>0]+$[We+1792>>0]>>16)-128;ce=re(T,p,ce,e,r),Be=re(_,h,Be,t,i),he=re(O,h,he,t,i),xe+=32}Oe+=8}if(I>=0){var rt=[];rt[1]=I+1,rt[0]=(1<<I+1)-1,we(rt)}return je(65497),new Uint8Array(F)},n=n||50,(function(){for(var K=String.fromCharCode,ne=0;ne<256;ne++)z[ne]=K(ne)})(),e=oe(L,G),t=oe(H,V),r=oe(X,P),i=oe(te,ge),(function(){for(var K=1,ne=2,ce=1;ce<=15;ce++){for(var Be=K;Be<ne;Be++)x[32767+Be]=ce,b[32767+Be]=[],b[32767+Be][1]=ce,b[32767+Be][0]=Be;for(var he=-(ne-1);he<=-K;he++)x[32767+he]=ce,b[32767+he]=[],b[32767+he][1]=ce,b[32767+he][0]=ne-1+he;K<<=1,ne<<=1}})(),(function(){for(var K=0;K<256;K++)$[K]=19595*K,$[K+256>>0]=38470*K,$[K+512>>0]=7471*K+32768,$[K+768>>0]=-11059*K,$[K+1024>>0]=-21709*K,$[K+1280>>0]=32768*K+8421375,$[K+1536>>0]=-27439*K,$[K+1792>>0]=-5329*K})(),de(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function xl(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function dB(n){function e(L){if(!L)throw Error("assert :P")}function t(L,G,X){for(var P=0;4>P;P++)if(L[G+P]!=X.charCodeAt(P))return!0;return!1}function r(L,G,X,P,H){for(var V=0;V<H;V++)L[G+V]=X[P+V]}function i(L,G,X,P){for(var H=0;H<P;H++)L[G+H]=X}function o(L){return new Int32Array(L)}function c(L,G){for(var X=[],P=0;P<L;P++)X.push(new G);return X}function d(L,G){var X=[];return(function P(H,V,te){for(var ge=te[V],oe=0;oe<ge&&(H.push(te.length>V+1?[]:new G),!(te.length<V+1));oe++)P(H[oe],V+1,te)})(X,0,L),X}var u=function(){var L=this;function G(g,S){for(var D=1<<S-1>>>0;g&D;)D>>>=1;return D?(g&D-1)+D:g}function X(g,S,D,q,Z){e(!(q%D));do g[S+(q-=D)]=Z;while(0<q)}function P(g,S,D,q,Z){if(e(2328>=Z),512>=Z)var se=o(512);else if((se=o(Z))==null)return 0;return(function(ae,le,fe,ye,Te,qe){var Ge,Me,at=le,nt=1<<fe,Ue=o(16),Le=o(16);for(e(Te!=0),e(ye!=null),e(ae!=null),e(0<fe),Me=0;Me<Te;++Me){if(15<ye[Me])return 0;++Ue[ye[Me]]}if(Ue[0]==Te)return 0;for(Le[1]=0,Ge=1;15>Ge;++Ge){if(Ue[Ge]>1<<Ge)return 0;Le[Ge+1]=Le[Ge]+Ue[Ge]}for(Me=0;Me<Te;++Me)Ge=ye[Me],0<ye[Me]&&(qe[Le[Ge]++]=Me);if(Le[15]==1)return(ye=new H).g=0,ye.value=qe[0],X(ae,at,1,nt,ye),nt;var lt,gt=-1,ut=nt-1,Gt=0,Rt=1,nn=1,Dt=1<<fe;for(Me=0,Ge=1,Te=2;Ge<=fe;++Ge,Te<<=1){if(Rt+=nn<<=1,0>(nn-=Ue[Ge]))return 0;for(;0<Ue[Ge];--Ue[Ge])(ye=new H).g=Ge,ye.value=qe[Me++],X(ae,at+Gt,Te,Dt,ye),Gt=G(Gt,Ge)}for(Ge=fe+1,Te=2;15>=Ge;++Ge,Te<<=1){if(Rt+=nn<<=1,0>(nn-=Ue[Ge]))return 0;for(;0<Ue[Ge];--Ue[Ge]){if(ye=new H,(Gt&ut)!=gt){for(at+=Dt,lt=1<<(gt=Ge)-fe;15>gt&&!(0>=(lt-=Ue[gt]));)++gt,lt<<=1;nt+=Dt=1<<(lt=gt-fe),ae[le+(gt=Gt&ut)].g=lt+fe,ae[le+gt].value=at-le-gt}ye.g=Ge-fe,ye.value=qe[Me++],X(ae,at+(Gt>>fe),Te,Dt,ye),Gt=G(Gt,Ge)}}return Rt!=2*Le[15]-1?0:nt})(g,S,D,q,Z,se)}function H(){this.value=this.g=0}function V(){this.value=this.g=0}function te(){this.G=c(5,H),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(zr,V)}function ge(g,S,D,q){e(g!=null),e(S!=null),e(2147483648>q),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=S,g.pa=D,g.Jd=S,g.Yc=D+q,g.Zc=4<=q?D+q-4+1:D,xe(g)}function oe(g,S){for(var D=0;0<S--;)D|=Ie(g,128)<<S;return D}function we(g,S){var D=oe(g,S);return Se(g)?-D:D}function be(g,S,D,q){var Z,se=0;for(e(g!=null),e(S!=null),e(4294967288>q),g.Sb=q,g.Ra=0,g.u=0,g.h=0,4<q&&(q=4),Z=0;Z<q;++Z)se+=S[D+Z]<<8*Z;g.Ra=se,g.bb=q,g.oa=S,g.pa=D}function je(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<gA-8>>>0,++g.bb,g.u-=8;ce(g)&&(g.h=1,g.u=0)}function re(g,S){if(e(0<=S),!g.h&&S<=pA){var D=ne(g)&Wn[S];return g.u+=S,je(g),D}return g.h=1,g.u=0}function de(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ne(g){return g.Ra>>>(g.u&gA-1)>>>0}function ce(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>gA}function Be(g,S){g.u=S,g.h=ce(g)}function he(g){g.u>=kA&&(e(g.u>=kA),je(g))}function xe(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Se(g){return oe(g,1)}function Ie(g,S){var D=g.Ca;0>g.b&&xe(g);var q=g.b,Z=D*S>>>8,se=(g.I>>>q>Z)+0;for(se?(D-=Z,g.I-=Z+1<<q>>>0):D=Z+1,q=D,Z=0;256<=q;)Z+=8,q>>=8;return q=7^Z+vi[q],g.b-=q,g.Ca=(D<<q)-1,se}function We(g,S,D){g[S+0]=D>>24&255,g[S+1]=D>>16&255,g[S+2]=D>>8&255,g[S+3]=D>>0&255}function Xe(g,S){return g[S+0]<<0|g[S+1]<<8}function st(g,S){return Xe(g,S)|g[S+2]<<16}function dt(g,S){return Xe(g,S)|Xe(g,S+2)<<16}function Mt(g,S){var D=1<<S;return e(g!=null),e(0<S),g.X=o(D),g.X==null?0:(g.Mb=32-S,g.Xa=S,1)}function Ze(g,S){e(g!=null),e(S!=null),e(g.Xa==S.Xa),r(S.X,0,g.X,0,1<<S.Xa)}function Ee(){this.X=[],this.Xa=this.Mb=0}function Ht(g,S,D,q){e(D!=null),e(q!=null);var Z=D[0],se=q[0];return Z==0&&(Z=(g*se+S/2)/S),se==0&&(se=(S*Z+g/2)/g),0>=Z||0>=se?0:(D[0]=Z,q[0]=se,1)}function Ct(g,S){return g+(1<<S)-1>>>S}function ct(g,S){return((4278255360&g)+(4278255360&S)>>>0&4278255360)+((16711935&g)+(16711935&S)>>>0&16711935)>>>0}function Oe(g,S){L[S]=function(D,q,Z,se,ae,le,fe){var ye;for(ye=0;ye<ae;++ye){var Te=L[g](le[fe+ye-1],Z,se+ye);le[fe+ye]=ct(D[q+ye],Te)}}}function rt(){this.ud=this.hd=this.jd=0}function Je(g,S){return((4278124286&(g^S))>>>1)+(g&S)>>>0}function pt(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function _t(g,S){return pt(g+(g-S+.5>>1))}function Nt(g,S,D){return Math.abs(S-D)-Math.abs(g-D)}function It(g,S,D,q,Z,se,ae){for(q=se[ae-1],D=0;D<Z;++D)se[ae+D]=q=ct(g[S+D],q)}function Et(g,S,D,q,Z){var se;for(se=0;se<D;++se){var ae=g[S+se],le=ae>>8&255,fe=16711935&(fe=(fe=16711935&ae)+((le<<16)+le));q[Z+se]=(4278255360&ae)+fe>>>0}}function qt(g,S){S.jd=g>>0&255,S.hd=g>>8&255,S.ud=g>>16&255}function kt(g,S,D,q,Z,se){var ae;for(ae=0;ae<q;++ae){var le=S[D+ae],fe=le>>>8,ye=le,Te=255&(Te=(Te=le>>>16)+((g.jd<<24>>24)*(fe<<24>>24)>>>5));ye=255&(ye=(ye=ye+((g.hd<<24>>24)*(fe<<24>>24)>>>5))+((g.ud<<24>>24)*(Te<<24>>24)>>>5)),Z[se+ae]=(4278255360&le)+(Te<<16)+ye}}function ke(g,S,D,q,Z){L[S]=function(se,ae,le,fe,ye,Te,qe,Ge,Me){for(fe=qe;fe<Ge;++fe)for(qe=0;qe<Me;++qe)ye[Te++]=Z(le[q(se[ae++])])},L[g]=function(se,ae,le,fe,ye,Te,qe){var Ge=8>>se.b,Me=se.Ea,at=se.K[0],nt=se.w;if(8>Ge)for(se=(1<<se.b)-1,nt=(1<<Ge)-1;ae<le;++ae){var Ue,Le=0;for(Ue=0;Ue<Me;++Ue)Ue&se||(Le=q(fe[ye++])),Te[qe++]=Z(at[Le&nt]),Le>>=Ge}else L["VP8LMapColor"+D](fe,ye,at,nt,Te,qe,ae,le,Me)}}function ze(g,S,D,q,Z){for(D=S+D;S<D;){var se=g[S++];q[Z++]=se>>16&255,q[Z++]=se>>8&255,q[Z++]=se>>0&255}}function vt(g,S,D,q,Z){for(D=S+D;S<D;){var se=g[S++];q[Z++]=se>>16&255,q[Z++]=se>>8&255,q[Z++]=se>>0&255,q[Z++]=se>>24&255}}function yt(g,S,D,q,Z){for(D=S+D;S<D;){var se=(ae=g[S++])>>16&240|ae>>12&15,ae=ae>>0&240|ae>>28&15;q[Z++]=se,q[Z++]=ae}}function $t(g,S,D,q,Z){for(D=S+D;S<D;){var se=(ae=g[S++])>>16&248|ae>>13&7,ae=ae>>5&224|ae>>3&31;q[Z++]=se,q[Z++]=ae}}function Ft(g,S,D,q,Z){for(D=S+D;S<D;){var se=g[S++];q[Z++]=se>>0&255,q[Z++]=se>>8&255,q[Z++]=se>>16&255}}function rn(g,S,D,q,Z,se){if(se==0)for(D=S+D;S<D;)We(q,((se=g[S++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),Z+=32;else r(q,Z,g,S,D)}function wr(g,S){L[S][0]=L[g+"0"],L[S][1]=L[g+"1"],L[S][2]=L[g+"2"],L[S][3]=L[g+"3"],L[S][4]=L[g+"4"],L[S][5]=L[g+"5"],L[S][6]=L[g+"6"],L[S][7]=L[g+"7"],L[S][8]=L[g+"8"],L[S][9]=L[g+"9"],L[S][10]=L[g+"10"],L[S][11]=L[g+"11"],L[S][12]=L[g+"12"],L[S][13]=L[g+"13"],L[S][14]=L[g+"0"],L[S][15]=L[g+"0"]}function un(g){return g==Uc||g==bA||g==Vo||g==Ko}function Qs(){this.eb=[],this.size=this.A=this.fb=0}function Ln(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Qs,this.f.kb=new Ln,this.sd=null}function on(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function St(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Kt(g,S){var D=g.T,q=S.ba.f.RGBA,Z=q.eb,se=q.fb+g.ka*q.A,ae=Ms[S.ba.S],le=g.y,fe=g.O,ye=g.f,Te=g.N,qe=g.ea,Ge=g.W,Me=S.cc,at=S.dc,nt=S.Mc,Ue=S.Nc,Le=g.ka,lt=g.ka+g.T,gt=g.U,ut=gt+1>>1;for(Le==0?ae(le,fe,null,null,ye,Te,qe,Ge,ye,Te,qe,Ge,Z,se,null,null,gt):(ae(S.ec,S.fc,le,fe,Me,at,nt,Ue,ye,Te,qe,Ge,Z,se-q.A,Z,se,gt),++D);Le+2<lt;Le+=2)Me=ye,at=Te,nt=qe,Ue=Ge,Te+=g.Rc,Ge+=g.Rc,se+=2*q.A,ae(le,(fe+=2*g.fa)-g.fa,le,fe,Me,at,nt,Ue,ye,Te,qe,Ge,Z,se-q.A,Z,se,gt);return fe+=g.fa,g.j+lt<g.o?(r(S.ec,S.fc,le,fe,gt),r(S.cc,S.dc,ye,Te,ut),r(S.Mc,S.Nc,qe,Ge,ut),D--):1&lt||ae(le,fe,null,null,ye,Te,qe,Ge,ye,Te,qe,Ge,Z,se+q.A,null,null,gt),D}function vn(g,S,D){var q=g.F,Z=[g.J];if(q!=null){var se=g.U,ae=S.ba.S,le=ae==qA||ae==Vo;S=S.ba.f.RGBA;var fe=[0],ye=g.ka;fe[0]=g.T,g.Kb&&(ye==0?--fe[0]:(--ye,Z[0]-=g.width),g.j+g.ka+g.T==g.o&&(fe[0]=g.o-g.j-ye));var Te=S.eb;ye=S.fb+ye*S.A,g=Rn(q,Z[0],g.width,se,fe,Te,ye+(le?0:3),S.A),e(D==fe),g&&un(ae)&&Oi(Te,ye,le,se,fe,S.A)}return 0}function In(g){var S=g.ma,D=S.ba.S,q=11>D,Z=D==Kl||D==Tc||D==qA||D==ya||D==12||un(D);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Or(S.Oa,g,Z?11:12))return 0;if(Z&&un(D)&&xt(),g.da)alert("todo:use_scaling");else{if(q){if(S.Ib=St,g.Kb){if(D=g.U+1>>1,S.memory=o(g.U+2*D),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+g.U,S.Mc=S.cc,S.Nc=S.dc+D,S.Ib=Kt,xt()}}else alert("todo:EmitYUV");Z&&(S.Jb=vn,q&&Pe())}if(q&&!Uh){for(g=0;256>g;++g)Of[g]=89858*(g-128)+Is>>vo,Qc[g]=-22014*(g-128)+Is,_d[g]=-45773*(g-128),js[g]=113618*(g-128)+Is>>vo;for(g=$a;g<Cu;++g)S=76283*(g-16)+Is>>vo,Rc[g-$a]=Kn(S,255),Id[g-$a]=Kn(S+8>>4,15);Uh=1}return 1}function Lr(g){var S=g.ma,D=g.U,q=g.T;return e(!(1&g.ka)),0>=D||0>=q?0:(D=S.Ib(g,S),S.Jb!=null&&S.Jb(g,S,D),S.Dc+=D,1)}function Vs(g){g.ma.memory=null}function Pt(g,S,D,q){return re(g,8)!=47?0:(S[0]=re(g,14)+1,D[0]=re(g,14)+1,q[0]=re(g,1),re(g,3)!=0?0:!g.h)}function hr(g,S){if(4>g)return g+1;var D=g-2>>1;return(2+(1&g)<<D)+re(S,D)+1}function fr(g,S){return 120<S?S-120:1<=(D=((D=Go[S-1])>>4)*g+(8-(15&D)))?D:1;var D}function Er(g,S,D){var q=ne(D),Z=g[S+=255&q].g-8;return 0<Z&&(Be(D,D.u+8),q=ne(D),S+=g[S].value,S+=q&(1<<Z)-1),Be(D,D.u+g[S].g),g[S].value}function tn(g,S,D){return D.g+=g.g,D.value+=g.value<<S>>>0,e(8>=D.g),g.g}function Tr(g,S,D){var q=g.xc;return e((S=q==0?0:g.vc[g.md*(D>>q)+(S>>q)])<g.Wb),g.Ya[S]}function Zr(g,S,D,q){var Z=g.ab,se=g.c*S,ae=g.C;S=ae+S;var le=D,fe=q;for(q=g.Ta,D=g.Ua;0<Z--;){var ye=g.gc[Z],Te=ae,qe=S,Ge=le,Me=fe,at=(fe=q,le=D,ye.Ea);switch(e(Te<qe),e(qe<=ye.nc),ye.hc){case 2:jc(Ge,Me,(qe-Te)*at,fe,le);break;case 0:var nt=Te,Ue=qe,Le=fe,lt=le,gt=(Dt=ye).Ea;nt==0&&(Hl(Ge,Me,null,null,1,Le,lt),It(Ge,Me+1,0,0,gt-1,Le,lt+1),Me+=gt,lt+=gt,++nt);for(var ut=1<<Dt.b,Gt=ut-1,Rt=Ct(gt,Dt.b),nn=Dt.K,Dt=Dt.w+(nt>>Dt.b)*Rt;nt<Ue;){var Zn=nn,lr=Dt,Un=1;for(Vl(Ge,Me,Le,lt-gt,1,Le,lt);Un<gt;){var bt=(Un&~Gt)+ut;bt>gt&&(bt=gt),(0,Ai[Zn[lr++]>>8&15])(Ge,Me+ +Un,Le,lt+Un-gt,bt-Un,Le,lt+Un),Un=bt}Me+=gt,lt+=gt,++nt&Gt||(Dt+=Rt)}qe!=ye.nc&&r(fe,le-at,fe,le+(qe-Te-1)*at,at);break;case 1:for(at=Ge,Ue=Me,gt=(Ge=ye.Ea)-(lt=Ge&~(Le=(Me=1<<ye.b)-1)),nt=Ct(Ge,ye.b),ut=ye.K,ye=ye.w+(Te>>ye.b)*nt;Te<qe;){for(Gt=ut,Rt=ye,nn=new rt,Dt=Ue+lt,Zn=Ue+Ge;Ue<Dt;)qt(Gt[Rt++],nn),Po(nn,at,Ue,Me,fe,le),Ue+=Me,le+=Me;Ue<Zn&&(qt(Gt[Rt++],nn),Po(nn,at,Ue,gt,fe,le),Ue+=gt,le+=gt),++Te&Le||(ye+=nt)}break;case 3:if(Ge==fe&&Me==le&&0<ye.b){for(Ue=fe,Ge=at=le+(qe-Te)*at-(lt=(qe-Te)*Ct(ye.Ea,ye.b)),Me=fe,Le=le,nt=[],lt=(gt=lt)-1;0<=lt;--lt)nt[lt]=Me[Le+lt];for(lt=gt-1;0<=lt;--lt)Ue[Ge+lt]=nt[lt];qr(ye,Te,qe,fe,at,fe,le)}else qr(ye,Te,qe,Ge,Me,fe,le)}le=q,fe=D}fe!=D&&r(q,D,le,fe,se)}function Ks(g,S){var D=g.V,q=g.Ba+g.c*g.C,Z=S-g.C;if(e(S<=g.l.o),e(16>=Z),0<Z){var se=g.l,ae=g.Ta,le=g.Ua,fe=se.width;if(Zr(g,Z,D,q),Z=le=[le],e((D=g.C)<(q=S)),e(se.v<se.va),q>se.o&&(q=se.o),D<se.j){var ye=se.j-D;D=se.j,Z[0]+=ye*fe}if(D>=q?D=0:(Z[0]+=4*se.v,se.ka=D-se.j,se.U=se.va-se.v,se.T=q-D,D=1),D){if(le=le[0],11>(D=g.ca).S){var Te=D.f.RGBA,qe=(q=D.S,Z=se.U,se=se.T,ye=Te.eb,Te.A),Ge=se;for(Te=Te.fb+g.Ma*Te.A;0<Ge--;){var Me=ae,at=le,nt=Z,Ue=ye,Le=Te;switch(q){case ci:li(Me,at,nt,Ue,Le);break;case Kl:Ss(Me,at,nt,Ue,Le);break;case Uc:Ss(Me,at,nt,Ue,Le),Oi(Ue,Le,0,nt,1,0);break;case bi:wi(Me,at,nt,Ue,Le);break;case Tc:rn(Me,at,nt,Ue,Le,1);break;case bA:rn(Me,at,nt,Ue,Le,1),Oi(Ue,Le,0,nt,1,0);break;case qA:rn(Me,at,nt,Ue,Le,0);break;case Vo:rn(Me,at,nt,Ue,Le,0),Oi(Ue,Le,1,nt,1,0);break;case ya:Mo(Me,at,nt,Ue,Le);break;case Ko:Mo(Me,at,nt,Ue,Le),Qn(Ue,Le,nt,1,0);break;case yu:Ri(Me,at,nt,Ue,Le);break;default:e(0)}le+=fe,Te+=qe}g.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=D.height)}}g.C=S,e(g.C<=g.i)}function Gs(g){var S;if(0<g.ua)return 0;for(S=0;S<g.Wb;++S){var D=g.Ya[S].G,q=g.Ya[S].H;if(0<D[1][q[1]+0].g||0<D[2][q[2]+0].g||0<D[3][q[3]+0].g)return 0}return 1}function Es(g,S,D,q,Z,se){if(g.Z!=0){var ae=g.qd,le=g.rd;for(e(qa[g.Z]!=null);S<D;++S)qa[g.Z](ae,le,q,Z,q,Z,se),ae=q,le=Z,Z+=se;g.qd=ae,g.rd=le}}function gs(g,S){var D=g.l.ma,q=D.Z==0||D.Z==1?g.l.j:g.C;if(q=g.C<q?q:g.C,e(S<=g.l.o),S>q){var Z=g.l.width,se=D.ca,ae=D.tb+Z*q,le=g.V,fe=g.Ba+g.c*q,ye=g.gc;e(g.ab==1),e(ye[0].hc==3),yi(ye[0],q,S,le,fe,se,ae),Es(D,q,S,se,ae,Z)}g.C=g.Ma=S}function ms(g,S,D,q,Z,se,ae){var le=g.$/q,fe=g.$%q,ye=g.m,Te=g.s,qe=D+g.$,Ge=qe;Z=D+q*Z;var Me=D+q*se,at=280+Te.ua,nt=g.Pb?le:16777216,Ue=0<Te.ua?Te.Wa:null,Le=Te.wc,lt=qe<Me?Tr(Te,fe,le):null;e(g.C<se),e(Me<=Z);var gt=!1;e:for(;;){for(;gt||qe<Me;){var ut=0;if(le>=nt){var Gt=qe-D;e((nt=g).Pb),nt.wd=nt.m,nt.xd=Gt,0<nt.s.ua&&Ze(nt.s.Wa,nt.s.vb),nt=le+jh}if(fe&Le||(lt=Tr(Te,fe,le)),e(lt!=null),lt.Qb&&(S[qe]=lt.qb,gt=!0),!gt)if(he(ye),lt.jc){ut=ye,Gt=S;var Rt=qe,nn=lt.pd[ne(ut)&zr-1];e(lt.jc),256>nn.g?(Be(ut,ut.u+nn.g),Gt[Rt]=nn.value,ut=0):(Be(ut,ut.u+nn.g-256),e(256<=nn.value),ut=nn.value),ut==0&&(gt=!0)}else ut=Er(lt.G[0],lt.H[0],ye);if(ye.h)break;if(gt||256>ut){if(!gt)if(lt.nd)S[qe]=(lt.qb|ut<<8)>>>0;else{if(he(ye),gt=Er(lt.G[1],lt.H[1],ye),he(ye),Gt=Er(lt.G[2],lt.H[2],ye),Rt=Er(lt.G[3],lt.H[3],ye),ye.h)break;S[qe]=(Rt<<24|gt<<16|ut<<8|Gt)>>>0}if(gt=!1,++qe,++fe>=q&&(fe=0,++le,ae!=null&&le<=se&&!(le%16)&&ae(g,le),Ue!=null))for(;Ge<qe;)ut=S[Ge++],Ue.X[(506832829*ut&4294967295)>>>Ue.Mb]=ut}else if(280>ut){if(ut=hr(ut-256,ye),Gt=Er(lt.G[4],lt.H[4],ye),he(ye),Gt=fr(q,Gt=hr(Gt,ye)),ye.h)break;if(qe-D<Gt||Z-qe<ut)break e;for(Rt=0;Rt<ut;++Rt)S[qe+Rt]=S[qe+Rt-Gt];for(qe+=ut,fe+=ut;fe>=q;)fe-=q,++le,ae!=null&&le<=se&&!(le%16)&&ae(g,le);if(e(qe<=Z),fe&Le&&(lt=Tr(Te,fe,le)),Ue!=null)for(;Ge<qe;)ut=S[Ge++],Ue.X[(506832829*ut&4294967295)>>>Ue.Mb]=ut}else{if(!(ut<at))break e;for(gt=ut-280,e(Ue!=null);Ge<qe;)ut=S[Ge++],Ue.X[(506832829*ut&4294967295)>>>Ue.Mb]=ut;ut=qe,e(!(gt>>>(Gt=Ue).Xa)),S[ut]=Gt.X[gt],gt=!0}gt||e(ye.h==ce(ye))}if(g.Pb&&ye.h&&qe<Z)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Ze(g.s.vb,g.s.Wa);else{if(ye.h)break e;ae?.(g,le>se?se:le),g.a=0,g.$=qe-D}return 1}return g.a=3,0}function vs(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var S=g.Wa;S!=null&&(S.X=null),g.vb=null,e(g!=null)}function Sr(){var g=new kl;return g==null?null:(g.a=0,g.xb=Gl,wr("Predictor","VP8LPredictors"),wr("Predictor","VP8LPredictors_C"),wr("PredictorAdd","VP8LPredictorsAdd"),wr("PredictorAdd","VP8LPredictorsAdd_C"),jc=Et,Po=kt,li=ze,Ss=vt,Mo=yt,Ri=$t,wi=Ft,L.VP8LMapColor32b=Ur,L.VP8LMapColor8b=ts,g)}function or(g,S,D,q,Z){var se=1,ae=[g],le=[S],fe=q.m,ye=q.s,Te=null,qe=0;e:for(;;){if(D)for(;se&&re(fe,1);){var Ge=ae,Me=le,at=q,nt=1,Ue=at.m,Le=at.gc[at.ab],lt=re(Ue,2);if(at.Oc&1<<lt)se=0;else{switch(at.Oc|=1<<lt,Le.hc=lt,Le.Ea=Ge[0],Le.nc=Me[0],Le.K=[null],++at.ab,e(4>=at.ab),lt){case 0:case 1:Le.b=re(Ue,3)+2,nt=or(Ct(Le.Ea,Le.b),Ct(Le.nc,Le.b),0,at,Le.K),Le.K=Le.K[0];break;case 3:var gt,ut=re(Ue,8)+1,Gt=16<ut?0:4<ut?1:2<ut?2:3;if(Ge[0]=Ct(Le.Ea,Gt),Le.b=Gt,gt=nt=or(ut,1,0,at,Le.K)){var Rt,nn=ut,Dt=Le,Zn=1<<(8>>Dt.b),lr=o(Zn);if(lr==null)gt=0;else{var Un=Dt.K[0],bt=Dt.w;for(lr[0]=Dt.K[0][0],Rt=1;Rt<1*nn;++Rt)lr[Rt]=ct(Un[bt+Rt],lr[Rt-1]);for(;Rt<4*Zn;++Rt)lr[Rt]=0;Dt.K[0]=null,Dt.K[0]=lr,gt=1}}nt=gt;break;case 2:break;default:e(0)}se=nt}}if(ae=ae[0],le=le[0],se&&re(fe,1)&&!(se=1<=(qe=re(fe,4))&&11>=qe)){q.a=3;break e}var mr;if(mr=se)t:{var cr,gn,Hn,An=q,dn=ae,Pn=le,Gn=qe,ks=D,Ns=An.m,us=An.s,Br=[null],ss=1,Pi=0,ur=WA[Gn];n:for(;;){if(ks&&re(Ns,1)){var ds=re(Ns,3)+2,Wa=Ct(dn,ds),yo=Ct(Pn,ds),JA=Wa*yo;if(!or(Wa,yo,0,An,Br))break n;for(Br=Br[0],us.xc=ds,cr=0;cr<JA;++cr){var CA=Br[cr]>>8&65535;Br[cr]=CA,CA>=ss&&(ss=CA+1)}}if(Ns.h)break n;for(gn=0;5>gn;++gn){var Mr=Xi[gn];!gn&&0<Gn&&(Mr+=1<<Gn),Pi<Mr&&(Pi=Mr)}var Lc=c(ss*ur,H),Eu=ss,xi=c(Eu,te);if(xi==null)var Wr=null;else e(65536>=Eu),Wr=xi;var ZA=o(Pi);if(Wr==null||ZA==null||Lc==null){An.a=1;break n}var Wo=Lc;for(cr=Hn=0;cr<ss;++cr){var Mi=Wr[cr],EA=Mi.G,ki=Mi.H,ql=0,$l=1,el=0;for(gn=0;5>gn;++gn){Mr=Xi[gn],EA[gn]=Wo,ki[gn]=Hn,!gn&&0<Gn&&(Mr+=1<<Gn);s:{var Dc,Wl=Mr,tl=An,nl=ZA,Nd=Wo,Qh=Hn,Yl=0,Ya=tl.m,Td=re(Ya,1);if(i(nl,0,0,Wl),Td){var Ud=re(Ya,1)+1,Fd=re(Ya,1),Su=re(Ya,Fd==0?1:8);nl[Su]=1,Ud==2&&(nl[Su=re(Ya,8)]=1);var rl=1}else{var Oc=o(19),Qd=re(Ya,4)+4;if(19<Qd){tl.a=3;var Pc=0;break s}for(Dc=0;Dc<Qd;++Dc)Oc[ba[Dc]]=re(Ya,3);var _u=void 0,Ws=void 0,Iu=tl,Rh=Oc,Yo=Wl,Mc=nl,ju=0,Xa=Iu.m,Xl=8,Rd=c(128,H);r:for(;P(Rd,0,7,Rh,19);){if(re(Xa,1)){var Lh=2+2*re(Xa,3);if((_u=2+re(Xa,Lh))>Yo)break r}else _u=Yo;for(Ws=0;Ws<Yo&&_u--;){he(Xa);var Ld=Rd[0+(127&ne(Xa))];Be(Xa,Xa.u+Ld.g);var SA=Ld.value;if(16>SA)Mc[Ws++]=SA,SA!=0&&(Xl=SA);else{var Dh=SA==16,kc=SA-16,Nu=wa[kc],Ts=re(Xa,wu[kc])+Nu;if(Ws+Ts>Yo)break r;for(var Jl=Dh?Xl:0;0<Ts--;)Mc[Ws++]=Jl}}ju=1;break r}ju||(Iu.a=3),rl=ju}(rl=rl&&!Ya.h)&&(Yl=P(Nd,Qh,8,nl,Wl)),rl&&Yl!=0?Pc=Yl:(tl.a=3,Pc=0)}if(Pc==0)break n;if($l&&$A[gn]==1&&($l=Wo[Hn].g==0),ql+=Wo[Hn].g,Hn+=Pc,3>=gn){var sl,Tu=ZA[0];for(sl=1;sl<Mr;++sl)ZA[sl]>Tu&&(Tu=ZA[sl]);el+=Tu}}if(Mi.nd=$l,Mi.Qb=0,$l&&(Mi.qb=(EA[3][ki[3]+0].value<<24|EA[1][ki[1]+0].value<<16|EA[2][ki[2]+0].value)>>>0,ql==0&&256>EA[0][ki[0]+0].value&&(Mi.Qb=1,Mi.qb+=EA[0][ki[0]+0].value<<8)),Mi.jc=!Mi.Qb&&6>el,Mi.jc){var Zl,Ja=Mi;for(Zl=0;Zl<zr;++Zl){var wo=Zl,Xo=Ja.pd[wo],Hc=Ja.G[0][Ja.H[0]+wo];256<=Hc.value?(Xo.g=Hc.g+256,Xo.value=Hc.value):(Xo.g=0,Xo.value=0,wo>>=tn(Hc,8,Xo),wo>>=tn(Ja.G[1][Ja.H[1]+wo],16,Xo),wo>>=tn(Ja.G[2][Ja.H[2]+wo],0,Xo),tn(Ja.G[3][Ja.H[3]+wo],24,Xo))}}}us.vc=Br,us.Wb=ss,us.Ya=Wr,us.yc=Lc,mr=1;break t}mr=0}if(!(se=mr)){q.a=3;break e}if(0<qe){if(ye.ua=1<<qe,!Mt(ye.Wa,qe)){q.a=1,se=0;break e}}else ye.ua=0;var Vc=q,Dd=ae,Oh=le,Od=Vc.s,Pd=Od.xc;if(Vc.c=Dd,Vc.i=Oh,Od.md=Ct(Dd,Pd),Od.wc=Pd==0?-1:(1<<Pd)-1,D){q.xb=Th;break e}if((Te=o(ae*le))==null){q.a=1,se=0;break e}se=(se=ms(q,Te,0,ae,le,le,null))&&!fe.h;break e}return se?(Z!=null?Z[0]=Te:(e(Te==null),e(D)),q.$=0,D||vs(ye)):vs(ye),se}function qi(g,S){var D=g.c*g.i,q=D+S+16*S;return e(g.c<=S),g.V=o(q),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+D+S,1)}function ia(g,S){var D=g.C,q=S-D,Z=g.V,se=g.Ba+g.c*D;for(e(S<=g.l.o);0<q;){var ae=16<q?16:q,le=g.l.ma,fe=g.l.width,ye=fe*ae,Te=le.ca,qe=le.tb+fe*D,Ge=g.Ta,Me=g.Ua;Zr(g,ae,Z,se),Ir(Ge,Me,Te,qe,ye),Es(le,D,D+ae,Te,qe,fe),q-=ae,Z+=ae*g.c,D+=ae}e(D==S),g.C=g.Ma=S}function ni(){this.ub=this.yd=this.td=this.Rb=0}function _i(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function jo(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function OA(){this.Yb=(function(){var g=[];return(function S(D,q,Z){for(var se=Z[q],ae=0;ae<se&&(D.push(Z.length>q+1?[]:0),!(Z.length<q+1));ae++)S(D[ae],q+1,Z)})(g,0,[3,11]),g})()}function No(){this.jb=o(3),this.Wc=d([4,8],OA),this.Xc=d([4,17],OA)}function Dl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function zs(){this.ld=this.La=this.dd=this.tc=0}function Ii(){this.Na=this.la=0}function es(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function aa(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function io(){this.uc=this.M=this.Nb=0,this.wa=Array(new zs),this.Y=0,this.ya=Array(new aa),this.aa=0,this.l=new ji}function oa(){this.y=o(16),this.f=o(8),this.ea=o(8)}function oA(){this.cb=this.a=0,this.sc="",this.m=new de,this.Od=new ni,this.Kc=new _i,this.ed=new Dl,this.Qa=new jo,this.Ic=this.$c=this.Aa=0,this.D=new io,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,de),this.ia=0,this.pb=c(4,es),this.Pa=new No,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new oa),this.Hd=0,this.rb=Array(new Ii),this.sb=0,this.wa=Array(new zs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new aa),this.L=this.aa=0,this.gd=d([4,2],zs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ji(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function La(){var g=new oA;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,_s||(_s=To)),g}function _r(g,S,D){return g.a==0&&(g.a=S,g.sc=D,g.cb=0),0}function Rs(g,S,D){return 3<=D&&g[S+0]==157&&g[S+1]==1&&g[S+2]==42}function AA(g,S){if(g==null)return 0;if(g.a=0,g.sc="OK",S==null)return _r(g,2,"null VP8Io passed to VP8GetHeaders()");var D=S.data,q=S.w,Z=S.ha;if(4>Z)return _r(g,7,"Truncated header.");var se=D[q+0]|D[q+1]<<8|D[q+2]<<16,ae=g.Od;if(ae.Rb=!(1&se),ae.td=se>>1&7,ae.yd=se>>4&1,ae.ub=se>>5,3<ae.td)return _r(g,3,"Incorrect keyframe parameters.");if(!ae.yd)return _r(g,4,"Frame not displayable.");q+=3,Z-=3;var le=g.Kc;if(ae.Rb){if(7>Z)return _r(g,7,"cannot parse picture header");if(!Rs(D,q,Z))return _r(g,3,"Bad code word");le.c=16383&(D[q+4]<<8|D[q+3]),le.Td=D[q+4]>>6,le.i=16383&(D[q+6]<<8|D[q+5]),le.Ud=D[q+6]>>6,q+=7,Z-=7,g.za=le.c+15>>4,g.Ub=le.i+15>>4,S.width=le.c,S.height=le.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,i((se=g.Pa).jb,0,255,se.jb.length),e((se=g.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,i(se.Zb,0,0,se.Zb.length),i(se.Lb,0,0,se.Lb)}if(ae.ub>Z)return _r(g,7,"bad partition length");ge(se=g.m,D,q,ae.ub),q+=ae.ub,Z-=ae.ub,ae.Rb&&(le.Ld=Se(se),le.Kd=Se(se)),le=g.Qa;var fe,ye=g.Pa;if(e(se!=null),e(le!=null),le.Cb=Se(se),le.Cb){if(le.Bb=Se(se),Se(se)){for(le.Fb=Se(se),fe=0;4>fe;++fe)le.Zb[fe]=Se(se)?we(se,7):0;for(fe=0;4>fe;++fe)le.Lb[fe]=Se(se)?we(se,6):0}if(le.Bb)for(fe=0;3>fe;++fe)ye.jb[fe]=Se(se)?oe(se,8):255}else le.Bb=0;if(se.Ka)return _r(g,3,"cannot parse segment header");if((le=g.ed).zd=Se(se),le.Tb=oe(se,6),le.wb=oe(se,3),le.Pc=Se(se),le.Pc&&Se(se)){for(ye=0;4>ye;++ye)Se(se)&&(le.vd[ye]=we(se,6));for(ye=0;4>ye;++ye)Se(se)&&(le.od[ye]=we(se,6))}if(g.L=le.Tb==0?0:le.zd?1:2,se.Ka)return _r(g,3,"cannot parse filter header");var Te=Z;if(Z=fe=q,q=fe+Te,le=Te,g.Xb=(1<<oe(g.m,2))-1,Te<3*(ye=g.Xb))D=7;else{for(fe+=3*ye,le-=3*ye,Te=0;Te<ye;++Te){var qe=D[Z+0]|D[Z+1]<<8|D[Z+2]<<16;qe>le&&(qe=le),ge(g.Jc[+Te],D,fe,qe),fe+=qe,le-=qe,Z+=3}ge(g.Jc[+ye],D,fe,le),D=fe<q?0:5}if(D!=0)return _r(g,D,"cannot parse partitions");for(D=oe(fe=g.m,7),Z=Se(fe)?we(fe,4):0,q=Se(fe)?we(fe,4):0,le=Se(fe)?we(fe,4):0,ye=Se(fe)?we(fe,4):0,fe=Se(fe)?we(fe,4):0,Te=g.Qa,qe=0;4>qe;++qe){if(Te.Cb){var Ge=Te.Zb[qe];Te.Fb||(Ge+=D)}else{if(0<qe){g.pb[qe]=g.pb[0];continue}Ge=D}var Me=g.pb[qe];Me.Sc[0]=Fc[Kn(Ge+Z,127)],Me.Sc[1]=BA[Kn(Ge+0,127)],Me.Eb[0]=2*Fc[Kn(Ge+q,127)],Me.Eb[1]=101581*BA[Kn(Ge+le,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=Fc[Kn(Ge+ye,117)],Me.Qc[1]=BA[Kn(Ge+fe,127)],Me.lc=Ge+fe}if(!ae.Rb)return _r(g,4,"Not a key frame.");for(Se(se),ae=g.Pa,D=0;4>D;++D){for(Z=0;8>Z;++Z)for(q=0;3>q;++q)for(le=0;11>le;++le)ye=Ie(se,YA[D][Z][q][le])?oe(se,8):go[D][Z][q][le],ae.Wc[D][Z].Yb[q][le]=ye;for(Z=0;17>Z;++Z)ae.Xc[D][Z]=ae.Wc[D][Nh[Z]]}return g.kc=Se(se),g.kc&&(g.Bd=oe(se,8)),g.cb=1}function To(g,S,D,q,Z,se,ae){var le=S[Z].Yb[D];for(D=0;16>Z;++Z){if(!Ie(g,le[D+0]))return Z;for(;!Ie(g,le[D+1]);)if(le=S[++Z].Yb[0],D=0,Z==16)return 16;var fe=S[Z+1].Yb;if(Ie(g,le[D+2])){var ye=g,Te=0;if(Ie(ye,(Ge=le)[(qe=D)+3]))if(Ie(ye,Ge[qe+6])){for(le=0,qe=2*(Te=Ie(ye,Ge[qe+8]))+(Ge=Ie(ye,Ge[qe+9+Te])),Te=0,Ge=rs[qe];Ge[le];++le)Te+=Te+Ie(ye,Ge[le]);Te+=3+(8<<qe)}else Ie(ye,Ge[qe+7])?(Te=7+2*Ie(ye,165),Te+=Ie(ye,145)):Te=5+Ie(ye,159);else Te=Ie(ye,Ge[qe+4])?3+Ie(ye,Ge[qe+5]):2;le=fe[2]}else Te=1,le=fe[1];fe=ae+ar[Z],0>(ye=g).b&&xe(ye);var qe,Ge=ye.b,Me=(qe=ye.Ca>>1)-(ye.I>>Ge)>>31;--ye.b,ye.Ca+=Me,ye.Ca|=1,ye.I-=(qe+1&Me)<<Ge,se[fe]=((Te^Me)-Me)*q[(0<Z)+0]}return 16}function $i(g){var S=g.rb[g.sb-1];S.la=0,S.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function Da(g,S){if(g==null)return 0;if(S==null)return _r(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!AA(g,S))return 0;if(e(g.cb),S.ac==null||S.ac(S)){S.ob&&(g.L=0);var D=$o[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=S.v-D>>4,g.zb=S.j-D>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=S.o+15+D>>4,g.Hb=S.va+15+D>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var q=g.ed;for(D=0;4>D;++D){var Z;if(g.Qa.Cb){var se=g.Qa.Lb[D];g.Qa.Fb||(se+=q.Tb)}else se=q.Tb;for(Z=0;1>=Z;++Z){var ae=g.gd[D][Z],le=se;if(q.Pc&&(le+=q.vd[0],Z&&(le+=q.od[0])),0<(le=0>le?0:63<le?63:le)){var fe=le;0<q.wb&&(fe=4<q.wb?fe>>2:fe>>1)>9-q.wb&&(fe=9-q.wb),1>fe&&(fe=1),ae.dd=fe,ae.tc=2*le+fe,ae.ld=40<=le?2:15<=le?1:0}else ae.tc=0;ae.La=Z}}}D=0}else _r(g,6,"Frame setup failed"),D=g.a;if(D=D==0){if(D){g.$c=0,0<g.Aa||(g.Ic=jd);e:{D=g.Ic,q=4*(fe=g.za);var ye=32*fe,Te=fe+1,qe=0<g.L?fe*(0<g.Aa?2:1):0,Ge=(g.Aa==2?2:1)*fe;if((ae=q+832+(Z=3*(16*D+$o[g.L])/2*ye)+(se=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=ae)D=0;else{if(ae>g.Vb){if(g.Vb=0,g.Ec=o(ae),g.Fc=0,g.Ec==null){D=_r(g,1,"no memory during frame initialization.");break e}g.Vb=ae}ae=g.Ec,le=g.Fc,g.Ac=ae,g.Bc=le,le+=q,g.Gd=c(ye,oa),g.Hd=0,g.rb=c(Te+1,Ii),g.sb=1,g.wa=qe?c(qe,zs):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=fe),e(!0),g.oc=ae,g.pc=le,le+=832,g.ya=c(Ge,aa),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=fe),g.R=16*fe,g.B=8*fe,fe=(ye=$o[g.L])*g.R,ye=ye/2*g.B,g.sa=ae,g.ta=le+fe,g.qa=g.sa,g.ra=g.ta+16*D*g.R+ye,g.Ha=g.qa,g.Ia=g.ra+8*D*g.B+ye,g.$c=0,le+=Z,g.mb=se?ae:null,g.nb=se?le:null,e(le+se<=g.Fc+g.Vb),$i(g),i(g.Ac,g.Bc,0,q),D=1}}if(D){if(S.ka=0,S.y=g.sa,S.O=g.ta,S.f=g.qa,S.N=g.ra,S.ea=g.Ha,S.Vd=g.Ia,S.fa=g.R,S.Rc=g.B,S.F=null,S.J=0,!Ho){for(D=-255;255>=D;++D)Pr[255+D]=0>D?-D:D;for(D=-1020;1020>=D;++D)ma[1020+D]=-128>D?-128:127<D?127:D;for(D=-112;112>=D;++D)wA[112+D]=-16>D?-16:15<D?15:D;for(D=-255;510>=D;++D)po[255+D]=0>D?0:255<D?255:D;Ho=1}Os=Ni,Ga=oo,Li=Aa,cs=Ar,Di=Ao,ns=ao,HA=Yi,bs=pa,VA=Ha,mA=Qo,vA=uA,za=ai,KA=Ro,GA=co,ko=Ds,fo=ii,yA=ys,$r=Ml,Bi[0]=ri,Bi[1]=Ol,Bi[2]=ca,Bi[3]=Pl,Bi[4]=Ui,Bi[5]=ua,Bi[6]=mi,Bi[7]=Gr,Bi[8]=da,Bi[9]=Ma,zo[0]=Ls,zo[1]=PA,zo[2]=Oa,zo[3]=Uo,zo[4]=br,zo[5]=Pa,zo[6]=la,ui[0]=ha,ui[1]=lA,ui[2]=cA,ui[3]=Fi,ui[4]=Dn,ui[5]=ls,ui[6]=ka,D=1}else D=0}D&&(D=(function(Me,at){for(Me.M=0;Me.M<Me.Va;++Me.M){var nt,Ue=Me.Jc[Me.M&Me.Xb],Le=Me.m,lt=Me;for(nt=0;nt<lt.za;++nt){var gt=Le,ut=lt,Gt=ut.Ac,Rt=ut.Bc+4*nt,nn=ut.zc,Dt=ut.ya[ut.aa+nt];if(ut.Qa.Bb?Dt.$b=Ie(gt,ut.Pa.jb[0])?2+Ie(gt,ut.Pa.jb[2]):Ie(gt,ut.Pa.jb[1]):Dt.$b=0,ut.kc&&(Dt.Ad=Ie(gt,ut.Bd)),Dt.Za=!Ie(gt,145)+0,Dt.Za){var Zn=Dt.Ob,lr=0;for(ut=0;4>ut;++ut){var Un,bt=nn[0+ut];for(Un=0;4>Un;++Un){bt=Sd[Gt[Rt+Un]][bt];for(var mr=xA[Ie(gt,bt[0])];0<mr;)mr=xA[2*mr+Ie(gt,bt[mr])];bt=-mr,Gt[Rt+Un]=bt}r(Zn,lr,Gt,Rt,4),lr+=4,nn[0+ut]=bt}}else bt=Ie(gt,156)?Ie(gt,128)?1:3:Ie(gt,163)?2:0,Dt.Ob[0]=bt,i(Gt,Rt,bt,4),i(nn,0,bt,4);Dt.Dd=Ie(gt,142)?Ie(gt,114)?Ie(gt,183)?1:3:2:0}if(lt.m.Ka)return _r(Me,7,"Premature end-of-partition0 encountered.");for(;Me.ja<Me.za;++Me.ja){if(lt=Ue,gt=(Le=Me).rb[Le.sb-1],Gt=Le.rb[Le.sb+Le.ja],nt=Le.ya[Le.aa+Le.ja],Rt=Le.kc?nt.Ad:0)gt.la=Gt.la=0,nt.Za||(gt.Na=Gt.Na=0),nt.Hc=0,nt.Gc=0,nt.ia=0;else{var cr,gn;if(gt=Gt,Gt=lt,Rt=Le.Pa.Xc,nn=Le.ya[Le.aa+Le.ja],Dt=Le.pb[nn.$b],ut=nn.ad,Zn=0,lr=Le.rb[Le.sb-1],bt=Un=0,i(ut,Zn,0,384),nn.Za)var Hn=0,An=Rt[3];else{mr=o(16);var dn=gt.Na+lr.Na;if(dn=_s(Gt,Rt[1],dn,Dt.Eb,0,mr,0),gt.Na=lr.Na=(0<dn)+0,1<dn)Os(mr,0,ut,Zn);else{var Pn=mr[0]+3>>3;for(mr=0;256>mr;mr+=16)ut[Zn+mr]=Pn}Hn=1,An=Rt[0]}var Gn=15&gt.la,ks=15&lr.la;for(mr=0;4>mr;++mr){var Ns=1&ks;for(Pn=gn=0;4>Pn;++Pn)Gn=Gn>>1|(Ns=(dn=_s(Gt,An,dn=Ns+(1&Gn),Dt.Sc,Hn,ut,Zn))>Hn)<<7,gn=gn<<2|(3<dn?3:1<dn?2:ut[Zn+0]!=0),Zn+=16;Gn>>=4,ks=ks>>1|Ns<<7,Un=(Un<<8|gn)>>>0}for(An=Gn,Hn=ks>>4,cr=0;4>cr;cr+=2){for(gn=0,Gn=gt.la>>4+cr,ks=lr.la>>4+cr,mr=0;2>mr;++mr){for(Ns=1&ks,Pn=0;2>Pn;++Pn)dn=Ns+(1&Gn),Gn=Gn>>1|(Ns=0<(dn=_s(Gt,Rt[2],dn,Dt.Qc,0,ut,Zn)))<<3,gn=gn<<2|(3<dn?3:1<dn?2:ut[Zn+0]!=0),Zn+=16;Gn>>=2,ks=ks>>1|Ns<<5}bt|=gn<<4*cr,An|=Gn<<4<<cr,Hn|=(240&ks)<<cr}gt.la=An,lr.la=Hn,nn.Hc=Un,nn.Gc=bt,nn.ia=43690&bt?0:Dt.ia,Rt=!(Un|bt)}if(0<Le.L&&(Le.wa[Le.Y+Le.ja]=Le.gd[nt.$b][nt.Za],Le.wa[Le.Y+Le.ja].La|=!Rt),lt.Ka)return _r(Me,7,"Premature end-of-file encountered.")}if($i(Me),Le=at,lt=1,nt=(Ue=Me).D,gt=0<Ue.L&&Ue.M>=Ue.zb&&Ue.M<=Ue.Va,Ue.Aa==0)e:{if(nt.M=Ue.M,nt.uc=gt,$n(Ue,nt),lt=1,nt=(gn=Ue.D).Nb,gt=(bt=$o[Ue.L])*Ue.R,Gt=bt/2*Ue.B,mr=16*nt*Ue.R,Pn=8*nt*Ue.B,Rt=Ue.sa,nn=Ue.ta-gt+mr,Dt=Ue.qa,ut=Ue.ra-Gt+Pn,Zn=Ue.Ha,lr=Ue.Ia-Gt+Pn,ks=(Gn=gn.M)==0,Un=Gn>=Ue.Va-1,Ue.Aa==2&&$n(Ue,gn),gn.uc)for(Ns=(dn=Ue).D.M,e(dn.D.uc),gn=dn.yb;gn<dn.Hb;++gn){Hn=gn,An=Ns;var us=(Br=(Mr=dn).D).Nb;cr=Mr.R;var Br=Br.wa[Br.Y+Hn],ss=Mr.sa,Pi=Mr.ta+16*us*cr+16*Hn,ur=Br.dd,ds=Br.tc;if(ds!=0)if(e(3<=ds),Mr.L==1)0<Hn&&fo(ss,Pi,cr,ds+4),Br.La&&$r(ss,Pi,cr,ds),0<An&&ko(ss,Pi,cr,ds+4),Br.La&&yA(ss,Pi,cr,ds);else{var Wa=Mr.B,yo=Mr.qa,JA=Mr.ra+8*us*Wa+8*Hn,CA=Mr.Ha,Mr=Mr.Ia+8*us*Wa+8*Hn;us=Br.ld,0<Hn&&(bs(ss,Pi,cr,ds+4,ur,us),mA(yo,JA,CA,Mr,Wa,ds+4,ur,us)),Br.La&&(za(ss,Pi,cr,ds,ur,us),GA(yo,JA,CA,Mr,Wa,ds,ur,us)),0<An&&(HA(ss,Pi,cr,ds+4,ur,us),VA(yo,JA,CA,Mr,Wa,ds+4,ur,us)),Br.La&&(vA(ss,Pi,cr,ds,ur,us),KA(yo,JA,CA,Mr,Wa,ds,ur,us))}}if(Ue.ia&&alert("todo:DitherRow"),Le.put!=null){if(gn=16*Gn,Gn=16*(Gn+1),ks?(Le.y=Ue.sa,Le.O=Ue.ta+mr,Le.f=Ue.qa,Le.N=Ue.ra+Pn,Le.ea=Ue.Ha,Le.W=Ue.Ia+Pn):(gn-=bt,Le.y=Rt,Le.O=nn,Le.f=Dt,Le.N=ut,Le.ea=Zn,Le.W=lr),Un||(Gn-=bt),Gn>Le.o&&(Gn=Le.o),Le.F=null,Le.J=null,Ue.Fa!=null&&0<Ue.Fa.length&&gn<Gn&&(Le.J=hA(Ue,Le,gn,Gn-gn),Le.F=Ue.mb,Le.F==null&&Le.F.length==0)){lt=_r(Ue,3,"Could not decode alpha data.");break e}gn<Le.j&&(bt=Le.j-gn,gn=Le.j,e(!(1&bt)),Le.O+=Ue.R*bt,Le.N+=Ue.B*(bt>>1),Le.W+=Ue.B*(bt>>1),Le.F!=null&&(Le.J+=Le.width*bt)),gn<Gn&&(Le.O+=Le.v,Le.N+=Le.v>>1,Le.W+=Le.v>>1,Le.F!=null&&(Le.J+=Le.v),Le.ka=gn-Le.j,Le.U=Le.va-Le.v,Le.T=Gn-gn,lt=Le.put(Le))}nt+1!=Ue.Ic||Un||(r(Ue.sa,Ue.ta-gt,Rt,nn+16*Ue.R,gt),r(Ue.qa,Ue.ra-Gt,Dt,ut+8*Ue.B,Gt),r(Ue.Ha,Ue.Ia-Gt,Zn,lr+8*Ue.B,Gt))}if(!lt)return _r(Me,6,"Output aborted.")}return 1})(g,S)),S.bc!=null&&S.bc(S),D&=1}return D?(g.cb=0,D):0}function qs(g,S,D,q,Z){Z=g[S+D+32*q]+(Z>>3),g[S+D+32*q]=-256&Z?0>Z?0:255:Z}function As(g,S,D,q,Z,se){qs(g,S,0,D,q+Z),qs(g,S,1,D,q+se),qs(g,S,2,D,q-se),qs(g,S,3,D,q-Z)}function qn(g){return(20091*g>>16)+g}function $s(g,S,D,q){var Z,se=0,ae=o(16);for(Z=0;4>Z;++Z){var le=g[S+0]+g[S+8],fe=g[S+0]-g[S+8],ye=(35468*g[S+4]>>16)-qn(g[S+12]),Te=qn(g[S+4])+(35468*g[S+12]>>16);ae[se+0]=le+Te,ae[se+1]=fe+ye,ae[se+2]=fe-ye,ae[se+3]=le-Te,se+=4,S++}for(Z=se=0;4>Z;++Z)le=(g=ae[se+0]+4)+ae[se+8],fe=g-ae[se+8],ye=(35468*ae[se+4]>>16)-qn(ae[se+12]),qs(D,q,0,0,le+(Te=qn(ae[se+4])+(35468*ae[se+12]>>16))),qs(D,q,1,0,fe+ye),qs(D,q,2,0,fe-ye),qs(D,q,3,0,le-Te),se++,q+=32}function ao(g,S,D,q){var Z=g[S+0]+4,se=35468*g[S+4]>>16,ae=qn(g[S+4]),le=35468*g[S+1]>>16;As(D,q,0,Z+ae,g=qn(g[S+1]),le),As(D,q,1,Z+se,g,le),As(D,q,2,Z-se,g,le),As(D,q,3,Z-ae,g,le)}function oo(g,S,D,q,Z){$s(g,S,D,q),Z&&$s(g,S+16,D,q+4)}function Aa(g,S,D,q){Ga(g,S+0,D,q,1),Ga(g,S+32,D,q+128,1)}function Ar(g,S,D,q){var Z;for(g=g[S+0]+4,Z=0;4>Z;++Z)for(S=0;4>S;++S)qs(D,q,S,Z,g)}function Ao(g,S,D,q){g[S+0]&&cs(g,S+0,D,q),g[S+16]&&cs(g,S+16,D,q+4),g[S+32]&&cs(g,S+32,D,q+128),g[S+48]&&cs(g,S+48,D,q+128+4)}function Ni(g,S,D,q){var Z,se=o(16);for(Z=0;4>Z;++Z){var ae=g[S+0+Z]+g[S+12+Z],le=g[S+4+Z]+g[S+8+Z],fe=g[S+4+Z]-g[S+8+Z],ye=g[S+0+Z]-g[S+12+Z];se[0+Z]=ae+le,se[8+Z]=ae-le,se[4+Z]=ye+fe,se[12+Z]=ye-fe}for(Z=0;4>Z;++Z)ae=(g=se[0+4*Z]+3)+se[3+4*Z],le=se[1+4*Z]+se[2+4*Z],fe=se[1+4*Z]-se[2+4*Z],ye=g-se[3+4*Z],D[q+0]=ae+le>>3,D[q+16]=ye+fe>>3,D[q+32]=ae-le>>3,D[q+48]=ye-fe>>3,q+=64}function Ti(g,S,D){var q,Z=S-32,se=Ps,ae=255-g[Z-1];for(q=0;q<D;++q){var le,fe=se,ye=ae+g[S-1];for(le=0;le<D;++le)g[S+le]=fe[ye+g[Z+le]];S+=32}}function Ol(g,S){Ti(g,S,4)}function lA(g,S){Ti(g,S,8)}function PA(g,S){Ti(g,S,16)}function Oa(g,S){var D;for(D=0;16>D;++D)r(g,S+32*D,g,S-32,16)}function Uo(g,S){var D;for(D=16;0<D;--D)i(g,S,g[S-1],16),S+=32}function Wi(g,S,D){var q;for(q=0;16>q;++q)i(S,D+32*q,g,16)}function Ls(g,S){var D,q=16;for(D=0;16>D;++D)q+=g[S-1+32*D]+g[S+D-32];Wi(q>>5,g,S)}function br(g,S){var D,q=8;for(D=0;16>D;++D)q+=g[S-1+32*D];Wi(q>>4,g,S)}function Pa(g,S){var D,q=8;for(D=0;16>D;++D)q+=g[S+D-32];Wi(q>>4,g,S)}function la(g,S){Wi(128,g,S)}function sn(g,S,D){return g+2*S+D+2>>2}function ca(g,S){var D,q=S-32;for(q=new Uint8Array([sn(g[q-1],g[q+0],g[q+1]),sn(g[q+0],g[q+1],g[q+2]),sn(g[q+1],g[q+2],g[q+3]),sn(g[q+2],g[q+3],g[q+4])]),D=0;4>D;++D)r(g,S+32*D,q,0,q.length)}function Pl(g,S){var D=g[S-1],q=g[S-1+32],Z=g[S-1+64],se=g[S-1+96];We(g,S+0,16843009*sn(g[S-1-32],D,q)),We(g,S+32,16843009*sn(D,q,Z)),We(g,S+64,16843009*sn(q,Z,se)),We(g,S+96,16843009*sn(Z,se,se))}function ri(g,S){var D,q=4;for(D=0;4>D;++D)q+=g[S+D-32]+g[S-1+32*D];for(q>>=3,D=0;4>D;++D)i(g,S+32*D,q,4)}function Ui(g,S){var D=g[S-1+0],q=g[S-1+32],Z=g[S-1+64],se=g[S-1-32],ae=g[S+0-32],le=g[S+1-32],fe=g[S+2-32],ye=g[S+3-32];g[S+0+96]=sn(q,Z,g[S-1+96]),g[S+1+96]=g[S+0+64]=sn(D,q,Z),g[S+2+96]=g[S+1+64]=g[S+0+32]=sn(se,D,q),g[S+3+96]=g[S+2+64]=g[S+1+32]=g[S+0+0]=sn(ae,se,D),g[S+3+64]=g[S+2+32]=g[S+1+0]=sn(le,ae,se),g[S+3+32]=g[S+2+0]=sn(fe,le,ae),g[S+3+0]=sn(ye,fe,le)}function mi(g,S){var D=g[S+1-32],q=g[S+2-32],Z=g[S+3-32],se=g[S+4-32],ae=g[S+5-32],le=g[S+6-32],fe=g[S+7-32];g[S+0+0]=sn(g[S+0-32],D,q),g[S+1+0]=g[S+0+32]=sn(D,q,Z),g[S+2+0]=g[S+1+32]=g[S+0+64]=sn(q,Z,se),g[S+3+0]=g[S+2+32]=g[S+1+64]=g[S+0+96]=sn(Z,se,ae),g[S+3+32]=g[S+2+64]=g[S+1+96]=sn(se,ae,le),g[S+3+64]=g[S+2+96]=sn(ae,le,fe),g[S+3+96]=sn(le,fe,fe)}function ua(g,S){var D=g[S-1+0],q=g[S-1+32],Z=g[S-1+64],se=g[S-1-32],ae=g[S+0-32],le=g[S+1-32],fe=g[S+2-32],ye=g[S+3-32];g[S+0+0]=g[S+1+64]=se+ae+1>>1,g[S+1+0]=g[S+2+64]=ae+le+1>>1,g[S+2+0]=g[S+3+64]=le+fe+1>>1,g[S+3+0]=fe+ye+1>>1,g[S+0+96]=sn(Z,q,D),g[S+0+64]=sn(q,D,se),g[S+0+32]=g[S+1+96]=sn(D,se,ae),g[S+1+32]=g[S+2+96]=sn(se,ae,le),g[S+2+32]=g[S+3+96]=sn(ae,le,fe),g[S+3+32]=sn(le,fe,ye)}function Gr(g,S){var D=g[S+0-32],q=g[S+1-32],Z=g[S+2-32],se=g[S+3-32],ae=g[S+4-32],le=g[S+5-32],fe=g[S+6-32],ye=g[S+7-32];g[S+0+0]=D+q+1>>1,g[S+1+0]=g[S+0+64]=q+Z+1>>1,g[S+2+0]=g[S+1+64]=Z+se+1>>1,g[S+3+0]=g[S+2+64]=se+ae+1>>1,g[S+0+32]=sn(D,q,Z),g[S+1+32]=g[S+0+96]=sn(q,Z,se),g[S+2+32]=g[S+1+96]=sn(Z,se,ae),g[S+3+32]=g[S+2+96]=sn(se,ae,le),g[S+3+64]=sn(ae,le,fe),g[S+3+96]=sn(le,fe,ye)}function Ma(g,S){var D=g[S-1+0],q=g[S-1+32],Z=g[S-1+64],se=g[S-1+96];g[S+0+0]=D+q+1>>1,g[S+2+0]=g[S+0+32]=q+Z+1>>1,g[S+2+32]=g[S+0+64]=Z+se+1>>1,g[S+1+0]=sn(D,q,Z),g[S+3+0]=g[S+1+32]=sn(q,Z,se),g[S+3+32]=g[S+1+64]=sn(Z,se,se),g[S+3+64]=g[S+2+64]=g[S+0+96]=g[S+1+96]=g[S+2+96]=g[S+3+96]=se}function da(g,S){var D=g[S-1+0],q=g[S-1+32],Z=g[S-1+64],se=g[S-1+96],ae=g[S-1-32],le=g[S+0-32],fe=g[S+1-32],ye=g[S+2-32];g[S+0+0]=g[S+2+32]=D+ae+1>>1,g[S+0+32]=g[S+2+64]=q+D+1>>1,g[S+0+64]=g[S+2+96]=Z+q+1>>1,g[S+0+96]=se+Z+1>>1,g[S+3+0]=sn(le,fe,ye),g[S+2+0]=sn(ae,le,fe),g[S+1+0]=g[S+3+32]=sn(D,ae,le),g[S+1+32]=g[S+3+64]=sn(q,D,ae),g[S+1+64]=g[S+3+96]=sn(Z,q,D),g[S+1+96]=sn(se,Z,q)}function cA(g,S){var D;for(D=0;8>D;++D)r(g,S+32*D,g,S-32,8)}function Fi(g,S){var D;for(D=0;8>D;++D)i(g,S,g[S-1],8),S+=32}function si(g,S,D){var q;for(q=0;8>q;++q)i(S,D+32*q,g,8)}function ha(g,S){var D,q=8;for(D=0;8>D;++D)q+=g[S+D-32]+g[S-1+32*D];si(q>>4,g,S)}function ls(g,S){var D,q=4;for(D=0;8>D;++D)q+=g[S+D-32];si(q>>3,g,S)}function Dn(g,S){var D,q=4;for(D=0;8>D;++D)q+=g[S-1+32*D];si(q>>3,g,S)}function ka(g,S){si(128,g,S)}function fa(g,S,D){var q=g[S-D],Z=g[S+0],se=3*(Z-q)+Nc[1020+g[S-2*D]-g[S+D]],ae=zA[112+(se+4>>3)];g[S-D]=Ps[255+q+zA[112+(se+3>>3)]],g[S+0]=Ps[255+Z-ae]}function MA(g,S,D,q){var Z=g[S+0],se=g[S+D];return va[255+g[S-2*D]-g[S-D]]>q||va[255+se-Z]>q}function Dr(g,S,D,q){return 4*va[255+g[S-D]-g[S+0]]+va[255+g[S-2*D]-g[S+D]]<=q}function Fo(g,S,D,q,Z){var se=g[S-3*D],ae=g[S-2*D],le=g[S-D],fe=g[S+0],ye=g[S+D],Te=g[S+2*D],qe=g[S+3*D];return 4*va[255+le-fe]+va[255+ae-ye]>q?0:va[255+g[S-4*D]-se]<=Z&&va[255+se-ae]<=Z&&va[255+ae-le]<=Z&&va[255+qe-Te]<=Z&&va[255+Te-ye]<=Z&&va[255+ye-fe]<=Z}function Ds(g,S,D,q){var Z=2*q+1;for(q=0;16>q;++q)Dr(g,S+q,D,Z)&&fa(g,S+q,D)}function ii(g,S,D,q){var Z=2*q+1;for(q=0;16>q;++q)Dr(g,S+q*D,1,Z)&&fa(g,S+q*D,1)}function ys(g,S,D,q){var Z;for(Z=3;0<Z;--Z)Ds(g,S+=4*D,D,q)}function Ml(g,S,D,q){var Z;for(Z=3;0<Z;--Z)ii(g,S+=4,D,q)}function lo(g,S,D,q,Z,se,ae,le){for(se=2*se+1;0<Z--;){if(Fo(g,S,D,se,ae))if(MA(g,S,D,le))fa(g,S,D);else{var fe=g,ye=S,Te=D,qe=fe[ye-2*Te],Ge=fe[ye-Te],Me=fe[ye+0],at=fe[ye+Te],nt=fe[ye+2*Te],Ue=27*(lt=Nc[1020+3*(Me-Ge)+Nc[1020+qe-at]])+63>>7,Le=18*lt+63>>7,lt=9*lt+63>>7;fe[ye-3*Te]=Ps[255+fe[ye-3*Te]+lt],fe[ye-2*Te]=Ps[255+qe+Le],fe[ye-Te]=Ps[255+Ge+Ue],fe[ye+0]=Ps[255+Me-Ue],fe[ye+Te]=Ps[255+at-Le],fe[ye+2*Te]=Ps[255+nt-lt]}S+=q}}function ws(g,S,D,q,Z,se,ae,le){for(se=2*se+1;0<Z--;){if(Fo(g,S,D,se,ae))if(MA(g,S,D,le))fa(g,S,D);else{var fe=g,ye=S,Te=D,qe=fe[ye-Te],Ge=fe[ye+0],Me=fe[ye+Te],at=zA[112+((nt=3*(Ge-qe))+4>>3)],nt=zA[112+(nt+3>>3)],Ue=at+1>>1;fe[ye-2*Te]=Ps[255+fe[ye-2*Te]+Ue],fe[ye-Te]=Ps[255+qe+nt],fe[ye+0]=Ps[255+Ge-at],fe[ye+Te]=Ps[255+Me-Ue]}S+=q}}function Yi(g,S,D,q,Z,se){lo(g,S,D,1,16,q,Z,se)}function pa(g,S,D,q,Z,se){lo(g,S,1,D,16,q,Z,se)}function uA(g,S,D,q,Z,se){var ae;for(ae=3;0<ae;--ae)ws(g,S+=4*D,D,1,16,q,Z,se)}function ai(g,S,D,q,Z,se){var ae;for(ae=3;0<ae;--ae)ws(g,S+=4,1,D,16,q,Z,se)}function Ha(g,S,D,q,Z,se,ae,le){lo(g,S,Z,1,8,se,ae,le),lo(D,q,Z,1,8,se,ae,le)}function Qo(g,S,D,q,Z,se,ae,le){lo(g,S,1,Z,8,se,ae,le),lo(D,q,1,Z,8,se,ae,le)}function Ro(g,S,D,q,Z,se,ae,le){ws(g,S+4*Z,Z,1,8,se,ae,le),ws(D,q+4*Z,Z,1,8,se,ae,le)}function co(g,S,D,q,Z,se,ae,le){ws(g,S+4,1,Z,8,se,ae,le),ws(D,q+4,1,Z,8,se,ae,le)}function Lo(){this.ba=new Rr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function dA(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Do(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function uo(){this.ua=0,this.Wa=new Ee,this.vb=new Ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new te,this.yc=new H}function kl(){this.xb=this.a=0,this.l=new ji,this.ca=new Rr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new uo,this.ab=0,this.gc=c(4,Do),this.Oc=0}function Va(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ji,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ho(g,S,D,q,Z,se,ae){for(g=g==null?0:g[S+0],S=0;S<ae;++S)Z[se+S]=g+D[q+S]&255,g=Z[se+S]}function Oo(g,S,D,q,Z,se,ae){var le;if(g==null)ho(null,null,D,q,Z,se,ae);else for(le=0;le<ae;++le)Z[se+le]=g[S+le]+D[q+le]&255}function oi(g,S,D,q,Z,se,ae){if(g==null)ho(null,null,D,q,Z,se,ae);else{var le,fe=g[S+0],ye=fe,Te=fe;for(le=0;le<ae;++le)ye=Te+(fe=g[S+le])-ye,Te=D[q+le]+(-256&ye?0>ye?0:255:ye)&255,ye=fe,Z[se+le]=Te}}function hA(g,S,D,q){var Z=S.width,se=S.o;if(e(g!=null&&S!=null),0>D||0>=q||D+q>se)return null;if(!g.Cc){if(g.ga==null){var ae;if(g.ga=new Va,(ae=g.ga==null)||(ae=S.width*S.o,e(g.Gb.length==0),g.Gb=o(ae),g.Uc=0,g.Gb==null?ae=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,ae=1),ae=!ae),!ae){ae=g.ga;var le=g.Fa,fe=g.P,ye=g.qc,Te=g.mb,qe=g.nb,Ge=fe+1,Me=ye-1,at=ae.l;if(e(le!=null&&Te!=null&&S!=null),qa[0]=null,qa[1]=ho,qa[2]=Oo,qa[3]=oi,ae.ca=Te,ae.tb=qe,ae.c=S.width,ae.i=S.height,e(0<ae.c&&0<ae.i),1>=ye)S=0;else if(ae.$a=le[fe+0]>>0&3,ae.Z=le[fe+0]>>2&3,ae.Lc=le[fe+0]>>4&3,fe=le[fe+0]>>6&3,0>ae.$a||1<ae.$a||4<=ae.Z||1<ae.Lc||fe)S=0;else if(at.put=Lr,at.ac=In,at.bc=Vs,at.ma=ae,at.width=S.width,at.height=S.height,at.Da=S.Da,at.v=S.v,at.va=S.va,at.j=S.j,at.o=S.o,ae.$a)e:{e(ae.$a==1),S=Sr();t:for(;;){if(S==null){S=0;break e}if(e(ae!=null),ae.mc=S,S.c=ae.c,S.i=ae.i,S.l=ae.l,S.l.ma=ae,S.l.width=ae.c,S.l.height=ae.i,S.a=0,be(S.m,le,Ge,Me),!or(ae.c,ae.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&Gs(S.s)?(ae.ic=1,le=S.c*S.i,S.Ta=null,S.Ua=0,S.V=o(le),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(ae.ic=0,S=qi(S,ae.c)),!S))break t;S=1;break e}ae.mc=null,S=0}else S=Me>=ae.c*ae.i;ae=!S}if(ae)return null;g.ga.Lc!=1?g.Ga=0:q=se-D}e(g.ga!=null),e(D+q<=se);e:{if(S=(le=g.ga).c,se=le.l.o,le.$a==0){if(Ge=g.rc,Me=g.Vc,at=g.Fa,fe=g.P+1+D*S,ye=g.mb,Te=g.nb+D*S,e(fe<=g.P+g.qc),le.Z!=0)for(e(qa[le.Z]!=null),ae=0;ae<q;++ae)qa[le.Z](Ge,Me,at,fe,ye,Te,S),Ge=ye,Me=Te,Te+=S,fe+=S;else for(ae=0;ae<q;++ae)r(ye,Te,at,fe,S),Ge=ye,Me=Te,Te+=S,fe+=S;g.rc=Ge,g.Vc=Me}else{if(e(le.mc!=null),S=D+q,e((ae=le.mc)!=null),e(S<=ae.i),ae.C>=S)S=1;else if(le.ic||Pe(),le.ic){le=ae.V,Ge=ae.Ba,Me=ae.c;var nt=ae.i,Ue=(at=1,fe=ae.$/Me,ye=ae.$%Me,Te=ae.m,qe=ae.s,ae.$),Le=Me*nt,lt=Me*S,gt=qe.wc,ut=Ue<lt?Tr(qe,ye,fe):null;e(Ue<=Le),e(S<=nt),e(Gs(qe));t:for(;;){for(;!Te.h&&Ue<lt;){if(ye&gt||(ut=Tr(qe,ye,fe)),e(ut!=null),he(Te),256>(nt=Er(ut.G[0],ut.H[0],Te)))le[Ge+Ue]=nt,++Ue,++ye>=Me&&(ye=0,++fe<=S&&!(fe%16)&&gs(ae,fe));else{if(!(280>nt)){at=0;break t}nt=hr(nt-256,Te);var Gt,Rt=Er(ut.G[4],ut.H[4],Te);if(he(Te),!(Ue>=(Rt=fr(Me,Rt=hr(Rt,Te)))&&Le-Ue>=nt)){at=0;break t}for(Gt=0;Gt<nt;++Gt)le[Ge+Ue+Gt]=le[Ge+Ue+Gt-Rt];for(Ue+=nt,ye+=nt;ye>=Me;)ye-=Me,++fe<=S&&!(fe%16)&&gs(ae,fe);Ue<lt&&ye&gt&&(ut=Tr(qe,ye,fe))}e(Te.h==ce(Te))}gs(ae,fe>S?S:fe);break t}!at||Te.h&&Ue<Le?(at=0,ae.a=Te.h?5:3):ae.$=Ue,S=at}else S=ms(ae,ae.V,ae.Ba,ae.c,ae.i,S,ia);if(!S){q=0;break e}}D+q>=se&&(g.Cc=1),q=1}if(!q)return null;if(g.Cc&&((q=g.ga)!=null&&(q.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+D*Z}function N(g,S,D,q,Z,se){for(;0<Z--;){var ae,le=g,fe=S+(D?1:0),ye=g,Te=S+(D?0:3);for(ae=0;ae<q;++ae){var qe=ye[Te+4*ae];qe!=255&&(qe*=32897,le[fe+4*ae+0]=le[fe+4*ae+0]*qe>>23,le[fe+4*ae+1]=le[fe+4*ae+1]*qe>>23,le[fe+4*ae+2]=le[fe+4*ae+2]*qe>>23)}S+=se}}function ee(g,S,D,q,Z){for(;0<q--;){var se;for(se=0;se<D;++se){var ae=g[S+2*se+0],le=15&(ye=g[S+2*se+1]),fe=4369*le,ye=(240&ye|ye>>4)*fe>>16;g[S+2*se+0]=(240&ae|ae>>4)*fe>>16&240|(15&ae|ae<<4)*fe>>16>>4&15,g[S+2*se+1]=240&ye|le}S+=Z}}function Ce(g,S,D,q,Z,se,ae,le){var fe,ye,Te=255;for(ye=0;ye<Z;++ye){for(fe=0;fe<q;++fe){var qe=g[S+fe];se[ae+4*fe]=qe,Te&=qe}S+=D,ae+=le}return Te!=255}function Ne(g,S,D,q,Z){var se;for(se=0;se<Z;++se)D[q+se]=g[S+se]>>8}function Pe(){Oi=N,Qn=ee,Rn=Ce,Ir=Ne}function it(g,S,D){L[g]=function(q,Z,se,ae,le,fe,ye,Te,qe,Ge,Me,at,nt,Ue,Le,lt,gt){var ut,Gt=gt-1>>1,Rt=le[fe+0]|ye[Te+0]<<16,nn=qe[Ge+0]|Me[at+0]<<16;e(q!=null);var Dt=3*Rt+nn+131074>>2;for(S(q[Z+0],255&Dt,Dt>>16,nt,Ue),se!=null&&(Dt=3*nn+Rt+131074>>2,S(se[ae+0],255&Dt,Dt>>16,Le,lt)),ut=1;ut<=Gt;++ut){var Zn=le[fe+ut]|ye[Te+ut]<<16,lr=qe[Ge+ut]|Me[at+ut]<<16,Un=Rt+Zn+nn+lr+524296,bt=Un+2*(Zn+nn)>>3;Dt=bt+Rt>>1,Rt=(Un=Un+2*(Rt+lr)>>3)+Zn>>1,S(q[Z+2*ut-1],255&Dt,Dt>>16,nt,Ue+(2*ut-1)*D),S(q[Z+2*ut-0],255&Rt,Rt>>16,nt,Ue+(2*ut-0)*D),se!=null&&(Dt=Un+nn>>1,Rt=bt+lr>>1,S(se[ae+2*ut-1],255&Dt,Dt>>16,Le,lt+(2*ut-1)*D),S(se[ae+2*ut+0],255&Rt,Rt>>16,Le,lt+(2*ut+0)*D)),Rt=Zn,nn=lr}1&gt||(Dt=3*Rt+nn+131074>>2,S(q[Z+gt-1],255&Dt,Dt>>16,nt,Ue+(gt-1)*D),se!=null&&(Dt=3*nn+Rt+131074>>2,S(se[ae+gt-1],255&Dt,Dt>>16,Le,lt+(gt-1)*D)))}}function xt(){Ms[ci]=qo,Ms[Kl]=Ji,Ms[bi]=mo,Ms[Tc]=bu,Ms[qA]=Bu,Ms[ya]=zl,Ms[yu]=xu,Ms[Uc]=Ji,Ms[bA]=bu,Ms[Vo]=Bu,Ms[Ko]=zl}function Lt(g){return g&-16384?0>g?0:255:g>>Df}function v(g,S){return Lt((19077*g>>8)+(26149*S>>8)-14234)}function k(g,S,D){return Lt((19077*g>>8)-(6419*S>>8)-(13320*D>>8)+8708)}function W(g,S){return Lt((19077*g>>8)+(33050*S>>8)-17685)}function Ae(g,S,D,q,Z){q[Z+0]=v(g,D),q[Z+1]=k(g,S,D),q[Z+2]=W(g,S)}function Re(g,S,D,q,Z){q[Z+0]=W(g,S),q[Z+1]=k(g,S,D),q[Z+2]=v(g,D)}function Ke(g,S,D,q,Z){var se=k(g,S,D);S=se<<3&224|W(g,S)>>3,q[Z+0]=248&v(g,D)|se>>5,q[Z+1]=S}function ot(g,S,D,q,Z){var se=240&W(g,S)|15;q[Z+0]=240&v(g,D)|k(g,S,D)>>4,q[Z+1]=se}function cn(g,S,D,q,Z){q[Z+0]=255,Ae(g,S,D,q,Z+1)}function Fn(g,S,D,q,Z){Re(g,S,D,q,Z),q[Z+3]=255}function yn(g,S,D,q,Z){Ae(g,S,D,q,Z),q[Z+3]=255}function Kn(g,S){return 0>g?0:g>S?S:g}function On(g,S,D){L[g]=function(q,Z,se,ae,le,fe,ye,Te,qe){for(var Ge=Te+(-2&qe)*D;Te!=Ge;)S(q[Z+0],se[ae+0],le[fe+0],ye,Te),S(q[Z+1],se[ae+0],le[fe+0],ye,Te+D),Z+=2,++ae,++fe,Te+=2*D;1&qe&&S(q[Z+0],se[ae+0],le[fe+0],ye,Te)}}function ga(g,S,D){return D==0?g==0?S==0?6:5:S==0?4:0:D}function gr(g,S,D,q,Z){switch(g>>>30){case 3:Ga(S,D,q,Z,0);break;case 2:ns(S,D,q,Z);break;case 1:cs(S,D,q,Z)}}function $n(g,S){var D,q,Z=S.M,se=S.Nb,ae=g.oc,le=g.pc+40,fe=g.oc,ye=g.pc+584,Te=g.oc,qe=g.pc+600;for(D=0;16>D;++D)ae[le+32*D-1]=129;for(D=0;8>D;++D)fe[ye+32*D-1]=129,Te[qe+32*D-1]=129;for(0<Z?ae[le-1-32]=fe[ye-1-32]=Te[qe-1-32]=129:(i(ae,le-32-1,127,21),i(fe,ye-32-1,127,9),i(Te,qe-32-1,127,9)),q=0;q<g.za;++q){var Ge=S.ya[S.aa+q];if(0<q){for(D=-1;16>D;++D)r(ae,le+32*D-4,ae,le+32*D+12,4);for(D=-1;8>D;++D)r(fe,ye+32*D-4,fe,ye+32*D+4,4),r(Te,qe+32*D-4,Te,qe+32*D+4,4)}var Me=g.Gd,at=g.Hd+q,nt=Ge.ad,Ue=Ge.Hc;if(0<Z&&(r(ae,le-32,Me[at].y,0,16),r(fe,ye-32,Me[at].f,0,8),r(Te,qe-32,Me[at].ea,0,8)),Ge.Za){var Le=ae,lt=le-32+16;for(0<Z&&(q>=g.za-1?i(Le,lt,Me[at].y[15],4):r(Le,lt,Me[at+1].y,0,4)),D=0;4>D;D++)Le[lt+128+D]=Le[lt+256+D]=Le[lt+384+D]=Le[lt+0+D];for(D=0;16>D;++D,Ue<<=2)Le=ae,lt=le+XA[D],Bi[Ge.Ob[D]](Le,lt),gr(Ue,nt,16*+D,Le,lt)}else if(Le=ga(q,Z,Ge.Ob[0]),zo[Le](ae,le),Ue!=0)for(D=0;16>D;++D,Ue<<=2)gr(Ue,nt,16*+D,ae,le+XA[D]);for(D=Ge.Gc,Le=ga(q,Z,Ge.Dd),ui[Le](fe,ye),ui[Le](Te,qe),Ue=nt,Le=fe,lt=ye,255&(Ge=D>>0)&&(170&Ge?Li(Ue,256,Le,lt):Di(Ue,256,Le,lt)),Ge=Te,Ue=qe,255&(D>>=8)&&(170&D?Li(nt,320,Ge,Ue):Di(nt,320,Ge,Ue)),Z<g.Ub-1&&(r(Me[at].y,0,ae,le+480,16),r(Me[at].f,0,fe,ye+224,8),r(Me[at].ea,0,Te,qe+224,8)),D=8*se*g.B,Me=g.sa,at=g.ta+16*q+16*se*g.R,nt=g.qa,Ge=g.ra+8*q+D,Ue=g.Ha,Le=g.Ia+8*q+D,D=0;16>D;++D)r(Me,at+D*g.R,ae,le+32*D,16);for(D=0;8>D;++D)r(nt,Ge+D*g.B,fe,ye+32*D,8),r(Ue,Le+D*g.B,Te,qe+32*D,8)}}function Ka(g,S,D,q,Z,se,ae,le,fe){var ye=[0],Te=[0],qe=0,Ge=fe!=null?fe.kd:0,Me=fe??new dA;if(g==null||12>D)return 7;Me.data=g,Me.w=S,Me.ha=D,S=[S],D=[D],Me.gb=[Me.gb];e:{var at=S,nt=D,Ue=Me.gb;if(e(g!=null),e(nt!=null),e(Ue!=null),Ue[0]=0,12<=nt[0]&&!t(g,at[0],"RIFF")){if(t(g,at[0]+8,"WEBP")){Ue=3;break e}var Le=dt(g,at[0]+4);if(12>Le||4294967286<Le){Ue=3;break e}if(Ge&&Le>nt[0]-8){Ue=7;break e}Ue[0]=Le,at[0]+=12,nt[0]-=12}Ue=0}if(Ue!=0)return Ue;for(Le=0<Me.gb[0],D=D[0];;){e:{var lt=g;nt=S,Ue=D;var gt=ye,ut=Te,Gt=at=[0];if((Dt=qe=[qe])[0]=0,8>Ue[0])Ue=7;else{if(!t(lt,nt[0],"VP8X")){if(dt(lt,nt[0]+4)!=10){Ue=3;break e}if(18>Ue[0]){Ue=7;break e}var Rt=dt(lt,nt[0]+8),nn=1+st(lt,nt[0]+12);if(2147483648<=nn*(lt=1+st(lt,nt[0]+15))){Ue=3;break e}Gt!=null&&(Gt[0]=Rt),gt!=null&&(gt[0]=nn),ut!=null&&(ut[0]=lt),nt[0]+=18,Ue[0]-=18,Dt[0]=1}Ue=0}}if(qe=qe[0],at=at[0],Ue!=0)return Ue;if(nt=!!(2&at),!Le&&qe)return 3;if(se!=null&&(se[0]=!!(16&at)),ae!=null&&(ae[0]=nt),le!=null&&(le[0]=0),ae=ye[0],at=Te[0],qe&&nt&&fe==null){Ue=0;break}if(4>D){Ue=7;break}if(Le&&qe||!Le&&!qe&&!t(g,S[0],"ALPH")){D=[D],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{Rt=g,Ue=S,Le=D;var Dt=Me.gb;gt=Me.na,ut=Me.P,Gt=Me.Sa,nn=22,e(Rt!=null),e(Le!=null),lt=Ue[0];var Zn=Le[0];for(e(gt!=null),e(Gt!=null),gt[0]=null,ut[0]=null,Gt[0]=0;;){if(Ue[0]=lt,Le[0]=Zn,8>Zn){Ue=7;break e}var lr=dt(Rt,lt+4);if(4294967286<lr){Ue=3;break e}var Un=8+lr+1&-2;if(nn+=Un,0<Dt&&nn>Dt){Ue=3;break e}if(!t(Rt,lt,"VP8 ")||!t(Rt,lt,"VP8L")){Ue=0;break e}if(Zn[0]<Un){Ue=7;break e}t(Rt,lt,"ALPH")||(gt[0]=Rt,ut[0]=lt+8,Gt[0]=lr),lt+=Un,Zn-=Un}}if(D=D[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],Ue!=0)break}D=[D],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(Dt=g,Ue=S,Le=D,gt=Me.gb[0],ut=Me.Ja,Gt=Me.xa,Rt=Ue[0],lt=!t(Dt,Rt,"VP8 "),nn=!t(Dt,Rt,"VP8L"),e(Dt!=null),e(Le!=null),e(ut!=null),e(Gt!=null),8>Le[0])Ue=7;else{if(lt||nn){if(Dt=dt(Dt,Rt+4),12<=gt&&Dt>gt-12){Ue=3;break e}if(Ge&&Dt>Le[0]-8){Ue=7;break e}ut[0]=Dt,Ue[0]+=8,Le[0]-=8,Gt[0]=nn}else Gt[0]=5<=Le[0]&&Dt[Rt+0]==47&&!(Dt[Rt+4]>>5),ut[0]=Le[0];Ue=0}if(D=D[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],S=S[0],Ue!=0)break;if(4294967286<Me.Ja)return 3;if(le==null||nt||(le[0]=Me.xa?2:1),ae=[ae],at=[at],Me.xa){if(5>D){Ue=7;break}le=ae,Ge=at,nt=se,g==null||5>D?g=0:5<=D&&g[S+0]==47&&!(g[S+4]>>5)?(Le=[0],Dt=[0],gt=[0],be(ut=new K,g,S,D),Pt(ut,Le,Dt,gt)?(le!=null&&(le[0]=Le[0]),Ge!=null&&(Ge[0]=Dt[0]),nt!=null&&(nt[0]=gt[0]),g=1):g=0):g=0}else{if(10>D){Ue=7;break}le=at,g==null||10>D||!Rs(g,S+3,D-3)?g=0:(Ge=g[S+0]|g[S+1]<<8|g[S+2]<<16,nt=16383&(g[S+7]<<8|g[S+6]),g=16383&(g[S+9]<<8|g[S+8]),1&Ge||3<(Ge>>1&7)||!(Ge>>4&1)||Ge>>5>=Me.Ja||!nt||!g?g=0:(ae&&(ae[0]=nt),le&&(le[0]=g),g=1))}if(!g||(ae=ae[0],at=at[0],qe&&(ye[0]!=ae||Te[0]!=at)))return 3;fe!=null&&(fe[0]=Me,fe.offset=S-fe.w,e(4294967286>S-fe.w),e(fe.offset==fe.ha-D));break}return Ue==0||Ue==7&&qe&&fe==null?(se!=null&&(se[0]|=Me.na!=null&&0<Me.na.length),q!=null&&(q[0]=ae),Z!=null&&(Z[0]=at),0):Ue}function Or(g,S,D){var q=S.width,Z=S.height,se=0,ae=0,le=q,fe=Z;if(S.Da=g!=null&&0<g.Da,S.Da&&(le=g.cd,fe=g.bd,se=g.v,ae=g.j,11>D||(se&=-2,ae&=-2),0>se||0>ae||0>=le||0>=fe||se+le>q||ae+fe>Z))return 0;if(S.v=se,S.j=ae,S.va=se+le,S.o=ae+fe,S.U=le,S.T=fe,S.da=g!=null&&0<g.da,S.da){if(!Ht(le,fe,D=[g.ib],se=[g.hb]))return 0;S.ib=D[0],S.hb=se[0]}return S.ob=g!=null&&g.ob,S.Kb=g==null||!g.Sd,S.da&&(S.ob=S.ib<3*q/4&&S.hb<3*Z/4,S.Kb=0),1}function fA(g){if(g==null)return 2;if(11>g.S){var S=g.f.RGBA;S.fb+=(g.height-1)*S.A,S.A=-S.A}else S=g.f.kb,g=g.height,S.O+=(g-1)*S.fa,S.fa=-S.fa,S.N+=(g-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(g-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(g-1)*S.lb,S.lb=-S.lb);return 0}function Qi(g,S,D,q){if(q==null||0>=g||0>=S)return 2;if(D!=null){if(D.Da){var Z=D.cd,se=D.bd,ae=-2&D.v,le=-2&D.j;if(0>ae||0>le||0>=Z||0>=se||ae+Z>g||le+se>S)return 2;g=Z,S=se}if(D.da){if(!Ht(g,S,Z=[D.ib],se=[D.hb]))return 2;g=Z[0],S=se[0]}}q.width=g,q.height=S;e:{var fe=q.width,ye=q.height;if(g=q.S,0>=fe||0>=ye||!(g>=ci&&13>g))g=2;else{if(0>=q.Rd&&q.sd==null){ae=se=Z=S=0;var Te=(le=fe*Fh[g])*ye;if(11>g||(se=(ye+1)/2*(S=(fe+1)/2),g==12&&(ae=(Z=fe)*ye)),(ye=o(Te+2*se+ae))==null){g=1;break e}q.sd=ye,11>g?((fe=q.f.RGBA).eb=ye,fe.fb=0,fe.A=le,fe.size=Te):((fe=q.f.kb).y=ye,fe.O=0,fe.fa=le,fe.Fd=Te,fe.f=ye,fe.N=0+Te,fe.Ab=S,fe.Cd=se,fe.ea=ye,fe.W=0+Te+se,fe.Db=S,fe.Ed=se,g==12&&(fe.F=ye,fe.J=0+Te+2*se),fe.Tc=ae,fe.lb=Z)}if(S=1,Z=q.S,se=q.width,ae=q.height,Z>=ci&&13>Z)if(11>Z)g=q.f.RGBA,S&=(le=Math.abs(g.A))*(ae-1)+se<=g.size,S&=le>=se*Fh[Z],S&=g.eb!=null;else{g=q.f.kb,le=(se+1)/2,Te=(ae+1)/2,fe=Math.abs(g.fa),ye=Math.abs(g.Ab);var qe=Math.abs(g.Db),Ge=Math.abs(g.lb),Me=Ge*(ae-1)+se;S&=fe*(ae-1)+se<=g.Fd,S&=ye*(Te-1)+le<=g.Cd,S=(S&=qe*(Te-1)+le<=g.Ed)&fe>=se&ye>=le&qe>=le,S&=g.y!=null,S&=g.f!=null,S&=g.ea!=null,Z==12&&(S&=Ge>=se,S&=Me<=g.Tc,S&=g.F!=null)}else S=0;g=S?0:2}}return g!=0||D!=null&&D.fd&&(g=fA(q)),g}var zr=64,Wn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],pA=24,gA=32,kA=8,vi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Oe("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(g){return g},L.Predictor2=function(g,S,D){return S[D+0]},L.Predictor3=function(g,S,D){return S[D+1]},L.Predictor4=function(g,S,D){return S[D-1]},L.Predictor5=function(g,S,D){return Je(Je(g,S[D+1]),S[D+0])},L.Predictor6=function(g,S,D){return Je(g,S[D-1])},L.Predictor7=function(g,S,D){return Je(g,S[D+0])},L.Predictor8=function(g,S,D){return Je(S[D-1],S[D+0])},L.Predictor9=function(g,S,D){return Je(S[D+0],S[D+1])},L.Predictor10=function(g,S,D){return Je(Je(g,S[D-1]),Je(S[D+0],S[D+1]))},L.Predictor11=function(g,S,D){var q=S[D+0];return 0>=Nt(q>>24&255,g>>24&255,(S=S[D-1])>>24&255)+Nt(q>>16&255,g>>16&255,S>>16&255)+Nt(q>>8&255,g>>8&255,S>>8&255)+Nt(255&q,255&g,255&S)?q:g},L.Predictor12=function(g,S,D){var q=S[D+0];return(pt((g>>24&255)+(q>>24&255)-((S=S[D-1])>>24&255))<<24|pt((g>>16&255)+(q>>16&255)-(S>>16&255))<<16|pt((g>>8&255)+(q>>8&255)-(S>>8&255))<<8|pt((255&g)+(255&q)-(255&S)))>>>0},L.Predictor13=function(g,S,D){var q=S[D-1];return(_t((g=Je(g,S[D+0]))>>24&255,q>>24&255)<<24|_t(g>>16&255,q>>16&255)<<16|_t(g>>8&255,q>>8&255)<<8|_t(g>>0&255,q>>0&255))>>>0};var Hl=L.PredictorAdd0;L.PredictorAdd1=It,Oe("Predictor2","PredictorAdd2"),Oe("Predictor3","PredictorAdd3"),Oe("Predictor4","PredictorAdd4"),Oe("Predictor5","PredictorAdd5"),Oe("Predictor6","PredictorAdd6"),Oe("Predictor7","PredictorAdd7"),Oe("Predictor8","PredictorAdd8"),Oe("Predictor9","PredictorAdd9"),Oe("Predictor10","PredictorAdd10"),Oe("Predictor11","PredictorAdd11"),Oe("Predictor12","PredictorAdd12"),Oe("Predictor13","PredictorAdd13");var Vl=L.PredictorAdd2;ke("ColorIndexInverseTransform","MapARGB","32b",(function(g){return g>>8&255}),(function(g){return g})),ke("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(g){return g}),(function(g){return g>>8&255}));var jc,qr=L.ColorIndexInverseTransform,Ur=L.MapARGB,yi=L.VP8LColorIndexInverseTransformAlpha,ts=L.MapAlpha,Ai=L.VP8LPredictorsAdd=[];Ai.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Po,li,Ss,Mo,Ri,wi,Os,Ga,ns,Li,cs,Di,HA,bs,VA,mA,vA,za,KA,GA,ko,fo,yA,$r,Oi,Qn,Rn,Ir,Pr=o(511),ma=o(2041),wA=o(225),po=o(767),Ho=0,Nc=ma,zA=wA,Ps=po,va=Pr,ci=0,Kl=1,bi=2,Tc=3,qA=4,ya=5,yu=6,Uc=7,bA=8,Vo=9,Ko=10,wu=[2,3,7],wa=[3,3,11],Xi=[280,256,256,256,40],$A=[0,1,1,1,0],ba=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Go=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],WA=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],jh=8,Fc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],BA=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_s=null,rs=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ar=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],xA=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],go=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Sd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],YA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Nh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],zo=[],Bi=[],ui=[],Th=1,Gl=2,qa=[],Ms=[];it("UpsampleRgbLinePair",Ae,3),it("UpsampleBgrLinePair",Re,3),it("UpsampleRgbaLinePair",yn,4),it("UpsampleBgraLinePair",Fn,4),it("UpsampleArgbLinePair",cn,4),it("UpsampleRgba4444LinePair",ot,2),it("UpsampleRgb565LinePair",Ke,2);var qo=L.UpsampleRgbLinePair,mo=L.UpsampleBgrLinePair,Ji=L.UpsampleRgbaLinePair,bu=L.UpsampleBgraLinePair,Bu=L.UpsampleArgbLinePair,zl=L.UpsampleRgba4444LinePair,xu=L.UpsampleRgb565LinePair,vo=16,Is=1<<vo-1,$a=-227,Cu=482,Df=6,Uh=0,Of=o(256),js=o(256),_d=o(256),Qc=o(256),Rc=o(Cu-$a),Id=o(Cu-$a);On("YuvToRgbRow",Ae,3),On("YuvToBgrRow",Re,3),On("YuvToRgbaRow",yn,4),On("YuvToBgraRow",Fn,4),On("YuvToArgbRow",cn,4),On("YuvToRgba4444Row",ot,2),On("YuvToRgb565Row",Ke,2);var XA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$o=[0,2,8],Pf=[8,7,6,4,4,2,2,2,1,1,1,1],jd=1;this.WebPDecodeRGBA=function(g,S,D,q,Z){var se=Kl,ae=new Lo,le=new Rr;ae.ba=le,le.S=se,le.width=[le.width],le.height=[le.height];var fe=le.width,ye=le.height,Te=new on;if(Te==null||g==null)var qe=2;else e(Te!=null),qe=Ka(g,S,D,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if(qe!=0?fe=0:(fe!=null&&(fe[0]=Te.width[0]),ye!=null&&(ye[0]=Te.height[0]),fe=1),fe){le.width=le.width[0],le.height=le.height[0],q!=null&&(q[0]=le.width),Z!=null&&(Z[0]=le.height);e:{if(q=new ji,(Z=new dA).data=g,Z.w=S,Z.ha=D,Z.kd=1,S=[0],e(Z!=null),((g=Ka(Z.data,Z.w,Z.ha,null,null,null,S,null,Z))==0||g==7)&&S[0]&&(g=4),(S=g)==0){if(e(ae!=null),q.data=Z.data,q.w=Z.w+Z.offset,q.ha=Z.ha-Z.offset,q.put=Lr,q.ac=In,q.bc=Vs,q.ma=ae,Z.xa){if((g=Sr())==null){ae=1;break e}if((function(Ge,Me){var at=[0],nt=[0],Ue=[0];t:for(;;){if(Ge==null)return 0;if(Me==null)return Ge.a=2,0;if(Ge.l=Me,Ge.a=0,be(Ge.m,Me.data,Me.w,Me.ha),!Pt(Ge.m,at,nt,Ue)){Ge.a=3;break t}if(Ge.xb=Gl,Me.width=at[0],Me.height=nt[0],!or(at[0],nt[0],1,Ge,null))break t;return 1}return e(Ge.a!=0),0})(g,q)){if(q=(S=Qi(q.width,q.height,ae.Oa,ae.ba))==0){t:{q=g;n:for(;;){if(q==null){q=0;break t}if(e(q.s.yc!=null),e(q.s.Ya!=null),e(0<q.s.Wb),e((D=q.l)!=null),e((Z=D.ma)!=null),q.xb!=0){if(q.ca=Z.ba,q.tb=Z.tb,e(q.ca!=null),!Or(Z.Oa,D,Tc)){q.a=2;break n}if(!qi(q,D.width)||D.da)break n;if((D.da||un(q.ca.S))&&Pe(),11>q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),q.ca.f.kb.F!=null&&Pe()),q.Pb&&0<q.s.ua&&q.s.vb.X==null&&!Mt(q.s.vb,q.s.Wa.Xa)){q.a=1;break n}q.xb=0}if(!ms(q,q.V,q.Ba,q.c,q.i,D.o,Ks))break n;Z.Dc=q.Ma,q=1;break t}e(q.a!=0),q=0}q=!q}q&&(S=g.a)}else S=g.a}else{if((g=new La)==null){ae=1;break e}if(g.Fa=Z.na,g.P=Z.P,g.qc=Z.Sa,AA(g,q)){if((S=Qi(q.width,q.height,ae.Oa,ae.ba))==0){if(g.Aa=0,D=ae.Oa,e((Z=g)!=null),D!=null){if(0<(fe=0>(fe=D.Md)?0:100<fe?255:255*fe/100)){for(ye=Te=0;4>ye;++ye)12>(qe=Z.pb[ye]).lc&&(qe.ia=fe*Pf[0>qe.lc?0:qe.lc]>>3),Te|=qe.ia;Te&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=D.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}Da(g,q)||(S=g.a)}}else S=g.a}S==0&&ae.Oa!=null&&ae.Oa.fd&&(S=fA(ae.ba))}ae=S}se=ae!=0?null:11>se?le.f.RGBA.eb:le.f.kb.y}else se=null;return se};var Fh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(L,G){for(var X="",P=0;P<4;P++)X+=String.fromCharCode(L[G++]);return X}function h(L,G){return(L[G+0]<<0|L[G+1]<<8|L[G+2]<<16)>>>0}function b(L,G){return(L[G+0]<<0|L[G+1]<<8|L[G+2]<<16|L[G+3]<<24)>>>0}new u;var x=[0],w=[0],R=[],F=new u,Q=n,I=(function(L,G){var X={},P=0,H=!1,V=0,te=0;if(X.frames=[],!(function(ne,ce,Be,he){for(var xe=0;xe<he;xe++)if(ne[ce+xe]!=Be.charCodeAt(xe))return!0;return!1})(L,G,"RIFF",4)){for(b(L,G+=4),G+=8;G<L.length;){var ge=p(L,G),oe=b(L,G+=4);G+=4;var we=oe+(1&oe);switch(ge){case"VP8 ":case"VP8L":X.frames[P]===void 0&&(X.frames[P]={}),(re=X.frames[P]).src_off=H?te:G-8,re.src_size=V+oe+8,P++,H&&(H=!1,V=0,te=0);break;case"VP8X":(re=X.header={}).feature_flags=L[G];var be=G+4;re.canvas_width=1+h(L,be),be+=3,re.canvas_height=1+h(L,be),be+=3;break;case"ALPH":H=!0,V=we+8,te=G-8;break;case"ANIM":(re=X.header).bgcolor=b(L,G),be=G+4,re.loop_count=(de=L)[(K=be)+0]<<0|de[K+1]<<8,be+=2;break;case"ANMF":var je,re;(re=X.frames[P]={}).offset_x=2*h(L,G),G+=3,re.offset_y=2*h(L,G),G+=3,re.width=1+h(L,G),G+=3,re.height=1+h(L,G),G+=3,re.duration=h(L,G),G+=3,je=L[G++],re.dispose=1&je,re.blend=je>>1&1}ge!="ANMF"&&(G+=we)}var de,K;return X}})(Q,0);I.response=Q,I.rgbaoutput=!0,I.dataurl=!1;var T=I.header?I.header:null,_=I.frames?I.frames:null;if(T){T.loop_counter=T.loop_count,x=[T.canvas_height],w=[T.canvas_width];for(var O=0;O<_.length&&_[O].blend!=0;O++);}var z=_[0],$=F.WebPDecodeRGBA(Q,z.src_off,z.src_size,w,x);z.rgba=$,z.imgwidth=w[0],z.imgheight=x[0];for(var U=0;U<w[0]*x[0]*4;U++)R[U]=$[U];return this.width=w,this.height=x,this.data=R,this}(function(n){var e=function(){return typeof Ry=="function"},t=function(x,w,R,F){var Q=4,I=c;switch(F){case n.image_compression.FAST:Q=1,I=o;break;case n.image_compression.MEDIUM:Q=6,I=d;break;case n.image_compression.SLOW:Q=9,I=u}x=r(x,w,R,I);var T=Ry(x,{level:Q});return n.__addimage__.arrayBufferToBinaryString(T)},r=function(x,w,R,F){for(var Q,I,T,_=x.length/w,O=new Uint8Array(x.length+_),z=h(),$=0;$<_;$+=1){if(T=$*w,Q=x.subarray(T,T+w),F)O.set(F(Q,R,I),T+$);else{for(var U,L=z.length,G=[];U<L;U+=1)G[U]=z[U](Q,R,I);var X=b(G.concat());O.set(G[X],T+$)}I=Q}return O},i=function(x){var w=Array.apply([],x);return w.unshift(0),w},o=function(x,w){var R,F=[],Q=x.length;F[0]=1;for(var I=0;I<Q;I+=1)R=x[I-w]||0,F[I+1]=x[I]-R+256&255;return F},c=function(x,w,R){var F,Q=[],I=x.length;Q[0]=2;for(var T=0;T<I;T+=1)F=R&&R[T]||0,Q[T+1]=x[T]-F+256&255;return Q},d=function(x,w,R){var F,Q,I=[],T=x.length;I[0]=3;for(var _=0;_<T;_+=1)F=x[_-w]||0,Q=R&&R[_]||0,I[_+1]=x[_]+256-(F+Q>>>1)&255;return I},u=function(x,w,R){var F,Q,I,T,_=[],O=x.length;_[0]=4;for(var z=0;z<O;z+=1)F=x[z-w]||0,Q=R&&R[z]||0,I=R&&R[z-w]||0,T=p(F,Q,I),_[z+1]=x[z]-T+256&255;return _},p=function(x,w,R){if(x===w&&w===R)return x;var F=Math.abs(w-R),Q=Math.abs(x-R),I=Math.abs(x+w-R-R);return F<=Q&&F<=I?x:Q<=I?w:R},h=function(){return[i,o,c,d,u]},b=function(x){var w=x.map((function(R){return R.reduce((function(F,Q){return F+Math.abs(Q)}),0)}));return w.indexOf(Math.min.apply(null,w))};n.processPNG=function(x,w,R,F){var Q,I,T,_,O,z,$,U,L,G,X,P,H,V,te,ge=this.decode.FLATE_DECODE,oe="";if(this.__addimage__.isArrayBuffer(x)&&(x=new Uint8Array(x)),this.__addimage__.isArrayBufferView(x)){if(x=(T=new e6(x)).imgData,I=T.bits,Q=T.colorSpace,O=T.colors,[4,6].indexOf(T.colorType)!==-1){if(T.bits===8){L=(U=T.pixelBitlength==32?new Uint32Array(T.decodePixels().buffer):T.pixelBitlength==16?new Uint16Array(T.decodePixels().buffer):new Uint8Array(T.decodePixels().buffer)).length,X=new Uint8Array(L*T.colors),G=new Uint8Array(L);var we,be=T.pixelBitlength-T.bits;for(V=0,te=0;V<L;V++){for(H=U[V],we=0;we<be;)X[te++]=H>>>we&255,we+=T.bits;G[V]=H>>>we&255}}if(T.bits===16){L=(U=new Uint32Array(T.decodePixels().buffer)).length,X=new Uint8Array(L*(32/T.pixelBitlength)*T.colors),G=new Uint8Array(L*(32/T.pixelBitlength)),P=T.colors>1,V=0,te=0;for(var je=0;V<L;)H=U[V++],X[te++]=H>>>0&255,P&&(X[te++]=H>>>16&255,H=U[V++],X[te++]=H>>>0&255),G[je++]=H>>>16&255;I=8}F!==n.image_compression.NONE&&e()?(x=t(X,T.width*T.colors,T.colors,F),$=t(G,T.width,1,F)):(x=X,$=G,ge=void 0)}if(T.colorType===3&&(Q=this.color_spaces.INDEXED,z=T.palette,T.transparency.indexed)){var re=T.transparency.indexed,de=0;for(V=0,L=re.length;V<L;++V)de+=re[V];if((de/=255)===L-1&&re.indexOf(0)!==-1)_=[re.indexOf(0)];else if(de!==L){for(U=T.decodePixels(),G=new Uint8Array(U.length),V=0,L=U.length;V<L;V++)G[V]=re[U[V]];$=t(G,T.width,1)}}var K=(function(ne){var ce;switch(ne){case n.image_compression.FAST:ce=11;break;case n.image_compression.MEDIUM:ce=13;break;case n.image_compression.SLOW:ce=14;break;default:ce=12}return ce})(F);return ge===this.decode.FLATE_DECODE&&(oe="/Predictor "+K+" "),oe+="/Colors "+O+" /BitsPerComponent "+I+" /Columns "+T.width,(this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),($&&this.__addimage__.isArrayBuffer($)||this.__addimage__.isArrayBufferView($))&&($=this.__addimage__.arrayBufferToBinaryString($)),{alias:R,data:x,index:w,filter:ge,decodeParameters:oe,transparency:_,palette:z,sMask:$,predictor:K,width:T.width,height:T.height,bitsPerComponent:I,colorSpace:Q}}}})(pn.API),(function(n){n.processGIF89A=function(e,t,r,i){var o=new t6(e),c=o.width,d=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var p={data:u,width:c,height:d},h=new Zv(100).encode(p,100);return n.processJPEG.call(this,h,t,r,i)},n.processGIF87A=n.processGIF89A})(pn.API),xl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xl.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Jr.log("bit decode error:"+t)}},xl.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+8*i*4,d=0;d<8&&8*i+d<this.width;d++){var u=this.palette[o>>7-d&1];this.data[c+4*d]=u.blue,this.data[c+4*d+1]=u.green,this.data[c+4*d+2]=u.red,this.data[c+4*d+3]=255}t!==0&&(this.pos+=4-t)}},xl.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+2*i*4,d=o>>4,u=15&o,p=this.palette[d];if(this.data[c]=p.blue,this.data[c+1]=p.green,this.data[c+2]=p.red,this.data[c+3]=255,2*i+1>=this.width)break;p=this.palette[u],this.data[c+4]=p.blue,this.data[c+4+1]=p.green,this.data[c+4+2]=p.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},xl.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(i<this.palette.length){var c=this.palette[i];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},xl.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,d=(o>>5&e)/e*255|0,u=(o>>10&e)/e*255|0,p=o>>15?255:0,h=r*this.width*4+4*i;this.data[h]=u,this.data[h+1]=d,this.data[h+2]=c,this.data[h+3]=p}this.pos+=n}},xl.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&e)/e*255|0,u=(c>>5&t)/t*255|0,p=(c>>11)/e*255|0,h=i*this.width*4+4*o;this.data[h]=p,this.data[h+1]=u,this.data[h+2]=d,this.data[h+3]=255}this.pos+=n}},xl.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=i,this.data[c+2]=r,this.data[c+3]=255}this.pos+=this.width%4}},xl.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*t;this.data[d]=o,this.data[d+1]=i,this.data[d+2]=r,this.data[d+3]=c}},xl.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var o=new xl(e,!1),c=o.width,d=o.height,u={data:o.getData(),width:c,height:d},p=new Zv(100).encode(u,100);return n.processJPEG.call(this,p,t,r,i)}})(pn.API),dB.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var o=new dB(e),c=o.width,d=o.height,u={data:o.getData(),width:c,height:d},p=new Zv(100).encode(u,100);return n.processJPEG.call(this,p,t,r,i)}})(pn.API),pn.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,o=new Uint8Array(i/4*3),c=new Uint8Array(i/4),d=0,u=0,p=0;p<i;p+=4){var h=r[p],b=r[p+1],x=r[p+2],w=r[p+3];o[d++]=h,o[d++]=b,o[d++]=x,c[u++]=w}var R=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:R,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},pn.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},of=pn.API,vm=of.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),d=e.widths?e.widths:i.metadata.Unicode.widths,u=d.fof?d.fof:1,p=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=p.fof?p.fof:1,b=e.doKerning!==!1,x=0,w=n.length,R=0,F=d[0]||u,Q=[];for(t=0;t<w;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?Q.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+c*(1e3/o)||0)/1e3):(x=b&&Qr(p[r])==="object"&&!isNaN(parseInt(p[r][R],10))?p[r][R]/h:0,Q.push((d[r]||F)/u+x)),R=r;return Q},AB=of.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return of.processArabic&&(n=of.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:vm.apply(this,arguments).reduce((function(o,c){return o+c}),0)},lB=function(n,e,t,r){for(var i=[],o=0,c=n.length,d=0;o!==c&&d+e[o]<t;)d+=e[o],o++;i.push(n.slice(0,o));var u=o;for(d=0;o!==c;)d+e[o]>r&&(i.push(n.slice(u,o)),d=0,u=o),d+=e[o],o++;return u!==o&&i.push(n.slice(u,o)),i},cB=function(n,e,t){t||(t={});var r,i,o,c,d,u,p,h=[],b=[h],x=t.textIndent||0,w=0,R=0,F=n.split(" "),Q=vm.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?F[0].length+2:t.lineIndent||0){var I=Array(u).join(" "),T=[];F.map((function(O){(O=O.split(/\s*\n/)).length>1?T=T.concat(O.map((function(z,$){return($&&z.length?`
`:"")+z}))):T.push(O[0])})),F=T,u=AB.apply(this,[I,t])}for(o=0,c=F.length;o<c;o++){var _=0;if(r=F[o],u&&r[0]==`
`&&(r=r.substr(1),_=1),x+w+(R=(i=vm.apply(this,[r,t])).reduce((function(O,z){return O+z}),0))>e||_){if(R>e){for(d=lB.apply(this,[r,i,e-(x+w),e]),h.push(d.shift()),h=[d.pop()];d.length;)b.push([d.shift()]);R=i.slice(r.length-(h[0]?h[0].length:0)).reduce((function(O,z){return O+z}),0)}else h=[r];b.push(h),x=R+u,w=Q}else h.push(r),x+=w+R,w=Q}return p=u?function(O,z){return(z?I:"")+O.join(" ")}:function(O){return O.join(" ")},b.map(p)},of.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var b=this.internal.getFont(h.fontName,h.fontStyle);return b.metadata.Unicode?{widths:b.metadata.Unicode.widths||{0:1},kerning:b.metadata.Unicode.kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/i;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=t.lineIndent;var d,u,p=[];for(d=0,u=r.length;d<u;d++)p=p.concat(cB.apply(this,[r[d],c,o]));return p},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var o=function(b){return"0x"+parseInt(b,10).toString(16)},c=n.__fontmetrics__.compress=function(b){var x,w,R,F,Q=["{"];for(var I in b){if(x=b[I],isNaN(parseInt(I,10))?w="'"+I+"'":(I=parseInt(I,10),w=(w=o(I).slice(2)).slice(0,-1)+r[w.slice(-1)]),typeof x=="number")x<0?(R=o(x).slice(3),F="-"):(R=o(x).slice(2),F=""),R=F+R.slice(0,-1)+r[R.slice(-1)];else{if(Qr(x)!=="object")throw new Error("Don't know what to do with value type "+Qr(x)+".");R=c(x)}Q.push(w+R)}return Q.push("}"),Q.join("")},d=n.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,w,R,F,Q={},I=1,T=Q,_=[],O="",z="",$=b.length-1,U=1;U<$;U+=1)(F=b[U])=="'"?x?(R=x.join(""),x=void 0):x=[]:x?x.push(F):F=="{"?(_.push([T,R]),T={},R=void 0):F=="}"?((w=_.pop())[0][w[1]]=T,R=void 0,T=w[0]):F=="-"?I=-1:R===void 0?t.hasOwnProperty(F)?(O+=t[F],R=parseInt(O,16)*I,I=1,O=""):O+=F:t.hasOwnProperty(F)?(z+=t[F],T[R]=parseInt(z,16)*I,I=1,R=void 0,z=""):z+=F;return Q},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(b){var x=b.font,w=h.Unicode[x.postScriptName];w&&(x.metadata.Unicode={},x.metadata.Unicode.widths=w.widths,x.metadata.Unicode.kerning=w.kerning);var R=p.Unicode[x.postScriptName];R&&(x.metadata.Unicode.encoding=R,x.encoding=R.codePages[0])}])})(pn.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=t.charCodeAt(o);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,o=t.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(c,d){d=/^\x00\x01\x00\x00/.test(d)?e(d):e(Hp(d)),c.metadata=n.API.TTFFont.open(d),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(i,r)}}])})(pn),(function(n){function e(){return(bn.canvg?Promise.resolve(bn.canvg):gh(()=>import("./index.es-D0AqmQ6L.js"),[])).catch((function(t){return Promise.reject(new Error("Could not load canvg: "+t))})).then((function(t){return t.default?t.default:t}))}pn.API.addSvgAsImage=function(t,r,i,o,c,d,u,p){if(isNaN(r)||isNaN(i))throw Jr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(c))throw Jr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=o,h.height=c;var b=h.getContext("2d");b.fillStyle="#fff",b.fillRect(0,0,h.width,h.height);var x={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return e().then((function(R){return R.fromString(b,t,x)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(R){return R.render(x)})).then((function(){w.addImage(h.toDataURL("image/jpeg",1),r,i,o,c,u,p)}))}})(),pn.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},pn.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(c),u=[],p=0,h=0,b=0;function x(R,F){var Q,I=!1;for(Q=0;Q<R.length;Q+=1)R[Q]===F&&(I=!0);return I}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var w=d.length;for(b=0;b<w;b+=1)t[d[b]].value=t[d[b]].defaultValue,t[d[b]].explicitSet=!1}if(Qr(n)==="object"){for(i in n)if(o=n[i],x(d,i)&&o!==void 0){if(t[i].type==="boolean"&&typeof o=="boolean")t[i].value=o;else if(t[i].type==="name"&&x(t[i].valueSet,o))t[i].value=o;else if(t[i].type==="integer"&&Number.isInteger(o))t[i].value=o;else if(t[i].type==="array"){for(p=0;p<o.length;p+=1)if(r=!0,o[p].length===1&&typeof o[p][0]=="number")u.push(String(o[p]-1));else if(o[p].length>1){for(h=0;h<o[p].length;h+=1)typeof o[p][h]!="number"&&(r=!1);r===!0&&u.push([o[p][0]-1,o[p][1]-1].join(" "))}t[i].value="["+u.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var R,F=[];for(R in t)t[R].explicitSet===!0&&(t[R].type==="name"?F.push("/"+R+" /"+t[R].value):F.push("/"+R+" "+t[R].value));F.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+F.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),p=o.length+c.length+d.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(i+o+c+d+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(pn.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,c){for(var d,u=c.metadata.Unicode.widths,p=["","0","00","000","0000"],h=[""],b=0,x=o.length;b<x;++b){if(d=c.metadata.characterToGlyph(o.charCodeAt(b)),c.metadata.glyIdsUsed.push(d),c.metadata.toUnicode[d]=o.charCodeAt(b),u.indexOf(d)==-1&&(u.push(d),u.push([parseInt(c.metadata.widthOfGlyph(d),10)])),d=="0")return h.join("");d=d.toString(16),h.push(p[4-d.length],d)}return h.join("")},r=function(o){var c,d,u,p,h,b,x;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],b=0,x=(d=Object.keys(o).sort((function(w,R){return w-R}))).length;b<x;b++)c=d[b],u.length>=100&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(p=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),u.push("<"+c+"><"+p+">"));return u.length&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var d=c.font,u=c.out,p=c.newObject,h=c.putStream;if(d.metadata instanceof n.API.TTFFont&&d.encoding==="Identity-H"){for(var b=d.metadata.Unicode.widths,x=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),w="",R=0;R<x.length;R++)w+=String.fromCharCode(x[R]);var F=p();h({data:w,addLength1:!0,objectId:F}),u("endobj");var Q=p();h({data:r(d.metadata.toUnicode),addLength1:!0,objectId:Q}),u("endobj");var I=p();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+hf(d.fontName)),u("/FontFile2 "+F+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(d.metadata.bbox)),u("/Flags "+d.metadata.flags),u("/StemV "+d.metadata.stemV),u("/ItalicAngle "+d.metadata.italicAngle),u("/Ascent "+d.metadata.ascender),u("/Descent "+d.metadata.decender),u("/CapHeight "+d.metadata.capHeight),u(">>"),u("endobj");var T=p();u("<<"),u("/Type /Font"),u("/BaseFont /"+hf(d.fontName)),u("/FontDescriptor "+I+" 0 R"),u("/W "+n.API.PDFObject.convert(b)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+d.encoding+")"),u(">>"),u(">>"),u("endobj"),d.objectNumber=p(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+Q+" 0 R"),u("/BaseFont /"+hf(d.fontName)),u("/Encoding /"+d.encoding),u("/DescendantFonts ["+T+" 0 R]"),u(">>"),u("endobj"),d.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var d=c.font,u=c.out,p=c.newObject,h=c.putStream;if(d.metadata instanceof n.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var b=d.metadata.rawData,x="",w=0;w<b.length;w++)x+=String.fromCharCode(b[w]);var R=p();h({data:x,addLength1:!0,objectId:R}),u("endobj");var F=p();h({data:r(d.metadata.toUnicode),addLength1:!0,objectId:F}),u("endobj");var Q=p();u("<<"),u("/Descent "+d.metadata.decender),u("/CapHeight "+d.metadata.capHeight),u("/StemV "+d.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+R+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(d.metadata.bbox)),u("/FontName /"+hf(d.fontName)),u("/ItalicAngle "+d.metadata.italicAngle),u("/Ascent "+d.metadata.ascender),u(">>"),u("endobj"),d.objectNumber=p();for(var I=0;I<d.metadata.hmtx.widths.length;I++)d.metadata.hmtx.widths[I]=parseInt(d.metadata.hmtx.widths[I]*(1e3/d.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+F+" 0 R/BaseFont/"+hf(d.fontName)+"/FontDescriptor "+Q+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),u("endobj"),d.isAlreadyPutted=!0}})(o)}]);var i=function(o){var c,d=o.text||"",u=o.x,p=o.y,h=o.options||{},b=o.mutex||{},x=b.pdfEscape,w=b.activeFontKey,R=b.fonts,F=w,Q="",I=0,T="",_=R[F].encoding;if(R[F].encoding!=="Identity-H")return{text:d,x:u,y:p,options:h,mutex:b};for(T=d,F=w,Array.isArray(d)&&(T=d[0]),I=0;I<T.length;I+=1)R[F].metadata.hasOwnProperty("cmap")&&(c=R[F].metadata.cmap.unicode.codeMap[T[I].charCodeAt(0)]),c||T[I].charCodeAt(0)<256&&R[F].metadata.hasOwnProperty("Unicode")?Q+=T[I]:Q+="";var O="";return parseInt(F.slice(1))<14||_==="WinAnsiEncoding"?O=x(Q,F).split("").map((function(z){return z.charCodeAt(0).toString(16)})).join(""):_==="Identity-H"&&(O=t(Q,R[F])),b.isHex=!0,{text:O,x:u,y:p,options:h,mutex:b}};e.events.push(["postProcessText",function(o){var c=o.text||"",d=[],u={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var p=0;for(p=0;p<c.length;p+=1)Array.isArray(c[p])&&c[p].length===3?d.push([i(Object.assign({},u,{text:c[p][0]})).text,c[p][1],c[p][2]]):d.push(i(Object.assign({},u,{text:c[p]})).text);o.text=d}else o.text=i(Object.assign({},u,{text:c})).text}])})(pn),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(pn.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,o,c,d,u,p,h,b=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],R={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},F={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Q=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),T=!1,_=0;this.__bidiEngine__={};var O=function(P){var H=P.charCodeAt(),V=H>>8,te=F[V];return te!==void 0?b[256*te+(255&H)]:V===252||V===253?"AL":I.test(V)?"L":V===8?"R":"N"},z=function(P){for(var H,V=0;V<P.length;V++){if((H=O(P.charAt(V)))==="L")return!1;if(H==="R")return!0}return!1},$=function(P,H,V,te){var ge,oe,we,be,je=H[te];switch(je){case"L":case"R":T=!1;break;case"N":case"AN":break;case"EN":T&&(je="AN");break;case"AL":T=!0,je="R";break;case"WS":je="N";break;case"CS":te<1||te+1>=H.length||(ge=V[te-1])!=="EN"&&ge!=="AN"||(oe=H[te+1])!=="EN"&&oe!=="AN"?je="N":T&&(oe="AN"),je=oe===ge?oe:"N";break;case"ES":je=(ge=te>0?V[te-1]:"B")==="EN"&&te+1<H.length&&H[te+1]==="EN"?"EN":"N";break;case"ET":if(te>0&&V[te-1]==="EN"){je="EN";break}if(T){je="N";break}for(we=te+1,be=H.length;we<be&&H[we]==="ET";)we++;je=we<be&&H[we]==="EN"?"EN":"N";break;case"NSM":if(c&&!d){for(be=H.length,we=te+1;we<be&&H[we]==="NSM";)we++;if(we<be){var re=P[te],de=re>=1425&&re<=2303||re===64286;if(ge=H[we],de&&(ge==="R"||ge==="AL")){je="R";break}}}je=te<1||(ge=H[te-1])==="B"?"N":V[te-1];break;case"B":T=!1,i=!0,je=_;break;case"S":o=!0,je="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":T=!1;break;case"BN":je="N"}return je},U=function(P,H,V){var te=P.split("");return V&&L(te,V,{hiLevel:_}),te.reverse(),H&&H.reverse(),te.join("")},L=function(P,H,V){var te,ge,oe,we,be,je=-1,re=P.length,de=0,K=[],ne=_?w:x,ce=[];for(T=!1,i=!1,o=!1,ge=0;ge<re;ge++)ce[ge]=O(P[ge]);for(oe=0;oe<re;oe++){if(be=de,K[oe]=$(P,ce,K,oe),te=240&(de=ne[be][R[K[oe]]]),de&=15,H[oe]=we=ne[de][5],te>0)if(te===16){for(ge=je;ge<oe;ge++)H[ge]=1;je=-1}else je=-1;if(ne[de][6])je===-1&&(je=oe);else if(je>-1){for(ge=je;ge<oe;ge++)H[ge]=we;je=-1}ce[oe]==="B"&&(H[oe]=0),V.hiLevel|=we}o&&(function(Be,he,xe){for(var Se=0;Se<xe;Se++)if(Be[Se]==="S"){he[Se]=_;for(var Ie=Se-1;Ie>=0&&Be[Ie]==="WS";Ie--)he[Ie]=_}})(ce,H,re)},G=function(P,H,V,te,ge){if(!(ge.hiLevel<P)){if(P===1&&_===1&&!i)return H.reverse(),void(V&&V.reverse());for(var oe,we,be,je,re=H.length,de=0;de<re;){if(te[de]>=P){for(be=de+1;be<re&&te[be]>=P;)be++;for(je=de,we=be-1;je<we;je++,we--)oe=H[je],H[je]=H[we],H[we]=oe,V&&(oe=V[je],V[je]=V[we],V[we]=oe);de=be}de++}}},X=function(P,H,V){var te=P.split(""),ge={hiLevel:_};return V||(V=[]),L(te,V,ge),(function(oe,we,be){if(be.hiLevel!==0&&h)for(var je,re=0;re<oe.length;re++)we[re]===1&&(je=Q.indexOf(oe[re]))>=0&&(oe[re]=Q[je+1])})(te,V,ge),G(2,te,H,V,ge),G(1,te,H,V,ge),te.join("")};return this.__bidiEngine__.doBidiReorder=function(P,H,V){if((function(ge,oe){if(oe)for(var we=0;we<ge.length;we++)oe[we]=we;d===void 0&&(d=z(ge)),p===void 0&&(p=z(ge))})(P,H),c||!u||p)if(c&&u&&d^p)_=d?1:0,P=U(P,H,V);else if(!c&&u&&p)_=d?1:0,P=X(P,H,V),P=U(P,H);else if(!c||d||u||p){if(c&&!u&&d^p)P=U(P,H),d?(_=0,P=X(P,H,V)):(_=1,P=X(P,H,V),P=U(P,H));else if(c&&d&&!u&&p)_=1,P=X(P,H,V),P=U(P,H);else if(!c&&!u&&d^p){var te=h;d?(_=1,P=X(P,H,V),_=0,h=!1,P=X(P,H,V),h=te):(_=0,P=X(P,H,V),P=U(P,H),_=1,h=!1,P=X(P,H,V),h=te,P=U(P,H))}}else _=0,P=X(P,H,V);else _=d?1:0,P=X(P,H,V);return P},this.__bidiEngine__.setOptions=function(P){P&&(c=P.isInputVisual,u=P.isOutputVisual,d=P.isInputRtl,p=P.isOutputRtl,h=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var d=0;for(c=[],d=0;d<i.length;d+=1)Object.prototype.toString.call(i[d])==="[object Array]"?c.push([t.doBidiReorder(i[d][0]),i[d][1],i[d][2]]):c.push([t.doBidiReorder(i[d])]);r.text=c}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(pn),pn.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new wd(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new g6(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new n6(this.contents),this.head=new s6(this),this.name=new l6(this),this.cmap=new tE(this),this.toUnicode={},this.hhea=new i6(this),this.maxp=new c6(this),this.hmtx=new u6(this),this.post=new o6(this),this.os2=new a6(this),this.loca=new p6(this),this.glyf=new d6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,d,u,p;for(p=[],c=0,d=(u=this.bbox).length;c<d;c++)e=u[c],p.push(Math.round(e*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,o,c,d;for(c=0,o=0,d=(e=""+e).length;0<=d?o<d:o>d;o=0<=d?++o:--o)i=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var Ll,wd=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,o,c,d,u;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),c=this.readByte(),d=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^c)+256*(255^d)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*o+65536*c+256*d+u},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),n6=(function(){var n;function e(t){var r,i,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,o,c,d,u,p,h,b,x,w,R,F;for(F in w=Object.keys(t).length,u=Math.log(2),b=16*Math.floor(Math.log(w)/u),c=Math.floor(b/u),h=16*w-b,(i=new wd).writeInt(this.scalarType),i.writeShort(w),i.writeShort(b),i.writeShort(c),i.writeShort(h),o=16*w,p=i.pos+o,d=null,R=[],t)for(x=t[F],i.writeString(F),i.writeInt(n(x)),i.writeInt(p),i.writeInt(x.length),R=R.concat(x),F==="head"&&(d=p),p+=x.length;p%4;)R.push(0),p++;return i.write(R),r=2981146554-n(i.data),i.pos=d+8,i.writeUInt32(r),i.data},n=function(t){var r,i,o,c;for(t=nE.call(t);t.length%4;)t.push(0);for(o=new wd(t),i=0,r=0,c=t.length;r<c;r=r+=4)i+=o.readUInt32();return 4294967295&i},e})(),r6={}.hasOwnProperty,Ic=function(n,e){for(var t in e)r6.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Ll=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var s6=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ll),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new wd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),hB=(function(){function n(e,t){var r,i,o,c,d,u,p,h,b,x,w,R,F,Q,I,T,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),b=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(w=e.readUInt16(),x=w/2,e.pos+=6,o=(function(){var O,z;for(z=[],u=O=0;0<=x?O<x:O>x;u=0<=x?++O:--O)z.push(e.readUInt16());return z})(),e.pos+=2,F=(function(){var O,z;for(z=[],u=O=0;0<=x?O<x:O>x;u=0<=x?++O:--O)z.push(e.readUInt16());return z})(),p=(function(){var O,z;for(z=[],u=O=0;0<=x?O<x:O>x;u=0<=x?++O:--O)z.push(e.readUInt16());return z})(),h=(function(){var O,z;for(z=[],u=O=0;0<=x?O<x:O>x;u=0<=x?++O:--O)z.push(e.readUInt16());return z})(),i=(this.length-e.pos+this.offset)/2,d=(function(){var O,z;for(z=[],u=O=0;0<=i?O<i:O>i;u=0<=i?++O:--O)z.push(e.readUInt16());return z})(),u=I=0,_=o.length;I<_;u=++I)for(Q=o[u],r=T=R=F[u];R<=Q?T<=Q:T>=Q;r=R<=Q?++T:--T)h[u]===0?c=r+p[u]:(c=d[h[u]/2+(r-R)-(x-u)]||0)!==0&&(c+=p[u]),this.codeMap[r]=65535&c}e.pos=b}return n.encode=function(e,t){var r,i,o,c,d,u,p,h,b,x,w,R,F,Q,I,T,_,O,z,$,U,L,G,X,P,H,V,te,ge,oe,we,be,je,re,de,K,ne,ce,Be,he,xe,Se,Ie,We,Xe,st;switch(te=new wd,c=Object.keys(e).sort((function(dt,Mt){return dt-Mt})),t){case"macroman":for(F=0,Q=(function(){var dt=[];for(R=0;R<256;++R)dt.push(0);return dt})(),T={0:0},o={},ge=0,je=c.length;ge<je;ge++)T[Ie=e[i=c[ge]]]==null&&(T[Ie]=++F),o[i]={old:e[i],new:T[e[i]]},Q[i]=T[e[i]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(Q),{charMap:o,subtable:te.data,maxGlyphID:F+1};case"unicode":for(H=[],b=[],_=0,T={},r={},I=p=null,oe=0,re=c.length;oe<re;oe++)T[z=e[i=c[oe]]]==null&&(T[z]=++_),r[i]={old:z,new:T[z]},d=T[z]-i,I!=null&&d===p||(I&&b.push(I),H.push(i),p=d),I=i;for(I&&b.push(I),b.push(65535),H.push(65535),X=2*(G=H.length),L=2*Math.pow(Math.log(G)/Math.LN2,2),x=Math.log(L/2)/Math.LN2,U=2*G-L,u=[],$=[],w=[],R=we=0,de=H.length;we<de;R=++we){if(P=H[R],h=b[R],P===65535){u.push(0),$.push(0);break}if(P-(V=r[P].new)>=32768)for(u.push(0),$.push(2*(w.length+G-R)),i=be=P;P<=h?be<=h:be>=h;i=P<=h?++be:--be)w.push(r[i].new);else u.push(V-P),$.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*G+2*w.length),te.writeUInt16(0),te.writeUInt16(X),te.writeUInt16(L),te.writeUInt16(x),te.writeUInt16(U),xe=0,K=b.length;xe<K;xe++)i=b[xe],te.writeUInt16(i);for(te.writeUInt16(0),Se=0,ne=H.length;Se<ne;Se++)i=H[Se],te.writeUInt16(i);for(We=0,ce=u.length;We<ce;We++)d=u[We],te.writeUInt16(d);for(Xe=0,Be=$.length;Xe<Be;Xe++)O=$[Xe],te.writeUInt16(O);for(st=0,he=w.length;st<he;st++)F=w[st],te.writeUInt16(F);return{charMap:r,subtable:te.data,maxGlyphID:_+1}}},n})(),tE=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ll),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)r=new hB(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,o;return r==null&&(r="macroman"),i=hB.encode(t,r),(o=new wd).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},e})(),i6=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ll),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),a6=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ll),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i})(),this.charRange=(function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),o6=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ll),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var c;for(i=t.readUInt16(),this.glyphNameIndex=[],c=0;0<=i?c<i:c>i;c=0<=i?++c:--c)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)r=t.readByte(),o.push(this.names.push(t.readString(r)));return o;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var d,u,p;for(p=[],c=d=0,u=this.file.maxp.numGlyphs;0<=u?d<u:d>u;c=0<=u?++d:--d)p.push(t.readUInt32());return p}).call(this)}},e})(),A6=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},l6=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ll),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,o,c,d,u,p,h,b,x,w;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),i=[],c=0;0<=r?c<r:c>r;c=0<=r?++c:--c)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(p={},c=b=0,x=i.length;b<x;c=++b)o=i[c],t.pos=o.offset,h=t.readString(o.length),d=new A6(h,o),p[w=o.nameID]==null&&(p[w]=[]),p[o.nameID].push(d);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},e})(),c6=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ll),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),u6=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ll),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,o,c,d,u,p;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,b;for(b=[],r=h=0;0<=o?h<o:h>o;r=0<=o?++h:--h)b.push(t.readInt16());return b})(),this.widths=(function(){var h,b,x,w;for(w=[],h=0,b=(x=this.metrics).length;h<b;h++)c=x[h],w.push(c.advance);return w}).call(this),i=this.widths[this.widths.length-1],p=[],r=d=0;0<=o?d<o:d>o;r=0<=o?++d:--d)p.push(this.widths.push(i));return p},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),nE=[].slice,d6=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ll),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,o,c,d,u,p,h,b,x;return t in this.cache?this.cache[t]:(c=this.file.loca,r=this.file.contents,i=c.indexOf(t),(o=c.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,d=(u=new wd(r.read(o))).readShort(),h=u.readShort(),x=u.readShort(),p=u.readShort(),b=u.readShort(),this.cache[t]=d===-1?new f6(u,h,x,p,b):new h6(u,d,h,x,p,b),this.cache[t]))},e.prototype.encode=function(t,r,i){var o,c,d,u,p;for(d=[],c=[],u=0,p=r.length;u<p;u++)o=t[r[u]],c.push(d.length),o&&(d=d.concat(o.encode(i)));return c.push(d.length),{table:d,offsets:c}},e})(),h6=(function(){function n(e,t,r,i,o,c){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),f6=(function(){function n(e,t,r,i,o){var c,d;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;d=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&d;)c.pos+=1&d?4:2,128&d?c.pos+=8:64&d?c.pos+=4:8&d&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new wd(nE.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),p6=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ic(e,Ll),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,c;for(c=[],i=0,o=this.length;i<o;i+=2)c.push(2*t.readUInt16());return c}).call(this):(function(){var o,c;for(c=[],i=0,o=this.length;i<o;i+=4)c.push(t.readUInt32());return c}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),o=0,c=0,d=0;d<i.length;++d)if(i[d]=o,c<r.length&&r[c]==d){++c,i[d]=o;var u=this.offsets[d],p=this.offsets[d+1]-u;p>0&&(o+=p)}for(var h=new Array(4*i.length),b=0;b<i.length;++b)h[4*b+3]=255&i[b],h[4*b+2]=(65280&i[b])>>8,h[4*b+1]=(16711680&i[b])>>16,h[4*b]=(4278190080&i[b])>>24;return h},e})(),g6=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,o;for(t in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,o,c,d,u;for(i={},c=0,d=e.length;c<d;c++)i[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],i)(r=i[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in u=this.glyphsFor(t))r=u[o],i[o]=r;return i},n.prototype.encode=function(e,t){var r,i,o,c,d,u,p,h,b,x,w,R,F,Q,I;for(i in r=tE.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),w={0:0},I=r.charMap)w[(u=I[i]).old]=u.new;for(R in x=r.maxGlyphID,c)R in w||(w[R]=x++);return h=(function(T){var _,O;for(_ in O={},T)O[T[_]]=_;return O})(w),b=Object.keys(h).sort((function(T,_){return T-_})),F=(function(){var T,_,O;for(O=[],T=0,_=b.length;T<_;T++)d=b[T],O.push(h[d]);return O})(),o=this.font.glyf.encode(c,F,w),p=this.font.loca.encode(o.offsets,F),Q={cmap:this.font.cmap.raw(),glyf:o.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(Q["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Q)},n})();pn.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,o,c;if(Array.isArray(t))return"["+(function(){var d,u,p;for(p=[],d=0,u=t.length;d<u;d++)r=t[d],p.push(e.convert(r));return p})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in o=["<<"],t)c=t[i],o.push("/"+i+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();const rw=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:$R,AcroFormAppearance:Jt,AcroFormButton:Ei,AcroFormCheckBox:Gp,AcroFormChoiceField:dh,AcroFormComboBox:fh,AcroFormEditBox:Vp,AcroFormListBox:hh,AcroFormPasswordField:zp,AcroFormPushButton:Kp,AcroFormRadioButton:ph,AcroFormTextField:ud,GState:og,ShadingPattern:nd,TilingPattern:ch,default:pn,jsPDF:pn},Symbol.toStringTag,{value:"Module"})),m6=ZE(rw);var Fm={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var v6=Fm.exports,fB;function y6(){return fB||(fB=1,(function(n,e){(function(t,r){n.exports=r()})(v6,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var t=function(y,m){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,B){C.__proto__=B}||function(C,B){for(var M in B)Object.prototype.hasOwnProperty.call(B,M)&&(C[M]=B[M])},t(y,m)};function r(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");t(y,m);function C(){this.constructor=y}y.prototype=m===null?Object.create(m):(C.prototype=m.prototype,new C)}var i=function(){return i=Object.assign||function(m){for(var C,B=1,M=arguments.length;B<M;B++){C=arguments[B];for(var Y in C)Object.prototype.hasOwnProperty.call(C,Y)&&(m[Y]=C[Y])}return m},i.apply(this,arguments)};function o(y,m,C,B){function M(Y){return Y instanceof C?Y:new C(function(ie){ie(Y)})}return new(C||(C=Promise))(function(Y,ie){function me(De){try{Fe(B.next(De))}catch(Ve){ie(Ve)}}function ve(De){try{Fe(B.throw(De))}catch(Ve){ie(Ve)}}function Fe(De){De.done?Y(De.value):M(De.value).then(me,ve)}Fe((B=B.apply(y,[])).next())})}function c(y,m){var C={label:0,sent:function(){if(Y[0]&1)throw Y[1];return Y[1]},trys:[],ops:[]},B,M,Y,ie;return ie={next:me(0),throw:me(1),return:me(2)},typeof Symbol=="function"&&(ie[Symbol.iterator]=function(){return this}),ie;function me(Fe){return function(De){return ve([Fe,De])}}function ve(Fe){if(B)throw new TypeError("Generator is already executing.");for(;C;)try{if(B=1,M&&(Y=Fe[0]&2?M.return:Fe[0]?M.throw||((Y=M.return)&&Y.call(M),0):M.next)&&!(Y=Y.call(M,Fe[1])).done)return Y;switch(M=0,Y&&(Fe=[Fe[0]&2,Y.value]),Fe[0]){case 0:case 1:Y=Fe;break;case 4:return C.label++,{value:Fe[1],done:!1};case 5:C.label++,M=Fe[1],Fe=[0];continue;case 7:Fe=C.ops.pop(),C.trys.pop();continue;default:if(Y=C.trys,!(Y=Y.length>0&&Y[Y.length-1])&&(Fe[0]===6||Fe[0]===2)){C=0;continue}if(Fe[0]===3&&(!Y||Fe[1]>Y[0]&&Fe[1]<Y[3])){C.label=Fe[1];break}if(Fe[0]===6&&C.label<Y[1]){C.label=Y[1],Y=Fe;break}if(Y&&C.label<Y[2]){C.label=Y[2],C.ops.push(Fe);break}Y[2]&&C.ops.pop(),C.trys.pop();continue}Fe=m.call(y,C)}catch(De){Fe=[6,De],M=0}finally{B=Y=0}if(Fe[0]&5)throw Fe[1];return{value:Fe[0]?Fe[1]:void 0,done:!0}}}function d(y,m,C){if(arguments.length===2)for(var B=0,M=m.length,Y;B<M;B++)(Y||!(B in m))&&(Y||(Y=Array.prototype.slice.call(m,0,B)),Y[B]=m[B]);return y.concat(Y||m)}for(var u=(function(){function y(m,C,B,M){this.left=m,this.top=C,this.width=B,this.height=M}return y.prototype.add=function(m,C,B,M){return new y(this.left+m,this.top+C,this.width+B,this.height+M)},y.fromClientRect=function(m,C){return new y(C.left+m.windowBounds.left,C.top+m.windowBounds.top,C.width,C.height)},y.fromDOMRectList=function(m,C){var B=Array.from(C).find(function(M){return M.width!==0});return B?new y(B.left+m.windowBounds.left,B.top+m.windowBounds.top,B.width,B.height):y.EMPTY},y.EMPTY=new y(0,0,0,0),y})(),p=function(y,m){return u.fromClientRect(y,m.getBoundingClientRect())},h=function(y){var m=y.body,C=y.documentElement;if(!m||!C)throw new Error("Unable to get document size");var B=Math.max(Math.max(m.scrollWidth,C.scrollWidth),Math.max(m.offsetWidth,C.offsetWidth),Math.max(m.clientWidth,C.clientWidth)),M=Math.max(Math.max(m.scrollHeight,C.scrollHeight),Math.max(m.offsetHeight,C.offsetHeight),Math.max(m.clientHeight,C.clientHeight));return new u(0,0,B,M)},b=function(y){for(var m=[],C=0,B=y.length;C<B;){var M=y.charCodeAt(C++);if(M>=55296&&M<=56319&&C<B){var Y=y.charCodeAt(C++);(Y&64512)===56320?m.push(((M&1023)<<10)+(Y&1023)+65536):(m.push(M),C--)}else m.push(M)}return m},x=function(){for(var y=[],m=0;m<arguments.length;m++)y[m]=arguments[m];if(String.fromCodePoint)return String.fromCodePoint.apply(String,y);var C=y.length;if(!C)return"";for(var B=[],M=-1,Y="";++M<C;){var ie=y[M];ie<=65535?B.push(ie):(ie-=65536,B.push((ie>>10)+55296,ie%1024+56320)),(M+1===C||B.length>16384)&&(Y+=String.fromCharCode.apply(String,B),B.length=0)}return Y},w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=typeof Uint8Array>"u"?[]:new Uint8Array(256),F=0;F<w.length;F++)R[w.charCodeAt(F)]=F;for(var Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=typeof Uint8Array>"u"?[]:new Uint8Array(256),T=0;T<Q.length;T++)I[Q.charCodeAt(T)]=T;for(var _=function(y){var m=y.length*.75,C=y.length,B,M=0,Y,ie,me,ve;y[y.length-1]==="="&&(m--,y[y.length-2]==="="&&m--);var Fe=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(m):new Array(m),De=Array.isArray(Fe)?Fe:new Uint8Array(Fe);for(B=0;B<C;B+=4)Y=I[y.charCodeAt(B)],ie=I[y.charCodeAt(B+1)],me=I[y.charCodeAt(B+2)],ve=I[y.charCodeAt(B+3)],De[M++]=Y<<2|ie>>4,De[M++]=(ie&15)<<4|me>>2,De[M++]=(me&3)<<6|ve&63;return Fe},O=function(y){for(var m=y.length,C=[],B=0;B<m;B+=2)C.push(y[B+1]<<8|y[B]);return C},z=function(y){for(var m=y.length,C=[],B=0;B<m;B+=4)C.push(y[B+3]<<24|y[B+2]<<16|y[B+1]<<8|y[B]);return C},$=5,U=11,L=2,G=U-$,X=65536>>$,P=1<<$,H=P-1,V=1024>>$,te=X+V,ge=te,oe=32,we=ge+oe,be=65536>>U,je=1<<G,re=je-1,de=function(y,m,C){return y.slice?y.slice(m,C):new Uint16Array(Array.prototype.slice.call(y,m,C))},K=function(y,m,C){return y.slice?y.slice(m,C):new Uint32Array(Array.prototype.slice.call(y,m,C))},ne=function(y,m){var C=_(y),B=Array.isArray(C)?z(C):new Uint32Array(C),M=Array.isArray(C)?O(C):new Uint16Array(C),Y=24,ie=de(M,Y/2,B[4]/2),me=B[5]===2?de(M,(Y+B[4])/2):K(B,Math.ceil((Y+B[4])/4));return new ce(B[0],B[1],B[2],B[3],ie,me)},ce=(function(){function y(m,C,B,M,Y,ie){this.initialValue=m,this.errorValue=C,this.highStart=B,this.highValueIndex=M,this.index=Y,this.data=ie}return y.prototype.get=function(m){var C;if(m>=0){if(m<55296||m>56319&&m<=65535)return C=this.index[m>>$],C=(C<<L)+(m&H),this.data[C];if(m<=65535)return C=this.index[X+(m-55296>>$)],C=(C<<L)+(m&H),this.data[C];if(m<this.highStart)return C=we-be+(m>>U),C=this.index[C],C+=m>>$&re,C=this.index[C],C=(C<<L)+(m&H),this.data[C];if(m<=1114111)return this.data[this.highValueIndex]}return this.errorValue},y})(),Be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",he=typeof Uint8Array>"u"?[]:new Uint8Array(256),xe=0;xe<Be.length;xe++)he[Be.charCodeAt(xe)]=xe;var Se="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Ie=50,We=1,Xe=2,st=3,dt=4,Mt=5,Ze=7,Ee=8,Ht=9,Ct=10,ct=11,Oe=12,rt=13,Je=14,pt=15,_t=16,Nt=17,It=18,Et=19,qt=20,kt=21,ke=22,ze=23,vt=24,yt=25,$t=26,Ft=27,rn=28,wr=29,un=30,Qs=31,Ln=32,Rr=33,on=34,Qt=35,St=36,Kt=37,vn=38,In=39,Lr=40,Vs=41,Pt=42,hr=43,fr=[9001,65288],Er="!",tn="×",Tr="÷",Zr=ne(Se),Ks=[un,St],Gs=[We,Xe,st,Mt],Es=[Ct,Ee],gs=[Ft,$t],ms=Gs.concat(Es),vs=[vn,In,Lr,on,Qt],Sr=[pt,rt],or=function(y,m){m===void 0&&(m="strict");var C=[],B=[],M=[];return y.forEach(function(Y,ie){var me=Zr.get(Y);if(me>Ie?(M.push(!0),me-=Ie):M.push(!1),["normal","auto","loose"].indexOf(m)!==-1&&[8208,8211,12316,12448].indexOf(Y)!==-1)return B.push(ie),C.push(_t);if(me===dt||me===ct){if(ie===0)return B.push(ie),C.push(un);var ve=C[ie-1];return ms.indexOf(ve)===-1?(B.push(B[ie-1]),C.push(ve)):(B.push(ie),C.push(un))}if(B.push(ie),me===Qs)return C.push(m==="strict"?kt:Kt);if(me===Pt||me===wr)return C.push(un);if(me===hr)return Y>=131072&&Y<=196605||Y>=196608&&Y<=262141?C.push(Kt):C.push(un);C.push(me)}),[B,C,M]},qi=function(y,m,C,B){var M=B[C];if(Array.isArray(y)?y.indexOf(M)!==-1:y===M)for(var Y=C;Y<=B.length;){Y++;var ie=B[Y];if(ie===m)return!0;if(ie!==Ct)break}if(M===Ct)for(var Y=C;Y>0;){Y--;var me=B[Y];if(Array.isArray(y)?y.indexOf(me)!==-1:y===me)for(var ve=C;ve<=B.length;){ve++;var ie=B[ve];if(ie===m)return!0;if(ie!==Ct)break}if(me!==Ct)break}return!1},ia=function(y,m){for(var C=y;C>=0;){var B=m[C];if(B===Ct)C--;else return B}return 0},ni=function(y,m,C,B,M){if(C[B]===0)return tn;var Y=B-1;if(Array.isArray(M)&&M[Y]===!0)return tn;var ie=Y-1,me=Y+1,ve=m[Y],Fe=ie>=0?m[ie]:0,De=m[me];if(ve===Xe&&De===st)return tn;if(Gs.indexOf(ve)!==-1)return Er;if(Gs.indexOf(De)!==-1||Es.indexOf(De)!==-1)return tn;if(ia(Y,m)===Ee)return Tr;if(Zr.get(y[Y])===ct||(ve===Ln||ve===Rr)&&Zr.get(y[me])===ct||ve===Ze||De===Ze||ve===Ht||[Ct,rt,pt].indexOf(ve)===-1&&De===Ht||[Nt,It,Et,vt,rn].indexOf(De)!==-1||ia(Y,m)===ke||qi(ze,ke,Y,m)||qi([Nt,It],kt,Y,m)||qi(Oe,Oe,Y,m))return tn;if(ve===Ct)return Tr;if(ve===ze||De===ze)return tn;if(De===_t||ve===_t)return Tr;if([rt,pt,kt].indexOf(De)!==-1||ve===Je||Fe===St&&Sr.indexOf(ve)!==-1||ve===rn&&De===St||De===qt||Ks.indexOf(De)!==-1&&ve===yt||Ks.indexOf(ve)!==-1&&De===yt||ve===Ft&&[Kt,Ln,Rr].indexOf(De)!==-1||[Kt,Ln,Rr].indexOf(ve)!==-1&&De===$t||Ks.indexOf(ve)!==-1&&gs.indexOf(De)!==-1||gs.indexOf(ve)!==-1&&Ks.indexOf(De)!==-1||[Ft,$t].indexOf(ve)!==-1&&(De===yt||[ke,pt].indexOf(De)!==-1&&m[me+1]===yt)||[ke,pt].indexOf(ve)!==-1&&De===yt||ve===yt&&[yt,rn,vt].indexOf(De)!==-1)return tn;if([yt,rn,vt,Nt,It].indexOf(De)!==-1)for(var Ve=Y;Ve>=0;){var At=m[Ve];if(At===yt)return tn;if([rn,vt].indexOf(At)!==-1)Ve--;else break}if([Ft,$t].indexOf(De)!==-1)for(var Ve=[Nt,It].indexOf(ve)!==-1?ie:Y;Ve>=0;){var At=m[Ve];if(At===yt)return tn;if([rn,vt].indexOf(At)!==-1)Ve--;else break}if(vn===ve&&[vn,In,on,Qt].indexOf(De)!==-1||[In,on].indexOf(ve)!==-1&&[In,Lr].indexOf(De)!==-1||[Lr,Qt].indexOf(ve)!==-1&&De===Lr||vs.indexOf(ve)!==-1&&[qt,$t].indexOf(De)!==-1||vs.indexOf(De)!==-1&&ve===Ft||Ks.indexOf(ve)!==-1&&Ks.indexOf(De)!==-1||ve===vt&&Ks.indexOf(De)!==-1||Ks.concat(yt).indexOf(ve)!==-1&&De===ke&&fr.indexOf(y[me])===-1||Ks.concat(yt).indexOf(De)!==-1&&ve===It)return tn;if(ve===Vs&&De===Vs){for(var Ot=C[Y],Tt=1;Ot>0&&(Ot--,m[Ot]===Vs);)Tt++;if(Tt%2!==0)return tn}return ve===Ln&&De===Rr?tn:Tr},_i=function(y,m){m||(m={lineBreak:"normal",wordBreak:"normal"});var C=or(y,m.lineBreak),B=C[0],M=C[1],Y=C[2];(m.wordBreak==="break-all"||m.wordBreak==="break-word")&&(M=M.map(function(me){return[yt,un,Pt].indexOf(me)!==-1?Kt:me}));var ie=m.wordBreak==="keep-all"?Y.map(function(me,ve){return me&&y[ve]>=19968&&y[ve]<=40959}):void 0;return[B,M,ie]},jo=(function(){function y(m,C,B,M){this.codePoints=m,this.required=C===Er,this.start=B,this.end=M}return y.prototype.slice=function(){return x.apply(void 0,this.codePoints.slice(this.start,this.end))},y})(),OA=function(y,m){var C=b(y),B=_i(C,m),M=B[0],Y=B[1],ie=B[2],me=C.length,ve=0,Fe=0;return{next:function(){if(Fe>=me)return{done:!0,value:null};for(var De=tn;Fe<me&&(De=ni(C,Y,M,++Fe,ie))===tn;);if(De!==tn||Fe===me){var Ve=new jo(C,De,ve,Fe);return ve=Fe,{value:Ve,done:!1}}return{done:!0,value:null}}}},No=1,Dl=2,zs=4,Ii=8,es=10,aa=47,io=92,oa=9,oA=32,ji=34,La=61,_r=35,Rs=36,AA=37,To=39,$i=40,Da=41,qs=95,As=45,qn=33,$s=60,ao=62,oo=64,Aa=91,Ar=93,Ao=61,Ni=123,Ti=63,Ol=125,lA=124,PA=126,Oa=128,Uo=65533,Wi=42,Ls=43,br=44,Pa=58,la=59,sn=46,ca=0,Pl=8,ri=11,Ui=14,mi=31,ua=127,Gr=-1,Ma=48,da=97,cA=101,Fi=102,si=117,ha=122,ls=65,Dn=69,ka=70,fa=85,MA=90,Dr=function(y){return y>=Ma&&y<=57},Fo=function(y){return y>=55296&&y<=57343},Ds=function(y){return Dr(y)||y>=ls&&y<=ka||y>=da&&y<=Fi},ii=function(y){return y>=da&&y<=ha},ys=function(y){return y>=ls&&y<=MA},Ml=function(y){return ii(y)||ys(y)},lo=function(y){return y>=Oa},ws=function(y){return y===es||y===oa||y===oA},Yi=function(y){return Ml(y)||lo(y)||y===qs},pa=function(y){return Yi(y)||Dr(y)||y===As},uA=function(y){return y>=ca&&y<=Pl||y===ri||y>=Ui&&y<=mi||y===ua},ai=function(y,m){return y!==io?!1:m!==es},Ha=function(y,m,C){return y===As?Yi(m)||ai(m,C):Yi(y)?!0:!!(y===io&&ai(y,m))},Qo=function(y,m,C){return y===Ls||y===As?Dr(m)?!0:m===sn&&Dr(C):Dr(y===sn?m:y)},Ro=function(y){var m=0,C=1;(y[m]===Ls||y[m]===As)&&(y[m]===As&&(C=-1),m++);for(var B=[];Dr(y[m]);)B.push(y[m++]);var M=B.length?parseInt(x.apply(void 0,B),10):0;y[m]===sn&&m++;for(var Y=[];Dr(y[m]);)Y.push(y[m++]);var ie=Y.length,me=ie?parseInt(x.apply(void 0,Y),10):0;(y[m]===Dn||y[m]===cA)&&m++;var ve=1;(y[m]===Ls||y[m]===As)&&(y[m]===As&&(ve=-1),m++);for(var Fe=[];Dr(y[m]);)Fe.push(y[m++]);var De=Fe.length?parseInt(x.apply(void 0,Fe),10):0;return C*(M+me*Math.pow(10,-ie))*Math.pow(10,ve*De)},co={type:2},Lo={type:3},dA={type:4},Do={type:13},uo={type:8},kl={type:21},Va={type:9},ho={type:10},Oo={type:11},oi={type:12},hA={type:14},N={type:23},ee={type:1},Ce={type:25},Ne={type:24},Pe={type:26},it={type:27},xt={type:28},Lt={type:29},v={type:31},k={type:32},W=(function(){function y(){this._value=[]}return y.prototype.write=function(m){this._value=this._value.concat(b(m))},y.prototype.read=function(){for(var m=[],C=this.consumeToken();C!==k;)m.push(C),C=this.consumeToken();return m},y.prototype.consumeToken=function(){var m=this.consumeCodePoint();switch(m){case ji:return this.consumeStringToken(ji);case _r:var C=this.peekCodePoint(0),B=this.peekCodePoint(1),M=this.peekCodePoint(2);if(pa(C)||ai(B,M)){var Y=Ha(C,B,M)?Dl:No,ie=this.consumeName();return{type:5,value:ie,flags:Y}}break;case Rs:if(this.peekCodePoint(0)===La)return this.consumeCodePoint(),Do;break;case To:return this.consumeStringToken(To);case $i:return co;case Da:return Lo;case Wi:if(this.peekCodePoint(0)===La)return this.consumeCodePoint(),hA;break;case Ls:if(Qo(m,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(m),this.consumeNumericToken();break;case br:return dA;case As:var me=m,ve=this.peekCodePoint(0),Fe=this.peekCodePoint(1);if(Qo(me,ve,Fe))return this.reconsumeCodePoint(m),this.consumeNumericToken();if(Ha(me,ve,Fe))return this.reconsumeCodePoint(m),this.consumeIdentLikeToken();if(ve===As&&Fe===ao)return this.consumeCodePoint(),this.consumeCodePoint(),Ne;break;case sn:if(Qo(m,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(m),this.consumeNumericToken();break;case aa:if(this.peekCodePoint(0)===Wi)for(this.consumeCodePoint();;){var De=this.consumeCodePoint();if(De===Wi&&(De=this.consumeCodePoint(),De===aa))return this.consumeToken();if(De===Gr)return this.consumeToken()}break;case Pa:return Pe;case la:return it;case $s:if(this.peekCodePoint(0)===qn&&this.peekCodePoint(1)===As&&this.peekCodePoint(2)===As)return this.consumeCodePoint(),this.consumeCodePoint(),Ce;break;case oo:var Ve=this.peekCodePoint(0),At=this.peekCodePoint(1),Ot=this.peekCodePoint(2);if(Ha(Ve,At,Ot)){var ie=this.consumeName();return{type:7,value:ie}}break;case Aa:return xt;case io:if(ai(m,this.peekCodePoint(0)))return this.reconsumeCodePoint(m),this.consumeIdentLikeToken();break;case Ar:return Lt;case Ao:if(this.peekCodePoint(0)===La)return this.consumeCodePoint(),uo;break;case Ni:return Oo;case Ol:return oi;case si:case fa:var Tt=this.peekCodePoint(0),Ut=this.peekCodePoint(1);return Tt===Ls&&(Ds(Ut)||Ut===Ti)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(m),this.consumeIdentLikeToken();case lA:if(this.peekCodePoint(0)===La)return this.consumeCodePoint(),Va;if(this.peekCodePoint(0)===lA)return this.consumeCodePoint(),kl;break;case PA:if(this.peekCodePoint(0)===La)return this.consumeCodePoint(),ho;break;case Gr:return k}return ws(m)?(this.consumeWhiteSpace(),v):Dr(m)?(this.reconsumeCodePoint(m),this.consumeNumericToken()):Yi(m)?(this.reconsumeCodePoint(m),this.consumeIdentLikeToken()):{type:6,value:x(m)}},y.prototype.consumeCodePoint=function(){var m=this._value.shift();return typeof m>"u"?-1:m},y.prototype.reconsumeCodePoint=function(m){this._value.unshift(m)},y.prototype.peekCodePoint=function(m){return m>=this._value.length?-1:this._value[m]},y.prototype.consumeUnicodeRangeToken=function(){for(var m=[],C=this.consumeCodePoint();Ds(C)&&m.length<6;)m.push(C),C=this.consumeCodePoint();for(var B=!1;C===Ti&&m.length<6;)m.push(C),C=this.consumeCodePoint(),B=!0;if(B){var M=parseInt(x.apply(void 0,m.map(function(ve){return ve===Ti?Ma:ve})),16),Y=parseInt(x.apply(void 0,m.map(function(ve){return ve===Ti?ka:ve})),16);return{type:30,start:M,end:Y}}var ie=parseInt(x.apply(void 0,m),16);if(this.peekCodePoint(0)===As&&Ds(this.peekCodePoint(1))){this.consumeCodePoint(),C=this.consumeCodePoint();for(var me=[];Ds(C)&&me.length<6;)me.push(C),C=this.consumeCodePoint();var Y=parseInt(x.apply(void 0,me),16);return{type:30,start:ie,end:Y}}else return{type:30,start:ie,end:ie}},y.prototype.consumeIdentLikeToken=function(){var m=this.consumeName();return m.toLowerCase()==="url"&&this.peekCodePoint(0)===$i?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===$i?(this.consumeCodePoint(),{type:19,value:m}):{type:20,value:m}},y.prototype.consumeUrlToken=function(){var m=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Gr)return{type:22,value:""};var C=this.peekCodePoint(0);if(C===To||C===ji){var B=this.consumeStringToken(this.consumeCodePoint());return B.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Gr||this.peekCodePoint(0)===Da)?(this.consumeCodePoint(),{type:22,value:B.value}):(this.consumeBadUrlRemnants(),N)}for(;;){var M=this.consumeCodePoint();if(M===Gr||M===Da)return{type:22,value:x.apply(void 0,m)};if(ws(M))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Gr||this.peekCodePoint(0)===Da?(this.consumeCodePoint(),{type:22,value:x.apply(void 0,m)}):(this.consumeBadUrlRemnants(),N);if(M===ji||M===To||M===$i||uA(M))return this.consumeBadUrlRemnants(),N;if(M===io)if(ai(M,this.peekCodePoint(0)))m.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),N;else m.push(M)}},y.prototype.consumeWhiteSpace=function(){for(;ws(this.peekCodePoint(0));)this.consumeCodePoint()},y.prototype.consumeBadUrlRemnants=function(){for(;;){var m=this.consumeCodePoint();if(m===Da||m===Gr)return;ai(m,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},y.prototype.consumeStringSlice=function(m){for(var C=5e4,B="";m>0;){var M=Math.min(C,m);B+=x.apply(void 0,this._value.splice(0,M)),m-=M}return this._value.shift(),B},y.prototype.consumeStringToken=function(m){var C="",B=0;do{var M=this._value[B];if(M===Gr||M===void 0||M===m)return C+=this.consumeStringSlice(B),{type:0,value:C};if(M===es)return this._value.splice(0,B),ee;if(M===io){var Y=this._value[B+1];Y!==Gr&&Y!==void 0&&(Y===es?(C+=this.consumeStringSlice(B),B=-1,this._value.shift()):ai(M,Y)&&(C+=this.consumeStringSlice(B),C+=x(this.consumeEscapedCodePoint()),B=-1))}B++}while(!0)},y.prototype.consumeNumber=function(){var m=[],C=zs,B=this.peekCodePoint(0);for((B===Ls||B===As)&&m.push(this.consumeCodePoint());Dr(this.peekCodePoint(0));)m.push(this.consumeCodePoint());B=this.peekCodePoint(0);var M=this.peekCodePoint(1);if(B===sn&&Dr(M))for(m.push(this.consumeCodePoint(),this.consumeCodePoint()),C=Ii;Dr(this.peekCodePoint(0));)m.push(this.consumeCodePoint());B=this.peekCodePoint(0),M=this.peekCodePoint(1);var Y=this.peekCodePoint(2);if((B===Dn||B===cA)&&((M===Ls||M===As)&&Dr(Y)||Dr(M)))for(m.push(this.consumeCodePoint(),this.consumeCodePoint()),C=Ii;Dr(this.peekCodePoint(0));)m.push(this.consumeCodePoint());return[Ro(m),C]},y.prototype.consumeNumericToken=function(){var m=this.consumeNumber(),C=m[0],B=m[1],M=this.peekCodePoint(0),Y=this.peekCodePoint(1),ie=this.peekCodePoint(2);if(Ha(M,Y,ie)){var me=this.consumeName();return{type:15,number:C,flags:B,unit:me}}return M===AA?(this.consumeCodePoint(),{type:16,number:C,flags:B}):{type:17,number:C,flags:B}},y.prototype.consumeEscapedCodePoint=function(){var m=this.consumeCodePoint();if(Ds(m)){for(var C=x(m);Ds(this.peekCodePoint(0))&&C.length<6;)C+=x(this.consumeCodePoint());ws(this.peekCodePoint(0))&&this.consumeCodePoint();var B=parseInt(C,16);return B===0||Fo(B)||B>1114111?Uo:B}return m===Gr?Uo:m},y.prototype.consumeName=function(){for(var m="";;){var C=this.consumeCodePoint();if(pa(C))m+=x(C);else if(ai(C,this.peekCodePoint(0)))m+=x(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(C),m}},y})(),Ae=(function(){function y(m){this._tokens=m}return y.create=function(m){var C=new W;return C.write(m),new y(C.read())},y.parseValue=function(m){return y.create(m).parseComponentValue()},y.parseValues=function(m){return y.create(m).parseComponentValues()},y.prototype.parseComponentValue=function(){for(var m=this.consumeToken();m.type===31;)m=this.consumeToken();if(m.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(m);var C=this.consumeComponentValue();do m=this.consumeToken();while(m.type===31);if(m.type===32)return C;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},y.prototype.parseComponentValues=function(){for(var m=[];;){var C=this.consumeComponentValue();if(C.type===32)return m;m.push(C),m.push()}},y.prototype.consumeComponentValue=function(){var m=this.consumeToken();switch(m.type){case 11:case 28:case 2:return this.consumeSimpleBlock(m.type);case 19:return this.consumeFunction(m)}return m},y.prototype.consumeSimpleBlock=function(m){for(var C={type:m,values:[]},B=this.consumeToken();;){if(B.type===32||ga(B,m))return C;this.reconsumeToken(B),C.values.push(this.consumeComponentValue()),B=this.consumeToken()}},y.prototype.consumeFunction=function(m){for(var C={name:m.value,values:[],type:18};;){var B=this.consumeToken();if(B.type===32||B.type===3)return C;this.reconsumeToken(B),C.values.push(this.consumeComponentValue())}},y.prototype.consumeToken=function(){var m=this._tokens.shift();return typeof m>"u"?k:m},y.prototype.reconsumeToken=function(m){this._tokens.unshift(m)},y})(),Re=function(y){return y.type===15},Ke=function(y){return y.type===17},ot=function(y){return y.type===20},cn=function(y){return y.type===0},Fn=function(y,m){return ot(y)&&y.value===m},yn=function(y){return y.type!==31},Kn=function(y){return y.type!==31&&y.type!==4},On=function(y){var m=[],C=[];return y.forEach(function(B){if(B.type===4){if(C.length===0)throw new Error("Error parsing function args, zero tokens for arg");m.push(C),C=[];return}B.type!==31&&C.push(B)}),C.length&&m.push(C),m},ga=function(y,m){return m===11&&y.type===12||m===28&&y.type===29?!0:m===2&&y.type===3},gr=function(y){return y.type===17||y.type===15},$n=function(y){return y.type===16||gr(y)},Ka=function(y){return y.length>1?[y[0],y[1]]:[y[0]]},Or={type:17,number:0,flags:zs},fA={type:16,number:50,flags:zs},Qi={type:16,number:100,flags:zs},zr=function(y,m,C){var B=y[0],M=y[1];return[Wn(B,m),Wn(typeof M<"u"?M:B,C)]},Wn=function(y,m){if(y.type===16)return y.number/100*m;if(Re(y))switch(y.unit){case"rem":case"em":return 16*y.number;case"px":default:return y.number}return y.number},pA="deg",gA="grad",kA="rad",vi="turn",Hl={name:"angle",parse:function(y,m){if(m.type===15)switch(m.unit){case pA:return Math.PI*m.number/180;case gA:return Math.PI/200*m.number;case kA:return m.number;case vi:return Math.PI*2*m.number}throw new Error("Unsupported angle type")}},Vl=function(y){return y.type===15&&(y.unit===pA||y.unit===gA||y.unit===kA||y.unit===vi)},jc=function(y){var m=y.filter(ot).map(function(C){return C.value}).join(" ");switch(m){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Or,Or];case"to top":case"bottom":return qr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Or,Qi];case"to right":case"left":return qr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Qi,Qi];case"to bottom":case"top":return qr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Qi,Or];case"to left":case"right":return qr(270)}return 0},qr=function(y){return Math.PI*y/180},Ur={name:"color",parse:function(y,m){if(m.type===18){var C=Ri[m.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported color function "'+m.name+'"');return C(y,m.values)}if(m.type===5){if(m.value.length===3){var B=m.value.substring(0,1),M=m.value.substring(1,2),Y=m.value.substring(2,3);return Ai(parseInt(B+B,16),parseInt(M+M,16),parseInt(Y+Y,16),1)}if(m.value.length===4){var B=m.value.substring(0,1),M=m.value.substring(1,2),Y=m.value.substring(2,3),ie=m.value.substring(3,4);return Ai(parseInt(B+B,16),parseInt(M+M,16),parseInt(Y+Y,16),parseInt(ie+ie,16)/255)}if(m.value.length===6){var B=m.value.substring(0,2),M=m.value.substring(2,4),Y=m.value.substring(4,6);return Ai(parseInt(B,16),parseInt(M,16),parseInt(Y,16),1)}if(m.value.length===8){var B=m.value.substring(0,2),M=m.value.substring(2,4),Y=m.value.substring(4,6),ie=m.value.substring(6,8);return Ai(parseInt(B,16),parseInt(M,16),parseInt(Y,16),parseInt(ie,16)/255)}}if(m.type===20){var me=Os[m.value.toUpperCase()];if(typeof me<"u")return me}return Os.TRANSPARENT}},yi=function(y){return(255&y)===0},ts=function(y){var m=255&y,C=255&y>>8,B=255&y>>16,M=255&y>>24;return m<255?"rgba("+M+","+B+","+C+","+m/255+")":"rgb("+M+","+B+","+C+")"},Ai=function(y,m,C,B){return(y<<24|m<<16|C<<8|Math.round(B*255)<<0)>>>0},Po=function(y,m){if(y.type===17)return y.number;if(y.type===16){var C=m===3?1:255;return m===3?y.number/100*C:Math.round(y.number/100*C)}return 0},li=function(y,m){var C=m.filter(Kn);if(C.length===3){var B=C.map(Po),M=B[0],Y=B[1],ie=B[2];return Ai(M,Y,ie,1)}if(C.length===4){var me=C.map(Po),M=me[0],Y=me[1],ie=me[2],ve=me[3];return Ai(M,Y,ie,ve)}return 0};function Ss(y,m,C){return C<0&&(C+=1),C>=1&&(C-=1),C<1/6?(m-y)*C*6+y:C<1/2?m:C<2/3?(m-y)*6*(2/3-C)+y:y}var Mo=function(y,m){var C=m.filter(Kn),B=C[0],M=C[1],Y=C[2],ie=C[3],me=(B.type===17?qr(B.number):Hl.parse(y,B))/(Math.PI*2),ve=$n(M)?M.number/100:0,Fe=$n(Y)?Y.number/100:0,De=typeof ie<"u"&&$n(ie)?Wn(ie,1):1;if(ve===0)return Ai(Fe*255,Fe*255,Fe*255,1);var Ve=Fe<=.5?Fe*(ve+1):Fe+ve-Fe*ve,At=Fe*2-Ve,Ot=Ss(At,Ve,me+1/3),Tt=Ss(At,Ve,me),Ut=Ss(At,Ve,me-1/3);return Ai(Ot*255,Tt*255,Ut*255,De)},Ri={hsl:Mo,hsla:Mo,rgb:li,rgba:li},wi=function(y,m){return Ur.parse(y,Ae.create(m).parseComponentValue())},Os={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ga={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(y,m){return m.map(function(C){if(ot(C))switch(C.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ns={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Li=function(y,m){var C=Ur.parse(y,m[0]),B=m[1];return B&&$n(B)?{color:C,stop:B}:{color:C,stop:null}},cs=function(y,m){var C=y[0],B=y[y.length-1];C.stop===null&&(C.stop=Or),B.stop===null&&(B.stop=Qi);for(var M=[],Y=0,ie=0;ie<y.length;ie++){var me=y[ie].stop;if(me!==null){var ve=Wn(me,m);ve>Y?M.push(ve):M.push(Y),Y=ve}else M.push(null)}for(var Fe=null,ie=0;ie<M.length;ie++){var De=M[ie];if(De===null)Fe===null&&(Fe=ie);else if(Fe!==null){for(var Ve=ie-Fe,At=M[Fe-1],Ot=(De-At)/(Ve+1),Tt=1;Tt<=Ve;Tt++)M[Fe+Tt-1]=Ot*Tt;Fe=null}}return y.map(function(Ut,jn){var Zt=Ut.color;return{color:Zt,stop:Math.max(Math.min(1,M[jn]/m),0)}})},Di=function(y,m,C){var B=m/2,M=C/2,Y=Wn(y[0],m)-B,ie=M-Wn(y[1],C);return(Math.atan2(ie,Y)+Math.PI*2)%(Math.PI*2)},HA=function(y,m,C){var B=typeof y=="number"?y:Di(y,m,C),M=Math.abs(m*Math.sin(B))+Math.abs(C*Math.cos(B)),Y=m/2,ie=C/2,me=M/2,ve=Math.sin(B-Math.PI/2)*me,Fe=Math.cos(B-Math.PI/2)*me;return[M,Y-Fe,Y+Fe,ie-ve,ie+ve]},bs=function(y,m){return Math.sqrt(y*y+m*m)},VA=function(y,m,C,B,M){var Y=[[0,0],[0,m],[y,0],[y,m]];return Y.reduce(function(ie,me){var ve=me[0],Fe=me[1],De=bs(C-ve,B-Fe);return(M?De<ie.optimumDistance:De>ie.optimumDistance)?{optimumCorner:me,optimumDistance:De}:ie},{optimumDistance:M?1/0:-1/0,optimumCorner:null}).optimumCorner},mA=function(y,m,C,B,M){var Y=0,ie=0;switch(y.size){case 0:y.shape===0?Y=ie=Math.min(Math.abs(m),Math.abs(m-B),Math.abs(C),Math.abs(C-M)):y.shape===1&&(Y=Math.min(Math.abs(m),Math.abs(m-B)),ie=Math.min(Math.abs(C),Math.abs(C-M)));break;case 2:if(y.shape===0)Y=ie=Math.min(bs(m,C),bs(m,C-M),bs(m-B,C),bs(m-B,C-M));else if(y.shape===1){var me=Math.min(Math.abs(C),Math.abs(C-M))/Math.min(Math.abs(m),Math.abs(m-B)),ve=VA(B,M,m,C,!0),Fe=ve[0],De=ve[1];Y=bs(Fe-m,(De-C)/me),ie=me*Y}break;case 1:y.shape===0?Y=ie=Math.max(Math.abs(m),Math.abs(m-B),Math.abs(C),Math.abs(C-M)):y.shape===1&&(Y=Math.max(Math.abs(m),Math.abs(m-B)),ie=Math.max(Math.abs(C),Math.abs(C-M)));break;case 3:if(y.shape===0)Y=ie=Math.max(bs(m,C),bs(m,C-M),bs(m-B,C),bs(m-B,C-M));else if(y.shape===1){var me=Math.max(Math.abs(C),Math.abs(C-M))/Math.max(Math.abs(m),Math.abs(m-B)),Ve=VA(B,M,m,C,!1),Fe=Ve[0],De=Ve[1];Y=bs(Fe-m,(De-C)/me),ie=me*Y}break}return Array.isArray(y.size)&&(Y=Wn(y.size[0],B),ie=y.size.length===2?Wn(y.size[1],M):Y),[Y,ie]},vA=function(y,m){var C=qr(180),B=[];return On(m).forEach(function(M,Y){if(Y===0){var ie=M[0];if(ie.type===20&&ie.value==="to"){C=jc(M);return}else if(Vl(ie)){C=Hl.parse(y,ie);return}}var me=Li(y,M);B.push(me)}),{angle:C,stops:B,type:1}},za=function(y,m){var C=qr(180),B=[];return On(m).forEach(function(M,Y){if(Y===0){var ie=M[0];if(ie.type===20&&["top","left","right","bottom"].indexOf(ie.value)!==-1){C=jc(M);return}else if(Vl(ie)){C=(Hl.parse(y,ie)+qr(270))%qr(360);return}}var me=Li(y,M);B.push(me)}),{angle:C,stops:B,type:1}},KA=function(y,m){var C=qr(180),B=[],M=1,Y=0,ie=3,me=[];return On(m).forEach(function(ve,Fe){var De=ve[0];if(Fe===0){if(ot(De)&&De.value==="linear"){M=1;return}else if(ot(De)&&De.value==="radial"){M=2;return}}if(De.type===18){if(De.name==="from"){var Ve=Ur.parse(y,De.values[0]);B.push({stop:Or,color:Ve})}else if(De.name==="to"){var Ve=Ur.parse(y,De.values[0]);B.push({stop:Qi,color:Ve})}else if(De.name==="color-stop"){var At=De.values.filter(Kn);if(At.length===2){var Ve=Ur.parse(y,At[1]),Ot=At[0];Ke(Ot)&&B.push({stop:{type:16,number:Ot.number*100,flags:Ot.flags},color:Ve})}}}}),M===1?{angle:(C+qr(180))%qr(360),stops:B,type:M}:{size:ie,shape:Y,stops:B,position:me,type:M}},GA="closest-side",ko="farthest-side",fo="closest-corner",yA="farthest-corner",$r="circle",Oi="ellipse",Qn="cover",Rn="contain",Ir=function(y,m){var C=0,B=3,M=[],Y=[];return On(m).forEach(function(ie,me){var ve=!0;if(me===0){var Fe=!1;ve=ie.reduce(function(Ve,At){if(Fe)if(ot(At))switch(At.value){case"center":return Y.push(fA),Ve;case"top":case"left":return Y.push(Or),Ve;case"right":case"bottom":return Y.push(Qi),Ve}else($n(At)||gr(At))&&Y.push(At);else if(ot(At))switch(At.value){case $r:return C=0,!1;case Oi:return C=1,!1;case"at":return Fe=!0,!1;case GA:return B=0,!1;case Qn:case ko:return B=1,!1;case Rn:case fo:return B=2,!1;case yA:return B=3,!1}else if(gr(At)||$n(At))return Array.isArray(B)||(B=[]),B.push(At),!1;return Ve},ve)}if(ve){var De=Li(y,ie);M.push(De)}}),{size:B,shape:C,stops:M,position:Y,type:2}},Pr=function(y,m){var C=0,B=3,M=[],Y=[];return On(m).forEach(function(ie,me){var ve=!0;if(me===0?ve=ie.reduce(function(De,Ve){if(ot(Ve))switch(Ve.value){case"center":return Y.push(fA),!1;case"top":case"left":return Y.push(Or),!1;case"right":case"bottom":return Y.push(Qi),!1}else if($n(Ve)||gr(Ve))return Y.push(Ve),!1;return De},ve):me===1&&(ve=ie.reduce(function(De,Ve){if(ot(Ve))switch(Ve.value){case $r:return C=0,!1;case Oi:return C=1,!1;case Rn:case GA:return B=0,!1;case ko:return B=1,!1;case fo:return B=2,!1;case Qn:case yA:return B=3,!1}else if(gr(Ve)||$n(Ve))return Array.isArray(B)||(B=[]),B.push(Ve),!1;return De},ve)),ve){var Fe=Li(y,ie);M.push(Fe)}}),{size:B,shape:C,stops:M,position:Y,type:2}},ma=function(y){return y.type===1},wA=function(y){return y.type===2},po={name:"image",parse:function(y,m){if(m.type===22){var C={url:m.value,type:0};return y.cache.addImage(m.value),C}if(m.type===18){var B=Nc[m.name];if(typeof B>"u")throw new Error('Attempting to parse an unsupported image function "'+m.name+'"');return B(y,m.values)}throw new Error("Unsupported image type "+m.type)}};function Ho(y){return!(y.type===20&&y.value==="none")&&(y.type!==18||!!Nc[y.name])}var Nc={"linear-gradient":vA,"-moz-linear-gradient":za,"-ms-linear-gradient":za,"-o-linear-gradient":za,"-webkit-linear-gradient":za,"radial-gradient":Ir,"-moz-radial-gradient":Pr,"-ms-radial-gradient":Pr,"-o-radial-gradient":Pr,"-webkit-radial-gradient":Pr,"-webkit-gradient":KA},zA={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(y,m){if(m.length===0)return[];var C=m[0];return C.type===20&&C.value==="none"?[]:m.filter(function(B){return Kn(B)&&Ho(B)}).map(function(B){return po.parse(y,B)})}},Ps={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(y,m){return m.map(function(C){if(ot(C))switch(C.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},va={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(y,m){return On(m).map(function(C){return C.filter($n)}).map(Ka)}},ci={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(y,m){return On(m).map(function(C){return C.filter(ot).map(function(B){return B.value}).join(" ")}).map(Kl)}},Kl=function(y){switch(y){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},bi;(function(y){y.AUTO="auto",y.CONTAIN="contain",y.COVER="cover"})(bi||(bi={}));var Tc={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(y,m){return On(m).map(function(C){return C.filter(qA)})}},qA=function(y){return ot(y)||$n(y)},ya=function(y){return{name:"border-"+y+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},yu=ya("top"),Uc=ya("right"),bA=ya("bottom"),Vo=ya("left"),Ko=function(y){return{name:"border-radius-"+y,initialValue:"0 0",prefix:!1,type:1,parse:function(m,C){return Ka(C.filter($n))}}},wu=Ko("top-left"),wa=Ko("top-right"),Xi=Ko("bottom-right"),$A=Ko("bottom-left"),ba=function(y){return{name:"border-"+y+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(m,C){switch(C){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Go=ba("top"),WA=ba("right"),jh=ba("bottom"),Fc=ba("left"),BA=function(y){return{name:"border-"+y+"-width",initialValue:"0",type:0,prefix:!1,parse:function(m,C){return Re(C)?C.number:0}}},_s=BA("top"),rs=BA("right"),ar=BA("bottom"),xA=BA("left"),go={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Sd={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(y,m){switch(m){case"rtl":return 1;case"ltr":default:return 0}}},YA={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(y,m){return m.filter(ot).reduce(function(C,B){return C|Nh(B.value)},0)}},Nh=function(y){switch(y){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},zo={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(y,m){switch(m){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Bi={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(y,m){return m.type===20&&m.value==="normal"?0:m.type===17||m.type===15?m.number:0}},ui;(function(y){y.NORMAL="normal",y.STRICT="strict"})(ui||(ui={}));var Th={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(y,m){switch(m){case"strict":return ui.STRICT;case"normal":default:return ui.NORMAL}}},Gl={name:"line-height",initialValue:"normal",prefix:!1,type:4},qa=function(y,m){return ot(y)&&y.value==="normal"?1.2*m:y.type===17?m*y.number:$n(y)?Wn(y,m):m},Ms={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(y,m){return m.type===20&&m.value==="none"?null:po.parse(y,m)}},qo={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(y,m){switch(m){case"inside":return 0;case"outside":default:return 1}}},mo={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(y,m){switch(m){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Ji=function(y){return{name:"margin-"+y,initialValue:"0",prefix:!1,type:4}},bu=Ji("top"),Bu=Ji("right"),zl=Ji("bottom"),xu=Ji("left"),vo={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(y,m){return m.filter(ot).map(function(C){switch(C.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Is={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(y,m){switch(m){case"break-word":return"break-word";case"normal":default:return"normal"}}},$a=function(y){return{name:"padding-"+y,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Cu=$a("top"),Df=$a("right"),Uh=$a("bottom"),Of=$a("left"),js={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(y,m){switch(m){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},_d={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(y,m){switch(m){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Qc={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(y,m){return m.length===1&&Fn(m[0],"none")?[]:On(m).map(function(C){for(var B={color:Os.TRANSPARENT,offsetX:Or,offsetY:Or,blur:Or},M=0,Y=0;Y<C.length;Y++){var ie=C[Y];gr(ie)?(M===0?B.offsetX=ie:M===1?B.offsetY=ie:B.blur=ie,M++):B.color=Ur.parse(y,ie)}return B})}},Rc={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(y,m){switch(m){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Id={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(y,m){if(m.type===20&&m.value==="none")return null;if(m.type===18){var C=Pf[m.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported transform function "'+m.name+'"');return C(m.values)}return null}},XA=function(y){var m=y.filter(function(C){return C.type===17}).map(function(C){return C.number});return m.length===6?m:null},$o=function(y){var m=y.filter(function(ve){return ve.type===17}).map(function(ve){return ve.number}),C=m[0],B=m[1];m[2],m[3];var M=m[4],Y=m[5];m[6],m[7],m[8],m[9],m[10],m[11];var ie=m[12],me=m[13];return m[14],m[15],m.length===16?[C,B,M,Y,ie,me]:null},Pf={matrix:XA,matrix3d:$o},jd={type:16,number:50,flags:zs},Fh=[jd,jd],g={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(y,m){var C=m.filter($n);return C.length!==2?Fh:[C[0],C[1]]}},S={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(y,m){switch(m){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},D;(function(y){y.NORMAL="normal",y.BREAK_ALL="break-all",y.KEEP_ALL="keep-all"})(D||(D={}));for(var q={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(y,m){switch(m){case"break-all":return D.BREAK_ALL;case"keep-all":return D.KEEP_ALL;case"normal":default:return D.NORMAL}}},Z={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(y,m){if(m.type===20)return{auto:!0,order:0};if(Ke(m))return{auto:!1,order:m.number};throw new Error("Invalid z-index number parsed")}},se={name:"time",parse:function(y,m){if(m.type===15)switch(m.unit.toLowerCase()){case"s":return 1e3*m.number;case"ms":return m.number}throw new Error("Unsupported time type")}},ae={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(y,m){return Ke(m)?m.number:1}},le={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(y,m){return m.filter(ot).map(function(C){switch(C.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(C){return C!==0})}},ye={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(y,m){var C=[],B=[];return m.forEach(function(M){switch(M.type){case 20:case 0:C.push(M.value);break;case 17:C.push(M.number.toString());break;case 4:B.push(C.join(" ")),C.length=0;break}}),C.length&&B.push(C.join(" ")),B.map(function(M){return M.indexOf(" ")===-1?M:"'"+M+"'"})}},Te={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},qe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(y,m){if(Ke(m))return m.number;if(ot(m))switch(m.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ge={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(y,m){return m.filter(ot).map(function(C){return C.value})}},Me={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(y,m){switch(m){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},at=function(y,m){return(y&m)!==0},nt={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(y,m){if(m.length===0)return[];var C=m[0];return C.type===20&&C.value==="none"?[]:m}},Ue={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(y,m){if(m.length===0)return null;var C=m[0];if(C.type===20&&C.value==="none")return null;for(var B=[],M=m.filter(yn),Y=0;Y<M.length;Y++){var ie=M[Y],me=M[Y+1];if(ie.type===20){var ve=me&&Ke(me)?me.number:1;B.push({counter:ie.value,increment:ve})}}return B}},Le={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(y,m){if(m.length===0)return[];for(var C=[],B=m.filter(yn),M=0;M<B.length;M++){var Y=B[M],ie=B[M+1];if(ot(Y)&&Y.value!=="none"){var me=ie&&Ke(ie)?ie.number:0;C.push({counter:Y.value,reset:me})}}return C}},lt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(y,m){return m.filter(Re).map(function(C){return se.parse(y,C)})}},gt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(y,m){if(m.length===0)return null;var C=m[0];if(C.type===20&&C.value==="none")return null;var B=[],M=m.filter(cn);if(M.length%2!==0)return null;for(var Y=0;Y<M.length;Y+=2){var ie=M[Y].value,me=M[Y+1].value;B.push({open:ie,close:me})}return B}},ut=function(y,m,C){if(!y)return"";var B=y[Math.min(m,y.length-1)];return B?C?B.open:B.close:""},Gt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(y,m){return m.length===1&&Fn(m[0],"none")?[]:On(m).map(function(C){for(var B={color:255,offsetX:Or,offsetY:Or,blur:Or,spread:Or,inset:!1},M=0,Y=0;Y<C.length;Y++){var ie=C[Y];Fn(ie,"inset")?B.inset=!0:gr(ie)?(M===0?B.offsetX=ie:M===1?B.offsetY=ie:M===2?B.blur=ie:B.spread=ie,M++):B.color=Ur.parse(y,ie)}return B})}},Rt={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(y,m){var C=[0,1,2],B=[];return m.filter(ot).forEach(function(M){switch(M.value){case"stroke":B.push(1);break;case"fill":B.push(0);break;case"markers":B.push(2);break}}),C.forEach(function(M){B.indexOf(M)===-1&&B.push(M)}),B}},nn={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Dt={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(y,m){return Re(m)?m.number:0}},Zn=(function(){function y(m,C){var B,M;this.animationDuration=bt(m,lt,C.animationDuration),this.backgroundClip=bt(m,Ga,C.backgroundClip),this.backgroundColor=bt(m,ns,C.backgroundColor),this.backgroundImage=bt(m,zA,C.backgroundImage),this.backgroundOrigin=bt(m,Ps,C.backgroundOrigin),this.backgroundPosition=bt(m,va,C.backgroundPosition),this.backgroundRepeat=bt(m,ci,C.backgroundRepeat),this.backgroundSize=bt(m,Tc,C.backgroundSize),this.borderTopColor=bt(m,yu,C.borderTopColor),this.borderRightColor=bt(m,Uc,C.borderRightColor),this.borderBottomColor=bt(m,bA,C.borderBottomColor),this.borderLeftColor=bt(m,Vo,C.borderLeftColor),this.borderTopLeftRadius=bt(m,wu,C.borderTopLeftRadius),this.borderTopRightRadius=bt(m,wa,C.borderTopRightRadius),this.borderBottomRightRadius=bt(m,Xi,C.borderBottomRightRadius),this.borderBottomLeftRadius=bt(m,$A,C.borderBottomLeftRadius),this.borderTopStyle=bt(m,Go,C.borderTopStyle),this.borderRightStyle=bt(m,WA,C.borderRightStyle),this.borderBottomStyle=bt(m,jh,C.borderBottomStyle),this.borderLeftStyle=bt(m,Fc,C.borderLeftStyle),this.borderTopWidth=bt(m,_s,C.borderTopWidth),this.borderRightWidth=bt(m,rs,C.borderRightWidth),this.borderBottomWidth=bt(m,ar,C.borderBottomWidth),this.borderLeftWidth=bt(m,xA,C.borderLeftWidth),this.boxShadow=bt(m,Gt,C.boxShadow),this.color=bt(m,go,C.color),this.direction=bt(m,Sd,C.direction),this.display=bt(m,YA,C.display),this.float=bt(m,zo,C.cssFloat),this.fontFamily=bt(m,ye,C.fontFamily),this.fontSize=bt(m,Te,C.fontSize),this.fontStyle=bt(m,Me,C.fontStyle),this.fontVariant=bt(m,Ge,C.fontVariant),this.fontWeight=bt(m,qe,C.fontWeight),this.letterSpacing=bt(m,Bi,C.letterSpacing),this.lineBreak=bt(m,Th,C.lineBreak),this.lineHeight=bt(m,Gl,C.lineHeight),this.listStyleImage=bt(m,Ms,C.listStyleImage),this.listStylePosition=bt(m,qo,C.listStylePosition),this.listStyleType=bt(m,mo,C.listStyleType),this.marginTop=bt(m,bu,C.marginTop),this.marginRight=bt(m,Bu,C.marginRight),this.marginBottom=bt(m,zl,C.marginBottom),this.marginLeft=bt(m,xu,C.marginLeft),this.opacity=bt(m,ae,C.opacity);var Y=bt(m,vo,C.overflow);this.overflowX=Y[0],this.overflowY=Y[Y.length>1?1:0],this.overflowWrap=bt(m,Is,C.overflowWrap),this.paddingTop=bt(m,Cu,C.paddingTop),this.paddingRight=bt(m,Df,C.paddingRight),this.paddingBottom=bt(m,Uh,C.paddingBottom),this.paddingLeft=bt(m,Of,C.paddingLeft),this.paintOrder=bt(m,Rt,C.paintOrder),this.position=bt(m,_d,C.position),this.textAlign=bt(m,js,C.textAlign),this.textDecorationColor=bt(m,le,(B=C.textDecorationColor)!==null&&B!==void 0?B:C.color),this.textDecorationLine=bt(m,fe,(M=C.textDecorationLine)!==null&&M!==void 0?M:C.textDecoration),this.textShadow=bt(m,Qc,C.textShadow),this.textTransform=bt(m,Rc,C.textTransform),this.transform=bt(m,Id,C.transform),this.transformOrigin=bt(m,g,C.transformOrigin),this.visibility=bt(m,S,C.visibility),this.webkitTextStrokeColor=bt(m,nn,C.webkitTextStrokeColor),this.webkitTextStrokeWidth=bt(m,Dt,C.webkitTextStrokeWidth),this.wordBreak=bt(m,q,C.wordBreak),this.zIndex=bt(m,Z,C.zIndex)}return y.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},y.prototype.isTransparent=function(){return yi(this.backgroundColor)},y.prototype.isTransformed=function(){return this.transform!==null},y.prototype.isPositioned=function(){return this.position!==0},y.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},y.prototype.isFloating=function(){return this.float!==0},y.prototype.isInlineLevel=function(){return at(this.display,4)||at(this.display,33554432)||at(this.display,268435456)||at(this.display,536870912)||at(this.display,67108864)||at(this.display,134217728)},y})(),lr=(function(){function y(m,C){this.content=bt(m,nt,C.content),this.quotes=bt(m,gt,C.quotes)}return y})(),Un=(function(){function y(m,C){this.counterIncrement=bt(m,Ue,C.counterIncrement),this.counterReset=bt(m,Le,C.counterReset)}return y})(),bt=function(y,m,C){var B=new W,M=C!==null&&typeof C<"u"?C.toString():m.initialValue;B.write(M);var Y=new Ae(B.read());switch(m.type){case 2:var ie=Y.parseComponentValue();return m.parse(y,ot(ie)?ie.value:m.initialValue);case 0:return m.parse(y,Y.parseComponentValue());case 1:return m.parse(y,Y.parseComponentValues());case 4:return Y.parseComponentValue();case 3:switch(m.format){case"angle":return Hl.parse(y,Y.parseComponentValue());case"color":return Ur.parse(y,Y.parseComponentValue());case"image":return po.parse(y,Y.parseComponentValue());case"length":var me=Y.parseComponentValue();return gr(me)?me:Or;case"length-percentage":var ve=Y.parseComponentValue();return $n(ve)?ve:Or;case"time":return se.parse(y,Y.parseComponentValue())}break}},mr="data-html2canvas-debug",cr=function(y){var m=y.getAttribute(mr);switch(m){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},gn=function(y,m){var C=cr(y);return C===1||m===C},Hn=(function(){function y(m,C){if(this.context=m,this.textNodes=[],this.elements=[],this.flags=0,gn(C,3))debugger;this.styles=new Zn(m,window.getComputedStyle(C,null)),Us(C)&&(this.styles.animationDuration.some(function(B){return B>0})&&(C.style.animationDuration="0s"),this.styles.transform!==null&&(C.style.transform="none")),this.bounds=p(this.context,C),gn(C,4)&&(this.flags|=16)}return y})(),An="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",dn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pn=typeof Uint8Array>"u"?[]:new Uint8Array(256),Gn=0;Gn<dn.length;Gn++)Pn[dn.charCodeAt(Gn)]=Gn;for(var ks=function(y){var m=y.length*.75,C=y.length,B,M=0,Y,ie,me,ve;y[y.length-1]==="="&&(m--,y[y.length-2]==="="&&m--);var Fe=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(m):new Array(m),De=Array.isArray(Fe)?Fe:new Uint8Array(Fe);for(B=0;B<C;B+=4)Y=Pn[y.charCodeAt(B)],ie=Pn[y.charCodeAt(B+1)],me=Pn[y.charCodeAt(B+2)],ve=Pn[y.charCodeAt(B+3)],De[M++]=Y<<2|ie>>4,De[M++]=(ie&15)<<4|me>>2,De[M++]=(me&3)<<6|ve&63;return Fe},Ns=function(y){for(var m=y.length,C=[],B=0;B<m;B+=2)C.push(y[B+1]<<8|y[B]);return C},us=function(y){for(var m=y.length,C=[],B=0;B<m;B+=4)C.push(y[B+3]<<24|y[B+2]<<16|y[B+1]<<8|y[B]);return C},Br=5,ss=11,Pi=2,ur=ss-Br,ds=65536>>Br,Wa=1<<Br,yo=Wa-1,JA=1024>>Br,CA=ds+JA,Mr=CA,Lc=32,Eu=Mr+Lc,xi=65536>>ss,Wr=1<<ur,ZA=Wr-1,Wo=function(y,m,C){return y.slice?y.slice(m,C):new Uint16Array(Array.prototype.slice.call(y,m,C))},Mi=function(y,m,C){return y.slice?y.slice(m,C):new Uint32Array(Array.prototype.slice.call(y,m,C))},EA=function(y,m){var C=ks(y),B=Array.isArray(C)?us(C):new Uint32Array(C),M=Array.isArray(C)?Ns(C):new Uint16Array(C),Y=24,ie=Wo(M,Y/2,B[4]/2),me=B[5]===2?Wo(M,(Y+B[4])/2):Mi(B,Math.ceil((Y+B[4])/4));return new ki(B[0],B[1],B[2],B[3],ie,me)},ki=(function(){function y(m,C,B,M,Y,ie){this.initialValue=m,this.errorValue=C,this.highStart=B,this.highValueIndex=M,this.index=Y,this.data=ie}return y.prototype.get=function(m){var C;if(m>=0){if(m<55296||m>56319&&m<=65535)return C=this.index[m>>Br],C=(C<<Pi)+(m&yo),this.data[C];if(m<=65535)return C=this.index[ds+(m-55296>>Br)],C=(C<<Pi)+(m&yo),this.data[C];if(m<this.highStart)return C=Eu-xi+(m>>ss),C=this.index[C],C+=m>>Br&ZA,C=this.index[C],C=(C<<Pi)+(m&yo),this.data[C];if(m<=1114111)return this.data[this.highValueIndex]}return this.errorValue},y})(),ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$l=typeof Uint8Array>"u"?[]:new Uint8Array(256),el=0;el<ql.length;el++)$l[ql.charCodeAt(el)]=el;var Dc=1,Wl=2,tl=3,nl=4,Nd=5,Qh=7,Yl=8,Ya=9,Td=10,Ud=11,Fd=12,Su=13,rl=14,Oc=15,Qd=function(y){for(var m=[],C=0,B=y.length;C<B;){var M=y.charCodeAt(C++);if(M>=55296&&M<=56319&&C<B){var Y=y.charCodeAt(C++);(Y&64512)===56320?m.push(((M&1023)<<10)+(Y&1023)+65536):(m.push(M),C--)}else m.push(M)}return m},Pc=function(){for(var y=[],m=0;m<arguments.length;m++)y[m]=arguments[m];if(String.fromCodePoint)return String.fromCodePoint.apply(String,y);var C=y.length;if(!C)return"";for(var B=[],M=-1,Y="";++M<C;){var ie=y[M];ie<=65535?B.push(ie):(ie-=65536,B.push((ie>>10)+55296,ie%1024+56320)),(M+1===C||B.length>16384)&&(Y+=String.fromCharCode.apply(String,B),B.length=0)}return Y},_u=EA(An),Ws="×",Iu="÷",Rh=function(y){return _u.get(y)},Yo=function(y,m,C){var B=C-2,M=m[B],Y=m[C-1],ie=m[C];if(Y===Wl&&ie===tl)return Ws;if(Y===Wl||Y===tl||Y===nl||ie===Wl||ie===tl||ie===nl)return Iu;if(Y===Yl&&[Yl,Ya,Ud,Fd].indexOf(ie)!==-1||(Y===Ud||Y===Ya)&&(ie===Ya||ie===Td)||(Y===Fd||Y===Td)&&ie===Td||ie===Su||ie===Nd||ie===Qh||Y===Dc)return Ws;if(Y===Su&&ie===rl){for(;M===Nd;)M=m[--B];if(M===rl)return Ws}if(Y===Oc&&ie===Oc){for(var me=0;M===Oc;)me++,M=m[--B];if(me%2===0)return Ws}return Iu},Mc=function(y){var m=Qd(y),C=m.length,B=0,M=0,Y=m.map(Rh);return{next:function(){if(B>=C)return{done:!0,value:null};for(var ie=Ws;B<C&&(ie=Yo(m,Y,++B))===Ws;);if(ie!==Ws||B===C){var me=Pc.apply(null,m.slice(M,B));return M=B,{value:me,done:!1}}return{done:!0,value:null}}}},ju=function(y){for(var m=Mc(y),C=[],B;!(B=m.next()).done;)B.value&&C.push(B.value.slice());return C},Xa=function(y){var m=123;if(y.createRange){var C=y.createRange();if(C.getBoundingClientRect){var B=y.createElement("boundtest");B.style.height=m+"px",B.style.display="block",y.body.appendChild(B),C.selectNode(B);var M=C.getBoundingClientRect(),Y=Math.round(M.height);if(y.body.removeChild(B),Y===m)return!0}}return!1},Xl=function(y){var m=y.createElement("boundtest");m.style.width="50px",m.style.display="block",m.style.fontSize="12px",m.style.letterSpacing="0px",m.style.wordSpacing="0px",y.body.appendChild(m);var C=y.createRange();m.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var B=m.firstChild,M=b(B.data).map(function(ve){return x(ve)}),Y=0,ie={},me=M.every(function(ve,Fe){C.setStart(B,Y),C.setEnd(B,Y+ve.length);var De=C.getBoundingClientRect();Y+=ve.length;var Ve=De.x>ie.x||De.y>ie.y;return ie=De,Fe===0?!0:Ve});return y.body.removeChild(m),me},Rd=function(){return typeof new Image().crossOrigin<"u"},Lh=function(){return typeof new XMLHttpRequest().responseType=="string"},Ld=function(y){var m=new Image,C=y.createElement("canvas"),B=C.getContext("2d");if(!B)return!1;m.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{B.drawImage(m,0,0),C.toDataURL()}catch{return!1}return!0},SA=function(y){return y[0]===0&&y[1]===255&&y[2]===0&&y[3]===255},Dh=function(y){var m=y.createElement("canvas"),C=100;m.width=C,m.height=C;var B=m.getContext("2d");if(!B)return Promise.reject(!1);B.fillStyle="rgb(0, 255, 0)",B.fillRect(0,0,C,C);var M=new Image,Y=m.toDataURL();M.src=Y;var ie=kc(C,C,0,0,M);return B.fillStyle="red",B.fillRect(0,0,C,C),Nu(ie).then(function(me){B.drawImage(me,0,0);var ve=B.getImageData(0,0,C,C).data;B.fillStyle="red",B.fillRect(0,0,C,C);var Fe=y.createElement("div");return Fe.style.backgroundImage="url("+Y+")",Fe.style.height=C+"px",SA(ve)?Nu(kc(C,C,0,0,Fe)):Promise.reject(!1)}).then(function(me){return B.drawImage(me,0,0),SA(B.getImageData(0,0,C,C).data)}).catch(function(){return!1})},kc=function(y,m,C,B,M){var Y="http://www.w3.org/2000/svg",ie=document.createElementNS(Y,"svg"),me=document.createElementNS(Y,"foreignObject");return ie.setAttributeNS(null,"width",y.toString()),ie.setAttributeNS(null,"height",m.toString()),me.setAttributeNS(null,"width","100%"),me.setAttributeNS(null,"height","100%"),me.setAttributeNS(null,"x",C.toString()),me.setAttributeNS(null,"y",B.toString()),me.setAttributeNS(null,"externalResourcesRequired","true"),ie.appendChild(me),me.appendChild(M),ie},Nu=function(y){return new Promise(function(m,C){var B=new Image;B.onload=function(){return m(B)},B.onerror=C,B.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(y))})},Ts={get SUPPORT_RANGE_BOUNDS(){var y=Xa(document);return Object.defineProperty(Ts,"SUPPORT_RANGE_BOUNDS",{value:y}),y},get SUPPORT_WORD_BREAKING(){var y=Ts.SUPPORT_RANGE_BOUNDS&&Xl(document);return Object.defineProperty(Ts,"SUPPORT_WORD_BREAKING",{value:y}),y},get SUPPORT_SVG_DRAWING(){var y=Ld(document);return Object.defineProperty(Ts,"SUPPORT_SVG_DRAWING",{value:y}),y},get SUPPORT_FOREIGNOBJECT_DRAWING(){var y=typeof Array.from=="function"&&typeof window.fetch=="function"?Dh(document):Promise.resolve(!1);return Object.defineProperty(Ts,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:y}),y},get SUPPORT_CORS_IMAGES(){var y=Rd();return Object.defineProperty(Ts,"SUPPORT_CORS_IMAGES",{value:y}),y},get SUPPORT_RESPONSE_TYPE(){var y=Lh();return Object.defineProperty(Ts,"SUPPORT_RESPONSE_TYPE",{value:y}),y},get SUPPORT_CORS_XHR(){var y="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ts,"SUPPORT_CORS_XHR",{value:y}),y},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var y=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ts,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:y}),y}},Jl=(function(){function y(m,C){this.text=m,this.bounds=C}return y})(),sl=function(y,m,C,B){var M=Xo(m,C),Y=[],ie=0;return M.forEach(function(me){if(C.textDecorationLine.length||me.trim().length>0)if(Ts.SUPPORT_RANGE_BOUNDS){var ve=Zl(B,ie,me.length).getClientRects();if(ve.length>1){var Fe=Ja(me),De=0;Fe.forEach(function(At){Y.push(new Jl(At,u.fromDOMRectList(y,Zl(B,De+ie,At.length).getClientRects()))),De+=At.length})}else Y.push(new Jl(me,u.fromDOMRectList(y,ve)))}else{var Ve=B.splitText(me.length);Y.push(new Jl(me,Tu(y,B))),B=Ve}else Ts.SUPPORT_RANGE_BOUNDS||(B=B.splitText(me.length));ie+=me.length}),Y},Tu=function(y,m){var C=m.ownerDocument;if(C){var B=C.createElement("html2canvaswrapper");B.appendChild(m.cloneNode(!0));var M=m.parentNode;if(M){M.replaceChild(B,m);var Y=p(y,B);return B.firstChild&&M.replaceChild(B.firstChild,B),Y}}return u.EMPTY},Zl=function(y,m,C){var B=y.ownerDocument;if(!B)throw new Error("Node has no owner document");var M=B.createRange();return M.setStart(y,m),M.setEnd(y,m+C),M},Ja=function(y){if(Ts.SUPPORT_NATIVE_TEXT_SEGMENTATION){var m=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(m.segment(y)).map(function(C){return C.segment})}return ju(y)},wo=function(y,m){if(Ts.SUPPORT_NATIVE_TEXT_SEGMENTATION){var C=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(C.segment(y)).map(function(B){return B.segment})}return Vc(y,m)},Xo=function(y,m){return m.letterSpacing!==0?Ja(y):wo(y,m)},Hc=[32,160,4961,65792,65793,4153,4241],Vc=function(y,m){for(var C=OA(y,{lineBreak:m.lineBreak,wordBreak:m.overflowWrap==="break-word"?"break-word":m.wordBreak}),B=[],M,Y=function(){if(M.value){var ie=M.value.slice(),me=b(ie),ve="";me.forEach(function(Fe){Hc.indexOf(Fe)===-1?ve+=x(Fe):(ve.length&&B.push(ve),B.push(x(Fe)),ve="")}),ve.length&&B.push(ve)}};!(M=C.next()).done;)Y();return B},Dd=(function(){function y(m,C,B){this.text=Oh(C.data,B.textTransform),this.textBounds=sl(m,this.text,B,C)}return y})(),Oh=function(y,m){switch(m){case 1:return y.toLowerCase();case 3:return y.replace(Od,Pd);case 2:return y.toUpperCase();default:return y}},Od=/(^|\s|:|-|\(|\))([a-z])/g,Pd=function(y,m,C){return y.length>0?m+C.toUpperCase():y},Mf=(function(y){r(m,y);function m(C,B){var M=y.call(this,C,B)||this;return M.src=B.currentSrc||B.src,M.intrinsicWidth=B.naturalWidth,M.intrinsicHeight=B.naturalHeight,M.context.cache.addImage(M.src),M}return m})(Hn),Uu=(function(y){r(m,y);function m(C,B){var M=y.call(this,C,B)||this;return M.canvas=B,M.intrinsicWidth=B.width,M.intrinsicHeight=B.height,M}return m})(Hn),Ph=(function(y){r(m,y);function m(C,B){var M=y.call(this,C,B)||this,Y=new XMLSerializer,ie=p(C,B);return B.setAttribute("width",ie.width+"px"),B.setAttribute("height",ie.height+"px"),M.svg="data:image/svg+xml,"+encodeURIComponent(Y.serializeToString(B)),M.intrinsicWidth=B.width.baseVal.value,M.intrinsicHeight=B.height.baseVal.value,M.context.cache.addImage(M.svg),M}return m})(Hn),Md=(function(y){r(m,y);function m(C,B){var M=y.call(this,C,B)||this;return M.value=B.value,M}return m})(Hn),Mh=(function(y){r(m,y);function m(C,B){var M=y.call(this,C,B)||this;return M.start=B.start,M.reversed=typeof B.reversed=="boolean"&&B.reversed===!0,M}return m})(Hn),Cg=[{type:15,flags:0,unit:"px",number:3}],kh=[{type:16,flags:0,number:50}],Eg=function(y){return y.width>y.height?new u(y.left+(y.width-y.height)/2,y.top,y.height,y.height):y.width<y.height?new u(y.left,y.top+(y.height-y.width)/2,y.width,y.width):y},Sg=function(y){var m=y.type===kd?new Array(y.value.length+1).join("•"):y.value;return m.length===0?y.placeholder||"":m},Hh="checkbox",il="radio",kd="password",Hd=707406591,Kc=(function(y){r(m,y);function m(C,B){var M=y.call(this,C,B)||this;switch(M.type=B.type.toLowerCase(),M.checked=B.checked,M.value=Sg(B),(M.type===Hh||M.type===il)&&(M.styles.backgroundColor=3739148031,M.styles.borderTopColor=M.styles.borderRightColor=M.styles.borderBottomColor=M.styles.borderLeftColor=2779096575,M.styles.borderTopWidth=M.styles.borderRightWidth=M.styles.borderBottomWidth=M.styles.borderLeftWidth=1,M.styles.borderTopStyle=M.styles.borderRightStyle=M.styles.borderBottomStyle=M.styles.borderLeftStyle=1,M.styles.backgroundClip=[0],M.styles.backgroundOrigin=[0],M.bounds=Eg(M.bounds)),M.type){case Hh:M.styles.borderTopRightRadius=M.styles.borderTopLeftRadius=M.styles.borderBottomRightRadius=M.styles.borderBottomLeftRadius=Cg;break;case il:M.styles.borderTopRightRadius=M.styles.borderTopLeftRadius=M.styles.borderBottomRightRadius=M.styles.borderBottomLeftRadius=kh;break}return M}return m})(Hn),Vd=(function(y){r(m,y);function m(C,B){var M=y.call(this,C,B)||this,Y=B.options[B.selectedIndex||0];return M.value=Y&&Y.text||"",M}return m})(Hn),kf=(function(y){r(m,y);function m(C,B){var M=y.call(this,C,B)||this;return M.value=B.value,M}return m})(Hn),Hf=(function(y){r(m,y);function m(C,B){var M=y.call(this,C,B)||this;M.src=B.src,M.width=parseInt(B.width,10)||0,M.height=parseInt(B.height,10)||0,M.backgroundColor=M.styles.backgroundColor;try{if(B.contentWindow&&B.contentWindow.document&&B.contentWindow.document.documentElement){M.tree=Jo(C,B.contentWindow.document.documentElement);var Y=B.contentWindow.document.documentElement?wi(C,getComputedStyle(B.contentWindow.document.documentElement).backgroundColor):Os.TRANSPARENT,ie=B.contentWindow.document.body?wi(C,getComputedStyle(B.contentWindow.document.body).backgroundColor):Os.TRANSPARENT;M.backgroundColor=yi(Y)?yi(ie)?M.styles.backgroundColor:ie:Y}}catch{}return M}return m})(Hn),Fu=["OL","UL","MENU"],Kd=function(y,m,C,B){for(var M=m.firstChild,Y=void 0;M;M=Y)if(Y=M.nextSibling,al(M)&&M.data.trim().length>0)C.textNodes.push(new Dd(y,M,C.styles));else if(Ba(M))if(Ng(M)&&M.assignedNodes)M.assignedNodes().forEach(function(me){return Kd(y,me,C,B)});else{var ie=Za(y,M);ie.styles.isVisible()&&(ec(M,ie,B)?ie.flags|=4:_g(ie.styles)&&(ie.flags|=2),Fu.indexOf(M.tagName)!==-1&&(ie.flags|=8),C.elements.push(ie),M.slot,M.shadowRoot?Kd(y,M.shadowRoot,ie,B):!zd(M)&&!tc(M)&&!qd(M)&&Kd(y,M,ie,B))}},Za=function(y,m){return Vh(m)?new Mf(y,m):Gf(m)?new Uu(y,m):tc(m)?new Ph(y,m):Vf(m)?new Md(y,m):Kf(m)?new Mh(y,m):Ig(m)?new Kc(y,m):qd(m)?new Vd(y,m):zd(m)?new kf(y,m):Gd(m)?new Hf(y,m):new Hn(y,m)},Jo=function(y,m){var C=Za(y,m);return C.flags|=4,Kd(y,m,C,C),C},ec=function(y,m,C){return m.styles.isPositionedWithZIndex()||m.styles.opacity<1||m.styles.isTransformed()||Qu(y)&&C.styles.isTransparent()},_g=function(y){return y.isPositioned()||y.isFloating()},al=function(y){return y.nodeType===Node.TEXT_NODE},Ba=function(y){return y.nodeType===Node.ELEMENT_NODE},Us=function(y){return Ba(y)&&typeof y.style<"u"&&!Gc(y)},Gc=function(y){return typeof y.className=="object"},Vf=function(y){return y.tagName==="LI"},Kf=function(y){return y.tagName==="OL"},Ig=function(y){return y.tagName==="INPUT"},jg=function(y){return y.tagName==="HTML"},tc=function(y){return y.tagName==="svg"},Qu=function(y){return y.tagName==="BODY"},Gf=function(y){return y.tagName==="CANVAS"},zf=function(y){return y.tagName==="VIDEO"},Vh=function(y){return y.tagName==="IMG"},Gd=function(y){return y.tagName==="IFRAME"},qf=function(y){return y.tagName==="STYLE"},$f=function(y){return y.tagName==="SCRIPT"},zd=function(y){return y.tagName==="TEXTAREA"},qd=function(y){return y.tagName==="SELECT"},Ng=function(y){return y.tagName==="SLOT"},Wf=function(y){return y.tagName.indexOf("-")>0},di=(function(){function y(){this.counters={}}return y.prototype.getCounterValue=function(m){var C=this.counters[m];return C&&C.length?C[C.length-1]:1},y.prototype.getCounterValues=function(m){var C=this.counters[m];return C||[]},y.prototype.pop=function(m){var C=this;m.forEach(function(B){return C.counters[B].pop()})},y.prototype.parse=function(m){var C=this,B=m.counterIncrement,M=m.counterReset,Y=!0;B!==null&&B.forEach(function(me){var ve=C.counters[me.counter];ve&&me.increment!==0&&(Y=!1,ve.length||ve.push(1),ve[Math.max(0,ve.length-1)]+=me.increment)});var ie=[];return Y&&M.forEach(function(me){var ve=C.counters[me.counter];ie.push(me.counter),ve||(ve=C.counters[me.counter]=[]),ve.push(me.reset)}),ie},y})(),hi={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Yf={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Tg={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Ug={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},zc=function(y,m,C,B,M,Y){return y<m||y>C?Wc(y,M,Y.length>0):B.integers.reduce(function(ie,me,ve){for(;y>=me;)y-=me,ie+=B.values[ve];return ie},"")+Y},Xf=function(y,m,C,B){var M="";do C||y--,M=B(y)+M,y/=m;while(y*m>=m);return M},is=function(y,m,C,B,M){var Y=C-m+1;return(y<0?"-":"")+(Xf(Math.abs(y),Y,B,function(ie){return x(Math.floor(ie%Y)+m)})+M)},ol=function(y,m,C){C===void 0&&(C=". ");var B=m.length;return Xf(Math.abs(y),B,!1,function(M){return m[Math.floor(M%B)]})+C},qc=1,Al=2,ll=4,$c=8,Zo=function(y,m,C,B,M,Y){if(y<-9999||y>9999)return Wc(y,4,M.length>0);var ie=Math.abs(y),me=M;if(ie===0)return m[0]+me;for(var ve=0;ie>0&&ve<=4;ve++){var Fe=ie%10;Fe===0&&at(Y,qc)&&me!==""?me=m[Fe]+me:Fe>1||Fe===1&&ve===0||Fe===1&&ve===1&&at(Y,Al)||Fe===1&&ve===1&&at(Y,ll)&&y>100||Fe===1&&ve>1&&at(Y,$c)?me=m[Fe]+(ve>0?C[ve-1]:"")+me:Fe===1&&ve>0&&(me=C[ve-1]+me),ie=Math.floor(ie/10)}return(y<0?B:"")+me},Kh="十百千萬",Jf="拾佰仟萬",Gh="マイナス",Ru="마이너스",Wc=function(y,m,C){var B=C?". ":"",M=C?"、":"",Y=C?", ":"",ie=C?" ":"";switch(m){case 0:return"•"+ie;case 1:return"◦"+ie;case 2:return"◾"+ie;case 5:var me=is(y,48,57,!0,B);return me.length<4?"0"+me:me;case 4:return ol(y,"〇一二三四五六七八九",M);case 6:return zc(y,1,3999,hi,3,B).toLowerCase();case 7:return zc(y,1,3999,hi,3,B);case 8:return is(y,945,969,!1,B);case 9:return is(y,97,122,!1,B);case 10:return is(y,65,90,!1,B);case 11:return is(y,1632,1641,!0,B);case 12:case 49:return zc(y,1,9999,Yf,3,B);case 35:return zc(y,1,9999,Yf,3,B).toLowerCase();case 13:return is(y,2534,2543,!0,B);case 14:case 30:return is(y,6112,6121,!0,B);case 15:return ol(y,"子丑寅卯辰巳午未申酉戌亥",M);case 16:return ol(y,"甲乙丙丁戊己庚辛壬癸",M);case 17:case 48:return Zo(y,"零一二三四五六七八九",Kh,"負",M,Al|ll|$c);case 47:return Zo(y,"零壹貳參肆伍陸柒捌玖",Jf,"負",M,qc|Al|ll|$c);case 42:return Zo(y,"零一二三四五六七八九",Kh,"负",M,Al|ll|$c);case 41:return Zo(y,"零壹贰叁肆伍陆柒捌玖",Jf,"负",M,qc|Al|ll|$c);case 26:return Zo(y,"〇一二三四五六七八九","十百千万",Gh,M,0);case 25:return Zo(y,"零壱弐参四伍六七八九","拾百千万",Gh,M,qc|Al|ll);case 31:return Zo(y,"영일이삼사오육칠팔구","십백천만",Ru,Y,qc|Al|ll);case 33:return Zo(y,"零一二三四五六七八九","十百千萬",Ru,Y,0);case 32:return Zo(y,"零壹貳參四五六七八九","拾百千",Ru,Y,qc|Al|ll);case 18:return is(y,2406,2415,!0,B);case 20:return zc(y,1,19999,Ug,3,B);case 21:return is(y,2790,2799,!0,B);case 22:return is(y,2662,2671,!0,B);case 22:return zc(y,1,10999,Tg,3,B);case 23:return ol(y,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return ol(y,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return is(y,3302,3311,!0,B);case 28:return ol(y,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",M);case 29:return ol(y,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",M);case 34:return is(y,3792,3801,!0,B);case 37:return is(y,6160,6169,!0,B);case 38:return is(y,4160,4169,!0,B);case 39:return is(y,2918,2927,!0,B);case 40:return is(y,1776,1785,!0,B);case 43:return is(y,3046,3055,!0,B);case 44:return is(y,3174,3183,!0,B);case 45:return is(y,3664,3673,!0,B);case 46:return is(y,3872,3881,!0,B);case 3:default:return is(y,48,57,!0,B)}},Zf="data-html2canvas-ignore",zh=(function(){function y(m,C,B){if(this.context=m,this.options=B,this.scrolledElements=[],this.referenceElement=C,this.counters=new di,this.quoteDepth=0,!C.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(C.ownerDocument.documentElement,!1)}return y.prototype.toIFrame=function(m,C){var B=this,M=cl(m,C);if(!M.contentWindow)return Promise.reject("Unable to find iframe window");var Y=m.defaultView.pageXOffset,ie=m.defaultView.pageYOffset,me=M.contentWindow,ve=me.document,Fe=Fg(M).then(function(){return o(B,void 0,void 0,function(){var De,Ve;return c(this,function(At){switch(At.label){case 0:return this.scrolledElements.forEach(hs),me&&(me.scrollTo(C.left,C.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(me.scrollY!==C.top||me.scrollX!==C.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(me.scrollX-C.left,me.scrollY-C.top,0,0))),De=this.options.onclone,Ve=this.clonedReferenceElement,typeof Ve>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:ve.fonts&&ve.fonts.ready?[4,ve.fonts.ready]:[3,2];case 1:At.sent(),At.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,k0(ve)]:[3,4];case 3:At.sent(),At.label=4;case 4:return typeof De=="function"?[2,Promise.resolve().then(function(){return De(ve,Ve)}).then(function(){return M})]:[2,M]}})})});return ve.open(),ve.write($h(document.doctype)+"<html></html>"),$d(this.referenceElement.ownerDocument,Y,ie),ve.replaceChild(ve.adoptNode(this.documentElement),ve.documentElement),ve.close(),Fe},y.prototype.createElementClone=function(m){if(gn(m,2))debugger;if(Gf(m))return this.createCanvasClone(m);if(zf(m))return this.createVideoClone(m);if(qf(m))return this.createStyleClone(m);var C=m.cloneNode(!1);return Vh(C)&&(Vh(m)&&m.currentSrc&&m.currentSrc!==m.src&&(C.src=m.currentSrc,C.srcset=""),C.loading==="lazy"&&(C.loading="eager")),Wf(C)?this.createCustomElementClone(C):C},y.prototype.createCustomElementClone=function(m){var C=document.createElement("html2canvascustomelement");return qh(m.style,C),C},y.prototype.createStyleClone=function(m){try{var C=m.sheet;if(C&&C.cssRules){var B=[].slice.call(C.cssRules,0).reduce(function(Y,ie){return ie&&typeof ie.cssText=="string"?Y+ie.cssText:Y},""),M=m.cloneNode(!1);return M.textContent=B,M}}catch(Y){if(this.context.logger.error("Unable to access cssRules property",Y),Y.name!=="SecurityError")throw Y}return m.cloneNode(!1)},y.prototype.createCanvasClone=function(m){var C;if(this.options.inlineImages&&m.ownerDocument){var B=m.ownerDocument.createElement("img");try{return B.src=m.toDataURL(),B}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",m)}}var M=m.cloneNode(!1);try{M.width=m.width,M.height=m.height;var Y=m.getContext("2d"),ie=M.getContext("2d");if(ie)if(!this.options.allowTaint&&Y)ie.putImageData(Y.getImageData(0,0,m.width,m.height),0,0);else{var me=(C=m.getContext("webgl2"))!==null&&C!==void 0?C:m.getContext("webgl");if(me){var ve=me.getContextAttributes();ve?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",m)}ie.drawImage(m,0,0)}return M}catch{this.context.logger.info("Unable to clone canvas as it is tainted",m)}return M},y.prototype.createVideoClone=function(m){var C=m.ownerDocument.createElement("canvas");C.width=m.offsetWidth,C.height=m.offsetHeight;var B=C.getContext("2d");try{return B&&(B.drawImage(m,0,0,C.width,C.height),this.options.allowTaint||B.getImageData(0,0,C.width,C.height)),C}catch{this.context.logger.info("Unable to clone video as it is tainted",m)}var M=m.ownerDocument.createElement("canvas");return M.width=m.offsetWidth,M.height=m.offsetHeight,M},y.prototype.appendChildNode=function(m,C,B){(!Ba(C)||!$f(C)&&!C.hasAttribute(Zf)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(C)))&&(!this.options.copyStyles||!Ba(C)||!qf(C))&&m.appendChild(this.cloneNode(C,B))},y.prototype.cloneChildNodes=function(m,C,B){for(var M=this,Y=m.shadowRoot?m.shadowRoot.firstChild:m.firstChild;Y;Y=Y.nextSibling)if(Ba(Y)&&Ng(Y)&&typeof Y.assignedNodes=="function"){var ie=Y.assignedNodes();ie.length&&ie.forEach(function(me){return M.appendChildNode(C,me,B)})}else this.appendChildNode(C,Y,B)},y.prototype.cloneNode=function(m,C){if(al(m))return document.createTextNode(m.data);if(!m.ownerDocument)return m.cloneNode(!1);var B=m.ownerDocument.defaultView;if(B&&Ba(m)&&(Us(m)||Gc(m))){var M=this.createElementClone(m);M.style.transitionProperty="none";var Y=B.getComputedStyle(m),ie=B.getComputedStyle(m,":before"),me=B.getComputedStyle(m,":after");this.referenceElement===m&&Us(M)&&(this.clonedReferenceElement=M),Qu(M)&&Qg(M);var ve=this.counters.parse(new Un(this.context,Y)),Fe=this.resolvePseudoContent(m,M,ie,Lu.BEFORE);Wf(m)&&(C=!0),zf(m)||this.cloneChildNodes(m,M,C),Fe&&M.insertBefore(Fe,M.firstChild);var De=this.resolvePseudoContent(m,M,me,Lu.AFTER);return De&&M.appendChild(De),this.counters.pop(ve),(Y&&(this.options.copyStyles||Gc(m))&&!Gd(m)||C)&&qh(Y,M),(m.scrollTop!==0||m.scrollLeft!==0)&&this.scrolledElements.push([M,m.scrollLeft,m.scrollTop]),(zd(m)||qd(m))&&(zd(M)||qd(M))&&(M.value=m.value),M}return m.cloneNode(!1)},y.prototype.resolvePseudoContent=function(m,C,B,M){var Y=this;if(B){var ie=B.content,me=C.ownerDocument;if(!(!me||!ie||ie==="none"||ie==="-moz-alt-content"||B.display==="none")){this.counters.parse(new Un(this.context,B));var ve=new lr(this.context,B),Fe=me.createElement("html2canvaspseudoelement");qh(B,Fe),ve.content.forEach(function(Ve){if(Ve.type===0)Fe.appendChild(me.createTextNode(Ve.value));else if(Ve.type===22){var At=me.createElement("img");At.src=Ve.value,At.style.opacity="1",Fe.appendChild(At)}else if(Ve.type===18){if(Ve.name==="attr"){var Ot=Ve.values.filter(ot);Ot.length&&Fe.appendChild(me.createTextNode(m.getAttribute(Ot[0].value)||""))}else if(Ve.name==="counter"){var Tt=Ve.values.filter(Kn),Ut=Tt[0],jn=Tt[1];if(Ut&&ot(Ut)){var Zt=Y.counters.getCounterValue(Ut.value),Xt=jn&&ot(jn)?mo.parse(Y.context,jn.value):3;Fe.appendChild(me.createTextNode(Wc(Zt,Xt,!1)))}}else if(Ve.name==="counters"){var Mn=Ve.values.filter(Kn),Ut=Mn[0],En=Mn[1],jn=Mn[2];if(Ut&&ot(Ut)){var hn=Y.counters.getCounterValues(Ut.value),Vt=jn&&ot(jn)?mo.parse(Y.context,jn.value):3,Yn=En&&En.type===0?En.value:"",Xn=hn.map(function(Vi){return Wc(Vi,Vt,!1)}).join(Yn);Fe.appendChild(me.createTextNode(Xn))}}}else if(Ve.type===20)switch(Ve.value){case"open-quote":Fe.appendChild(me.createTextNode(ut(ve.quotes,Y.quoteDepth++,!0)));break;case"close-quote":Fe.appendChild(me.createTextNode(ut(ve.quotes,--Y.quoteDepth,!1)));break;default:Fe.appendChild(me.createTextNode(Ve.value))}}),Fe.className=Wh+" "+Yc;var De=M===Lu.BEFORE?" "+Wh:" "+Yc;return Gc(C)?C.className.baseValue+=De:C.className+=De,Fe}}},y.destroy=function(m){return m.parentNode?(m.parentNode.removeChild(m),!0):!1},y})(),Lu;(function(y){y[y.BEFORE=0]="BEFORE",y[y.AFTER=1]="AFTER"})(Lu||(Lu={}));var cl=function(y,m){var C=y.createElement("iframe");return C.className="html2canvas-container",C.style.visibility="hidden",C.style.position="fixed",C.style.left="-10000px",C.style.top="0px",C.style.border="0",C.width=m.width.toString(),C.height=m.height.toString(),C.scrolling="no",C.setAttribute(Zf,"true"),y.body.appendChild(C),C},ep=function(y){return new Promise(function(m){if(y.complete){m();return}if(!y.src){m();return}y.onload=m,y.onerror=m})},k0=function(y){return Promise.all([].slice.call(y.images,0).map(ep))},Fg=function(y){return new Promise(function(m,C){var B=y.contentWindow;if(!B)return C("No window assigned for iframe");var M=B.document;B.onload=y.onload=function(){B.onload=y.onload=null;var Y=setInterval(function(){M.body.childNodes.length>0&&M.readyState==="complete"&&(clearInterval(Y),m(y))},50)}})},ul=["all","d","content"],qh=function(y,m){for(var C=y.length-1;C>=0;C--){var B=y.item(C);ul.indexOf(B)===-1&&m.style.setProperty(B,y.getPropertyValue(B))}return m},$h=function(y){var m="";return y&&(m+="<!DOCTYPE ",y.name&&(m+=y.name),y.internalSubset&&(m+=y.internalSubset),y.publicId&&(m+='"'+y.publicId+'"'),y.systemId&&(m+='"'+y.systemId+'"'),m+=">"),m},$d=function(y,m,C){y&&y.defaultView&&(m!==y.defaultView.pageXOffset||C!==y.defaultView.pageYOffset)&&y.defaultView.scrollTo(m,C)},hs=function(y){var m=y[0],C=y[1],B=y[2];m.scrollLeft=C,m.scrollTop=B},H0=":before",V0=":after",Wh="___html2canvas___pseudoelement_before",Yc="___html2canvas___pseudoelement_after",dl=`{
    content: "" !important;
    display: none !important;
}`,Qg=function(y){Rg(y,"."+Wh+H0+dl+`
         .`+Yc+V0+dl)},Rg=function(y,m){var C=y.ownerDocument;if(C){var B=C.createElement("style");B.textContent=m,y.appendChild(B)}},Du=(function(){function y(){}return y.getOrigin=function(m){var C=y._link;return C?(C.href=m,C.href=C.href,C.protocol+C.hostname+C.port):"about:blank"},y.isSameOrigin=function(m){return y.getOrigin(m)===y._origin},y.setContext=function(m){y._link=m.document.createElement("a"),y._origin=y.getOrigin(m.location.href)},y._origin="about:blank",y})(),_A=(function(){function y(m,C){this.context=m,this._options=C,this._cache={}}return y.prototype.addImage=function(m){var C=Promise.resolve();return this.has(m)||(Xh(m)||np(m))&&(this._cache[m]=this.loadImage(m)).catch(function(){}),C},y.prototype.match=function(m){return this._cache[m]},y.prototype.loadImage=function(m){return o(this,void 0,void 0,function(){var C,B,M,Y,ie=this;return c(this,function(me){switch(me.label){case 0:return C=Du.isSameOrigin(m),B=!Wd(m)&&this._options.useCORS===!0&&Ts.SUPPORT_CORS_IMAGES&&!C,M=!Wd(m)&&!C&&!Xh(m)&&typeof this._options.proxy=="string"&&Ts.SUPPORT_CORS_XHR&&!B,!C&&this._options.allowTaint===!1&&!Wd(m)&&!Xh(m)&&!M&&!B?[2]:(Y=m,M?[4,this.proxy(Y)]:[3,2]);case 1:Y=me.sent(),me.label=2;case 2:return this.context.logger.debug("Added image "+m.substring(0,256)),[4,new Promise(function(ve,Fe){var De=new Image;De.onload=function(){return ve(De)},De.onerror=Fe,(Yh(Y)||B)&&(De.crossOrigin="anonymous"),De.src=Y,De.complete===!0&&setTimeout(function(){return ve(De)},500),ie._options.imageTimeout>0&&setTimeout(function(){return Fe("Timed out ("+ie._options.imageTimeout+"ms) loading image")},ie._options.imageTimeout)})];case 3:return[2,me.sent()]}})})},y.prototype.has=function(m){return typeof this._cache[m]<"u"},y.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},y.prototype.proxy=function(m){var C=this,B=this._options.proxy;if(!B)throw new Error("No proxy defined");var M=m.substring(0,256);return new Promise(function(Y,ie){var me=Ts.SUPPORT_RESPONSE_TYPE?"blob":"text",ve=new XMLHttpRequest;ve.onload=function(){if(ve.status===200)if(me==="text")Y(ve.response);else{var Ve=new FileReader;Ve.addEventListener("load",function(){return Y(Ve.result)},!1),Ve.addEventListener("error",function(At){return ie(At)},!1),Ve.readAsDataURL(ve.response)}else ie("Failed to proxy resource "+M+" with status code "+ve.status)},ve.onerror=ie;var Fe=B.indexOf("?")>-1?"&":"?";if(ve.open("GET",""+B+Fe+"url="+encodeURIComponent(m)+"&responseType="+me),me!=="text"&&ve instanceof XMLHttpRequest&&(ve.responseType=me),C._options.imageTimeout){var De=C._options.imageTimeout;ve.timeout=De,ve.ontimeout=function(){return ie("Timed out ("+De+"ms) proxying "+M)}}ve.send()})},y})(),Lg=/^data:image\/svg\+xml/i,tp=/^data:image\/.*;base64,/i,Dg=/^data:image\/.*/i,np=function(y){return Ts.SUPPORT_SVG_DRAWING||!hl(y)},Wd=function(y){return Dg.test(y)},Yh=function(y){return tp.test(y)},Xh=function(y){return y.substr(0,4)==="blob"},hl=function(y){return y.substr(-3).toLowerCase()==="svg"||Lg.test(y)},jt=(function(){function y(m,C){this.type=0,this.x=m,this.y=C}return y.prototype.add=function(m,C){return new y(this.x+m,this.y+C)},y})(),nc=function(y,m,C){return new jt(y.x+(m.x-y.x)*C,y.y+(m.y-y.y)*C)},Yd=(function(){function y(m,C,B,M){this.type=1,this.start=m,this.startControl=C,this.endControl=B,this.end=M}return y.prototype.subdivide=function(m,C){var B=nc(this.start,this.startControl,m),M=nc(this.startControl,this.endControl,m),Y=nc(this.endControl,this.end,m),ie=nc(B,M,m),me=nc(M,Y,m),ve=nc(ie,me,m);return C?new y(this.start,B,ie,ve):new y(ve,me,Y,this.end)},y.prototype.add=function(m,C){return new y(this.start.add(m,C),this.startControl.add(m,C),this.endControl.add(m,C),this.end.add(m,C))},y.prototype.reverse=function(){return new y(this.end,this.endControl,this.startControl,this.start)},y})(),xr=function(y){return y.type===1},K0=(function(){function y(m){var C=m.styles,B=m.bounds,M=zr(C.borderTopLeftRadius,B.width,B.height),Y=M[0],ie=M[1],me=zr(C.borderTopRightRadius,B.width,B.height),ve=me[0],Fe=me[1],De=zr(C.borderBottomRightRadius,B.width,B.height),Ve=De[0],At=De[1],Ot=zr(C.borderBottomLeftRadius,B.width,B.height),Tt=Ot[0],Ut=Ot[1],jn=[];jn.push((Y+ve)/B.width),jn.push((Tt+Ve)/B.width),jn.push((ie+Ut)/B.height),jn.push((Fe+At)/B.height);var Zt=Math.max.apply(Math,jn);Zt>1&&(Y/=Zt,ie/=Zt,ve/=Zt,Fe/=Zt,Ve/=Zt,At/=Zt,Tt/=Zt,Ut/=Zt);var Xt=B.width-ve,Mn=B.height-At,En=B.width-Ve,hn=B.height-Ut,Vt=C.borderTopWidth,Yn=C.borderRightWidth,Xn=C.borderBottomWidth,wn=C.borderLeftWidth,xs=Wn(C.paddingTop,m.bounds.width),Vi=Wn(C.paddingRight,m.bounds.width),no=Wn(C.paddingBottom,m.bounds.width),jr=Wn(C.paddingLeft,m.bounds.width);this.topLeftBorderDoubleOuterBox=Y>0||ie>0?Yr(B.left+wn/3,B.top+Vt/3,Y-wn/3,ie-Vt/3,pr.TOP_LEFT):new jt(B.left+wn/3,B.top+Vt/3),this.topRightBorderDoubleOuterBox=Y>0||ie>0?Yr(B.left+Xt,B.top+Vt/3,ve-Yn/3,Fe-Vt/3,pr.TOP_RIGHT):new jt(B.left+B.width-Yn/3,B.top+Vt/3),this.bottomRightBorderDoubleOuterBox=Ve>0||At>0?Yr(B.left+En,B.top+Mn,Ve-Yn/3,At-Xn/3,pr.BOTTOM_RIGHT):new jt(B.left+B.width-Yn/3,B.top+B.height-Xn/3),this.bottomLeftBorderDoubleOuterBox=Tt>0||Ut>0?Yr(B.left+wn/3,B.top+hn,Tt-wn/3,Ut-Xn/3,pr.BOTTOM_LEFT):new jt(B.left+wn/3,B.top+B.height-Xn/3),this.topLeftBorderDoubleInnerBox=Y>0||ie>0?Yr(B.left+wn*2/3,B.top+Vt*2/3,Y-wn*2/3,ie-Vt*2/3,pr.TOP_LEFT):new jt(B.left+wn*2/3,B.top+Vt*2/3),this.topRightBorderDoubleInnerBox=Y>0||ie>0?Yr(B.left+Xt,B.top+Vt*2/3,ve-Yn*2/3,Fe-Vt*2/3,pr.TOP_RIGHT):new jt(B.left+B.width-Yn*2/3,B.top+Vt*2/3),this.bottomRightBorderDoubleInnerBox=Ve>0||At>0?Yr(B.left+En,B.top+Mn,Ve-Yn*2/3,At-Xn*2/3,pr.BOTTOM_RIGHT):new jt(B.left+B.width-Yn*2/3,B.top+B.height-Xn*2/3),this.bottomLeftBorderDoubleInnerBox=Tt>0||Ut>0?Yr(B.left+wn*2/3,B.top+hn,Tt-wn*2/3,Ut-Xn*2/3,pr.BOTTOM_LEFT):new jt(B.left+wn*2/3,B.top+B.height-Xn*2/3),this.topLeftBorderStroke=Y>0||ie>0?Yr(B.left+wn/2,B.top+Vt/2,Y-wn/2,ie-Vt/2,pr.TOP_LEFT):new jt(B.left+wn/2,B.top+Vt/2),this.topRightBorderStroke=Y>0||ie>0?Yr(B.left+Xt,B.top+Vt/2,ve-Yn/2,Fe-Vt/2,pr.TOP_RIGHT):new jt(B.left+B.width-Yn/2,B.top+Vt/2),this.bottomRightBorderStroke=Ve>0||At>0?Yr(B.left+En,B.top+Mn,Ve-Yn/2,At-Xn/2,pr.BOTTOM_RIGHT):new jt(B.left+B.width-Yn/2,B.top+B.height-Xn/2),this.bottomLeftBorderStroke=Tt>0||Ut>0?Yr(B.left+wn/2,B.top+hn,Tt-wn/2,Ut-Xn/2,pr.BOTTOM_LEFT):new jt(B.left+wn/2,B.top+B.height-Xn/2),this.topLeftBorderBox=Y>0||ie>0?Yr(B.left,B.top,Y,ie,pr.TOP_LEFT):new jt(B.left,B.top),this.topRightBorderBox=ve>0||Fe>0?Yr(B.left+Xt,B.top,ve,Fe,pr.TOP_RIGHT):new jt(B.left+B.width,B.top),this.bottomRightBorderBox=Ve>0||At>0?Yr(B.left+En,B.top+Mn,Ve,At,pr.BOTTOM_RIGHT):new jt(B.left+B.width,B.top+B.height),this.bottomLeftBorderBox=Tt>0||Ut>0?Yr(B.left,B.top+hn,Tt,Ut,pr.BOTTOM_LEFT):new jt(B.left,B.top+B.height),this.topLeftPaddingBox=Y>0||ie>0?Yr(B.left+wn,B.top+Vt,Math.max(0,Y-wn),Math.max(0,ie-Vt),pr.TOP_LEFT):new jt(B.left+wn,B.top+Vt),this.topRightPaddingBox=ve>0||Fe>0?Yr(B.left+Math.min(Xt,B.width-Yn),B.top+Vt,Xt>B.width+Yn?0:Math.max(0,ve-Yn),Math.max(0,Fe-Vt),pr.TOP_RIGHT):new jt(B.left+B.width-Yn,B.top+Vt),this.bottomRightPaddingBox=Ve>0||At>0?Yr(B.left+Math.min(En,B.width-wn),B.top+Math.min(Mn,B.height-Xn),Math.max(0,Ve-Yn),Math.max(0,At-Xn),pr.BOTTOM_RIGHT):new jt(B.left+B.width-Yn,B.top+B.height-Xn),this.bottomLeftPaddingBox=Tt>0||Ut>0?Yr(B.left+wn,B.top+Math.min(hn,B.height-Xn),Math.max(0,Tt-wn),Math.max(0,Ut-Xn),pr.BOTTOM_LEFT):new jt(B.left+wn,B.top+B.height-Xn),this.topLeftContentBox=Y>0||ie>0?Yr(B.left+wn+jr,B.top+Vt+xs,Math.max(0,Y-(wn+jr)),Math.max(0,ie-(Vt+xs)),pr.TOP_LEFT):new jt(B.left+wn+jr,B.top+Vt+xs),this.topRightContentBox=ve>0||Fe>0?Yr(B.left+Math.min(Xt,B.width+wn+jr),B.top+Vt+xs,Xt>B.width+wn+jr?0:ve-wn+jr,Fe-(Vt+xs),pr.TOP_RIGHT):new jt(B.left+B.width-(Yn+Vi),B.top+Vt+xs),this.bottomRightContentBox=Ve>0||At>0?Yr(B.left+Math.min(En,B.width-(wn+jr)),B.top+Math.min(Mn,B.height+Vt+xs),Math.max(0,Ve-(Yn+Vi)),At-(Xn+no),pr.BOTTOM_RIGHT):new jt(B.left+B.width-(Yn+Vi),B.top+B.height-(Xn+no)),this.bottomLeftContentBox=Tt>0||Ut>0?Yr(B.left+wn+jr,B.top+hn,Math.max(0,Tt-(wn+jr)),Ut-(Xn+no),pr.BOTTOM_LEFT):new jt(B.left+wn+jr,B.top+B.height-(Xn+no))}return y})(),pr;(function(y){y[y.TOP_LEFT=0]="TOP_LEFT",y[y.TOP_RIGHT=1]="TOP_RIGHT",y[y.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",y[y.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(pr||(pr={}));var Yr=function(y,m,C,B,M){var Y=4*((Math.sqrt(2)-1)/3),ie=C*Y,me=B*Y,ve=y+C,Fe=m+B;switch(M){case pr.TOP_LEFT:return new Yd(new jt(y,Fe),new jt(y,Fe-me),new jt(ve-ie,m),new jt(ve,m));case pr.TOP_RIGHT:return new Yd(new jt(y,m),new jt(y+ie,m),new jt(ve,Fe-me),new jt(ve,Fe));case pr.BOTTOM_RIGHT:return new Yd(new jt(ve,m),new jt(ve,m+me),new jt(y+ie,Fe),new jt(y,Fe));case pr.BOTTOM_LEFT:default:return new Yd(new jt(ve,Fe),new jt(ve-ie,Fe),new jt(y,m+me),new jt(y,m))}},Fr=function(y){return[y.topLeftBorderBox,y.topRightBorderBox,y.bottomRightBorderBox,y.bottomLeftBorderBox]},xa=function(y){return[y.topLeftContentBox,y.topRightContentBox,y.bottomRightContentBox,y.bottomLeftContentBox]},bo=function(y){return[y.topLeftPaddingBox,y.topRightPaddingBox,y.bottomRightPaddingBox,y.bottomLeftPaddingBox]},Og=(function(){function y(m,C,B){this.offsetX=m,this.offsetY=C,this.matrix=B,this.type=0,this.target=6}return y})(),Xd=(function(){function y(m,C){this.path=m,this.target=C,this.type=1}return y})(),G0=(function(){function y(m){this.opacity=m,this.type=2,this.target=6}return y})(),rp=function(y){return y.type===0},Ca=function(y){return y.type===1},eA=function(y){return y.type===2},sp=function(y,m){return y.length===m.length?y.some(function(C,B){return C===m[B]}):!1},eo=function(y,m,C,B,M){return y.map(function(Y,ie){switch(ie){case 0:return Y.add(m,C);case 1:return Y.add(m+B,C);case 2:return Y.add(m+B,C+M);case 3:return Y.add(m,C+M)}return Y})},ip=(function(){function y(m){this.element=m,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return y})(),fl=(function(){function y(m,C){if(this.container=m,this.parent=C,this.effects=[],this.curves=new K0(this.container),this.container.styles.opacity<1&&this.effects.push(new G0(this.container.styles.opacity)),this.container.styles.transform!==null){var B=this.container.bounds.left+this.container.styles.transformOrigin[0].number,M=this.container.bounds.top+this.container.styles.transformOrigin[1].number,Y=this.container.styles.transform;this.effects.push(new Og(B,M,Y))}if(this.container.styles.overflowX!==0){var ie=Fr(this.curves),me=bo(this.curves);sp(ie,me)?this.effects.push(new Xd(ie,6)):(this.effects.push(new Xd(ie,2)),this.effects.push(new Xd(me,4)))}}return y.prototype.getEffects=function(m){for(var C=[2,3].indexOf(this.container.styles.position)===-1,B=this.parent,M=this.effects.slice(0);B;){var Y=B.effects.filter(function(ve){return!Ca(ve)});if(C||B.container.styles.position!==0||!B.parent){if(M.unshift.apply(M,Y),C=[2,3].indexOf(B.container.styles.position)===-1,B.container.styles.overflowX!==0){var ie=Fr(B.curves),me=bo(B.curves);sp(ie,me)||M.unshift(new Xd(me,6))}}else M.unshift.apply(M,Y);B=B.parent}return M.filter(function(ve){return at(ve.target,m)})},y})(),pl=function(y,m,C,B){y.container.elements.forEach(function(M){var Y=at(M.flags,4),ie=at(M.flags,2),me=new fl(M,y);at(M.styles.display,2048)&&B.push(me);var ve=at(M.flags,8)?[]:B;if(Y||ie){var Fe=Y||M.styles.isPositioned()?C:m,De=new ip(me);if(M.styles.isPositioned()||M.styles.opacity<1||M.styles.isTransformed()){var Ve=M.styles.zIndex.order;if(Ve<0){var At=0;Fe.negativeZIndex.some(function(Tt,Ut){return Ve>Tt.element.container.styles.zIndex.order?(At=Ut,!1):At>0}),Fe.negativeZIndex.splice(At,0,De)}else if(Ve>0){var Ot=0;Fe.positiveZIndex.some(function(Tt,Ut){return Ve>=Tt.element.container.styles.zIndex.order?(Ot=Ut+1,!1):Ot>0}),Fe.positiveZIndex.splice(Ot,0,De)}else Fe.zeroOrAutoZIndexOrTransformedOrOpacity.push(De)}else M.styles.isFloating()?Fe.nonPositionedFloats.push(De):Fe.nonPositionedInlineLevel.push(De);pl(me,De,Y?De:C,ve)}else M.styles.isInlineLevel()?m.inlineLevel.push(me):m.nonInlineLevel.push(me),pl(me,m,C,ve);at(M.flags,8)&&gl(M,ve)})},gl=function(y,m){for(var C=y instanceof Mh?y.start:1,B=y instanceof Mh?y.reversed:!1,M=0;M<m.length;M++){var Y=m[M];Y.container instanceof Md&&typeof Y.container.value=="number"&&Y.container.value!==0&&(C=Y.container.value),Y.listValue=Wc(C,Y.container.styles.listStyleType,!0),C+=B?-1:1}},ap=function(y){var m=new fl(y,null),C=new ip(m),B=[];return pl(m,C,C,B),gl(m.container,B),C},Jh=function(y,m){switch(m){case 0:return Hi(y.topLeftBorderBox,y.topLeftPaddingBox,y.topRightBorderBox,y.topRightPaddingBox);case 1:return Hi(y.topRightBorderBox,y.topRightPaddingBox,y.bottomRightBorderBox,y.bottomRightPaddingBox);case 2:return Hi(y.bottomRightBorderBox,y.bottomRightPaddingBox,y.bottomLeftBorderBox,y.bottomLeftPaddingBox);case 3:default:return Hi(y.bottomLeftBorderBox,y.bottomLeftPaddingBox,y.topLeftBorderBox,y.topLeftPaddingBox)}},IA=function(y,m){switch(m){case 0:return Hi(y.topLeftBorderBox,y.topLeftBorderDoubleOuterBox,y.topRightBorderBox,y.topRightBorderDoubleOuterBox);case 1:return Hi(y.topRightBorderBox,y.topRightBorderDoubleOuterBox,y.bottomRightBorderBox,y.bottomRightBorderDoubleOuterBox);case 2:return Hi(y.bottomRightBorderBox,y.bottomRightBorderDoubleOuterBox,y.bottomLeftBorderBox,y.bottomLeftBorderDoubleOuterBox);case 3:default:return Hi(y.bottomLeftBorderBox,y.bottomLeftBorderDoubleOuterBox,y.topLeftBorderBox,y.topLeftBorderDoubleOuterBox)}},Pg=function(y,m){switch(m){case 0:return Hi(y.topLeftBorderDoubleInnerBox,y.topLeftPaddingBox,y.topRightBorderDoubleInnerBox,y.topRightPaddingBox);case 1:return Hi(y.topRightBorderDoubleInnerBox,y.topRightPaddingBox,y.bottomRightBorderDoubleInnerBox,y.bottomRightPaddingBox);case 2:return Hi(y.bottomRightBorderDoubleInnerBox,y.bottomRightPaddingBox,y.bottomLeftBorderDoubleInnerBox,y.bottomLeftPaddingBox);case 3:default:return Hi(y.bottomLeftBorderDoubleInnerBox,y.bottomLeftPaddingBox,y.topLeftBorderDoubleInnerBox,y.topLeftPaddingBox)}},Ou=function(y,m){switch(m){case 0:return rc(y.topLeftBorderStroke,y.topRightBorderStroke);case 1:return rc(y.topRightBorderStroke,y.bottomRightBorderStroke);case 2:return rc(y.bottomRightBorderStroke,y.bottomLeftBorderStroke);case 3:default:return rc(y.bottomLeftBorderStroke,y.topLeftBorderStroke)}},rc=function(y,m){var C=[];return xr(y)?C.push(y.subdivide(.5,!1)):C.push(y),xr(m)?C.push(m.subdivide(.5,!0)):C.push(m),C},Hi=function(y,m,C,B){var M=[];return xr(y)?M.push(y.subdivide(.5,!1)):M.push(y),xr(C)?M.push(C.subdivide(.5,!0)):M.push(C),xr(B)?M.push(B.subdivide(.5,!0).reverse()):M.push(B),xr(m)?M.push(m.subdivide(.5,!1).reverse()):M.push(m),M},Xc=function(y){var m=y.bounds,C=y.styles;return m.add(C.borderLeftWidth,C.borderTopWidth,-(C.borderRightWidth+C.borderLeftWidth),-(C.borderTopWidth+C.borderBottomWidth))},Jd=function(y){var m=y.styles,C=y.bounds,B=Wn(m.paddingLeft,C.width),M=Wn(m.paddingRight,C.width),Y=Wn(m.paddingTop,C.width),ie=Wn(m.paddingBottom,C.width);return C.add(B+m.borderLeftWidth,Y+m.borderTopWidth,-(m.borderRightWidth+m.borderLeftWidth+B+M),-(m.borderTopWidth+m.borderBottomWidth+Y+ie))},Mg=function(y,m){return y===0?m.bounds:y===2?Jd(m):Xc(m)},Zd=function(y,m){return y===0?m.bounds:y===2?Jd(m):Xc(m)},Zh=function(y,m,C){var B=Mg(Pu(y.styles.backgroundOrigin,m),y),M=Zd(Pu(y.styles.backgroundClip,m),y),Y=z0(Pu(y.styles.backgroundSize,m),C,B),ie=Y[0],me=Y[1],ve=zr(Pu(y.styles.backgroundPosition,m),B.width-ie,B.height-me),Fe=Cr(Pu(y.styles.backgroundRepeat,m),ve,Y,B,M),De=Math.round(B.left+ve[0]),Ve=Math.round(B.top+ve[1]);return[Fe,De,Ve,ie,me]},ml=function(y){return ot(y)&&y.value===bi.AUTO},eh=function(y){return typeof y=="number"},z0=function(y,m,C){var B=m[0],M=m[1],Y=m[2],ie=y[0],me=y[1];if(!ie)return[0,0];if($n(ie)&&me&&$n(me))return[Wn(ie,C.width),Wn(me,C.height)];var ve=eh(Y);if(ot(ie)&&(ie.value===bi.CONTAIN||ie.value===bi.COVER)){if(eh(Y)){var Fe=C.width/C.height;return Fe<Y!=(ie.value===bi.COVER)?[C.width,C.width/Y]:[C.height*Y,C.height]}return[C.width,C.height]}var De=eh(B),Ve=eh(M),At=De||Ve;if(ml(ie)&&(!me||ml(me))){if(De&&Ve)return[B,M];if(!ve&&!At)return[C.width,C.height];if(At&&ve){var Ot=De?B:M*Y,Tt=Ve?M:B/Y;return[Ot,Tt]}var Ut=De?B:C.width,jn=Ve?M:C.height;return[Ut,jn]}if(ve){var Zt=0,Xt=0;return $n(ie)?Zt=Wn(ie,C.width):$n(me)&&(Xt=Wn(me,C.height)),ml(ie)?Zt=Xt*Y:(!me||ml(me))&&(Xt=Zt/Y),[Zt,Xt]}var Mn=null,En=null;if($n(ie)?Mn=Wn(ie,C.width):me&&$n(me)&&(En=Wn(me,C.height)),Mn!==null&&(!me||ml(me))&&(En=De&&Ve?Mn/B*M:C.height),En!==null&&ml(ie)&&(Mn=De&&Ve?En/M*B:C.width),Mn!==null&&En!==null)return[Mn,En];throw new Error("Unable to calculate background-size for element")},Pu=function(y,m){var C=y[m];return typeof C>"u"?y[0]:C},Cr=function(y,m,C,B,M){var Y=m[0],ie=m[1],me=C[0],ve=C[1];switch(y){case 2:return[new jt(Math.round(B.left),Math.round(B.top+ie)),new jt(Math.round(B.left+B.width),Math.round(B.top+ie)),new jt(Math.round(B.left+B.width),Math.round(ve+B.top+ie)),new jt(Math.round(B.left),Math.round(ve+B.top+ie))];case 3:return[new jt(Math.round(B.left+Y),Math.round(B.top)),new jt(Math.round(B.left+Y+me),Math.round(B.top)),new jt(Math.round(B.left+Y+me),Math.round(B.height+B.top)),new jt(Math.round(B.left+Y),Math.round(B.height+B.top))];case 1:return[new jt(Math.round(B.left+Y),Math.round(B.top+ie)),new jt(Math.round(B.left+Y+me),Math.round(B.top+ie)),new jt(Math.round(B.left+Y+me),Math.round(B.top+ie+ve)),new jt(Math.round(B.left+Y),Math.round(B.top+ie+ve))];default:return[new jt(Math.round(M.left),Math.round(M.top)),new jt(Math.round(M.left+M.width),Math.round(M.top)),new jt(Math.round(M.left+M.width),Math.round(M.height+M.top)),new jt(Math.round(M.left),Math.round(M.height+M.top))]}},kr="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Vn="Hidden Text",er=(function(){function y(m){this._data={},this._document=m}return y.prototype.parseMetrics=function(m,C){var B=this._document.createElement("div"),M=this._document.createElement("img"),Y=this._document.createElement("span"),ie=this._document.body;B.style.visibility="hidden",B.style.fontFamily=m,B.style.fontSize=C,B.style.margin="0",B.style.padding="0",B.style.whiteSpace="nowrap",ie.appendChild(B),M.src=kr,M.width=1,M.height=1,M.style.margin="0",M.style.padding="0",M.style.verticalAlign="baseline",Y.style.fontFamily=m,Y.style.fontSize=C,Y.style.margin="0",Y.style.padding="0",Y.appendChild(this._document.createTextNode(Vn)),B.appendChild(Y),B.appendChild(M);var me=M.offsetTop-Y.offsetTop+2;B.removeChild(Y),B.appendChild(this._document.createTextNode(Vn)),B.style.lineHeight="normal",M.style.verticalAlign="super";var ve=M.offsetTop-B.offsetTop+2;return ie.removeChild(B),{baseline:me,middle:ve}},y.prototype.getMetrics=function(m,C){var B=m+" "+C;return typeof this._data[B]>"u"&&(this._data[B]=this.parseMetrics(m,C)),this._data[B]},y})(),vr=(function(){function y(m,C){this.context=m,this.options=C}return y})(),to=1e4,sc=(function(y){r(m,y);function m(C,B){var M=y.call(this,C,B)||this;return M._activeEffects=[],M.canvas=B.canvas?B.canvas:document.createElement("canvas"),M.ctx=M.canvas.getContext("2d"),B.canvas||(M.canvas.width=Math.floor(B.width*B.scale),M.canvas.height=Math.floor(B.height*B.scale),M.canvas.style.width=B.width+"px",M.canvas.style.height=B.height+"px"),M.fontMetrics=new er(document),M.ctx.scale(M.options.scale,M.options.scale),M.ctx.translate(-B.x,-B.y),M.ctx.textBaseline="bottom",M._activeEffects=[],M.context.logger.debug("Canvas renderer initialized ("+B.width+"x"+B.height+") with scale "+B.scale),M}return m.prototype.applyEffects=function(C){for(var B=this;this._activeEffects.length;)this.popEffect();C.forEach(function(M){return B.applyEffect(M)})},m.prototype.applyEffect=function(C){this.ctx.save(),eA(C)&&(this.ctx.globalAlpha=C.opacity),rp(C)&&(this.ctx.translate(C.offsetX,C.offsetY),this.ctx.transform(C.matrix[0],C.matrix[1],C.matrix[2],C.matrix[3],C.matrix[4],C.matrix[5]),this.ctx.translate(-C.offsetX,-C.offsetY)),Ca(C)&&(this.path(C.path),this.ctx.clip()),this._activeEffects.push(C)},m.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},m.prototype.renderStack=function(C){return o(this,void 0,void 0,function(){var B;return c(this,function(M){switch(M.label){case 0:return B=C.element.container.styles,B.isVisible()?[4,this.renderStackContent(C)]:[3,2];case 1:M.sent(),M.label=2;case 2:return[2]}})})},m.prototype.renderNode=function(C){return o(this,void 0,void 0,function(){return c(this,function(B){switch(B.label){case 0:if(at(C.container.flags,16))debugger;return C.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(C)]:[3,3];case 1:return B.sent(),[4,this.renderNodeContent(C)];case 2:B.sent(),B.label=3;case 3:return[2]}})})},m.prototype.renderTextWithLetterSpacing=function(C,B,M){var Y=this;if(B===0)this.ctx.fillText(C.text,C.bounds.left,C.bounds.top+M);else{var ie=Ja(C.text);ie.reduce(function(me,ve){return Y.ctx.fillText(ve,me,C.bounds.top+M),me+Y.ctx.measureText(ve).width},C.bounds.left)}},m.prototype.createFontStyle=function(C){var B=C.fontVariant.filter(function(ie){return ie==="normal"||ie==="small-caps"}).join(""),M=ic(C.fontFamily).join(", "),Y=Re(C.fontSize)?""+C.fontSize.number+C.fontSize.unit:C.fontSize.number+"px";return[[C.fontStyle,B,C.fontWeight,Y,M].join(" "),M,Y]},m.prototype.renderTextNode=function(C,B){return o(this,void 0,void 0,function(){var M,Y,ie,me,ve,Fe,De,Ve,At=this;return c(this,function(Ot){return M=this.createFontStyle(B),Y=M[0],ie=M[1],me=M[2],this.ctx.font=Y,this.ctx.direction=B.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",ve=this.fontMetrics.getMetrics(ie,me),Fe=ve.baseline,De=ve.middle,Ve=B.paintOrder,C.textBounds.forEach(function(Tt){Ve.forEach(function(Ut){switch(Ut){case 0:At.ctx.fillStyle=ts(B.color),At.renderTextWithLetterSpacing(Tt,B.letterSpacing,Fe);var jn=B.textShadow;jn.length&&Tt.text.trim().length&&(jn.slice(0).reverse().forEach(function(Zt){At.ctx.shadowColor=ts(Zt.color),At.ctx.shadowOffsetX=Zt.offsetX.number*At.options.scale,At.ctx.shadowOffsetY=Zt.offsetY.number*At.options.scale,At.ctx.shadowBlur=Zt.blur.number,At.renderTextWithLetterSpacing(Tt,B.letterSpacing,Fe)}),At.ctx.shadowColor="",At.ctx.shadowOffsetX=0,At.ctx.shadowOffsetY=0,At.ctx.shadowBlur=0),B.textDecorationLine.length&&(At.ctx.fillStyle=ts(B.textDecorationColor||B.color),B.textDecorationLine.forEach(function(Zt){switch(Zt){case 1:At.ctx.fillRect(Tt.bounds.left,Math.round(Tt.bounds.top+Fe),Tt.bounds.width,1);break;case 2:At.ctx.fillRect(Tt.bounds.left,Math.round(Tt.bounds.top),Tt.bounds.width,1);break;case 3:At.ctx.fillRect(Tt.bounds.left,Math.ceil(Tt.bounds.top+De),Tt.bounds.width,1);break}}));break;case 1:B.webkitTextStrokeWidth&&Tt.text.trim().length&&(At.ctx.strokeStyle=ts(B.webkitTextStrokeColor),At.ctx.lineWidth=B.webkitTextStrokeWidth,At.ctx.lineJoin=window.chrome?"miter":"round",At.ctx.strokeText(Tt.text,Tt.bounds.left,Tt.bounds.top+Fe)),At.ctx.strokeStyle="",At.ctx.lineWidth=0,At.ctx.lineJoin="miter";break}})}),[2]})})},m.prototype.renderReplacedElement=function(C,B,M){if(M&&C.intrinsicWidth>0&&C.intrinsicHeight>0){var Y=Jd(C),ie=bo(B);this.path(ie),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(M,0,0,C.intrinsicWidth,C.intrinsicHeight,Y.left,Y.top,Y.width,Y.height),this.ctx.restore()}},m.prototype.renderNodeContent=function(C){return o(this,void 0,void 0,function(){var B,M,Y,ie,me,ve,Xt,Xt,Fe,De,Ve,At,En,Ot,Tt,hn,Ut,jn,Zt,Xt,Mn,En,hn;return c(this,function(Vt){switch(Vt.label){case 0:this.applyEffects(C.getEffects(4)),B=C.container,M=C.curves,Y=B.styles,ie=0,me=B.textNodes,Vt.label=1;case 1:return ie<me.length?(ve=me[ie],[4,this.renderTextNode(ve,Y)]):[3,4];case 2:Vt.sent(),Vt.label=3;case 3:return ie++,[3,1];case 4:if(!(B instanceof Mf))return[3,8];Vt.label=5;case 5:return Vt.trys.push([5,7,,8]),[4,this.context.cache.match(B.src)];case 6:return Xt=Vt.sent(),this.renderReplacedElement(B,M,Xt),[3,8];case 7:return Vt.sent(),this.context.logger.error("Error loading image "+B.src),[3,8];case 8:if(B instanceof Uu&&this.renderReplacedElement(B,M,B.canvas),!(B instanceof Ph))return[3,12];Vt.label=9;case 9:return Vt.trys.push([9,11,,12]),[4,this.context.cache.match(B.svg)];case 10:return Xt=Vt.sent(),this.renderReplacedElement(B,M,Xt),[3,12];case 11:return Vt.sent(),this.context.logger.error("Error loading svg "+B.svg.substring(0,255)),[3,12];case 12:return B instanceof Hf&&B.tree?(Fe=new m(this.context,{scale:this.options.scale,backgroundColor:B.backgroundColor,x:0,y:0,width:B.width,height:B.height}),[4,Fe.render(B.tree)]):[3,14];case 13:De=Vt.sent(),B.width&&B.height&&this.ctx.drawImage(De,0,0,B.width,B.height,B.bounds.left,B.bounds.top,B.bounds.width,B.bounds.height),Vt.label=14;case 14:if(B instanceof Kc&&(Ve=Math.min(B.bounds.width,B.bounds.height),B.type===Hh?B.checked&&(this.ctx.save(),this.path([new jt(B.bounds.left+Ve*.39363,B.bounds.top+Ve*.79),new jt(B.bounds.left+Ve*.16,B.bounds.top+Ve*.5549),new jt(B.bounds.left+Ve*.27347,B.bounds.top+Ve*.44071),new jt(B.bounds.left+Ve*.39694,B.bounds.top+Ve*.5649),new jt(B.bounds.left+Ve*.72983,B.bounds.top+Ve*.23),new jt(B.bounds.left+Ve*.84,B.bounds.top+Ve*.34085),new jt(B.bounds.left+Ve*.39363,B.bounds.top+Ve*.79)]),this.ctx.fillStyle=ts(Hd),this.ctx.fill(),this.ctx.restore()):B.type===il&&B.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(B.bounds.left+Ve/2,B.bounds.top+Ve/2,Ve/4,0,Math.PI*2,!0),this.ctx.fillStyle=ts(Hd),this.ctx.fill(),this.ctx.restore())),Mu(B)&&B.value.length){switch(At=this.createFontStyle(Y),En=At[0],Ot=At[1],Tt=this.fontMetrics.getMetrics(En,Ot).baseline,this.ctx.font=En,this.ctx.fillStyle=ts(Y.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=vl(B.styles.textAlign),hn=Jd(B),Ut=0,B.styles.textAlign){case 1:Ut+=hn.width/2;break;case 2:Ut+=hn.width;break}jn=hn.add(Ut,0,0,-hn.height/2+1),this.ctx.save(),this.path([new jt(hn.left,hn.top),new jt(hn.left+hn.width,hn.top),new jt(hn.left+hn.width,hn.top+hn.height),new jt(hn.left,hn.top+hn.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Jl(B.value,jn),Y.letterSpacing,Tt),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!at(B.styles.display,2048))return[3,20];if(B.styles.listStyleImage===null)return[3,19];if(Zt=B.styles.listStyleImage,Zt.type!==0)return[3,18];Xt=void 0,Mn=Zt.url,Vt.label=15;case 15:return Vt.trys.push([15,17,,18]),[4,this.context.cache.match(Mn)];case 16:return Xt=Vt.sent(),this.ctx.drawImage(Xt,B.bounds.left-(Xt.width+10),B.bounds.top),[3,18];case 17:return Vt.sent(),this.context.logger.error("Error loading list-style-image "+Mn),[3,18];case 18:return[3,20];case 19:C.listValue&&B.styles.listStyleType!==-1&&(En=this.createFontStyle(Y)[0],this.ctx.font=En,this.ctx.fillStyle=ts(Y.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",hn=new u(B.bounds.left,B.bounds.top+Wn(B.styles.paddingTop,B.bounds.width),B.bounds.width,qa(Y.lineHeight,Y.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Jl(C.listValue,hn),Y.letterSpacing,qa(Y.lineHeight,Y.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Vt.label=20;case 20:return[2]}})})},m.prototype.renderStackContent=function(C){return o(this,void 0,void 0,function(){var B,M,Zt,Y,ie,Zt,me,ve,Zt,Fe,De,Zt,Ve,At,Zt,Ot,Tt,Zt,Ut,jn,Zt;return c(this,function(Xt){switch(Xt.label){case 0:if(at(C.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(C.element)];case 1:Xt.sent(),B=0,M=C.negativeZIndex,Xt.label=2;case 2:return B<M.length?(Zt=M[B],[4,this.renderStack(Zt)]):[3,5];case 3:Xt.sent(),Xt.label=4;case 4:return B++,[3,2];case 5:return[4,this.renderNodeContent(C.element)];case 6:Xt.sent(),Y=0,ie=C.nonInlineLevel,Xt.label=7;case 7:return Y<ie.length?(Zt=ie[Y],[4,this.renderNode(Zt)]):[3,10];case 8:Xt.sent(),Xt.label=9;case 9:return Y++,[3,7];case 10:me=0,ve=C.nonPositionedFloats,Xt.label=11;case 11:return me<ve.length?(Zt=ve[me],[4,this.renderStack(Zt)]):[3,14];case 12:Xt.sent(),Xt.label=13;case 13:return me++,[3,11];case 14:Fe=0,De=C.nonPositionedInlineLevel,Xt.label=15;case 15:return Fe<De.length?(Zt=De[Fe],[4,this.renderStack(Zt)]):[3,18];case 16:Xt.sent(),Xt.label=17;case 17:return Fe++,[3,15];case 18:Ve=0,At=C.inlineLevel,Xt.label=19;case 19:return Ve<At.length?(Zt=At[Ve],[4,this.renderNode(Zt)]):[3,22];case 20:Xt.sent(),Xt.label=21;case 21:return Ve++,[3,19];case 22:Ot=0,Tt=C.zeroOrAutoZIndexOrTransformedOrOpacity,Xt.label=23;case 23:return Ot<Tt.length?(Zt=Tt[Ot],[4,this.renderStack(Zt)]):[3,26];case 24:Xt.sent(),Xt.label=25;case 25:return Ot++,[3,23];case 26:Ut=0,jn=C.positiveZIndex,Xt.label=27;case 27:return Ut<jn.length?(Zt=jn[Ut],[4,this.renderStack(Zt)]):[3,30];case 28:Xt.sent(),Xt.label=29;case 29:return Ut++,[3,27];case 30:return[2]}})})},m.prototype.mask=function(C){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(C.slice(0).reverse()),this.ctx.closePath()},m.prototype.path=function(C){this.ctx.beginPath(),this.formatPath(C),this.ctx.closePath()},m.prototype.formatPath=function(C){var B=this;C.forEach(function(M,Y){var ie=xr(M)?M.start:M;Y===0?B.ctx.moveTo(ie.x,ie.y):B.ctx.lineTo(ie.x,ie.y),xr(M)&&B.ctx.bezierCurveTo(M.startControl.x,M.startControl.y,M.endControl.x,M.endControl.y,M.end.x,M.end.y)})},m.prototype.renderRepeat=function(C,B,M,Y){this.path(C),this.ctx.fillStyle=B,this.ctx.translate(M,Y),this.ctx.fill(),this.ctx.translate(-M,-Y)},m.prototype.resizeImage=function(C,B,M){var Y;if(C.width===B&&C.height===M)return C;var ie=(Y=this.canvas.ownerDocument)!==null&&Y!==void 0?Y:document,me=ie.createElement("canvas");me.width=Math.max(1,B),me.height=Math.max(1,M);var ve=me.getContext("2d");return ve.drawImage(C,0,0,C.width,C.height,0,0,B,M),me},m.prototype.renderBackgroundImage=function(C){return o(this,void 0,void 0,function(){var B,M,Y,ie,me,ve;return c(this,function(Fe){switch(Fe.label){case 0:B=C.styles.backgroundImage.length-1,M=function(De){var Ve,At,Ot,xs,Zi,Ys,jr,Ci,Xn,Tt,xs,Zi,Ys,jr,Ci,Ut,jn,Zt,Xt,Mn,En,hn,Vt,Yn,Xn,wn,xs,Vi,no,jr,Ci,yl,Zi,Ys,jA,tA,wl,ac,oc,NA,Ac,xo;return c(this,function(Zc){switch(Zc.label){case 0:if(De.type!==0)return[3,5];Ve=void 0,At=De.url,Zc.label=1;case 1:return Zc.trys.push([1,3,,4]),[4,Y.context.cache.match(At)];case 2:return Ve=Zc.sent(),[3,4];case 3:return Zc.sent(),Y.context.logger.error("Error loading background-image "+At),[3,4];case 4:return Ve&&(Ot=Zh(C,B,[Ve.width,Ve.height,Ve.width/Ve.height]),xs=Ot[0],Zi=Ot[1],Ys=Ot[2],jr=Ot[3],Ci=Ot[4],Xn=Y.ctx.createPattern(Y.resizeImage(Ve,jr,Ci),"repeat"),Y.renderRepeat(xs,Xn,Zi,Ys)),[3,6];case 5:ma(De)?(Tt=Zh(C,B,[null,null,null]),xs=Tt[0],Zi=Tt[1],Ys=Tt[2],jr=Tt[3],Ci=Tt[4],Ut=HA(De.angle,jr,Ci),jn=Ut[0],Zt=Ut[1],Xt=Ut[2],Mn=Ut[3],En=Ut[4],hn=document.createElement("canvas"),hn.width=jr,hn.height=Ci,Vt=hn.getContext("2d"),Yn=Vt.createLinearGradient(Zt,Mn,Xt,En),cs(De.stops,jn).forEach(function(Hu){return Yn.addColorStop(Hu.stop,ts(Hu.color))}),Vt.fillStyle=Yn,Vt.fillRect(0,0,jr,Ci),jr>0&&Ci>0&&(Xn=Y.ctx.createPattern(hn,"repeat"),Y.renderRepeat(xs,Xn,Zi,Ys))):wA(De)&&(wn=Zh(C,B,[null,null,null]),xs=wn[0],Vi=wn[1],no=wn[2],jr=wn[3],Ci=wn[4],yl=De.position.length===0?[fA]:De.position,Zi=Wn(yl[0],jr),Ys=Wn(yl[yl.length-1],Ci),jA=mA(De,Zi,Ys,jr,Ci),tA=jA[0],wl=jA[1],tA>0&&wl>0&&(ac=Y.ctx.createRadialGradient(Vi+Zi,no+Ys,0,Vi+Zi,no+Ys,tA),cs(De.stops,tA*2).forEach(function(Hu){return ac.addColorStop(Hu.stop,ts(Hu.color))}),Y.path(xs),Y.ctx.fillStyle=ac,tA!==wl?(oc=C.bounds.left+.5*C.bounds.width,NA=C.bounds.top+.5*C.bounds.height,Ac=wl/tA,xo=1/Ac,Y.ctx.save(),Y.ctx.translate(oc,NA),Y.ctx.transform(1,0,0,Ac,0,0),Y.ctx.translate(-oc,-NA),Y.ctx.fillRect(Vi,xo*(no-NA)+NA,jr,Ci*xo),Y.ctx.restore()):Y.ctx.fill())),Zc.label=6;case 6:return B--,[2]}})},Y=this,ie=0,me=C.styles.backgroundImage.slice(0).reverse(),Fe.label=1;case 1:return ie<me.length?(ve=me[ie],[5,M(ve)]):[3,4];case 2:Fe.sent(),Fe.label=3;case 3:return ie++,[3,1];case 4:return[2]}})})},m.prototype.renderSolidBorder=function(C,B,M){return o(this,void 0,void 0,function(){return c(this,function(Y){return this.path(Jh(M,B)),this.ctx.fillStyle=ts(C),this.ctx.fill(),[2]})})},m.prototype.renderDoubleBorder=function(C,B,M,Y){return o(this,void 0,void 0,function(){var ie,me;return c(this,function(ve){switch(ve.label){case 0:return B<3?[4,this.renderSolidBorder(C,M,Y)]:[3,2];case 1:return ve.sent(),[2];case 2:return ie=IA(Y,M),this.path(ie),this.ctx.fillStyle=ts(C),this.ctx.fill(),me=Pg(Y,M),this.path(me),this.ctx.fill(),[2]}})})},m.prototype.renderNodeBackgroundAndBorders=function(C){return o(this,void 0,void 0,function(){var B,M,Y,ie,me,ve,Fe,De,Ve=this;return c(this,function(At){switch(At.label){case 0:return this.applyEffects(C.getEffects(2)),B=C.container.styles,M=!yi(B.backgroundColor)||B.backgroundImage.length,Y=[{style:B.borderTopStyle,color:B.borderTopColor,width:B.borderTopWidth},{style:B.borderRightStyle,color:B.borderRightColor,width:B.borderRightWidth},{style:B.borderBottomStyle,color:B.borderBottomColor,width:B.borderBottomWidth},{style:B.borderLeftStyle,color:B.borderLeftColor,width:B.borderLeftWidth}],ie=op(Pu(B.backgroundClip,0),C.curves),M||B.boxShadow.length?(this.ctx.save(),this.path(ie),this.ctx.clip(),yi(B.backgroundColor)||(this.ctx.fillStyle=ts(B.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(C.container)]):[3,2];case 1:At.sent(),this.ctx.restore(),B.boxShadow.slice(0).reverse().forEach(function(Ot){Ve.ctx.save();var Tt=Fr(C.curves),Ut=Ot.inset?0:to,jn=eo(Tt,-Ut+(Ot.inset?1:-1)*Ot.spread.number,(Ot.inset?1:-1)*Ot.spread.number,Ot.spread.number*(Ot.inset?-2:2),Ot.spread.number*(Ot.inset?-2:2));Ot.inset?(Ve.path(Tt),Ve.ctx.clip(),Ve.mask(jn)):(Ve.mask(Tt),Ve.ctx.clip(),Ve.path(jn)),Ve.ctx.shadowOffsetX=Ot.offsetX.number+Ut,Ve.ctx.shadowOffsetY=Ot.offsetY.number,Ve.ctx.shadowColor=ts(Ot.color),Ve.ctx.shadowBlur=Ot.blur.number,Ve.ctx.fillStyle=Ot.inset?ts(Ot.color):"rgba(0,0,0,1)",Ve.ctx.fill(),Ve.ctx.restore()}),At.label=2;case 2:me=0,ve=0,Fe=Y,At.label=3;case 3:return ve<Fe.length?(De=Fe[ve],De.style!==0&&!yi(De.color)&&De.width>0?De.style!==2?[3,5]:[4,this.renderDashedDottedBorder(De.color,De.width,me,C.curves,2)]:[3,11]):[3,13];case 4:return At.sent(),[3,11];case 5:return De.style!==3?[3,7]:[4,this.renderDashedDottedBorder(De.color,De.width,me,C.curves,3)];case 6:return At.sent(),[3,11];case 7:return De.style!==4?[3,9]:[4,this.renderDoubleBorder(De.color,De.width,me,C.curves)];case 8:return At.sent(),[3,11];case 9:return[4,this.renderSolidBorder(De.color,me,C.curves)];case 10:At.sent(),At.label=11;case 11:me++,At.label=12;case 12:return ve++,[3,3];case 13:return[2]}})})},m.prototype.renderDashedDottedBorder=function(C,B,M,Y,ie){return o(this,void 0,void 0,function(){var me,ve,Fe,De,Ve,At,Ot,Tt,Ut,jn,Zt,Xt,Mn,En,hn,Vt,hn,Vt;return c(this,function(Yn){return this.ctx.save(),me=Ou(Y,M),ve=Jh(Y,M),ie===2&&(this.path(ve),this.ctx.clip()),xr(ve[0])?(Fe=ve[0].start.x,De=ve[0].start.y):(Fe=ve[0].x,De=ve[0].y),xr(ve[1])?(Ve=ve[1].end.x,At=ve[1].end.y):(Ve=ve[1].x,At=ve[1].y),M===0||M===2?Ot=Math.abs(Fe-Ve):Ot=Math.abs(De-At),this.ctx.beginPath(),ie===3?this.formatPath(me):this.formatPath(ve.slice(0,2)),Tt=B<3?B*3:B*2,Ut=B<3?B*2:B,ie===3&&(Tt=B,Ut=B),jn=!0,Ot<=Tt*2?jn=!1:Ot<=Tt*2+Ut?(Zt=Ot/(2*Tt+Ut),Tt*=Zt,Ut*=Zt):(Xt=Math.floor((Ot+Ut)/(Tt+Ut)),Mn=(Ot-Xt*Tt)/(Xt-1),En=(Ot-(Xt+1)*Tt)/Xt,Ut=En<=0||Math.abs(Ut-Mn)<Math.abs(Ut-En)?Mn:En),jn&&(ie===3?this.ctx.setLineDash([0,Tt+Ut]):this.ctx.setLineDash([Tt,Ut])),ie===3?(this.ctx.lineCap="round",this.ctx.lineWidth=B):this.ctx.lineWidth=B*2+1.1,this.ctx.strokeStyle=ts(C),this.ctx.stroke(),this.ctx.setLineDash([]),ie===2&&(xr(ve[0])&&(hn=ve[3],Vt=ve[0],this.ctx.beginPath(),this.formatPath([new jt(hn.end.x,hn.end.y),new jt(Vt.start.x,Vt.start.y)]),this.ctx.stroke()),xr(ve[1])&&(hn=ve[1],Vt=ve[2],this.ctx.beginPath(),this.formatPath([new jt(hn.end.x,hn.end.y),new jt(Vt.start.x,Vt.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},m.prototype.render=function(C){return o(this,void 0,void 0,function(){var B;return c(this,function(M){switch(M.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ts(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),B=ap(C),[4,this.renderStack(B)];case 1:return M.sent(),this.applyEffects([]),[2,this.canvas]}})})},m})(vr),Mu=function(y){return y instanceof kf||y instanceof Vd?!0:y instanceof Kc&&y.type!==il&&y.type!==Hh},op=function(y,m){switch(y){case 0:return Fr(m);case 2:return xa(m);case 1:default:return bo(m)}},vl=function(y){switch(y){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Bs=["-apple-system","system-ui"],ic=function(y){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?y.filter(function(m){return Bs.indexOf(m)===-1}):y},Jc=(function(y){r(m,y);function m(C,B){var M=y.call(this,C,B)||this;return M.canvas=B.canvas?B.canvas:document.createElement("canvas"),M.ctx=M.canvas.getContext("2d"),M.options=B,M.canvas.width=Math.floor(B.width*B.scale),M.canvas.height=Math.floor(B.height*B.scale),M.canvas.style.width=B.width+"px",M.canvas.style.height=B.height+"px",M.ctx.scale(M.options.scale,M.options.scale),M.ctx.translate(-B.x,-B.y),M.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+B.width+"x"+B.height+" at "+B.x+","+B.y+") with scale "+B.scale),M}return m.prototype.render=function(C){return o(this,void 0,void 0,function(){var B,M;return c(this,function(Y){switch(Y.label){case 0:return B=kc(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,C),[4,Ap(B)];case 1:return M=Y.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ts(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(M,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},m})(vr),Ap=function(y){return new Promise(function(m,C){var B=new Image;B.onload=function(){m(B)},B.onerror=C,B.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(y))})},Bo=(function(){function y(m){var C=m.id,B=m.enabled;this.id=C,this.enabled=B,this.start=Date.now()}return y.prototype.debug=function(){for(var m=[],C=0;C<arguments.length;C++)m[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,d([this.id,this.getTime()+"ms"],m)):this.info.apply(this,m))},y.prototype.getTime=function(){return Date.now()-this.start},y.prototype.info=function(){for(var m=[],C=0;C<arguments.length;C++)m[C]=arguments[C];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,d([this.id,this.getTime()+"ms"],m))},y.prototype.warn=function(){for(var m=[],C=0;C<arguments.length;C++)m[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,d([this.id,this.getTime()+"ms"],m)):this.info.apply(this,m))},y.prototype.error=function(){for(var m=[],C=0;C<arguments.length;C++)m[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,d([this.id,this.getTime()+"ms"],m)):this.info.apply(this,m))},y.instances={},y})(),ku=(function(){function y(m,C){var B;this.windowBounds=C,this.instanceName="#"+y.instanceCount++,this.logger=new Bo({id:this.instanceName,enabled:m.logging}),this.cache=(B=m.cache)!==null&&B!==void 0?B:new _A(this,m)}return y.instanceCount=1,y})(),th=function(y,m){return m===void 0&&(m={}),Ea(y,m)};typeof window<"u"&&Du.setContext(window);var Ea=function(y,m){return o(void 0,void 0,void 0,function(){var C,B,M,Y,ie,me,ve,Fe,De,Ve,At,Ot,Tt,Ut,jn,Zt,Xt,Mn,En,hn,Yn,Vt,Yn,Xn,wn,xs,Vi,no,jr,Ci,yl,Zi,Ys,jA,tA,wl,ac,oc,NA,Ac;return c(this,function(xo){switch(xo.label){case 0:if(!y||typeof y!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(C=y.ownerDocument,!C)throw new Error("Element is not attached to a Document");if(B=C.defaultView,!B)throw new Error("Document is not attached to a Window");return M={allowTaint:(Xn=m.allowTaint)!==null&&Xn!==void 0?Xn:!1,imageTimeout:(wn=m.imageTimeout)!==null&&wn!==void 0?wn:15e3,proxy:m.proxy,useCORS:(xs=m.useCORS)!==null&&xs!==void 0?xs:!1},Y=i({logging:(Vi=m.logging)!==null&&Vi!==void 0?Vi:!0,cache:m.cache},M),ie={windowWidth:(no=m.windowWidth)!==null&&no!==void 0?no:B.innerWidth,windowHeight:(jr=m.windowHeight)!==null&&jr!==void 0?jr:B.innerHeight,scrollX:(Ci=m.scrollX)!==null&&Ci!==void 0?Ci:B.pageXOffset,scrollY:(yl=m.scrollY)!==null&&yl!==void 0?yl:B.pageYOffset},me=new u(ie.scrollX,ie.scrollY,ie.windowWidth,ie.windowHeight),ve=new ku(Y,me),Fe=(Zi=m.foreignObjectRendering)!==null&&Zi!==void 0?Zi:!1,De={allowTaint:(Ys=m.allowTaint)!==null&&Ys!==void 0?Ys:!1,onclone:m.onclone,ignoreElements:m.ignoreElements,inlineImages:Fe,copyStyles:Fe},ve.logger.debug("Starting document clone with size "+me.width+"x"+me.height+" scrolled to "+-me.left+","+-me.top),Ve=new zh(ve,y,De),At=Ve.clonedReferenceElement,At?[4,Ve.toIFrame(C,me)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Ot=xo.sent(),Tt=Qu(At)||jg(At)?h(At.ownerDocument):p(ve,At),Ut=Tt.width,jn=Tt.height,Zt=Tt.left,Xt=Tt.top,Mn=lp(ve,At,m.backgroundColor),En={canvas:m.canvas,backgroundColor:Mn,scale:(tA=(jA=m.scale)!==null&&jA!==void 0?jA:B.devicePixelRatio)!==null&&tA!==void 0?tA:1,x:((wl=m.x)!==null&&wl!==void 0?wl:0)+Zt,y:((ac=m.y)!==null&&ac!==void 0?ac:0)+Xt,width:(oc=m.width)!==null&&oc!==void 0?oc:Math.ceil(Ut),height:(NA=m.height)!==null&&NA!==void 0?NA:Math.ceil(jn)},Fe?(ve.logger.debug("Document cloned, using foreign object rendering"),Yn=new Jc(ve,En),[4,Yn.render(At)]):[3,3];case 2:return hn=xo.sent(),[3,5];case 3:return ve.logger.debug("Document cloned, element located at "+Zt+","+Xt+" with size "+Ut+"x"+jn+" using computed rendering"),ve.logger.debug("Starting DOM parsing"),Vt=Jo(ve,At),Mn===Vt.styles.backgroundColor&&(Vt.styles.backgroundColor=Os.TRANSPARENT),ve.logger.debug("Starting renderer for element at "+En.x+","+En.y+" with size "+En.width+"x"+En.height),Yn=new sc(ve,En),[4,Yn.render(Vt)];case 4:hn=xo.sent(),xo.label=5;case 5:return(!((Ac=m.removeContainer)!==null&&Ac!==void 0)||Ac)&&(zh.destroy(Ot)||ve.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),ve.logger.debug("Finished rendering"),[2,hn]}})})},lp=function(y,m,C){var B=m.ownerDocument,M=B.documentElement?wi(y,getComputedStyle(B.documentElement).backgroundColor):Os.TRANSPARENT,Y=B.body?wi(y,getComputedStyle(B.body).backgroundColor):Os.TRANSPARENT,ie=typeof C=="string"?wi(y,C):C===null?Os.TRANSPARENT:4294967295;return m===B.documentElement?yi(M)?yi(Y)?ie:Y:M:ie};return th}))})(Fm)),Fm.exports}/*!
 * html2pdf.js v0.10.3
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */var pB;function w6(){return pB||(pB=1,(function(n,e){(function(r,i){n.exports=i(m6,y6())})(self,function(t,r){return(function(){var i={"./src/plugin/hyperlinks.js":(function(u,p,h){h.r(p),h("./node_modules/core-js/modules/web.dom-collections.for-each.js"),h("./node_modules/core-js/modules/es.string.link.js");var b=h("./src/worker.js"),x=h("./src/utils.js"),w=[],R={toContainer:b.default.prototype.toContainer,toPdf:b.default.prototype.toPdf};b.default.prototype.toContainer=function(){return R.toContainer.call(this).then(function(){if(this.opt.enableLinks){var I=this.prop.container,T=I.querySelectorAll("a"),_=(0,x.unitConvert)(I.getBoundingClientRect(),this.prop.pageSize.k);w=[],Array.prototype.forEach.call(T,function(O){for(var z=O.getClientRects(),$=0;$<z.length;$++){var U=(0,x.unitConvert)(z[$],this.prop.pageSize.k);U.left-=_.left,U.top-=_.top;var L=Math.floor(U.top/this.prop.pageSize.inner.height)+1,G=this.opt.margin[0]+U.top%this.prop.pageSize.inner.height,X=this.opt.margin[1]+U.left;w.push({page:L,top:G,left:X,clientRect:U,link:O})}},this)}})},b.default.prototype.toPdf=function(){return R.toPdf.call(this).then(function(){if(this.opt.enableLinks){w.forEach(function(T){this.prop.pdf.setPage(T.page),this.prop.pdf.link(T.left,T.top,T.clientRect.width,T.clientRect.height,{url:T.link.href})},this);var I=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(I)}})}}),"./src/plugin/jspdf-plugin.js":(function(u,p,h){h.r(p),h("./node_modules/core-js/modules/es.symbol.js"),h("./node_modules/core-js/modules/es.symbol.description.js"),h("./node_modules/core-js/modules/es.object.to-string.js"),h("./node_modules/core-js/modules/es.symbol.iterator.js"),h("./node_modules/core-js/modules/es.array.iterator.js"),h("./node_modules/core-js/modules/es.string.iterator.js"),h("./node_modules/core-js/modules/web.dom-collections.iterator.js");var b=h("jspdf");function x(w){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(F){return typeof F}:x=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},x(w)}b.jsPDF.getPageSize=function(w,R,F){if(x(w)==="object"){var Q=w;w=Q.orientation,R=Q.unit||R,F=Q.format||F}R=R||"mm",F=F||"a4",w=(""+(w||"P")).toLowerCase();var I=(""+F).toLowerCase(),T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(R){case"pt":var _=1;break;case"mm":var _=72/25.4;break;case"cm":var _=72/2.54;break;case"in":var _=72;break;case"px":var _=72/96;break;case"pc":var _=12;break;case"em":var _=12;break;case"ex":var _=6;break;default:throw"Invalid unit: "+R}if(T.hasOwnProperty(I))var O=T[I][1]/_,z=T[I][0]/_;else try{var O=F[1],z=F[0]}catch{throw new Error("Invalid format: "+F)}if(w==="p"||w==="portrait"){if(w="p",z>O){var $=z;z=O,O=$}}else if(w==="l"||w==="landscape"){if(w="l",O>z){var $=z;z=O,O=$}}else throw"Invalid orientation: "+w;var U={width:z,height:O,unit:R,k:_};return U},p.default=b.jsPDF}),"./src/plugin/pagebreaks.js":(function(u,p,h){h.r(p),h("./node_modules/core-js/modules/es.array.concat.js"),h("./node_modules/core-js/modules/es.array.slice.js"),h("./node_modules/core-js/modules/es.array.join.js"),h("./node_modules/core-js/modules/web.dom-collections.for-each.js"),h("./node_modules/core-js/modules/es.object.keys.js");var b=h("./src/worker.js"),x=h("./src/utils.js"),w={toContainer:b.default.prototype.toContainer};b.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},b.default.prototype.toContainer=function(){return w.toContainer.call(this).then(function(){var Q=this.prop.container,I=this.prop.pageSize.inner.px.height,T=[].concat(this.opt.pagebreak.mode),_={avoidAll:T.indexOf("avoid-all")!==-1,css:T.indexOf("css")!==-1,legacy:T.indexOf("legacy")!==-1},O={},z=this;["before","after","avoid"].forEach(function(L){var G=_.avoidAll&&L==="avoid";O[L]=G?[]:[].concat(z.opt.pagebreak[L]||[]),O[L].length>0&&(O[L]=Array.prototype.slice.call(Q.querySelectorAll(O[L].join(", "))))});var $=Q.querySelectorAll(".html2pdf__page-break");$=Array.prototype.slice.call($);var U=Q.querySelectorAll("*");Array.prototype.forEach.call(U,function(G){var X={before:!1,after:_.legacy&&$.indexOf(G)!==-1,avoid:_.avoidAll};if(_.css){var P=window.getComputedStyle(G),H=["always","page","left","right"],V=["avoid","avoid-page"];X={before:X.before||H.indexOf(P.breakBefore||P.pageBreakBefore)!==-1,after:X.after||H.indexOf(P.breakAfter||P.pageBreakAfter)!==-1,avoid:X.avoid||V.indexOf(P.breakInside||P.pageBreakInside)!==-1}}Object.keys(X).forEach(function(je){X[je]=X[je]||O[je].indexOf(G)!==-1});var te=G.getBoundingClientRect();if(X.avoid&&!X.before){var ge=Math.floor(te.top/I),oe=Math.floor(te.bottom/I),we=Math.abs(te.bottom-te.top)/I;oe!==ge&&we<=1&&(X.before=!0)}if(X.before){var be=(0,x.createElement)("div",{style:{display:"block",height:I-te.top%I+"px"}});G.parentNode.insertBefore(be,G)}if(X.after){var be=(0,x.createElement)("div",{style:{display:"block",height:I-te.bottom%I+"px"}});G.parentNode.insertBefore(be,G.nextSibling)}})})}}),"./src/utils.js":(function(u,p,h){h.r(p),h.d(p,{objType:function(){return x},createElement:function(){return w},cloneNode:function(){return R},unitConvert:function(){return F},toPx:function(){return Q}}),h("./node_modules/core-js/modules/es.number.constructor.js"),h("./node_modules/core-js/modules/es.symbol.js"),h("./node_modules/core-js/modules/es.symbol.description.js"),h("./node_modules/core-js/modules/es.object.to-string.js"),h("./node_modules/core-js/modules/es.symbol.iterator.js"),h("./node_modules/core-js/modules/es.array.iterator.js"),h("./node_modules/core-js/modules/es.string.iterator.js"),h("./node_modules/core-js/modules/web.dom-collections.iterator.js");function b(I){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(_){return typeof _}:b=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},b(I)}var x=function(T){var _=b(T);return _==="undefined"?"undefined":_==="string"||T instanceof String?"string":_==="number"||T instanceof Number?"number":_==="function"||T instanceof Function?"function":T&&T.constructor===Array?"array":T&&T.nodeType===1?"element":_==="object"?"object":"unknown"},w=function(T,_){var O=document.createElement(T);if(_.className&&(O.className=_.className),_.innerHTML){O.innerHTML=_.innerHTML;for(var z=O.getElementsByTagName("script"),$=z.length;$-- >0;null)z[$].parentNode.removeChild(z[$])}for(var U in _.style)O.style[U]=_.style[U];return O},R=function I(T,_){for(var O=T.nodeType===3?document.createTextNode(T.nodeValue):T.cloneNode(!1),z=T.firstChild;z;z=z.nextSibling)(_===!0||z.nodeType!==1||z.nodeName!=="SCRIPT")&&O.appendChild(I(z,_));return T.nodeType===1&&(T.nodeName==="CANVAS"?(O.width=T.width,O.height=T.height,O.getContext("2d").drawImage(T,0,0)):(T.nodeName==="TEXTAREA"||T.nodeName==="SELECT")&&(O.value=T.value),O.addEventListener("load",function(){O.scrollTop=T.scrollTop,O.scrollLeft=T.scrollLeft},!0)),O},F=function(T,_){if(x(T)==="number")return T*72/96/_;var O={};for(var z in T)O[z]=T[z]*72/96/_;return O},Q=function(T,_){return Math.floor(T*_/72*96)}}),"./src/worker.js":(function(u,p,h){h.r(p),h("./node_modules/core-js/modules/es.object.assign.js"),h("./node_modules/core-js/modules/es.array.map.js"),h("./node_modules/core-js/modules/es.object.keys.js"),h("./node_modules/core-js/modules/es.array.concat.js"),h("./node_modules/core-js/modules/es.object.to-string.js"),h("./node_modules/core-js/modules/es.regexp.to-string.js"),h("./node_modules/core-js/modules/es.function.name.js"),h("./node_modules/core-js/modules/web.dom-collections.for-each.js");var b=h("jspdf"),x=h("html2canvas"),w=h("./src/utils.js"),R=h("./node_modules/es6-promise/dist/es6-promise.js"),F=h.n(R),Q=F().Promise,I=function T(_){var O=Object.assign(T.convert(Q.resolve()),JSON.parse(JSON.stringify(T.template))),z=T.convert(Q.resolve(),O);return z=z.setProgress(1,T,1,[T]),z=z.set(_),z};I.prototype=Object.create(Q.prototype),I.prototype.constructor=I,I.convert=function(_,O){return _.__proto__=O||I.prototype,_},I.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},I.prototype.from=function(_,O){function z($){switch((0,w.objType)($)){case"string":return"string";case"element":return $.nodeName.toLowerCase&&$.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(O=O||z(_),O){case"string":return this.set({src:(0,w.createElement)("div",{innerHTML:_})});case"element":return this.set({src:_});case"canvas":return this.set({canvas:_});case"img":return this.set({img:_});default:return this.error("Unknown source type.")}})},I.prototype.to=function(_){switch(_){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},I.prototype.toContainer=function(){var _=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(_).then(function(){var z={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},$={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};z.opacity=0;var U=(0,w.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,w.createElement)("div",{className:"html2pdf__overlay",style:z}),this.prop.container=(0,w.createElement)("div",{className:"html2pdf__container",style:$}),this.prop.container.appendChild(U),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},I.prototype.toCanvas=function(){var _=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(_).then(function(){var z=Object.assign({},this.opt.html2canvas);return delete z.onrendered,x(this.prop.container,z)}).then(function(z){var $=this.opt.html2canvas.onrendered||function(){};$(z),this.prop.canvas=z,document.body.removeChild(this.prop.overlay)})},I.prototype.toImg=function(){var _=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(_).then(function(){var z=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=z})},I.prototype.toPdf=function(){var _=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(_).then(function(){var z=this.prop.canvas,$=this.opt,U=z.height,L=Math.floor(z.width*this.prop.pageSize.inner.ratio),G=Math.ceil(U/L),X=this.prop.pageSize.inner.height,P=document.createElement("canvas"),H=P.getContext("2d");P.width=z.width,P.height=L,this.prop.pdf=this.prop.pdf||new b.jsPDF($.jsPDF);for(var V=0;V<G;V++){V===G-1&&U%L!==0&&(P.height=U%L,X=P.height*this.prop.pageSize.inner.width/P.width);var te=P.width,ge=P.height;H.fillStyle="white",H.fillRect(0,0,te,ge),H.drawImage(z,0,V*L,te,ge,0,0,te,ge),V&&this.prop.pdf.addPage();var oe=P.toDataURL("image/"+$.image.type,$.image.quality);this.prop.pdf.addImage(oe,$.image.type,$.margin[1],$.margin[0],this.prop.pageSize.inner.width,X)}})},I.prototype.output=function(_,O,z){return z=z||"pdf",z.toLowerCase()==="img"||z.toLowerCase()==="image"?this.outputImg(_,O):this.outputPdf(_,O)},I.prototype.outputPdf=function(_,O){var z=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(z).then(function(){return this.prop.pdf.output(_,O)})},I.prototype.outputImg=function(_,O){var z=[function(){return this.prop.img||this.toImg()}];return this.thenList(z).then(function(){switch(_){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+_+'" is not supported.'}})},I.prototype.save=function(_){var O=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(O).set(_?{filename:_}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},I.prototype.set=function(_){if((0,w.objType)(_)!=="object")return this;var O=Object.keys(_||{}).map(function(z){switch(z){case"margin":return this.setMargin.bind(this,_.margin);case"jsPDF":return function(){return this.opt.jsPDF=_.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,_.pageSize);default:return z in I.template.prop?function(){this.prop[z]=_[z]}:function(){this.opt[z]=_[z]}}},this);return this.then(function(){return this.thenList(O)})},I.prototype.get=function(_,O){return this.then(function(){var $=_ in I.template.prop?this.prop[_]:this.opt[_];return O?O($):$})},I.prototype.setMargin=function(_){return this.then(function(){switch((0,w.objType)(_)){case"number":_=[_,_,_,_];case"array":if(_.length===2&&(_=[_[0],_[1],_[0],_[1]]),_.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=_}).then(this.setPageSize)},I.prototype.setPageSize=function(_){return this.then(function(){_=_||b.jsPDF.getPageSize(this.opt.jsPDF),_.hasOwnProperty("inner")||(_.inner={width:_.width-this.opt.margin[1]-this.opt.margin[3],height:_.height-this.opt.margin[0]-this.opt.margin[2]},_.inner.px={width:(0,w.toPx)(_.inner.width,_.k),height:(0,w.toPx)(_.inner.height,_.k)},_.inner.ratio=_.inner.height/_.inner.width),this.prop.pageSize=_})},I.prototype.setProgress=function(_,O,z,$){return _!=null&&(this.progress.val=_),O!=null&&(this.progress.state=O),z!=null&&(this.progress.n=z),$!=null&&(this.progress.stack=$),this.progress.ratio=this.progress.val/this.progress.state,this},I.prototype.updateProgress=function(_,O,z,$){return this.setProgress(_?this.progress.val+_:null,O||null,z?this.progress.n+z:null,$?this.progress.stack.concat($):null)},I.prototype.then=function(_,O){var z=this;return this.thenCore(_,O,function(U,L){return z.updateProgress(null,null,1,[U]),Q.prototype.then.call(this,function(X){return z.updateProgress(null,U),X}).then(U,L).then(function(X){return z.updateProgress(1),X})})},I.prototype.thenCore=function(_,O,z){z=z||Q.prototype.then;var $=this;_&&(_=_.bind($)),O&&(O=O.bind($));var U=Q.toString().indexOf("[native code]")!==-1&&Q.name==="Promise",L=U?$:I.convert(Object.assign({},$),Q.prototype),G=z.call(L,_,O);return I.convert(G,$.__proto__)},I.prototype.thenExternal=function(_,O){return Q.prototype.then.call(this,_,O)},I.prototype.thenList=function(_){var O=this;return _.forEach(function($){O=O.thenCore($)}),O},I.prototype.catch=function(T){T&&(T=T.bind(this));var _=Q.prototype.catch.call(this,T);return I.convert(_,this)},I.prototype.catchExternal=function(_){return Q.prototype.catch.call(this,_)},I.prototype.error=function(_){return this.then(function(){throw new Error(_)})},I.prototype.using=I.prototype.set,I.prototype.saveAs=I.prototype.save,I.prototype.export=I.prototype.output,I.prototype.run=I.prototype.then,p.default=I}),"./node_modules/core-js/internals/a-function.js":(function(u){u.exports=function(p){if(typeof p!="function")throw TypeError(String(p)+" is not a function");return p}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/is-object.js");u.exports=function(x){if(!b(x)&&x!==null)throw TypeError("Can't set "+String(x)+" as a prototype");return x}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/well-known-symbol.js"),x=h("./node_modules/core-js/internals/object-create.js"),w=h("./node_modules/core-js/internals/object-define-property.js"),R=b("unscopables"),F=Array.prototype;F[R]==null&&w.f(F,R,{configurable:!0,value:x(null)}),u.exports=function(Q){F[R][Q]=!0}}),"./node_modules/core-js/internals/an-object.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/is-object.js");u.exports=function(x){if(!b(x))throw TypeError(String(x)+" is not an object");return x}}),"./node_modules/core-js/internals/array-for-each.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/array-iteration.js").forEach,x=h("./node_modules/core-js/internals/array-method-is-strict.js"),w=x("forEach");u.exports=w?[].forEach:function(F){return b(this,F,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-includes.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/to-indexed-object.js"),x=h("./node_modules/core-js/internals/to-length.js"),w=h("./node_modules/core-js/internals/to-absolute-index.js"),R=function(F){return function(Q,I,T){var _=b(Q),O=x(_.length),z=w(T,O),$;if(F&&I!=I){for(;O>z;)if($=_[z++],$!=$)return!0}else for(;O>z;z++)if((F||z in _)&&_[z]===I)return F||z||0;return!F&&-1}};u.exports={includes:R(!0),indexOf:R(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/function-bind-context.js"),x=h("./node_modules/core-js/internals/indexed-object.js"),w=h("./node_modules/core-js/internals/to-object.js"),R=h("./node_modules/core-js/internals/to-length.js"),F=h("./node_modules/core-js/internals/array-species-create.js"),Q=[].push,I=function(T){var _=T==1,O=T==2,z=T==3,$=T==4,U=T==6,L=T==7,G=T==5||U;return function(X,P,H,V){for(var te=w(X),ge=x(te),oe=b(P,H,3),we=R(ge.length),be=0,je=V||F,re=_?je(X,we):O||L?je(X,0):void 0,de,K;we>be;be++)if((G||be in ge)&&(de=ge[be],K=oe(de,be,te),T))if(_)re[be]=K;else if(K)switch(T){case 3:return!0;case 5:return de;case 6:return be;case 2:Q.call(re,de)}else switch(T){case 4:return!1;case 7:Q.call(re,de)}return U?-1:z||$?$:re}};u.exports={forEach:I(0),map:I(1),filter:I(2),some:I(3),every:I(4),find:I(5),findIndex:I(6),filterReject:I(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/fails.js"),x=h("./node_modules/core-js/internals/well-known-symbol.js"),w=h("./node_modules/core-js/internals/engine-v8-version.js"),R=x("species");u.exports=function(F){return w>=51||!b(function(){var Q=[],I=Q.constructor={};return I[R]=function(){return{foo:1}},Q[F](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/fails.js");u.exports=function(x,w){var R=[][x];return!!R&&b(function(){R.call(null,w||function(){throw 1},1)})}}),"./node_modules/core-js/internals/array-species-constructor.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/is-object.js"),x=h("./node_modules/core-js/internals/is-array.js"),w=h("./node_modules/core-js/internals/well-known-symbol.js"),R=w("species");u.exports=function(F){var Q;return x(F)&&(Q=F.constructor,typeof Q=="function"&&(Q===Array||x(Q.prototype))?Q=void 0:b(Q)&&(Q=Q[R],Q===null&&(Q=void 0))),Q===void 0?Array:Q}}),"./node_modules/core-js/internals/array-species-create.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/array-species-constructor.js");u.exports=function(x,w){return new(b(x))(w===0?0:w)}}),"./node_modules/core-js/internals/classof-raw.js":(function(u){var p={}.toString;u.exports=function(h){return p.call(h).slice(8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/to-string-tag-support.js"),x=h("./node_modules/core-js/internals/classof-raw.js"),w=h("./node_modules/core-js/internals/well-known-symbol.js"),R=w("toStringTag"),F=x((function(){return arguments})())=="Arguments",Q=function(I,T){try{return I[T]}catch{}};u.exports=b?x:function(I){var T,_,O;return I===void 0?"Undefined":I===null?"Null":typeof(_=Q(T=Object(I),R))=="string"?_:F?x(T):(O=x(T))=="Object"&&typeof T.callee=="function"?"Arguments":O}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/has.js"),x=h("./node_modules/core-js/internals/own-keys.js"),w=h("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),R=h("./node_modules/core-js/internals/object-define-property.js");u.exports=function(F,Q){for(var I=x(Q),T=R.f,_=w.f,O=0;O<I.length;O++){var z=I[O];b(F,z)||T(F,z,_(Q,z))}}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/fails.js");u.exports=!b(function(){function x(){}return x.prototype.constructor=null,Object.getPrototypeOf(new x)!==x.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/require-object-coercible.js"),x=h("./node_modules/core-js/internals/to-string.js"),w=/"/g;u.exports=function(R,F,Q,I){var T=x(b(R)),_="<"+F;return Q!==""&&(_+=" "+Q+'="'+x(I).replace(w,"&quot;")+'"'),_+">"+T+"</"+F+">"}}),"./node_modules/core-js/internals/create-iterator-constructor.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,x=h("./node_modules/core-js/internals/object-create.js"),w=h("./node_modules/core-js/internals/create-property-descriptor.js"),R=h("./node_modules/core-js/internals/set-to-string-tag.js"),F=h("./node_modules/core-js/internals/iterators.js"),Q=function(){return this};u.exports=function(I,T,_){var O=T+" Iterator";return I.prototype=x(b,{next:w(1,_)}),R(I,O,!1,!0),F[O]=Q,I}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/descriptors.js"),x=h("./node_modules/core-js/internals/object-define-property.js"),w=h("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=b?function(R,F,Q){return x.f(R,F,w(1,Q))}:function(R,F,Q){return R[F]=Q,R}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(u){u.exports=function(p,h){return{enumerable:!(p&1),configurable:!(p&2),writable:!(p&4),value:h}}}),"./node_modules/core-js/internals/create-property.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/to-property-key.js"),x=h("./node_modules/core-js/internals/object-define-property.js"),w=h("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=function(R,F,Q){var I=b(F);I in R?x.f(R,I,w(0,Q)):R[I]=Q}}),"./node_modules/core-js/internals/define-iterator.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/export.js"),x=h("./node_modules/core-js/internals/create-iterator-constructor.js"),w=h("./node_modules/core-js/internals/object-get-prototype-of.js"),R=h("./node_modules/core-js/internals/object-set-prototype-of.js"),F=h("./node_modules/core-js/internals/set-to-string-tag.js"),Q=h("./node_modules/core-js/internals/create-non-enumerable-property.js"),I=h("./node_modules/core-js/internals/redefine.js"),T=h("./node_modules/core-js/internals/well-known-symbol.js"),_=h("./node_modules/core-js/internals/is-pure.js"),O=h("./node_modules/core-js/internals/iterators.js"),z=h("./node_modules/core-js/internals/iterators-core.js"),$=z.IteratorPrototype,U=z.BUGGY_SAFARI_ITERATORS,L=T("iterator"),G="keys",X="values",P="entries",H=function(){return this};u.exports=function(V,te,ge,oe,we,be,je){x(ge,te,oe);var re=function(We){if(We===we&&Be)return Be;if(!U&&We in ne)return ne[We];switch(We){case G:return function(){return new ge(this,We)};case X:return function(){return new ge(this,We)};case P:return function(){return new ge(this,We)}}return function(){return new ge(this)}},de=te+" Iterator",K=!1,ne=V.prototype,ce=ne[L]||ne["@@iterator"]||we&&ne[we],Be=!U&&ce||re(we),he=te=="Array"&&ne.entries||ce,xe,Se,Ie;if(he&&(xe=w(he.call(new V)),$!==Object.prototype&&xe.next&&(!_&&w(xe)!==$&&(R?R(xe,$):typeof xe[L]!="function"&&Q(xe,L,H)),F(xe,de,!0,!0),_&&(O[de]=H))),we==X&&ce&&ce.name!==X&&(K=!0,Be=function(){return ce.call(this)}),(!_||je)&&ne[L]!==Be&&Q(ne,L,Be),O[te]=Be,we)if(Se={values:re(X),keys:be?Be:re(G),entries:re(P)},je)for(Ie in Se)(U||K||!(Ie in ne))&&I(ne,Ie,Se[Ie]);else b({target:te,proto:!0,forced:U||K},Se);return Se}}),"./node_modules/core-js/internals/define-well-known-symbol.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/path.js"),x=h("./node_modules/core-js/internals/has.js"),w=h("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),R=h("./node_modules/core-js/internals/object-define-property.js").f;u.exports=function(F){var Q=b.Symbol||(b.Symbol={});x(Q,F)||R(Q,F,{value:w.f(F)})}}),"./node_modules/core-js/internals/descriptors.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/fails.js");u.exports=!b(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})}),"./node_modules/core-js/internals/document-create-element.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/global.js"),x=h("./node_modules/core-js/internals/is-object.js"),w=b.document,R=x(w)&&x(w.createElement);u.exports=function(F){return R?w.createElement(F):{}}}),"./node_modules/core-js/internals/dom-iterables.js":(function(u){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/engine-user-agent.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/get-built-in.js");u.exports=b("navigator","userAgent")||""}),"./node_modules/core-js/internals/engine-v8-version.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/global.js"),x=h("./node_modules/core-js/internals/engine-user-agent.js"),w=b.process,R=b.Deno,F=w&&w.versions||R&&R.version,Q=F&&F.v8,I,T;Q?(I=Q.split("."),T=I[0]<4?1:I[0]+I[1]):x&&(I=x.match(/Edge\/(\d+)/),(!I||I[1]>=74)&&(I=x.match(/Chrome\/(\d+)/),I&&(T=I[1]))),u.exports=T&&+T}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(u){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/export.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/global.js"),x=h("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,w=h("./node_modules/core-js/internals/create-non-enumerable-property.js"),R=h("./node_modules/core-js/internals/redefine.js"),F=h("./node_modules/core-js/internals/set-global.js"),Q=h("./node_modules/core-js/internals/copy-constructor-properties.js"),I=h("./node_modules/core-js/internals/is-forced.js");u.exports=function(T,_){var O=T.target,z=T.global,$=T.stat,U,L,G,X,P,H;if(z?L=b:$?L=b[O]||F(O,{}):L=(b[O]||{}).prototype,L)for(G in _){if(P=_[G],T.noTargetGet?(H=x(L,G),X=H&&H.value):X=L[G],U=I(z?G:O+($?".":"#")+G,T.forced),!U&&X!==void 0){if(typeof P==typeof X)continue;Q(P,X)}(T.sham||X&&X.sham)&&w(P,"sham",!0),R(L,G,P,T)}}}),"./node_modules/core-js/internals/fails.js":(function(u){u.exports=function(p){try{return!!p()}catch{return!0}}}),"./node_modules/core-js/internals/function-bind-context.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/a-function.js");u.exports=function(x,w,R){if(b(x),w===void 0)return x;switch(R){case 0:return function(){return x.call(w)};case 1:return function(F){return x.call(w,F)};case 2:return function(F,Q){return x.call(w,F,Q)};case 3:return function(F,Q,I){return x.call(w,F,Q,I)}}return function(){return x.apply(w,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/global.js"),x=function(w){return typeof w=="function"?w:void 0};u.exports=function(w,R){return arguments.length<2?x(b[w]):b[w]&&b[w][R]}}),"./node_modules/core-js/internals/global.js":(function(u){var p=function(h){return h&&h.Math==Math&&h};u.exports=p(typeof globalThis=="object"&&globalThis)||p(typeof window=="object"&&window)||p(typeof self=="object"&&self)||p(typeof im=="object"&&im)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/to-object.js"),x={}.hasOwnProperty;u.exports=Object.hasOwn||function(R,F){return x.call(b(R),F)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(u){u.exports={}}),"./node_modules/core-js/internals/html.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/get-built-in.js");u.exports=b("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/descriptors.js"),x=h("./node_modules/core-js/internals/fails.js"),w=h("./node_modules/core-js/internals/document-create-element.js");u.exports=!b&&!x(function(){return Object.defineProperty(w("div"),"a",{get:function(){return 7}}).a!=7})}),"./node_modules/core-js/internals/indexed-object.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/fails.js"),x=h("./node_modules/core-js/internals/classof-raw.js"),w="".split;u.exports=b(function(){return!Object("z").propertyIsEnumerable(0)})?function(R){return x(R)=="String"?w.call(R,""):Object(R)}:Object}),"./node_modules/core-js/internals/inherit-if-required.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/is-object.js"),x=h("./node_modules/core-js/internals/object-set-prototype-of.js");u.exports=function(w,R,F){var Q,I;return x&&typeof(Q=R.constructor)=="function"&&Q!==F&&b(I=Q.prototype)&&I!==F.prototype&&x(w,I),w}}),"./node_modules/core-js/internals/inspect-source.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/shared-store.js"),x=Function.toString;typeof b.inspectSource!="function"&&(b.inspectSource=function(w){return x.call(w)}),u.exports=b.inspectSource}),"./node_modules/core-js/internals/internal-state.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/native-weak-map.js"),x=h("./node_modules/core-js/internals/global.js"),w=h("./node_modules/core-js/internals/is-object.js"),R=h("./node_modules/core-js/internals/create-non-enumerable-property.js"),F=h("./node_modules/core-js/internals/has.js"),Q=h("./node_modules/core-js/internals/shared-store.js"),I=h("./node_modules/core-js/internals/shared-key.js"),T=h("./node_modules/core-js/internals/hidden-keys.js"),_="Object already initialized",O=x.WeakMap,z,$,U,L=function(ge){return U(ge)?$(ge):z(ge,{})},G=function(ge){return function(oe){var we;if(!w(oe)||(we=$(oe)).type!==ge)throw TypeError("Incompatible receiver, "+ge+" required");return we}};if(b||Q.state){var X=Q.state||(Q.state=new O),P=X.get,H=X.has,V=X.set;z=function(ge,oe){if(H.call(X,ge))throw new TypeError(_);return oe.facade=ge,V.call(X,ge,oe),oe},$=function(ge){return P.call(X,ge)||{}},U=function(ge){return H.call(X,ge)}}else{var te=I("state");T[te]=!0,z=function(ge,oe){if(F(ge,te))throw new TypeError(_);return oe.facade=ge,R(ge,te,oe),oe},$=function(ge){return F(ge,te)?ge[te]:{}},U=function(ge){return F(ge,te)}}u.exports={set:z,get:$,has:U,enforce:L,getterFor:G}}),"./node_modules/core-js/internals/is-array.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/classof-raw.js");u.exports=Array.isArray||function(w){return b(w)=="Array"}}),"./node_modules/core-js/internals/is-forced.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/fails.js"),x=/#|\.prototype\./,w=function(T,_){var O=F[R(T)];return O==I?!0:O==Q?!1:typeof _=="function"?b(_):!!_},R=w.normalize=function(T){return String(T).replace(x,".").toLowerCase()},F=w.data={},Q=w.NATIVE="N",I=w.POLYFILL="P";u.exports=w}),"./node_modules/core-js/internals/is-object.js":(function(u){u.exports=function(p){return typeof p=="object"?p!==null:typeof p=="function"}}),"./node_modules/core-js/internals/is-pure.js":(function(u){u.exports=!1}),"./node_modules/core-js/internals/is-symbol.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/get-built-in.js"),x=h("./node_modules/core-js/internals/use-symbol-as-uid.js");u.exports=x?function(w){return typeof w=="symbol"}:function(w){var R=b("Symbol");return typeof R=="function"&&Object(w)instanceof R}}),"./node_modules/core-js/internals/iterators-core.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/fails.js"),x=h("./node_modules/core-js/internals/object-get-prototype-of.js"),w=h("./node_modules/core-js/internals/create-non-enumerable-property.js"),R=h("./node_modules/core-js/internals/has.js"),F=h("./node_modules/core-js/internals/well-known-symbol.js"),Q=h("./node_modules/core-js/internals/is-pure.js"),I=F("iterator"),T=!1,_=function(){return this},O,z,$;[].keys&&($=[].keys(),"next"in $?(z=x(x($)),z!==Object.prototype&&(O=z)):T=!0);var U=O==null||b(function(){var L={};return O[I].call(L)!==L});U&&(O={}),(!Q||U)&&!R(O,I)&&w(O,I,_),u.exports={IteratorPrototype:O,BUGGY_SAFARI_ITERATORS:T}}),"./node_modules/core-js/internals/iterators.js":(function(u){u.exports={}}),"./node_modules/core-js/internals/native-symbol.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/engine-v8-version.js"),x=h("./node_modules/core-js/internals/fails.js");u.exports=!!Object.getOwnPropertySymbols&&!x(function(){var w=Symbol();return!String(w)||!(Object(w)instanceof Symbol)||!Symbol.sham&&b&&b<41})}),"./node_modules/core-js/internals/native-weak-map.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/global.js"),x=h("./node_modules/core-js/internals/inspect-source.js"),w=b.WeakMap;u.exports=typeof w=="function"&&/native code/.test(x(w))}),"./node_modules/core-js/internals/object-assign.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/descriptors.js"),x=h("./node_modules/core-js/internals/fails.js"),w=h("./node_modules/core-js/internals/object-keys.js"),R=h("./node_modules/core-js/internals/object-get-own-property-symbols.js"),F=h("./node_modules/core-js/internals/object-property-is-enumerable.js"),Q=h("./node_modules/core-js/internals/to-object.js"),I=h("./node_modules/core-js/internals/indexed-object.js"),T=Object.assign,_=Object.defineProperty;u.exports=!T||x(function(){if(b&&T({b:1},T(_({},"a",{enumerable:!0,get:function(){_(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var O={},z={},$=Symbol(),U="abcdefghijklmnopqrst";return O[$]=7,U.split("").forEach(function(L){z[L]=L}),T({},O)[$]!=7||w(T({},z)).join("")!=U})?function(z,$){for(var U=Q(z),L=arguments.length,G=1,X=R.f,P=F.f;L>G;)for(var H=I(arguments[G++]),V=X?w(H).concat(X(H)):w(H),te=V.length,ge=0,oe;te>ge;)oe=V[ge++],(!b||P.call(H,oe))&&(U[oe]=H[oe]);return U}:T}),"./node_modules/core-js/internals/object-create.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/an-object.js"),x=h("./node_modules/core-js/internals/object-define-properties.js"),w=h("./node_modules/core-js/internals/enum-bug-keys.js"),R=h("./node_modules/core-js/internals/hidden-keys.js"),F=h("./node_modules/core-js/internals/html.js"),Q=h("./node_modules/core-js/internals/document-create-element.js"),I=h("./node_modules/core-js/internals/shared-key.js"),T=">",_="<",O="prototype",z="script",$=I("IE_PROTO"),U=function(){},L=function(V){return _+z+T+V+_+"/"+z+T},G=function(V){V.write(L("")),V.close();var te=V.parentWindow.Object;return V=null,te},X=function(){var V=Q("iframe"),te="java"+z+":",ge;if(V.style)return V.style.display="none",F.appendChild(V),V.src=String(te),ge=V.contentWindow.document,ge.open(),ge.write(L("document.F=Object")),ge.close(),ge.F},P,H=function(){try{P=new ActiveXObject("htmlfile")}catch{}H=document.domain&&P?G(P):X()||G(P);for(var V=w.length;V--;)delete H[O][w[V]];return H()};R[$]=!0,u.exports=Object.create||function(te,ge){var oe;return te!==null?(U[O]=b(te),oe=new U,U[O]=null,oe[$]=te):oe=H(),ge===void 0?oe:x(oe,ge)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/descriptors.js"),x=h("./node_modules/core-js/internals/object-define-property.js"),w=h("./node_modules/core-js/internals/an-object.js"),R=h("./node_modules/core-js/internals/object-keys.js");u.exports=b?Object.defineProperties:function(Q,I){w(Q);for(var T=R(I),_=T.length,O=0,z;_>O;)x.f(Q,z=T[O++],I[z]);return Q}}),"./node_modules/core-js/internals/object-define-property.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/descriptors.js"),x=h("./node_modules/core-js/internals/ie8-dom-define.js"),w=h("./node_modules/core-js/internals/an-object.js"),R=h("./node_modules/core-js/internals/to-property-key.js"),F=Object.defineProperty;p.f=b?F:function(I,T,_){if(w(I),T=R(T),w(_),x)try{return F(I,T,_)}catch{}if("get"in _||"set"in _)throw TypeError("Accessors not supported");return"value"in _&&(I[T]=_.value),I}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/descriptors.js"),x=h("./node_modules/core-js/internals/object-property-is-enumerable.js"),w=h("./node_modules/core-js/internals/create-property-descriptor.js"),R=h("./node_modules/core-js/internals/to-indexed-object.js"),F=h("./node_modules/core-js/internals/to-property-key.js"),Q=h("./node_modules/core-js/internals/has.js"),I=h("./node_modules/core-js/internals/ie8-dom-define.js"),T=Object.getOwnPropertyDescriptor;p.f=b?T:function(O,z){if(O=R(O),z=F(z),I)try{return T(O,z)}catch{}if(Q(O,z))return w(!x.f.call(O,z),O[z])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/to-indexed-object.js"),x=h("./node_modules/core-js/internals/object-get-own-property-names.js").f,w={}.toString,R=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],F=function(Q){try{return x(Q)}catch{return R.slice()}};u.exports.f=function(I){return R&&w.call(I)=="[object Window]"?F(I):x(b(I))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/object-keys-internal.js"),x=h("./node_modules/core-js/internals/enum-bug-keys.js"),w=x.concat("length","prototype");p.f=Object.getOwnPropertyNames||function(F){return b(F,w)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(u,p){p.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/has.js"),x=h("./node_modules/core-js/internals/to-object.js"),w=h("./node_modules/core-js/internals/shared-key.js"),R=h("./node_modules/core-js/internals/correct-prototype-getter.js"),F=w("IE_PROTO"),Q=Object.prototype;u.exports=R?Object.getPrototypeOf:function(I){return I=x(I),b(I,F)?I[F]:typeof I.constructor=="function"&&I instanceof I.constructor?I.constructor.prototype:I instanceof Object?Q:null}}),"./node_modules/core-js/internals/object-keys-internal.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/has.js"),x=h("./node_modules/core-js/internals/to-indexed-object.js"),w=h("./node_modules/core-js/internals/array-includes.js").indexOf,R=h("./node_modules/core-js/internals/hidden-keys.js");u.exports=function(F,Q){var I=x(F),T=0,_=[],O;for(O in I)!b(R,O)&&b(I,O)&&_.push(O);for(;Q.length>T;)b(I,O=Q[T++])&&(~w(_,O)||_.push(O));return _}}),"./node_modules/core-js/internals/object-keys.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/object-keys-internal.js"),x=h("./node_modules/core-js/internals/enum-bug-keys.js");u.exports=Object.keys||function(R){return b(R,x)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(u,p){var h={}.propertyIsEnumerable,b=Object.getOwnPropertyDescriptor,x=b&&!h.call({1:2},1);p.f=x?function(R){var F=b(this,R);return!!F&&F.enumerable}:h}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/an-object.js"),x=h("./node_modules/core-js/internals/a-possible-prototype.js");u.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var w=!1,R={},F;try{F=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,F.call(R,[]),w=R instanceof Array}catch{}return function(I,T){return b(I),x(T),w?F.call(I,T):I.__proto__=T,I}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/to-string-tag-support.js"),x=h("./node_modules/core-js/internals/classof.js");u.exports=b?{}.toString:function(){return"[object "+x(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/is-object.js");u.exports=function(x,w){var R,F;if(w==="string"&&typeof(R=x.toString)=="function"&&!b(F=R.call(x))||typeof(R=x.valueOf)=="function"&&!b(F=R.call(x))||w!=="string"&&typeof(R=x.toString)=="function"&&!b(F=R.call(x)))return F;throw TypeError("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/get-built-in.js"),x=h("./node_modules/core-js/internals/object-get-own-property-names.js"),w=h("./node_modules/core-js/internals/object-get-own-property-symbols.js"),R=h("./node_modules/core-js/internals/an-object.js");u.exports=b("Reflect","ownKeys")||function(Q){var I=x.f(R(Q)),T=w.f;return T?I.concat(T(Q)):I}}),"./node_modules/core-js/internals/path.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/global.js");u.exports=b}),"./node_modules/core-js/internals/redefine.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/global.js"),x=h("./node_modules/core-js/internals/create-non-enumerable-property.js"),w=h("./node_modules/core-js/internals/has.js"),R=h("./node_modules/core-js/internals/set-global.js"),F=h("./node_modules/core-js/internals/inspect-source.js"),Q=h("./node_modules/core-js/internals/internal-state.js"),I=Q.get,T=Q.enforce,_=String(String).split("String");(u.exports=function(O,z,$,U){var L=U?!!U.unsafe:!1,G=U?!!U.enumerable:!1,X=U?!!U.noTargetGet:!1,P;if(typeof $=="function"&&(typeof z=="string"&&!w($,"name")&&x($,"name",z),P=T($),P.source||(P.source=_.join(typeof z=="string"?z:""))),O===b){G?O[z]=$:R(z,$);return}else L?!X&&O[z]&&(G=!0):delete O[z];G?O[z]=$:x(O,z,$)})(Function.prototype,"toString",function(){return typeof this=="function"&&I(this).source||F(this)})}),"./node_modules/core-js/internals/regexp-flags.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/an-object.js");u.exports=function(){var x=b(this),w="";return x.global&&(w+="g"),x.ignoreCase&&(w+="i"),x.multiline&&(w+="m"),x.dotAll&&(w+="s"),x.unicode&&(w+="u"),x.sticky&&(w+="y"),w}}),"./node_modules/core-js/internals/require-object-coercible.js":(function(u){u.exports=function(p){if(p==null)throw TypeError("Can't call method on "+p);return p}}),"./node_modules/core-js/internals/set-global.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/global.js");u.exports=function(x,w){try{Object.defineProperty(b,x,{value:w,configurable:!0,writable:!0})}catch{b[x]=w}return w}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/object-define-property.js").f,x=h("./node_modules/core-js/internals/has.js"),w=h("./node_modules/core-js/internals/well-known-symbol.js"),R=w("toStringTag");u.exports=function(F,Q,I){F&&!x(F=I?F:F.prototype,R)&&b(F,R,{configurable:!0,value:Q})}}),"./node_modules/core-js/internals/shared-key.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/shared.js"),x=h("./node_modules/core-js/internals/uid.js"),w=b("keys");u.exports=function(R){return w[R]||(w[R]=x(R))}}),"./node_modules/core-js/internals/shared-store.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/global.js"),x=h("./node_modules/core-js/internals/set-global.js"),w="__core-js_shared__",R=b[w]||x(w,{});u.exports=R}),"./node_modules/core-js/internals/shared.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/is-pure.js"),x=h("./node_modules/core-js/internals/shared-store.js");(u.exports=function(w,R){return x[w]||(x[w]=R!==void 0?R:{})})("versions",[]).push({version:"3.16.0",mode:b?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),"./node_modules/core-js/internals/string-html-forced.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/fails.js");u.exports=function(x){return b(function(){var w=""[x]('"');return w!==w.toLowerCase()||w.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/to-integer.js"),x=h("./node_modules/core-js/internals/to-string.js"),w=h("./node_modules/core-js/internals/require-object-coercible.js"),R=function(F){return function(Q,I){var T=x(w(Q)),_=b(I),O=T.length,z,$;return _<0||_>=O?F?"":void 0:(z=T.charCodeAt(_),z<55296||z>56319||_+1===O||($=T.charCodeAt(_+1))<56320||$>57343?F?T.charAt(_):z:F?T.slice(_,_+2):(z-55296<<10)+($-56320)+65536)}};u.exports={codeAt:R(!1),charAt:R(!0)}}),"./node_modules/core-js/internals/string-trim.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/require-object-coercible.js"),x=h("./node_modules/core-js/internals/to-string.js"),w=h("./node_modules/core-js/internals/whitespaces.js"),R="["+w+"]",F=RegExp("^"+R+R+"*"),Q=RegExp(R+R+"*$"),I=function(T){return function(_){var O=x(b(_));return T&1&&(O=O.replace(F,"")),T&2&&(O=O.replace(Q,"")),O}};u.exports={start:I(1),end:I(2),trim:I(3)}}),"./node_modules/core-js/internals/to-absolute-index.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/to-integer.js"),x=Math.max,w=Math.min;u.exports=function(R,F){var Q=b(R);return Q<0?x(Q+F,0):w(Q,F)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/indexed-object.js"),x=h("./node_modules/core-js/internals/require-object-coercible.js");u.exports=function(w){return b(x(w))}}),"./node_modules/core-js/internals/to-integer.js":(function(u){var p=Math.ceil,h=Math.floor;u.exports=function(b){return isNaN(b=+b)?0:(b>0?h:p)(b)}}),"./node_modules/core-js/internals/to-length.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/to-integer.js"),x=Math.min;u.exports=function(w){return w>0?x(b(w),9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/require-object-coercible.js");u.exports=function(x){return Object(b(x))}}),"./node_modules/core-js/internals/to-primitive.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/is-object.js"),x=h("./node_modules/core-js/internals/is-symbol.js"),w=h("./node_modules/core-js/internals/ordinary-to-primitive.js"),R=h("./node_modules/core-js/internals/well-known-symbol.js"),F=R("toPrimitive");u.exports=function(Q,I){if(!b(Q)||x(Q))return Q;var T=Q[F],_;if(T!==void 0){if(I===void 0&&(I="default"),_=T.call(Q,I),!b(_)||x(_))return _;throw TypeError("Can't convert object to primitive value")}return I===void 0&&(I="number"),w(Q,I)}}),"./node_modules/core-js/internals/to-property-key.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/to-primitive.js"),x=h("./node_modules/core-js/internals/is-symbol.js");u.exports=function(w){var R=b(w,"string");return x(R)?R:String(R)}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/well-known-symbol.js"),x=b("toStringTag"),w={};w[x]="z",u.exports=String(w)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/is-symbol.js");u.exports=function(x){if(b(x))throw TypeError("Cannot convert a Symbol value to a string");return String(x)}}),"./node_modules/core-js/internals/uid.js":(function(u){var p=0,h=Math.random();u.exports=function(b){return"Symbol("+String(b===void 0?"":b)+")_"+(++p+h).toString(36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/native-symbol.js");u.exports=b&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/well-known-symbol.js");p.f=b}),"./node_modules/core-js/internals/well-known-symbol.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/global.js"),x=h("./node_modules/core-js/internals/shared.js"),w=h("./node_modules/core-js/internals/has.js"),R=h("./node_modules/core-js/internals/uid.js"),F=h("./node_modules/core-js/internals/native-symbol.js"),Q=h("./node_modules/core-js/internals/use-symbol-as-uid.js"),I=x("wks"),T=b.Symbol,_=Q?T:T&&T.withoutSetter||R;u.exports=function(O){return(!w(I,O)||!(F||typeof I[O]=="string"))&&(F&&w(T,O)?I[O]=T[O]:I[O]=_("Symbol."+O)),I[O]}}),"./node_modules/core-js/internals/whitespaces.js":(function(u){u.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/export.js"),x=h("./node_modules/core-js/internals/fails.js"),w=h("./node_modules/core-js/internals/is-array.js"),R=h("./node_modules/core-js/internals/is-object.js"),F=h("./node_modules/core-js/internals/to-object.js"),Q=h("./node_modules/core-js/internals/to-length.js"),I=h("./node_modules/core-js/internals/create-property.js"),T=h("./node_modules/core-js/internals/array-species-create.js"),_=h("./node_modules/core-js/internals/array-method-has-species-support.js"),O=h("./node_modules/core-js/internals/well-known-symbol.js"),z=h("./node_modules/core-js/internals/engine-v8-version.js"),$=O("isConcatSpreadable"),U=9007199254740991,L="Maximum allowed index exceeded",G=z>=51||!x(function(){var V=[];return V[$]=!1,V.concat()[0]!==V}),X=_("concat"),P=function(V){if(!R(V))return!1;var te=V[$];return te!==void 0?!!te:w(V)},H=!G||!X;b({target:"Array",proto:!0,forced:H},{concat:function(te){var ge=F(this),oe=T(ge,0),we=0,be,je,re,de,K;for(be=-1,re=arguments.length;be<re;be++)if(K=be===-1?ge:arguments[be],P(K)){if(de=Q(K.length),we+de>U)throw TypeError(L);for(je=0;je<de;je++,we++)je in K&&I(oe,we,K[je])}else{if(we>=U)throw TypeError(L);I(oe,we++,K)}return oe.length=we,oe}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/to-indexed-object.js"),x=h("./node_modules/core-js/internals/add-to-unscopables.js"),w=h("./node_modules/core-js/internals/iterators.js"),R=h("./node_modules/core-js/internals/internal-state.js"),F=h("./node_modules/core-js/internals/define-iterator.js"),Q="Array Iterator",I=R.set,T=R.getterFor(Q);u.exports=F(Array,"Array",function(_,O){I(this,{type:Q,target:b(_),index:0,kind:O})},function(){var _=T(this),O=_.target,z=_.kind,$=_.index++;return!O||$>=O.length?(_.target=void 0,{value:void 0,done:!0}):z=="keys"?{value:$,done:!1}:z=="values"?{value:O[$],done:!1}:{value:[$,O[$]],done:!1}},"values"),w.Arguments=w.Array,x("keys"),x("values"),x("entries")}),"./node_modules/core-js/modules/es.array.join.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/export.js"),x=h("./node_modules/core-js/internals/indexed-object.js"),w=h("./node_modules/core-js/internals/to-indexed-object.js"),R=h("./node_modules/core-js/internals/array-method-is-strict.js"),F=[].join,Q=x!=Object,I=R("join",",");b({target:"Array",proto:!0,forced:Q||!I},{join:function(_){return F.call(w(this),_===void 0?",":_)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/export.js"),x=h("./node_modules/core-js/internals/array-iteration.js").map,w=h("./node_modules/core-js/internals/array-method-has-species-support.js"),R=w("map");b({target:"Array",proto:!0,forced:!R},{map:function(Q){return x(this,Q,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/export.js"),x=h("./node_modules/core-js/internals/is-object.js"),w=h("./node_modules/core-js/internals/is-array.js"),R=h("./node_modules/core-js/internals/to-absolute-index.js"),F=h("./node_modules/core-js/internals/to-length.js"),Q=h("./node_modules/core-js/internals/to-indexed-object.js"),I=h("./node_modules/core-js/internals/create-property.js"),T=h("./node_modules/core-js/internals/well-known-symbol.js"),_=h("./node_modules/core-js/internals/array-method-has-species-support.js"),O=_("slice"),z=T("species"),$=[].slice,U=Math.max;b({target:"Array",proto:!0,forced:!O},{slice:function(G,X){var P=Q(this),H=F(P.length),V=R(G,H),te=R(X===void 0?H:X,H),ge,oe,we;if(w(P)&&(ge=P.constructor,typeof ge=="function"&&(ge===Array||w(ge.prototype))?ge=void 0:x(ge)&&(ge=ge[z],ge===null&&(ge=void 0)),ge===Array||ge===void 0))return $.call(P,V,te);for(oe=new(ge===void 0?Array:ge)(U(te-V,0)),we=0;V<te;V++,we++)V in P&&I(oe,we,P[V]);return oe.length=we,oe}})}),"./node_modules/core-js/modules/es.function.name.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/descriptors.js"),x=h("./node_modules/core-js/internals/object-define-property.js").f,w=Function.prototype,R=w.toString,F=/^\s*function ([^ (]*)/,Q="name";b&&!(Q in w)&&x(w,Q,{configurable:!0,get:function(){try{return R.call(this).match(F)[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/descriptors.js"),x=h("./node_modules/core-js/internals/global.js"),w=h("./node_modules/core-js/internals/is-forced.js"),R=h("./node_modules/core-js/internals/redefine.js"),F=h("./node_modules/core-js/internals/has.js"),Q=h("./node_modules/core-js/internals/classof-raw.js"),I=h("./node_modules/core-js/internals/inherit-if-required.js"),T=h("./node_modules/core-js/internals/is-symbol.js"),_=h("./node_modules/core-js/internals/to-primitive.js"),O=h("./node_modules/core-js/internals/fails.js"),z=h("./node_modules/core-js/internals/object-create.js"),$=h("./node_modules/core-js/internals/object-get-own-property-names.js").f,U=h("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,L=h("./node_modules/core-js/internals/object-define-property.js").f,G=h("./node_modules/core-js/internals/string-trim.js").trim,X="Number",P=x[X],H=P.prototype,V=Q(z(H))==X,te=function(je){if(T(je))throw TypeError("Cannot convert a Symbol value to a number");var re=_(je,"number"),de,K,ne,ce,Be,he,xe,Se;if(typeof re=="string"&&re.length>2){if(re=G(re),de=re.charCodeAt(0),de===43||de===45){if(K=re.charCodeAt(2),K===88||K===120)return NaN}else if(de===48){switch(re.charCodeAt(1)){case 66:case 98:ne=2,ce=49;break;case 79:case 111:ne=8,ce=55;break;default:return+re}for(Be=re.slice(2),he=Be.length,xe=0;xe<he;xe++)if(Se=Be.charCodeAt(xe),Se<48||Se>ce)return NaN;return parseInt(Be,ne)}}return+re};if(w(X,!P(" 0o1")||!P("0b1")||P("+0x1"))){for(var ge=function(re){var de=arguments.length<1?0:re,K=this;return K instanceof ge&&(V?O(function(){H.valueOf.call(K)}):Q(K)!=X)?I(new P(te(de)),K,ge):te(de)},oe=b?$(P):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),we=0,be;oe.length>we;we++)F(P,be=oe[we])&&!F(ge,be)&&L(ge,be,U(P,be));ge.prototype=H,H.constructor=ge,R(x,X,ge)}}),"./node_modules/core-js/modules/es.object.assign.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/export.js"),x=h("./node_modules/core-js/internals/object-assign.js");b({target:"Object",stat:!0,forced:Object.assign!==x},{assign:x})}),"./node_modules/core-js/modules/es.object.keys.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/export.js"),x=h("./node_modules/core-js/internals/to-object.js"),w=h("./node_modules/core-js/internals/object-keys.js"),R=h("./node_modules/core-js/internals/fails.js"),F=R(function(){w(1)});b({target:"Object",stat:!0,forced:F},{keys:function(I){return w(x(I))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/to-string-tag-support.js"),x=h("./node_modules/core-js/internals/redefine.js"),w=h("./node_modules/core-js/internals/object-to-string.js");b||x(Object.prototype,"toString",w,{unsafe:!0})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/redefine.js"),x=h("./node_modules/core-js/internals/an-object.js"),w=h("./node_modules/core-js/internals/to-string.js"),R=h("./node_modules/core-js/internals/fails.js"),F=h("./node_modules/core-js/internals/regexp-flags.js"),Q="toString",I=RegExp.prototype,T=I[Q],_=R(function(){return T.call({source:"a",flags:"b"})!="/a/b"}),O=T.name!=Q;(_||O)&&b(RegExp.prototype,Q,function(){var $=x(this),U=w($.source),L=$.flags,G=w(L===void 0&&$ instanceof RegExp&&!("flags"in I)?F.call($):L);return"/"+U+"/"+G},{unsafe:!0})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/string-multibyte.js").charAt,x=h("./node_modules/core-js/internals/to-string.js"),w=h("./node_modules/core-js/internals/internal-state.js"),R=h("./node_modules/core-js/internals/define-iterator.js"),F="String Iterator",Q=w.set,I=w.getterFor(F);R(String,"String",function(T){Q(this,{type:F,string:x(T),index:0})},function(){var _=I(this),O=_.string,z=_.index,$;return z>=O.length?{value:void 0,done:!0}:($=b(O,z),_.index+=$.length,{value:$,done:!1})})}),"./node_modules/core-js/modules/es.string.link.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/export.js"),x=h("./node_modules/core-js/internals/create-html.js"),w=h("./node_modules/core-js/internals/string-html-forced.js");b({target:"String",proto:!0,forced:w("link")},{link:function(F){return x(this,"a","href",F)}})}),"./node_modules/core-js/modules/es.symbol.description.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/export.js"),x=h("./node_modules/core-js/internals/descriptors.js"),w=h("./node_modules/core-js/internals/global.js"),R=h("./node_modules/core-js/internals/has.js"),F=h("./node_modules/core-js/internals/is-object.js"),Q=h("./node_modules/core-js/internals/object-define-property.js").f,I=h("./node_modules/core-js/internals/copy-constructor-properties.js"),T=w.Symbol;if(x&&typeof T=="function"&&(!("description"in T.prototype)||T().description!==void 0)){var _={},O=function(){var X=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),P=this instanceof O?new T(X):X===void 0?T():T(X);return X===""&&(_[P]=!0),P};I(O,T);var z=O.prototype=T.prototype;z.constructor=O;var $=z.toString,U=String(T("test"))=="Symbol(test)",L=/^Symbol\((.*)\)[^)]+$/;Q(z,"description",{configurable:!0,get:function(){var X=F(this)?this.valueOf():this,P=$.call(X);if(R(_,X))return"";var H=U?P.slice(7,-1):P.replace(L,"$1");return H===""?void 0:H}}),b({global:!0,forced:!0},{Symbol:O})}}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/define-well-known-symbol.js");b("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/export.js"),x=h("./node_modules/core-js/internals/global.js"),w=h("./node_modules/core-js/internals/get-built-in.js"),R=h("./node_modules/core-js/internals/is-pure.js"),F=h("./node_modules/core-js/internals/descriptors.js"),Q=h("./node_modules/core-js/internals/native-symbol.js"),I=h("./node_modules/core-js/internals/fails.js"),T=h("./node_modules/core-js/internals/has.js"),_=h("./node_modules/core-js/internals/is-array.js"),O=h("./node_modules/core-js/internals/is-object.js"),z=h("./node_modules/core-js/internals/is-symbol.js"),$=h("./node_modules/core-js/internals/an-object.js"),U=h("./node_modules/core-js/internals/to-object.js"),L=h("./node_modules/core-js/internals/to-indexed-object.js"),G=h("./node_modules/core-js/internals/to-property-key.js"),X=h("./node_modules/core-js/internals/to-string.js"),P=h("./node_modules/core-js/internals/create-property-descriptor.js"),H=h("./node_modules/core-js/internals/object-create.js"),V=h("./node_modules/core-js/internals/object-keys.js"),te=h("./node_modules/core-js/internals/object-get-own-property-names.js"),ge=h("./node_modules/core-js/internals/object-get-own-property-names-external.js"),oe=h("./node_modules/core-js/internals/object-get-own-property-symbols.js"),we=h("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),be=h("./node_modules/core-js/internals/object-define-property.js"),je=h("./node_modules/core-js/internals/object-property-is-enumerable.js"),re=h("./node_modules/core-js/internals/create-non-enumerable-property.js"),de=h("./node_modules/core-js/internals/redefine.js"),K=h("./node_modules/core-js/internals/shared.js"),ne=h("./node_modules/core-js/internals/shared-key.js"),ce=h("./node_modules/core-js/internals/hidden-keys.js"),Be=h("./node_modules/core-js/internals/uid.js"),he=h("./node_modules/core-js/internals/well-known-symbol.js"),xe=h("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),Se=h("./node_modules/core-js/internals/define-well-known-symbol.js"),Ie=h("./node_modules/core-js/internals/set-to-string-tag.js"),We=h("./node_modules/core-js/internals/internal-state.js"),Xe=h("./node_modules/core-js/internals/array-iteration.js").forEach,st=ne("hidden"),dt="Symbol",Mt="prototype",Ze=he("toPrimitive"),Ee=We.set,Ht=We.getterFor(dt),Ct=Object[Mt],ct=x.Symbol,Oe=w("JSON","stringify"),rt=we.f,Je=be.f,pt=ge.f,_t=je.f,Nt=K("symbols"),It=K("op-symbols"),Et=K("string-to-symbol-registry"),qt=K("symbol-to-string-registry"),kt=K("wks"),ke=x.QObject,ze=!ke||!ke[Mt]||!ke[Mt].findChild,vt=F&&I(function(){return H(Je({},"a",{get:function(){return Je(this,"a",{value:7}).a}})).a!=7})?function(on,Qt,St){var Kt=rt(Ct,Qt);Kt&&delete Ct[Qt],Je(on,Qt,St),Kt&&on!==Ct&&Je(Ct,Qt,Kt)}:Je,yt=function(on,Qt){var St=Nt[on]=H(ct[Mt]);return Ee(St,{type:dt,tag:on,description:Qt}),F||(St.description=Qt),St},$t=function(Qt,St,Kt){Qt===Ct&&$t(It,St,Kt),$(Qt);var vn=G(St);return $(Kt),T(Nt,vn)?(Kt.enumerable?(T(Qt,st)&&Qt[st][vn]&&(Qt[st][vn]=!1),Kt=H(Kt,{enumerable:P(0,!1)})):(T(Qt,st)||Je(Qt,st,P(1,{})),Qt[st][vn]=!0),vt(Qt,vn,Kt)):Je(Qt,vn,Kt)},Ft=function(Qt,St){$(Qt);var Kt=L(St),vn=V(Kt).concat(Ln(Kt));return Xe(vn,function(In){(!F||wr.call(Kt,In))&&$t(Qt,In,Kt[In])}),Qt},rn=function(Qt,St){return St===void 0?H(Qt):Ft(H(Qt),St)},wr=function(Qt){var St=G(Qt),Kt=_t.call(this,St);return this===Ct&&T(Nt,St)&&!T(It,St)?!1:Kt||!T(this,St)||!T(Nt,St)||T(this,st)&&this[st][St]?Kt:!0},un=function(Qt,St){var Kt=L(Qt),vn=G(St);if(!(Kt===Ct&&T(Nt,vn)&&!T(It,vn))){var In=rt(Kt,vn);return In&&T(Nt,vn)&&!(T(Kt,st)&&Kt[st][vn])&&(In.enumerable=!0),In}},Qs=function(Qt){var St=pt(L(Qt)),Kt=[];return Xe(St,function(vn){!T(Nt,vn)&&!T(ce,vn)&&Kt.push(vn)}),Kt},Ln=function(Qt){var St=Qt===Ct,Kt=pt(St?It:L(Qt)),vn=[];return Xe(Kt,function(In){T(Nt,In)&&(!St||T(Ct,In))&&vn.push(Nt[In])}),vn};if(Q||(ct=function(){if(this instanceof ct)throw TypeError("Symbol is not a constructor");var Qt=!arguments.length||arguments[0]===void 0?void 0:X(arguments[0]),St=Be(Qt),Kt=function(vn){this===Ct&&Kt.call(It,vn),T(this,st)&&T(this[st],St)&&(this[st][St]=!1),vt(this,St,P(1,vn))};return F&&ze&&vt(Ct,St,{configurable:!0,set:Kt}),yt(St,Qt)},de(ct[Mt],"toString",function(){return Ht(this).tag}),de(ct,"withoutSetter",function(on){return yt(Be(on),on)}),je.f=wr,be.f=$t,we.f=un,te.f=ge.f=Qs,oe.f=Ln,xe.f=function(on){return yt(he(on),on)},F&&(Je(ct[Mt],"description",{configurable:!0,get:function(){return Ht(this).description}}),R||de(Ct,"propertyIsEnumerable",wr,{unsafe:!0}))),b({global:!0,wrap:!0,forced:!Q,sham:!Q},{Symbol:ct}),Xe(V(kt),function(on){Se(on)}),b({target:dt,stat:!0,forced:!Q},{for:function(on){var Qt=X(on);if(T(Et,Qt))return Et[Qt];var St=ct(Qt);return Et[Qt]=St,qt[St]=Qt,St},keyFor:function(Qt){if(!z(Qt))throw TypeError(Qt+" is not a symbol");if(T(qt,Qt))return qt[Qt]},useSetter:function(){ze=!0},useSimple:function(){ze=!1}}),b({target:"Object",stat:!0,forced:!Q,sham:!F},{create:rn,defineProperty:$t,defineProperties:Ft,getOwnPropertyDescriptor:un}),b({target:"Object",stat:!0,forced:!Q},{getOwnPropertyNames:Qs,getOwnPropertySymbols:Ln}),b({target:"Object",stat:!0,forced:I(function(){oe.f(1)})},{getOwnPropertySymbols:function(Qt){return oe.f(U(Qt))}}),Oe){var Rr=!Q||I(function(){var on=ct();return Oe([on])!="[null]"||Oe({a:on})!="{}"||Oe(Object(on))!="{}"});b({target:"JSON",stat:!0,forced:Rr},{stringify:function(Qt,St,Kt){for(var vn=[Qt],In=1,Lr;arguments.length>In;)vn.push(arguments[In++]);if(Lr=St,!(!O(St)&&Qt===void 0||z(Qt)))return _(St)||(St=function(Vs,Pt){if(typeof Lr=="function"&&(Pt=Lr.call(this,Vs,Pt)),!z(Pt))return Pt}),vn[1]=St,Oe.apply(null,vn)}})}ct[Mt][Ze]||re(ct[Mt],Ze,ct[Mt].valueOf),Ie(ct,dt),ce[st]=!0}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/global.js"),x=h("./node_modules/core-js/internals/dom-iterables.js"),w=h("./node_modules/core-js/internals/array-for-each.js"),R=h("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var F in x){var Q=b[F],I=Q&&Q.prototype;if(I&&I.forEach!==w)try{R(I,"forEach",w)}catch{I.forEach=w}}}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(u,p,h){var b=h("./node_modules/core-js/internals/global.js"),x=h("./node_modules/core-js/internals/dom-iterables.js"),w=h("./node_modules/core-js/modules/es.array.iterator.js"),R=h("./node_modules/core-js/internals/create-non-enumerable-property.js"),F=h("./node_modules/core-js/internals/well-known-symbol.js"),Q=F("iterator"),I=F("toStringTag"),T=w.values;for(var _ in x){var O=b[_],z=O&&O.prototype;if(z){if(z[Q]!==T)try{R(z,Q,T)}catch{z[Q]=T}if(z[I]||R(z,I,_),x[_]){for(var $ in w)if(z[$]!==w[$])try{R(z,$,w[$])}catch{z[$]=w[$]}}}}}),"./node_modules/es6-promise/dist/es6-promise.js":(function(u){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(p,h){u.exports=h()})(this,(function(){function p(ke){var ze=typeof ke;return ke!==null&&(ze==="object"||ze==="function")}function h(ke){return typeof ke=="function"}var b=void 0;Array.isArray?b=Array.isArray:b=function(ke){return Object.prototype.toString.call(ke)==="[object Array]"};var x=b,w=0,R=void 0,F=void 0,Q=function(ze,vt){V[w]=ze,V[w+1]=vt,w+=2,w===2&&(F?F(te):oe())};function I(ke){F=ke}function T(ke){Q=ke}var _=typeof window<"u"?window:void 0,O=_||{},z=O.MutationObserver||O.WebKitMutationObserver,$=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",U=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function L(){return function(){return process.nextTick(te)}}function G(){return typeof R<"u"?function(){R(te)}:H()}function X(){var ke=0,ze=new z(te),vt=document.createTextNode("");return ze.observe(vt,{characterData:!0}),function(){vt.data=ke=++ke%2}}function P(){var ke=new MessageChannel;return ke.port1.onmessage=te,function(){return ke.port2.postMessage(0)}}function H(){var ke=setTimeout;return function(){return ke(te,1)}}var V=new Array(1e3);function te(){for(var ke=0;ke<w;ke+=2){var ze=V[ke],vt=V[ke+1];ze(vt),V[ke]=void 0,V[ke+1]=void 0}w=0}function ge(){try{var ke=Function("return this")().require("vertx");return R=ke.runOnLoop||ke.runOnContext,G()}catch{return H()}}var oe=void 0;$?oe=L():z?oe=X():U?oe=P():_===void 0?oe=ge():oe=H();function we(ke,ze){var vt=this,yt=new this.constructor(re);yt[je]===void 0&&Oe(yt);var $t=vt._state;if($t){var Ft=arguments[$t-1];Q(function(){return Ee($t,yt,Ft,vt._result)})}else Mt(vt,yt,ke,ze);return yt}function be(ke){var ze=this;if(ke&&typeof ke=="object"&&ke.constructor===ze)return ke;var vt=new ze(re);return We(vt,ke),vt}var je=Math.random().toString(36).substring(2);function re(){}var de=void 0,K=1,ne=2;function ce(){return new TypeError("You cannot resolve a promise with itself")}function Be(){return new TypeError("A promises callback cannot return that same promise.")}function he(ke,ze,vt,yt){try{ke.call(ze,vt,yt)}catch($t){return $t}}function xe(ke,ze,vt){Q(function(yt){var $t=!1,Ft=he(vt,ze,function(rn){$t||($t=!0,ze!==rn?We(yt,rn):st(yt,rn))},function(rn){$t||($t=!0,dt(yt,rn))},"Settle: "+(yt._label||" unknown promise"));!$t&&Ft&&($t=!0,dt(yt,Ft))},ke)}function Se(ke,ze){ze._state===K?st(ke,ze._result):ze._state===ne?dt(ke,ze._result):Mt(ze,void 0,function(vt){return We(ke,vt)},function(vt){return dt(ke,vt)})}function Ie(ke,ze,vt){ze.constructor===ke.constructor&&vt===we&&ze.constructor.resolve===be?Se(ke,ze):vt===void 0?st(ke,ze):h(vt)?xe(ke,ze,vt):st(ke,ze)}function We(ke,ze){if(ke===ze)dt(ke,ce());else if(p(ze)){var vt=void 0;try{vt=ze.then}catch(yt){dt(ke,yt);return}Ie(ke,ze,vt)}else st(ke,ze)}function Xe(ke){ke._onerror&&ke._onerror(ke._result),Ze(ke)}function st(ke,ze){ke._state===de&&(ke._result=ze,ke._state=K,ke._subscribers.length!==0&&Q(Ze,ke))}function dt(ke,ze){ke._state===de&&(ke._state=ne,ke._result=ze,Q(Xe,ke))}function Mt(ke,ze,vt,yt){var $t=ke._subscribers,Ft=$t.length;ke._onerror=null,$t[Ft]=ze,$t[Ft+K]=vt,$t[Ft+ne]=yt,Ft===0&&ke._state&&Q(Ze,ke)}function Ze(ke){var ze=ke._subscribers,vt=ke._state;if(ze.length!==0){for(var yt=void 0,$t=void 0,Ft=ke._result,rn=0;rn<ze.length;rn+=3)yt=ze[rn],$t=ze[rn+vt],yt?Ee(vt,yt,$t,Ft):$t(Ft);ke._subscribers.length=0}}function Ee(ke,ze,vt,yt){var $t=h(vt),Ft=void 0,rn=void 0,wr=!0;if($t){try{Ft=vt(yt)}catch(un){wr=!1,rn=un}if(ze===Ft){dt(ze,Be());return}}else Ft=yt;ze._state!==de||($t&&wr?We(ze,Ft):wr===!1?dt(ze,rn):ke===K?st(ze,Ft):ke===ne&&dt(ze,Ft))}function Ht(ke,ze){try{ze(function(yt){We(ke,yt)},function(yt){dt(ke,yt)})}catch(vt){dt(ke,vt)}}var Ct=0;function ct(){return Ct++}function Oe(ke){ke[je]=Ct++,ke._state=void 0,ke._result=void 0,ke._subscribers=[]}function rt(){return new Error("Array Methods must be provided an Array")}var Je=(function(){function ke(ze,vt){this._instanceConstructor=ze,this.promise=new ze(re),this.promise[je]||Oe(this.promise),x(vt)?(this.length=vt.length,this._remaining=vt.length,this._result=new Array(this.length),this.length===0?st(this.promise,this._result):(this.length=this.length||0,this._enumerate(vt),this._remaining===0&&st(this.promise,this._result))):dt(this.promise,rt())}return ke.prototype._enumerate=function(vt){for(var yt=0;this._state===de&&yt<vt.length;yt++)this._eachEntry(vt[yt],yt)},ke.prototype._eachEntry=function(vt,yt){var $t=this._instanceConstructor,Ft=$t.resolve;if(Ft===be){var rn=void 0,wr=void 0,un=!1;try{rn=vt.then}catch(Ln){un=!0,wr=Ln}if(rn===we&&vt._state!==de)this._settledAt(vt._state,yt,vt._result);else if(typeof rn!="function")this._remaining--,this._result[yt]=vt;else if($t===qt){var Qs=new $t(re);un?dt(Qs,wr):Ie(Qs,vt,rn),this._willSettleAt(Qs,yt)}else this._willSettleAt(new $t(function(Ln){return Ln(vt)}),yt)}else this._willSettleAt(Ft(vt),yt)},ke.prototype._settledAt=function(vt,yt,$t){var Ft=this.promise;Ft._state===de&&(this._remaining--,vt===ne?dt(Ft,$t):this._result[yt]=$t),this._remaining===0&&st(Ft,this._result)},ke.prototype._willSettleAt=function(vt,yt){var $t=this;Mt(vt,void 0,function(Ft){return $t._settledAt(K,yt,Ft)},function(Ft){return $t._settledAt(ne,yt,Ft)})},ke})();function pt(ke){return new Je(this,ke).promise}function _t(ke){var ze=this;return x(ke)?new ze(function(vt,yt){for(var $t=ke.length,Ft=0;Ft<$t;Ft++)ze.resolve(ke[Ft]).then(vt,yt)}):new ze(function(vt,yt){return yt(new TypeError("You must pass an array to race."))})}function Nt(ke){var ze=this,vt=new ze(re);return dt(vt,ke),vt}function It(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Et(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var qt=(function(){function ke(ze){this[je]=ct(),this._result=this._state=void 0,this._subscribers=[],re!==ze&&(typeof ze!="function"&&It(),this instanceof ke?Ht(this,ze):Et())}return ke.prototype.catch=function(vt){return this.then(null,vt)},ke.prototype.finally=function(vt){var yt=this,$t=yt.constructor;return h(vt)?yt.then(function(Ft){return $t.resolve(vt()).then(function(){return Ft})},function(Ft){return $t.resolve(vt()).then(function(){throw Ft})}):yt.then(vt,vt)},ke})();qt.prototype.then=we,qt.all=pt,qt.race=_t,qt.resolve=be,qt.reject=Nt,qt._setScheduler=I,qt._setAsap=T,qt._asap=Q;function kt(){var ke=void 0;if(typeof im<"u")ke=im;else if(typeof self<"u")ke=self;else try{ke=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ze=ke.Promise;if(ze){var vt=null;try{vt=Object.prototype.toString.call(ze.resolve())}catch{}if(vt==="[object Promise]"&&!ze.cast)return}ke.Promise=qt}return qt.polyfill=kt,qt.Promise=qt,qt}))}),html2canvas:(function(u){u.exports=r}),jspdf:(function(u){u.exports=t})},o={};function c(u){var p=o[u];if(p!==void 0)return p.exports;var h=o[u]={exports:{}};return i[u].call(h.exports,h,h.exports,c),h.exports}(function(){c.n=function(u){var p=u&&u.__esModule?function(){return u.default}:function(){return u};return c.d(p,{a:p}),p}})(),(function(){c.d=function(u,p){for(var h in p)c.o(p,h)&&!c.o(u,h)&&Object.defineProperty(u,h,{enumerable:!0,get:p[h]})}})(),(function(){c.o=function(u,p){return Object.prototype.hasOwnProperty.call(u,p)}})(),(function(){c.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}})();var d={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/c.r(d);var u=c("./src/worker.js");c("./src/plugin/jspdf-plugin.js"),c("./src/plugin/pagebreaks.js"),c("./src/plugin/hyperlinks.js");var p=function h(b,x){var w=new h.Worker(x);return b?w.from(b).save():w};p.Worker=u.default,d.default=p})(),d=d.default,d})()})})(Kv)),Kv.exports}var b6=w6();const B6=gB(b6);class ad{static createSeasonArchive(e,t,r){const i=new Date,o=`${i.getFullYear()}-09-01`,c=`${i.getFullYear()+1}-06-30`,d={totalActivities:t.length,completedActivities:t.filter(u=>u.status==="الأنشطة المنجزة").length,totalReports:r.length,totalParticipants:this.calculateTotalParticipants(t)};return{id:`season-${i.getFullYear()}-${i.getFullYear()+1}`,seasonName:e,startDate:o,endDate:c,activities:[...t],reports:[...r],statistics:d,createdAt:i}}static calculateTotalParticipants(e){return e.reduce((t,r)=>{const i=r.participants||"";return i.includes("جميع المستويات")?t+200:i.includes("المرحلة")?t+100:t+50},0)}static async generateSeasonPDF(e){const t=this.generateHTMLContent(e),r={margin:1,filename:`${e.seasonName}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};return new Promise((i,o)=>{B6().set(r).from(t).outputPdf("blob").then(c=>{i(c)}).catch(c=>{o(c)})})}static generateHTMLContent(e){const t=new Date().toLocaleDateString("ar-SA");return`
    <!DOCTYPE html>
    <html dir="rtl" lang="ar">
    <head>
      <meta charset="UTF-8">
      <style>
        body {
          font-family: 'Arial', sans-serif;
          direction: rtl;
          text-align: right;
          margin: 20px;
          line-height: 1.6;
          color: #333;
        }
        .header {
          text-align: center;
          margin-bottom: 30px;
          border-bottom: 3px solid #1e3a8a;
          padding-bottom: 20px;
        }
        .header h1 {
          color: #1e3a8a;
          font-size: 28px;
          margin: 10px 0;
        }
        .header h2 {
          color: #3b82f6;
          font-size: 20px;
          margin: 5px 0;
        }
        .header p {
          color: #6b7280;
          font-size: 14px;
          margin: 5px 0;
        }
        .stats-section {
          background: #f8fafc;
          padding: 20px;
          border-radius: 10px;
          margin: 20px 0;
          border: 1px solid #e2e8f0;
        }
        .stats-title {
          color: #1e40af;
          font-size: 18px;
          font-weight: bold;
          margin-bottom: 15px;
        }
        .stats-grid {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 15px;
        }
        .stat-item {
          background: white;
          padding: 15px;
          border-radius: 8px;
          border: 1px solid #d1d5db;
          text-align: center;
        }
        .stat-number {
          font-size: 24px;
          font-weight: bold;
          color: #1e40af;
          display: block;
        }
        .stat-label {
          font-size: 14px;
          color: #6b7280;
          margin-top: 5px;
        }
        .activities-section {
          margin: 30px 0;
        }
        .section-title {
          color: #1e40af;
          font-size: 20px;
          font-weight: bold;
          margin-bottom: 20px;
          border-bottom: 2px solid #3b82f6;
          padding-bottom: 10px;
        }
        .activities-table {
          width: 100%;
          border-collapse: collapse;
          margin: 20px 0;
          background: white;
          border-radius: 8px;
          overflow: hidden;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .activities-table th {
          background: #1e3a8a;
          color: white;
          padding: 15px 10px;
          text-align: center;
          font-weight: bold;
        }
        .activities-table td {
          padding: 12px 10px;
          border-bottom: 1px solid #e5e7eb;
          text-align: center;
        }
        .activities-table tr:nth-child(even) {
          background: #f8fafc;
        }
        .status-confirmed {
          background: #10b981;
          color: white;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
        }
        .status-pending {
          background: #f59e0b;
          color: white;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
        }
        .status-cancelled {
          background: #ef4444;
          color: white;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
        }
        .reports-section {
          margin: 30px 0;
        }
        .report-item {
          background: white;
          border: 1px solid #e2e8f0;
          border-radius: 8px;
          padding: 20px;
          margin: 15px 0;
        }
        .report-title {
          color: #1e40af;
          font-size: 16px;
          font-weight: bold;
          margin-bottom: 10px;
        }
        .report-date {
          color: #6b7280;
          font-size: 14px;
          margin-bottom: 10px;
        }
        .report-content {
          line-height: 1.8;
          color: #374151;
        }
        .footer {
          text-align: center;
          margin-top: 40px;
          padding-top: 20px;
          border-top: 2px solid #e5e7eb;
          color: #6b7280;
          font-size: 12px;
        }
        @media print {
          body { margin: 0; }
          .header { page-break-after: avoid; }
          .activities-table { page-break-inside: avoid; }
          .report-item { page-break-inside: avoid; }
        }
      </style>
    </head>
    <body>
      <div class="header">
        <h1>🎭 أرشيف الموسم المسرحي</h1>
        <h2>${e.seasonName}</h2>
        <p>الأستاذ مصطفى لعرعري - مسؤول الأنشطة المسرحية</p>
        <p>مجموعة مدارس العمران</p>
        <p>تاريخ الإنشاء: ${t}</p>
      </div>

      <!-- الإحصائيات -->
      <div class="stats-section">
        <div class="stats-title">📊 إحصائيات الموسم</div>
        <div class="stats-grid">
          <div class="stat-item">
            <span class="stat-number">${e.statistics.totalActivities}</span>
            <div class="stat-label">إجمالي الأنشطة</div>
          </div>
          <div class="stat-item">
            <span class="stat-number">${e.statistics.completedActivities}</span>
            <div class="stat-label">الأنشطة المكتملة</div>
          </div>
          <div class="stat-item">
            <span class="stat-number">${e.statistics.totalReports}</span>
            <div class="stat-label">إجمالي التقارير</div>
          </div>
          <div class="stat-item">
            <span class="stat-number">${e.statistics.totalParticipants}</span>
            <div class="stat-label">تقدير المشاركين</div>
          </div>
        </div>
      </div>

      <!-- جدول الأنشطة -->
      ${e.activities.length>0?`
      <div class="activities-section">
        <div class="section-title">📅 برنامج الأنشطة</div>
        <table class="activities-table">
          <thead>
            <tr>
              <th>العنوان</th>
              <th>التاريخ</th>
              <th>الوقت</th>
              <th>المكان</th>
              <th>الحالة</th>
            </tr>
          </thead>
          <tbody>
            ${e.activities.map(r=>`
              <tr>
                <td>${r.title||""}</td>
                <td>${r.date||""}</td>
                <td>${r.time||""}</td>
                <td>${r.location||""}</td>
                <td>
                  <span class="status-${r.status==="الأنشطة المنجزة"?"confirmed":r.status==="قيد التحضير"?"pending":"cancelled"}">
                    ${r.status||""}
                  </span>
                </td>
              </tr>
            `).join("")}
          </tbody>
        </table>
      </div>
      `:""}

      <!-- التقارير -->
      ${e.reports.length>0?`
      <div class="reports-section">
        <div class="section-title">📋 التقارير</div>
        ${e.reports.map((r,i)=>`
          <div class="report-item">
            <div class="report-title">${i+1}. ${r.title||"تقرير"}</div>
            <div class="report-date">التاريخ: ${r.date||"غير محدد"}</div>
            ${r.content?`<div class="report-content">${r.content}</div>`:""}
          </div>
        `).join("")}
      </div>
      `:""}

      <div class="footer">
        <p>© 2025 الأستاذ مصطفى لعرعري - جميع الحقوق محفوظة</p>
        <p>مجموعة مدارس العمران - الأنشطة المسرحية</p>
        <p>تم إنشاء هذا التقرير في: ${t}</p>
      </div>
    </body>
    </html>
    `}static addActivityToCurrentSeason(e,t){const r=this.getCurrentSeasonArchive();r.activities.push(e),r.reports.push(t),r.statistics.totalActivities=r.activities.length,r.statistics.completedActivities=r.activities.filter(i=>i.status==="الأنشطة المنجزة").length,r.statistics.totalReports=r.reports.length,r.statistics.totalParticipants=r.reports.reduce((i,o)=>i+(o.participants||0),0),localStorage.setItem("current-season-archive",JSON.stringify(r))}static getCurrentSeasonArchive(){const e=localStorage.getItem("current-season-archive");if(e)return JSON.parse(e);const t=new Date().getFullYear(),r={id:`season_${t}`,seasonName:`الموسم المسرحي ${t}-${t+1}`,startDate:`${t}-09-01`,endDate:`${t+1}-06-30`,activities:[],reports:[],statistics:{totalActivities:0,completedActivities:0,totalReports:0,totalParticipants:0},createdAt:new Date};return localStorage.setItem("current-season-archive",JSON.stringify(r)),r}static saveArchive(e){const t=this.getAllArchives();t.push(e),localStorage.setItem("season-archives",JSON.stringify(t))}static getAllArchives(){const e=localStorage.getItem("season-archives");return e?JSON.parse(e):[]}static getArchiveById(e){return this.getAllArchives().find(r=>r.id===e)||null}static deleteArchive(e){const t=this.getAllArchives().filter(r=>r.id!==e);localStorage.setItem("season-archives",JSON.stringify(t))}static exportAllData(){const e=this.getAllArchives();return JSON.stringify(e,null,2)}static importData(e){try{const t=JSON.parse(e);return localStorage.setItem("season-archives",JSON.stringify(t)),!0}catch(t){return console.error("خطأ في استيراد البيانات:",t),!1}}static async saveArchiveToFirestore(e){try{const t=await Tl(nr(Yt,"season-archives"),{...e,createdAt:_n()});return console.log("تم حفظ الأرشيف في Firestore بنجاح:",t.id),t.id}catch(t){throw console.error("خطأ في حفظ الأرشيف في Firestore:",t),t}}static async getAllArchivesFromFirestore(){try{const e=wh(nr(Yt,"season-archives"),sg("createdAt","desc")),t=await ra(e),r=[];return t.forEach(i=>{const o=i.data();r.push({id:i.id,...o,createdAt:o.createdAt?.toDate()||new Date})}),console.log("تم جلب الأرشيفات من Firestore بنجاح:",r.length),r}catch(e){return console.error("خطأ في جلب الأرشيفات من Firestore:",e),[]}}static async getArchiveFromFirestore(e){try{const t=sr(Yt,"season-archives",e),r=await _f(t);if(r.exists()){const i=r.data();return{id:r.id,...i,createdAt:i.createdAt?.toDate()||new Date}}else return console.log("الأرشيف غير موجود:",e),null}catch(t){return console.error("خطأ في جلب الأرشيف من Firestore:",t),null}}static async updateArchiveInFirestore(e,t){try{const r=sr(Yt,"season-archives",e);return await ig(r,{...t,updatedAt:_n()}),console.log("تم تحديث الأرشيف في Firestore بنجاح:",e),!0}catch(r){throw console.error("خطأ في تحديث الأرشيف في Firestore:",r),r}}static async deleteArchiveFromFirestore(e){try{const t=sr(Yt,"season-archives",e);return await ou(t),console.log("تم حذف الأرشيف من Firestore بنجاح:",e),!0}catch(t){throw console.error("خطأ في حذف الأرشيف من Firestore:",t),t}}static async getCurrentSeasonArchiveFromFirestore(){try{const e=new Date().getFullYear(),t=`season_${e}`,r=await this.getArchiveFromFirestore(t);if(r)return r;const i={id:t,seasonName:`الموسم المسرحي ${e}-${e+1}`,startDate:`${e}-09-01`,endDate:`${e+1}-06-30`,activities:[],reports:[],statistics:{totalActivities:0,completedActivities:0,totalReports:0,totalParticipants:0},createdAt:new Date};return await this.saveArchiveToFirestore(i),i}catch(e){throw console.error("خطأ في الحصول على أرشيف الموسم الحالي:",e),e}}}const x6=()=>{const[n,e]=pe.useState(null),[t,r]=pe.useState([]),[i,o]=pe.useState(!1);pe.useEffect(()=>{c()},[]);const c=()=>{const _=ad.getAllArchives();r(_)},d=async _=>{o(!0);try{const O=await ad.generateSeasonPDF(_),z=URL.createObjectURL(O),$=document.createElement("a");$.href=z,$.download=`${_.seasonName}.pdf`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(z)}catch(O){console.error("خطأ في إنشاء PDF:",O),alert("حدث خطأ في إنشاء ملف PDF")}finally{o(!1)}},u=()=>{const _=JSON.parse(localStorage.getItem("theatre-activities")||"[]"),O=JSON.parse(localStorage.getItem("reports")||"[]"),z=`الموسم المسرحي ${new Date().getFullYear()}-${new Date().getFullYear()+1}`,$=ad.createSeasonArchive(z,_,O);ad.saveArchive($),c(),alert("تم إنشاء أرشيف الموسم بنجاح!")},[p,h]=pe.useState(""),[b,x]=pe.useState("الكل"),[w,R]=pe.useState([]);yf.useEffect(()=>{const _=localStorage.getItem("theatre-archive");R(_?JSON.parse(_):[{id:"1",year:"2023-2024",title:"الموسم المسرحي 2023-2024",description:"موسم حافل بالأنشطة المسرحية والعروض المتميزة",totalActivities:25,totalParticipants:450,createdAt:"2024-06-30",activities:[{id:"1",name:"مسرحية الأحلام الذهبية",date:"15 مارس 2024",type:"مسرحية",participants:35,description:"مسرحية تعليمية حول أهمية التعليم والطموح",achievements:["المركز الأول في المهرجان الإقليمي","جائزة أفضل إخراج"]},{id:"2",name:"ورشة الإلقاء والخطابة",date:"10 فبراير 2024",type:"ورشة",participants:20,description:"ورشة تدريبية لتطوير مهارات الإلقاء والخطابة"},{id:"3",name:"مهرجان المسرح المدرسي",date:"25 أبريل 2024",type:"مهرجان",participants:120,description:"مهرجان سنوي يضم عروض من مختلف المدارس",achievements:["تنظيم ناجح","مشاركة 8 مدارس"]}]},{id:"2",year:"2022-2023",title:"الموسم المسرحي 2022-2023",description:"موسم التجديد والإبداع في الأنشطة المسرحية",totalActivities:18,totalParticipants:320,createdAt:"2023-06-30",activities:[{id:"4",name:"مسرحية حكايات من التراث",date:"20 مارس 2023",type:"مسرحية",participants:28,description:"مسرحية تراثية تحكي قصص من الفولكلور المغربي"},{id:"5",name:"عرض نهاية السنة",date:"15 يونيو 2023",type:"عرض",participants:45,description:"عرض ختامي يضم أفضل المواهب المسرحية"}]}])},[]);const F=w.filter(_=>_.title.toLowerCase().includes(p.toLowerCase())||_.year.includes(p)),Q=()=>w.find(_=>_.id===n),I=()=>{const _=Q();return!_||!_.activities?[]:_.activities.filter(O=>b==="الكل"||O.type===b)},T=_=>{switch(_){case"مسرحية":return"#dc2626";case"ورشة":return"#059669";case"مهرجان":return"#7c3aed";case"عرض":return"#ea580c";case"تدريب":return"#0284c7";default:return"#6b7280"}};return A.jsxs("div",{className:"page",children:[A.jsx("div",{className:"page-header",children:A.jsxs("div",{className:"container",children:[A.jsx("h1",{children:"📚 أرشيف الأنشطة المسرحية"}),A.jsx("p",{children:"أرشيف شامل لجميع الأنشطة والعروض المسرحية للمواسم السابقة"}),A.jsx("div",{className:"archive-controls",children:A.jsx("button",{className:"create-archive-btn",onClick:u,disabled:i,children:"📦 أرشفة الموسم الحالي"})})]})}),A.jsx("div",{className:"container",children:n?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"season-details-header",children:[A.jsx("button",{onClick:()=>e(null),className:"back-btn",children:"← العودة للأرشيف"}),A.jsxs("div",{className:"season-info",children:[A.jsx("h2",{children:Q()?.title}),A.jsx("p",{children:Q()?.description})]})]}),A.jsx("div",{className:"activities-filter",children:A.jsx("div",{className:"filter-buttons",children:["الكل","مسرحية","ورشة","مهرجان","عرض","تدريب"].map(_=>A.jsx("button",{onClick:()=>x(_),className:`filter-btn ${b===_?"active":""}`,style:{backgroundColor:b===_?T(_):"transparent",borderColor:T(_),color:b===_?"white":T(_)},children:_},_))})}),Q()?.activities&&A.jsx("div",{className:"activities-grid",children:I().map(_=>A.jsxs("div",{className:"activity-card",children:[A.jsxs("div",{className:"activity-header",children:[A.jsx("h4",{children:_.name}),A.jsx("span",{className:"activity-type",style:{backgroundColor:T(_.type)},children:_.type})]}),A.jsxs("div",{className:"activity-details",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"التاريخ:"})," ",_.date]}),A.jsxs("p",{children:[A.jsx("strong",{children:"المشاركون:"})," ",_.participants," طالب"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"الوصف:"})," ",_.description]}),_.achievements&&A.jsxs("div",{className:"achievements",children:[A.jsx("strong",{children:"الإنجازات:"}),A.jsx("ul",{children:_.achievements.map((O,z)=>A.jsx("li",{children:O},z))})]})]})]},_.id))}),Q()?.reports&&A.jsxs("div",{className:"reports-grid",children:[A.jsx("h3",{children:"📊 التقارير الشهرية"}),Q()?.reports?.map(_=>A.jsxs("div",{className:"report-card",children:[A.jsxs("div",{className:"report-header",children:[A.jsx("h4",{children:_.title}),A.jsx("span",{className:"report-date",children:_.date})]}),A.jsxs("div",{className:"report-content",children:[A.jsx("p",{className:"report-summary",children:_.summary}),_.activities&&_.activities.length>0&&A.jsxs("div",{className:"report-activities",children:[A.jsx("strong",{children:"الأنشطة:"}),A.jsx("ul",{children:_.activities.map((O,z)=>A.jsx("li",{children:O},z))})]}),_.achievements&&_.achievements.length>0&&A.jsxs("div",{className:"report-achievements",children:[A.jsx("strong",{children:"الإنجازات:"}),A.jsx("ul",{children:_.achievements.map((O,z)=>A.jsx("li",{children:O},z))})]}),_.gallery&&_.gallery.length>0&&A.jsxs("div",{className:"report-gallery",children:[A.jsx("strong",{children:"معرض الصور:"}),A.jsxs("div",{className:"gallery-preview",children:[_.gallery.slice(0,3).map((O,z)=>A.jsx("img",{src:O,alt:`صورة ${z+1}`},z)),_.gallery.length>3&&A.jsxs("span",{className:"more-images",children:["+",_.gallery.length-3," صور أخرى"]})]})]})]})]},_.id))]}),Q()?.specialReports&&A.jsxs("div",{className:"special-reports-grid",children:[A.jsx("h3",{children:"⭐ التقارير الخاصة"}),Q()?.specialReports?.map(_=>A.jsxs("div",{className:"special-report-card",children:[A.jsxs("div",{className:"special-report-header",children:[A.jsxs("div",{className:"report-type-badge","data-type":_.type,children:[_.type==="urgent"&&"🚨 عاجل",_.type==="special"&&"⭐ خاص",_.type==="summary"&&"📊 موجز",_.type==="achievement"&&"🏆 إنجاز"]}),A.jsxs("div",{className:"priority-badge","data-priority":_.priority,children:[_.priority==="high"&&"🔴 عالية",_.priority==="medium"&&"🟡 متوسطة",_.priority==="low"&&"🟢 منخفضة"]})]}),A.jsx("h4",{children:_.title}),A.jsxs("div",{className:"report-meta",children:[A.jsxs("span",{className:"report-date",children:["📅 ",_.date]}),A.jsxs("span",{className:"report-author",children:["👤 ",_.createdBy]})]}),A.jsx("div",{className:"report-content",children:A.jsx("p",{children:_.content})}),_.tags&&_.tags.length>0&&A.jsx("div",{className:"report-tags",children:_.tags.map((O,z)=>A.jsxs("span",{className:"tag",children:["🏷️ ",O]},z))})]},_.id))]})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"search-filter",children:A.jsx("input",{type:"text",placeholder:"🔍 البحث في الأرشيف...",value:p,onChange:_=>h(_.target.value),className:"search-input"})}),A.jsxs("div",{className:"stats-grid",children:[A.jsxs("div",{className:"stat-card",children:[A.jsx("div",{className:"stat-number",children:w.length}),A.jsx("div",{className:"stat-label",children:"مواسم مؤرشفة"})]}),A.jsxs("div",{className:"stat-card",children:[A.jsx("div",{className:"stat-number",children:w.reduce((_,O)=>_+(O.totalActivities||O.totalReports||0),0)}),A.jsx("div",{className:"stat-label",children:"نشاط/تقرير إجمالي"})]}),A.jsxs("div",{className:"stat-card",children:[A.jsx("div",{className:"stat-number",children:w.reduce((_,O)=>_+(O.totalParticipants||0),0)}),A.jsx("div",{className:"stat-label",children:"مشارك إجمالي"})]})]}),t.length>0&&A.jsxs("div",{className:"modern-archives-section",children:[A.jsx("h2",{children:"📦 أرشيف المواسم (النظام الجديد)"}),A.jsx("div",{className:"archives-grid",children:t.map(_=>A.jsxs("div",{className:"archive-card modern",children:[A.jsxs("div",{className:"archive-header",children:[A.jsx("h3",{children:_.seasonName}),A.jsxs("span",{className:"archive-period",children:[new Date(_.startDate).getFullYear()," - ",new Date(_.endDate).getFullYear()]})]}),A.jsxs("div",{className:"archive-stats",children:[A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-number",children:_.statistics.totalActivities}),A.jsx("span",{className:"stat-label",children:"نشاط"})]}),A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-number",children:_.statistics.completedActivities}),A.jsx("span",{className:"stat-label",children:"مكتمل"})]}),A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-number",children:_.statistics.totalReports}),A.jsx("span",{className:"stat-label",children:"تقرير"})]})]}),A.jsx("div",{className:"archive-actions",children:A.jsx("button",{className:"download-pdf-btn",onClick:()=>d(_),disabled:i,children:i?"⏳ جاري الإنشاء...":"📄 تحميل PDF شامل"})}),A.jsx("div",{className:"archive-footer",children:A.jsxs("span",{className:"archive-date",children:["أُرشف في: ",new Date(_.createdAt).toLocaleDateString("ar-SA")]})})]},_.id))})]}),A.jsx("div",{className:"seasons-grid",children:F.map(_=>A.jsxs("div",{className:"season-card",onClick:()=>e(_.id),children:[A.jsxs("div",{className:"season-header",children:[A.jsx("h3",{children:_.title}),A.jsx("span",{className:"season-year",children:_.year})]}),A.jsx("p",{className:"season-description",children:_.description}),A.jsxs("div",{className:"season-stats",children:[A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-number",children:_.totalActivities||_.totalReports||0}),A.jsx("span",{className:"stat-label",children:_.totalReports?"تقرير":"نشاط"})]}),_.totalParticipants&&A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-number",children:_.totalParticipants}),A.jsx("span",{className:"stat-label",children:"مشارك"})]})]}),A.jsxs("div",{className:"season-footer",children:[A.jsxs("span",{className:"archive-date",children:["أُرشف في: ",_.createdAt]}),A.jsx("button",{className:"view-btn",children:"عرض التفاصيل"})]})]},_.id))})]})})]})};class Ju{static syncStatus={isOnline:typeof navigator<"u"?navigator.onLine:!0,lastSync:null,pendingUploads:0,pendingDownloads:0,errors:[]};static listeners=[];static addSyncStatusListener(e){this.listeners.push(e)}static removeSyncStatusListener(e){this.listeners=this.listeners.filter(t=>t!==e)}static notifyListeners(){this.listeners.forEach(e=>e(this.syncStatus))}static updateOnlineStatus(e){this.syncStatus.isOnline=e,this.notifyListeners(),e&&this.syncAll()}static getSyncStatus(){return{...this.syncStatus}}static async saveLocallyWithSync(e,t,r){try{const i=JSON.parse(localStorage.getItem(e)||"[]"),o=`temp_${Date.now()}`,c={...t,id:o,_needsSync:!0};if(i.push(c),localStorage.setItem(e,JSON.stringify(i)),this.syncStatus.isOnline)try{const d=await r(),u=JSON.parse(localStorage.getItem(e)||"[]"),p=u.findIndex(h=>h.id===o);return p!==-1&&(u[p]={...u[p],id:d,_needsSync:!1},localStorage.setItem(e,JSON.stringify(u))),d}catch(d){return console.error("فشل في المزامنة الفورية:",d),this.syncStatus.pendingUploads++,this.syncStatus.errors.push(`فشل في رفع البيانات: ${d}`),this.notifyListeners(),o}else return this.syncStatus.pendingUploads++,this.notifyListeners(),o}catch(i){throw console.error("خطأ في الحفظ المحلي:",i),i}}static async syncActivities(){if(this.syncStatus.isOnline)try{const e=JSON.parse(localStorage.getItem("activities")||"[]"),t=e.filter(o=>o._needsSync);for(const o of t)try{const{_needsSync:c,...d}=o,u=await sd.addActivity(d),p=e.findIndex(h=>h.id===o.id);p!==-1&&(e[p]={...d,id:u,_needsSync:!1})}catch(c){console.error("فشل في رفع النشاط:",o.id,c),this.syncStatus.errors.push(`فشل في رفع النشاط: ${o.title}`)}localStorage.setItem("activities",JSON.stringify(e));const r=await sd.getAllActivities(),i=this.mergeData(e,r,"id");localStorage.setItem("activities",JSON.stringify(i)),this.syncStatus.pendingUploads=Math.max(0,this.syncStatus.pendingUploads-t.length)}catch(e){console.error("خطأ في مزامنة الأنشطة:",e),this.syncStatus.errors.push(`خطأ في مزامنة الأنشطة: ${e}`)}}static async syncActivityReports(){if(this.syncStatus.isOnline)try{const e=JSON.parse(localStorage.getItem("activity-reports")||"[]"),t=e.filter(o=>o._needsSync);for(const o of t)try{const{_needsSync:c,...d}=o,u=await jy.addActivityReport(d),p=e.findIndex(h=>h.id===o.id);p!==-1&&(e[p]={...d,id:u,_needsSync:!1})}catch(c){console.error("فشل في رفع التقرير:",o.id,c),this.syncStatus.errors.push(`فشل في رفع التقرير: ${o.title}`)}localStorage.setItem("activity-reports",JSON.stringify(e));const r=await jy.getAllActivityReports(),i=this.mergeData(e,r,"id");localStorage.setItem("activity-reports",JSON.stringify(i)),this.syncStatus.pendingUploads=Math.max(0,this.syncStatus.pendingUploads-t.length)}catch(e){console.error("خطأ في مزامنة التقارير:",e),this.syncStatus.errors.push(`خطأ في مزامنة التقارير: ${e}`)}}static async syncArchives(){if(this.syncStatus.isOnline)try{const e=ad.getAllArchives();for(const r of e)try{await ad.saveArchiveToFirestore(r)}catch(i){console.error("فشل في رفع الأرشيف:",r.id,i),this.syncStatus.errors.push(`فشل في رفع الأرشيف: ${r.seasonName}`)}const t=await ad.getAllArchivesFromFirestore();localStorage.setItem("season-archives",JSON.stringify(t))}catch(e){console.error("خطأ في مزامنة الأرشيف:",e),this.syncStatus.errors.push(`خطأ في مزامنة الأرشيف: ${e}`)}}static async syncAll(){if(!this.syncStatus.isOnline){console.log("غير متصل بالإنترنت - تم تأجيل المزامنة");return}console.log("بدء المزامنة الشاملة..."),this.syncStatus.errors=[];try{await Promise.all([this.syncActivities(),this.syncActivityReports(),this.syncArchives()]),this.syncStatus.lastSync=new Date,console.log("تمت المزامنة بنجاح")}catch(e){console.error("خطأ في المزامنة الشاملة:",e),this.syncStatus.errors.push(`خطأ في المزامنة الشاملة: ${e}`)}this.notifyListeners()}static mergeData(e,t,r){const i=[...t];return e.forEach(o=>{!t.some(d=>d[r]===o[r])&&!String(o[r]).startsWith("temp_")&&i.push(o)}),i}static clearErrors(){this.syncStatus.errors=[],this.notifyListeners()}static setupNetworkMonitoring(){typeof window<"u"&&(window.addEventListener("online",()=>{console.log("تم الاتصال بالإنترنت"),this.updateOnlineStatus(!0)}),window.addEventListener("offline",()=>{console.log("تم قطع الاتصال بالإنترنت"),this.updateOnlineStatus(!1)}),setInterval(()=>{this.syncStatus.isOnline&&this.syncAll()},300*1e3))}}const C6=()=>{const{activityId:n}=CB(),e=Ql(),[t,r]=pe.useState(null),[i,o]=pe.useState({id:"",activityId:n||"",title:"",date:new Date().toISOString().split("T")[0],content:"",images:[],achievements:[""],participants:0,feedback:"",createdAt:new Date,createdBy:"الأستاذ مصطفى لعرعري"}),[c,d]=pe.useState(!1),[u,p]=pe.useState("");pe.useEffect(()=>{(async()=>{if(n){console.log("Looking for activity with ID:",n),d(!0);try{const Q=await sd.getActivityById(n);if(Q)console.log("Found activity in Firestore:",Q),r(Q),o(I=>({...I,title:`تقرير ${Q.title}`,activityId:Q.id?.toString()||n}));else{const I=JSON.parse(localStorage.getItem("activities")||"[]");console.log("All activities from localStorage:",I);const T=I.find(_=>_.id===n||_.id===parseInt(n)||_.id.toString()===n);console.log("Found activity in localStorage:",T),T?(r(T),o(_=>({..._,title:`تقرير ${T.title}`,activityId:T.id}))):p(`لم يتم العثور على النشاط بالمعرف: ${n}`)}}catch(Q){console.error("خطأ في جلب النشاط:",Q),p("حدث خطأ في جلب بيانات النشاط")}finally{d(!1)}}})()},[n]);const h=(F,Q)=>{o(I=>({...I,[F]:Q}))},b=(F,Q)=>{const I=[...i.achievements||[]];I[F]=Q,o(T=>({...T,achievements:I}))},x=()=>{o(F=>({...F,achievements:[...F.achievements||[],""]}))},w=F=>{const Q=(i.achievements||[]).filter((I,T)=>T!==F);o(I=>({...I,achievements:Q}))},R=async()=>{if(!i.title.trim()||!i.content.trim()){p("يرجى ملء العنوان والمحتوى");return}d(!0),p("");try{const F={activityId:i.activityId,title:i.title,date:i.date,content:i.content,images:i.images||[],achievements:i.achievements||[],participants:i.participants||0,feedback:i.feedback||"",createdBy:i.createdBy||"الأستاذ مصطفى لعرعري"},Q=await Ju.saveLocallyWithSync("activity-reports",F,()=>jy.addActivityReport(F));if(t&&t.id){if(Ju.getSyncStatus().isOnline)try{await sd.linkReportToActivity(t.id.toString(),Q)}catch(O){console.error("فشل في ربط التقرير بالنشاط في Firestore:",O)}const _=JSON.parse(localStorage.getItem("activities")||"[]").map(O=>O.id===t.id?{...O,status:"الأنشطة المنجزة",reportId:Q}:O);localStorage.setItem("activities",JSON.stringify(_))}const I={id:Q,activityId:i.activityId,title:i.title,date:i.date,content:i.content,images:i.images||[],achievements:i.achievements||[],participants:i.participants||0,feedback:i.feedback||"",createdAt:new Date,createdBy:i.createdBy||"الأستاذ مصطفى لعرعري"};t&&ad.addActivityToCurrentSeason({...t,status:"الأنشطة المنجزة",reportId:Q},I),e("/archive",{state:{message:"تم حفظ التقرير بنجاح وإضافته للأرشيف!",newReport:I}})}catch(F){p("حدث خطأ في حفظ التقرير"),console.error("Error saving report:",F)}finally{d(!1)}};return t?A.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",dir:"rtl",children:A.jsxs("div",{className:"container mx-auto px-4 py-8",children:[A.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsx("button",{onClick:()=>e("/program"),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 transition-colors",children:"← العودة للبرنامج"}),A.jsxs("div",{className:"text-center",children:[A.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"📝 كتابة تقرير النشاط"}),A.jsxs("p",{className:"text-gray-600 mt-1",children:["النشاط: ",t.title]})]}),A.jsx("div",{})]}),u&&A.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:A.jsx("p",{className:"text-red-600 text-center",children:u})})]}),A.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[A.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:"📄 معلومات النشاط"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"العنوان"}),A.jsx("p",{className:"bg-gray-50 p-3 rounded-lg",children:t.title})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"التاريخ"}),A.jsx("p",{className:"bg-gray-50 p-3 rounded-lg",children:t.date})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الوقت"}),A.jsx("p",{className:"bg-gray-50 p-3 rounded-lg",children:t.time})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"المكان"}),A.jsx("p",{className:"bg-gray-50 p-3 rounded-lg",children:t.location})]})]})]}),A.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[A.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:"📝 تفاصيل التقرير"}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"عنوان التقرير"}),A.jsx("input",{type:"text",value:i.title,onChange:F=>h("title",F.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"مثال: تقرير عرض مسرحية الأحلام"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"تاريخ التقرير"}),A.jsx("input",{type:"date",value:i.date,onChange:F=>h("date",F.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:"👥 عدد المشاركين"}),A.jsx("input",{type:"number",value:i.participants||"",onChange:F=>h("participants",parseInt(F.target.value)||0),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"عدد الطلاب المشاركين",min:"0"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"محتوى التقرير"}),A.jsx("textarea",{value:i.content,onChange:F=>h("content",F.target.value),rows:8,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"اكتب تقريراً مفصلاً عن النشاط، ما تم إنجازه، التحديات، والنتائج..."})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:"⭐ الإنجازات والنقاط المميزة"}),(i.achievements||[]).map((F,Q)=>A.jsxs("div",{className:"flex gap-2 mb-2",children:[A.jsx("input",{type:"text",value:F,onChange:I=>b(Q,I.target.value),className:"flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`الإنجاز ${Q+1}`}),(i.achievements||[]).length>1&&A.jsx("button",{onClick:()=>w(Q),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"حذف"})]},Q)),A.jsx("button",{onClick:x,className:"mt-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"إضافة إنجاز"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"التقييم والملاحظات"}),A.jsx("textarea",{value:i.feedback||"",onChange:F=>h("feedback",F.target.value),rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"تقييم عام للنشاط، ملاحظات للتحسين، اقتراحات للمستقبل..."})]})]}),A.jsxs("div",{className:"flex gap-4 mt-8",children:[A.jsx("button",{onClick:R,disabled:c,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:c?A.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):A.jsx(A.Fragment,{children:"💾 حفظ التقرير وإضافة للأرشيف"})}),A.jsx("button",{onClick:()=>e("/program"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"إلغاء"})]})]})]})}):A.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:A.jsx("div",{className:"text-center bg-white p-8 rounded-xl shadow-lg max-w-md",children:u?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"❌"}),A.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"خطأ في تحميل النشاط"}),A.jsx("p",{className:"text-gray-600 mb-6",children:u}),A.jsxs("div",{className:"space-y-3",children:[A.jsx("button",{onClick:()=>{const F=JSON.parse(localStorage.getItem("activities")||"[]");console.log("Debug - All activities:",F),alert(`عدد الأنشطة المحفوظة: ${F.length}
معرف النشاط المطلوب: ${n}`)},className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors mr-2",children:"🔍 تشخيص المشكلة"}),A.jsx("button",{onClick:()=>{const Q=[{id:parseInt(n||"1"),title:"نشاط تجريبي - عرض مسرحي",date:"2025-01-15",time:"10:00",location:"قاعة المسرح",participants:"طلاب المرحلة الثانوية",description:"عرض مسرحي تجريبي للاختبار",status:"قيد التحضير",createdAt:new Date}];localStorage.setItem("activities",JSON.stringify(Q)),alert("تم إنشاء نشاط تجريبي! اضغط العودة للبرنامج ثم جرب مرة أخرى.")},className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors mr-2",children:"➕ إنشاء نشاط تجريبي"}),A.jsx("button",{onClick:()=>window.location.reload(),className:"bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors mr-2",children:"🔄 إعادة تحميل"}),A.jsx("button",{onClick:()=>e("/program"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"العودة للبرنامج"})]})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),A.jsx("p",{className:"text-gray-600",children:"جاري تحميل بيانات النشاط..."}),A.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["معرف النشاط: ",n]})]})})})},E6=async()=>{try{console.log("🔥 بدء إعداد Firestore...");const n=sr(Yt,"settings","default");return await FA(n,{schoolName:"مدرسة الأنشطة المسرحية",academicYear:"2024-2025",contactInfo:{phone:"+212-XX-XXX-XXXX",email:"theatre@example.ma",address:"المملكة المغربية"},systemSettings:{language:"ar",theme:"light",autoBackup:!0,notificationsEnabled:!0,country:"المغرب",currency:"درهم مغربي",dateFormat:"DD/MM/YYYY"},createdAt:_n(),updatedAt:_n()},{merge:!0}),console.log("✅ تم إعداد Firestore بنجاح!"),!0}catch(n){return console.error("❌ خطأ في إعداد Firestore:",n),!1}},rE=async()=>{try{console.log("🔍 فحص حالة Firestore...");const n=["activities","reports","users","settings"],e={};for(const t of n)try{const r=await ra(nr(Yt,t));e[t]=r.size}catch(r){console.warn(`تعذر الوصول إلى collection ${t}:`,r),e[t]=0}return console.log("📊 حالة Collections:",e),e}catch(n){return console.error("❌ خطأ في فحص Firestore:",n),null}},sE=()=>{try{return console.log("🧹 تنظيف البيانات التجريبية..."),localStorage.removeItem("activities"),localStorage.removeItem("activity-reports"),localStorage.removeItem("season-archives"),localStorage.removeItem("current-season-archive"),localStorage.removeItem("reports"),localStorage.removeItem("user-profile"),sessionStorage.clear(),console.log("✅ تم تنظيف البيانات التجريبية!"),!0}catch(n){return console.error("❌ خطأ في تنظيف البيانات:",n),!1}},S6=async()=>{try{if(console.log("🚀 بدء إعداد النظام..."),sE(),await E6()){const e=await rE();return console.log("🎉 تم إعداد النظام بنجاح!"),{success:!0,status:e}}else throw new Error("فشل في إعداد Firestore")}catch(n){return console.error("❌ خطأ في إعداد النظام:",n),{success:!1,error:n}}},_6=({compact:n=!1})=>{const[e,t]=pe.useState(Ju.getSyncStatus()),[r,i]=pe.useState(!1);pe.useEffect(()=>{Ju.setupNetworkMonitoring();const p=h=>{t(h)};return Ju.addSyncStatusListener(p),()=>{Ju.removeSyncStatusListener(p)}},[]);const o=async()=>{e.isOnline&&await Ju.syncAll()},c=()=>{Ju.clearErrors()},d=()=>e.isOnline?e.pendingUploads>0?"🟡":e.errors.length>0?"🟠":"🟢":"🔴",u=()=>e.isOnline?e.pendingUploads>0?`${e.pendingUploads} في الانتظار`:e.errors.length>0?`${e.errors.length} أخطاء`:"متزامن":"غير متصل";return n?A.jsxs("div",{className:"sync-status-compact",onClick:()=>i(!r),title:u(),children:[A.jsx("span",{className:"status-icon",children:d()}),A.jsx("span",{className:"status-text",children:u()}),r&&A.jsxs("div",{className:"sync-details-popup",children:[A.jsxs("div",{className:"sync-detail-item",children:[A.jsx("span",{children:"الحالة:"}),A.jsx("span",{children:e.isOnline?"متصل":"غير متصل"})]}),e.lastSync&&A.jsxs("div",{className:"sync-detail-item",children:[A.jsx("span",{children:"آخر مزامنة:"}),A.jsx("span",{children:e.lastSync.toLocaleTimeString("ar-SA")})]}),e.pendingUploads>0&&A.jsxs("div",{className:"sync-detail-item",children:[A.jsx("span",{children:"في الانتظار:"}),A.jsx("span",{children:e.pendingUploads})]}),e.errors.length>0&&A.jsxs("div",{className:"sync-detail-item error",children:[A.jsx("span",{children:"أخطاء:"}),A.jsx("span",{children:e.errors.length})]}),A.jsxs("div",{className:"sync-actions",children:[e.isOnline&&A.jsx("button",{onClick:p=>{p.stopPropagation(),o()},className:"sync-button",children:"مزامنة الآن"}),e.errors.length>0&&A.jsx("button",{onClick:p=>{p.stopPropagation(),c()},className:"clear-errors-button",children:"مسح الأخطاء"})]})]})]}):A.jsxs("div",{className:"sync-status-full",children:[A.jsxs("div",{className:"sync-status-header",children:[A.jsxs("h3",{children:[A.jsx("span",{className:"status-icon",children:d()}),"حالة المزامنة"]}),A.jsx("span",{className:"status-text",children:u()})]}),A.jsxs("div",{className:"sync-status-details",children:[A.jsxs("div",{className:"status-grid",children:[A.jsxs("div",{className:"status-item",children:[A.jsx("label",{children:"حالة الاتصال:"}),A.jsx("span",{className:`connection-status ${e.isOnline?"online":"offline"}`,children:e.isOnline?"🟢 متصل":"🔴 غير متصل"})]}),e.lastSync&&A.jsxs("div",{className:"status-item",children:[A.jsx("label",{children:"آخر مزامنة:"}),A.jsx("span",{children:e.lastSync.toLocaleString("ar-SA")})]}),e.pendingUploads>0&&A.jsxs("div",{className:"status-item",children:[A.jsx("label",{children:"عناصر في الانتظار:"}),A.jsx("span",{className:"pending-count",children:e.pendingUploads})]}),e.errors.length>0&&A.jsxs("div",{className:"status-item",children:[A.jsx("label",{children:"الأخطاء:"}),A.jsx("span",{className:"error-count",children:e.errors.length})]})]}),e.errors.length>0&&A.jsxs("div",{className:"error-list",children:[A.jsx("h4",{children:"تفاصيل الأخطاء:"}),A.jsx("ul",{children:e.errors.map((p,h)=>A.jsx("li",{className:"error-item",children:p},h))})]}),A.jsxs("div",{className:"sync-actions",children:[e.isOnline&&A.jsx("button",{onClick:o,className:"sync-button primary",children:"🔄 مزامنة الآن"}),e.errors.length>0&&A.jsx("button",{onClick:c,className:"clear-errors-button",children:"🗑️ مسح الأخطاء"})]})]})]})};class ey{static async clearAllTestData(){console.log("🗑️ بدء حذف البيانات التجريبية...");const e=["activities","weekly-activities","activity-reports","season-archives","reports","ratings","voice-recordings"],t=Q0(Yt);let r=0;for(const i of e)try{const o=await ra(nr(Yt,i));o.forEach(c=>{t.delete(c.ref),r++}),console.log(`📂 تم تحديد ${o.size} مستند للحذف من ${i}`)}catch(o){console.error(`❌ خطأ في الوصول إلى مجموعة ${i}:`,o)}try{await t.commit(),console.log(`✅ تم حذف ${r} مستند بنجاح`)}catch(i){throw console.error("❌ خطأ في حذف البيانات:",i),i}this.clearLocalStorage()}static clearLocalStorage(){console.log("🧹 حذف البيانات المحلية..."),["activities","activity-reports","season-archives","reports","ratings","voice-recordings","weekly-activities"].forEach(t=>{localStorage.removeItem(t)}),console.log("✅ تم حذف البيانات المحلية")}static async createDatabaseStructure(){console.log("🏗️ إنشاء الهيكل الأساسي لقاعدة البيانات...");try{await this.createSystemSettings(),await this.createCurrentSeason(),await this.createCurrentWeek(),console.log("✅ تم إنشاء الهيكل الأساسي بنجاح")}catch(e){throw console.error("❌ خطأ في إنشاء الهيكل الأساسي:",e),e}}static async createSystemSettings(){const t={id:"main-settings",currentSeason:`season-${new Date().getFullYear()}`,defaultLocation:"قاعة المسرح الرئيسية",organizationName:"النادي المسرحي",contactInfo:{email:"theatre@example.ma",phone:"+212-XX-XXX-XXXX",address:"المملكة المغربية"},preferences:{language:"ar",theme:"light",notifications:!0,country:"المغرب",currency:"درهم مغربي",dateFormat:"DD/MM/YYYY"},updatedAt:_n()};await FA(sr(Yt,"system-settings","main-settings"),t),console.log("⚙️ تم إنشاء إعدادات النظام")}static async createCurrentSeason(){const e=new Date().getFullYear(),t=`season-${e}`,r={id:t,seasonName:`الموسم المسرحي ${e}-${e+1}`,startDate:`${e}-09-01`,endDate:`${e+1}-06-30`,activities:[],reports:[],statistics:{totalActivities:0,completedActivities:0,totalReports:0,totalParticipants:0,averageRating:0},createdAt:_n(),isActive:!0};await FA(sr(Yt,"season-archives",t),r),console.log(`📅 تم إنشاء الموسم الحالي: ${r.seasonName}`)}static async createCurrentWeek(){const e=new Date,t=e.getFullYear(),r=new Date(t,0,1),i=Math.ceil(((e.getTime()-r.getTime())/864e5+r.getDay()+1)/7),o=new Date(e);o.setDate(e.getDate()-e.getDay());const c=new Date(o);c.setDate(o.getDate()+6);const d={id:`week-${t}-${i}`,weekNumber:i,year:t,weekStart:o.toISOString().split("T")[0],weekEnd:c.toISOString().split("T")[0],activities:[],status:"مخطط",notes:"",createdAt:_n(),updatedAt:_n()};await FA(sr(Yt,"weekly-activities",d.id),d),console.log(`📊 تم إنشاء الأسبوع الحالي: الأسبوع ${i} من ${t}`)}static async createSampleActivity(){const e={title:"ورشة التمثيل الأساسية",date:new Date().toISOString().split("T")[0],time:"16:00",location:"قاعة المسرح الرئيسية",description:"ورشة تدريبية لتعلم أساسيات التمثيل والإلقاء",participants:"جميع الأعضاء",status:"مخطط",category:"تعليمي",priority:"متوسطة",createdAt:_n(),updatedAt:_n(),createdBy:"الأستاذ مصطفى لعرعري"},t=await Tl(nr(Yt,"activities"),e);console.log(`🎭 تم إنشاء نشاط تجريبي: ${e.title} (${t.id})`)}static async setupCompleteDatabase(e=!1){console.log("🚀 بدء إعداد قاعدة البيانات الكاملة...");try{await this.clearAllTestData(),await this.createDatabaseStructure(),e&&await this.createSampleActivity(),console.log("🎉 تم إعداد قاعدة البيانات بنجاح!"),console.log("📋 يمكنك الآن البدء في إضافة الأنشطة والتقارير الحقيقية")}catch(t){throw console.error("💥 فشل في إعداد قاعدة البيانات:",t),t}}static async checkDatabaseStatus(){console.log("🔍 فحص حالة قاعدة البيانات...");const e=["activities","weekly-activities","activity-reports","season-archives","system-settings"];for(const t of e)try{const r=await ra(nr(Yt,t));console.log(`📊 ${t}: ${r.size} مستند`)}catch(r){console.error(`❌ خطأ في الوصول إلى ${t}:`,r)}}}const I6=({onClose:n})=>{const[e,t]=pe.useState(!1),[r,i]=pe.useState([]),[o,c]=pe.useState(!1),[d,u]=pe.useState("clear"),p=Q=>{i(I=>[...I,`${new Date().toLocaleTimeString("ar-SA")}: ${Q}`])},h=()=>{i([])},b=async()=>{t(!0),p("🗑️ بدء حذف البيانات التجريبية...");try{await ey.clearAllTestData(),p("✅ تم حذف البيانات التجريبية بنجاح")}catch(Q){p(`❌ خطأ في حذف البيانات: ${Q}`)}finally{t(!1)}},x=async(Q=!1)=>{t(!0),p("🚀 بدء إعداد قاعدة البيانات...");try{await ey.setupCompleteDatabase(Q),p("🎉 تم إعداد قاعدة البيانات بنجاح!"),p("📋 يمكنك الآن البدء في إضافة البيانات الحقيقية")}catch(I){p(`💥 فشل في إعداد قاعدة البيانات: ${I}`)}finally{t(!1)}},w=async()=>{t(!0),p("🔍 فحص حالة قاعدة البيانات...");try{await ey.checkDatabaseStatus(),p("✅ تم فحص قاعدة البيانات بنجاح")}catch(Q){p(`❌ خطأ في فحص قاعدة البيانات: ${Q}`)}finally{t(!1)}},R=()=>{switch(c(!1),d){case"clear":b();break;case"setup":x(!1);break;case"setupWithSample":x(!0);break}},F=Q=>{u(Q),c(!0)};return A.jsxs("div",{className:"database-manager",children:[A.jsxs("div",{className:"database-manager-header",children:[A.jsx("h2",{children:"🗄️ إدارة قاعدة البيانات"}),n&&A.jsx("button",{className:"close-button",onClick:n,children:"✕"})]}),A.jsxs("div",{className:"database-manager-content",children:[A.jsxs("div",{className:"operations-section",children:[A.jsx("h3",{children:"العمليات المتاحة"}),A.jsxs("div",{className:"operation-card",children:[A.jsxs("div",{className:"operation-info",children:[A.jsx("h4",{children:"🗑️ حذف البيانات التجريبية"}),A.jsx("p",{children:"حذف جميع البيانات التجريبية من Firestore و localStorage"})]}),A.jsx("button",{className:"operation-button danger",onClick:()=>F("clear"),disabled:e,children:"حذف البيانات التجريبية"})]}),A.jsxs("div",{className:"operation-card",children:[A.jsxs("div",{className:"operation-info",children:[A.jsx("h4",{children:"🏗️ إعداد قاعدة البيانات"}),A.jsx("p",{children:"حذف البيانات التجريبية وإنشاء الهيكل الأساسي الجديد"})]}),A.jsx("button",{className:"operation-button primary",onClick:()=>F("setup"),disabled:e,children:"إعداد قاعدة البيانات"})]}),A.jsxs("div",{className:"operation-card",children:[A.jsxs("div",{className:"operation-info",children:[A.jsx("h4",{children:"🎭 إعداد مع بيانات تجريبية"}),A.jsx("p",{children:"إعداد قاعدة البيانات مع إضافة نشاط تجريبي واحد"})]}),A.jsx("button",{className:"operation-button secondary",onClick:()=>F("setupWithSample"),disabled:e,children:"إعداد مع بيانات تجريبية"})]}),A.jsxs("div",{className:"operation-card",children:[A.jsxs("div",{className:"operation-info",children:[A.jsx("h4",{children:"🔍 فحص حالة قاعدة البيانات"}),A.jsx("p",{children:"عرض إحصائيات حول البيانات الموجودة في قاعدة البيانات"})]}),A.jsx("button",{className:"operation-button info",onClick:w,disabled:e,children:"فحص الحالة"})]})]}),A.jsxs("div",{className:"logs-section",children:[A.jsxs("div",{className:"logs-header",children:[A.jsx("h3",{children:"📋 سجل العمليات"}),A.jsx("button",{className:"clear-logs-button",onClick:h,disabled:r.length===0,children:"مسح السجل"})]}),A.jsx("div",{className:"logs-container",children:r.length===0?A.jsx("p",{className:"no-logs",children:"لا توجد عمليات مسجلة"}):r.map((Q,I)=>A.jsx("div",{className:"log-entry",children:Q},I))})]}),e&&A.jsxs("div",{className:"loading-overlay",children:[A.jsx("div",{className:"loading-spinner"}),A.jsx("p",{children:"جاري تنفيذ العملية..."})]}),o&&A.jsx("div",{className:"confirm-dialog-overlay",children:A.jsxs("div",{className:"confirm-dialog",children:[A.jsx("h3",{children:"⚠️ تأكيد العملية"}),A.jsxs("p",{children:[d==="clear"&&"هل أنت متأكد من حذف جميع البيانات التجريبية؟",d==="setup"&&"هل أنت متأكد من إعادة إعداد قاعدة البيانات؟ سيتم حذف جميع البيانات الموجودة.",d==="setupWithSample"&&"هل أنت متأكد من إعادة إعداد قاعدة البيانات مع بيانات تجريبية؟"]}),A.jsxs("div",{className:"confirm-dialog-actions",children:[A.jsx("button",{className:"confirm-button danger",onClick:R,children:"نعم، متأكد"}),A.jsx("button",{className:"cancel-button",onClick:()=>c(!1),children:"إلغاء"})]})]})})]}),A.jsxs("div",{className:"important-info",children:[A.jsx("h4",{children:"⚠️ معلومات مهمة:"}),A.jsxs("ul",{children:[A.jsx("li",{children:"تأكد من عمل نسخة احتياطية قبل حذف البيانات"}),A.jsx("li",{children:"عملية الحذف لا يمكن التراجع عنها"}),A.jsx("li",{children:"سيتم إنشاء الموسم الحالي والأسبوع الحالي تلقائياً"}),A.jsx("li",{children:"يمكنك مراقبة العمليات من خلال سجل العمليات"})]})]})]})};async function j6(){console.log("🗑️ بدء حذف قاعدة البيانات بالكامل...");const n=["activities","weekly-activities","activity-reports","season-archives","system-settings","ratings","voice-recordings","reports","users","settings","yearProjects","nationalDays"];let e=0;for(const t of n)try{console.log(`🔍 حذف مجموعة: ${t}`);const r=await ra(nr(Yt,t)),i=Q0(Yt);let o=0;r.forEach(c=>{i.delete(c.ref),o++,e++}),o>0?(await i.commit(),console.log(`✅ تم حذف ${o} مستند من ${t}`)):console.log(`ℹ️ مجموعة ${t} فارغة بالفعل`)}catch(r){console.warn(`⚠️ تعذر حذف مجموعة ${t}:`,r)}console.log(`🗑️ تم حذف ${e} مستند من قاعدة البيانات`)}async function iE(){console.log("🚀 بدء إنشاء قاعدة البيانات في Firestore...");try{await N6(),await T6(),await U6(),await F6(),await Q6(),console.log("✅ تم إنشاء قاعدة البيانات بنجاح!"),console.log("📊 المجموعات المُنشأة:"),console.log("   - activities (الأنشطة)"),console.log("   - weekly-activities (الأنشطة الأسبوعية)"),console.log("   - activity-reports (تقارير الأنشطة)"),console.log("   - season-archives (الأرشيف الموسمي)"),console.log("   - system-settings (إعدادات النظام)"),console.log("   - ratings (التقييمات)"),console.log("   - voice-recordings (التسجيلات الصوتية)")}catch(n){throw n.code==="permission-denied"?(console.error("❌ خطأ في الصلاحيات! يرجى اتباع الخطوات التالية:"),console.error("1. اذهب إلى Firebase Console"),console.error("2. اختر مشروعك → Firestore Database → Rules"),console.error("3. استبدل القواعد بـ: allow read, write: if true;"),console.error("4. انقر Publish"),console.error("5. أعد المحاولة")):console.error("❌ فشل في إنشاء قاعدة البيانات:",n),n}}async function N6(){console.log("🔍 التحقق من صلاحيات Firestore...");try{const n=sr(Yt,"test","permission-check");await FA(n,{test:!0,timestamp:_n()}),console.log("✅ الصلاحيات متاحة"),await ou(n)}catch(n){throw n.code==="permission-denied"?new Error("permission-denied"):n}}async function T6(){const e={id:"main-settings",currentSeason:`season-${new Date().getFullYear()}`,defaultLocation:"قاعة المسرح الرئيسية",organizationName:"النادي المسرحي",contactInfo:{email:"theatre@example.ma",phone:"+212-XX-XXX-XXXX",address:"المملكة المغربية"},preferences:{language:"ar",theme:"light",notifications:!0,country:"المغرب",currency:"درهم مغربي",dateFormat:"DD/MM/YYYY"},createdAt:_n(),updatedAt:_n()};await FA(sr(Yt,"system-settings","main-settings"),e),console.log("⚙️ تم إنشاء إعدادات النظام")}async function U6(){const n=new Date().getFullYear(),e=`season-${n}`,t={id:e,seasonName:`الموسم المسرحي ${n}-${n+1}`,startDate:`${n}-09-01`,endDate:`${n+1}-06-30`,activities:[],reports:[],statistics:{totalActivities:0,completedActivities:0,totalReports:0,totalParticipants:0,averageRating:0},createdAt:_n(),isActive:!0};await FA(sr(Yt,"season-archives",e),t),console.log(`📅 تم إنشاء الموسم الحالي: ${t.seasonName}`)}async function F6(){const n=new Date,e=n.getFullYear(),t=new Date(e,0,1),r=Math.ceil(((n.getTime()-t.getTime())/864e5+t.getDay()+1)/7),i=new Date(n);i.setDate(n.getDate()-n.getDay());const o=new Date(i);o.setDate(i.getDate()+6);const c={id:`week-${e}-${r}`,weekNumber:r,year:e,weekStart:i.toISOString().split("T")[0],weekEnd:o.toISOString().split("T")[0],activities:[],status:"مخطط",notes:"",createdAt:_n(),updatedAt:_n()};await FA(sr(Yt,"weekly-activities",c.id),c),console.log(`📊 تم إنشاء الأسبوع الحالي: الأسبوع ${r} من ${e}`)}async function Q6(){const n=["activities","activity-reports","ratings","voice-recordings"];for(const e of n)try{await Tl(nr(Yt,e),{_placeholder:!0,createdAt:_n()}),console.log(`📁 تم إنشاء مجموعة: ${e}`)}catch(t){console.error(`❌ خطأ في إنشاء مجموعة ${e}:`,t)}}async function aE(){console.log("🎭 إنشاء بيانات تجريبية...");const n=new Date().toISOString().split("T")[0],e={title:"ورشة التمثيل الأساسية",date:Ny(n),time:"16:00",location:"قاعة المسرح الرئيسية",description:"ورشة تدريبية لتعلم أساسيات التمثيل والإلقاء",participants:"جميع الأعضاء",status:"مخطط",category:"تعليمي",priority:"متوسطة",createdAt:_n(),updatedAt:_n(),createdBy:"الأستاذ مصطفى لعرعري"},t=await Tl(nr(Yt,"activities"),e);console.log(`✅ تم إنشاء نشاط تجريبي: ${e.title}`);const r={activityId:t.id,title:"تقرير ورشة التمثيل الأساسية",date:Ny(n),content:"تم تنفيذ الورشة بنجاح مع مشاركة فعالة من جميع الأعضاء",achievements:["تعلم أساسيات التمثيل","تحسين مهارات الإلقاء","بناء الثقة بالنفس"],participants:15,feedback:"ورشة ممتازة ومفيدة جداً",images:[],attachments:[],createdAt:_n(),createdBy:"الأستاذ مصطفى لعرعري"};await Tl(nr(Yt,"activity-reports"),r),console.log(`✅ تم إنشاء تقرير تجريبي: ${r.title}`)}function R6(){console.log("🧹 حذف البيانات المحلية..."),["activities","activity-reports","reports","season-archives","ratings","voice-recordings","weekly-activities","yearProjects","nationalDays","users","settings"].forEach(e=>{localStorage.removeItem(e)}),console.log("✅ تم حذف البيانات المحلية")}async function oE(){console.log("🗑️ بدء حذف قاعدة البيانات بالكامل...");try{await j6(),R6(),console.log("🎉 تم حذف قاعدة البيانات بالكامل!"),console.log("📋 يمكنك الآن إنشاء قاعدة بيانات جديدة")}catch(n){throw console.error("💥 فشل في حذف قاعدة البيانات:",n),n}}async function L6(n=!1){console.log("🔄 بدء حذف وإعادة إنشاء قاعدة البيانات...");try{await oE(),await new Promise(e=>setTimeout(e,2e3)),await iE(),n&&await aE(),console.log("🎉 تم حذف وإعادة إنشاء قاعدة البيانات بنجاح!"),console.log("📋 قاعدة البيانات الآن نظيفة ومحدثة"),console.log("💡 يُنصح بإعادة تحميل الصفحة")}catch(e){throw console.error("💥 فشل في حذف وإعادة إنشاء قاعدة البيانات:",e),e}}async function D6(n=!1){try{await iE(),n&&await aE(),console.log("🎉 تم إعداد قاعدة البيانات الكاملة بنجاح!")}catch(e){throw console.error("💥 فشل في إعداد قاعدة البيانات:",e),e}}const O6=()=>{const[n,e]=pe.useState(1),t=5,r=[{title:"1️⃣ فتح Firebase Console",content:A.jsxs("div",{children:[A.jsx("p",{children:"اذهب إلى Firebase Console:"}),A.jsx("div",{style:{background:"#1f2937",color:"#e5e7eb",padding:"1rem",borderRadius:"8px",fontFamily:"monospace",margin:"1rem 0"},children:"https://console.firebase.google.com"}),A.jsx("p",{children:"وقم بتسجيل الدخول بحسابك"})]})},{title:"2️⃣ اختيار المشروع",content:A.jsxs("div",{children:[A.jsx("p",{children:"اختر مشروعك من قائمة المشاريع"}),A.jsxs("div",{style:{background:"#fef3c7",border:"1px solid #f59e0b",padding:"1rem",borderRadius:"8px",margin:"1rem 0"},children:[A.jsx("strong",{children:"💡 نصيحة:"})," تأكد من أنك تختار نفس المشروع المستخدم في التطبيق"]})]})},{title:"3️⃣ الانتقال إلى Firestore",content:A.jsxs("div",{children:[A.jsx("p",{children:"من القائمة الجانبية، انقر على:"}),A.jsx("div",{style:{background:"#3b82f6",color:"white",padding:"0.5rem 1rem",borderRadius:"6px",display:"inline-block",margin:"1rem 0"},children:"🗄️ Firestore Database"}),A.jsx("p",{children:'إذا لم تكن قاعدة البيانات موجودة، انقر على "Create database"'})]})},{title:"4️⃣ تحديث قواعد الأمان",content:A.jsxs("div",{children:[A.jsxs("p",{children:["انقر على تبويب ",A.jsx("strong",{children:'"Rules"'})," في أعلى الصفحة"]}),A.jsx("p",{children:"استبدل القواعد الموجودة بهذا الكود:"}),A.jsx("div",{style:{background:"#1f2937",color:"#e5e7eb",padding:"1rem",borderRadius:"8px",fontFamily:"monospace",margin:"1rem 0",fontSize:"0.9rem",overflow:"auto"},children:`rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // السماح بالقراءة والكتابة للجميع (للتطوير)
    match /{document=**} {
      allow read, write: if true;
    }
  }
}`}),A.jsxs("div",{style:{background:"#fef2f2",border:"1px solid #fecaca",padding:"1rem",borderRadius:"8px",margin:"1rem 0"},children:[A.jsx("strong",{children:"⚠️ تحذير:"})," هذه القواعد للتطوير فقط. للإنتاج، استخدم قواعد أكثر أماناً."]})]})},{title:"5️⃣ نشر القواعد",content:A.jsxs("div",{children:[A.jsx("p",{children:"انقر على الزر الأزرق:"}),A.jsx("div",{style:{background:"#3b82f6",color:"white",padding:"0.5rem 1rem",borderRadius:"6px",display:"inline-block",margin:"1rem 0"},children:"📤 Publish"}),A.jsx("p",{children:"انتظر حتى تظهر رسالة النجاح"}),A.jsxs("div",{style:{background:"#d1fae5",border:"1px solid #10b981",padding:"1rem",borderRadius:"8px",margin:"1rem 0"},children:[A.jsx("strong",{children:"✅ تم!"})," الآن يمكنك العودة للتطبيق وإعادة المحاولة"]})]})}];return A.jsxs("div",{style:{maxWidth:"700px",margin:"2rem auto",padding:"2rem",background:"white",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[A.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[A.jsx("h2",{style:{color:"#1f2937",marginBottom:"0.5rem"},children:"🔧 إصلاح صلاحيات Firestore"}),A.jsx("p",{style:{color:"#6b7280"},children:"اتبع هذه الخطوات لحل مشكلة الصلاحيات"})]}),A.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"2rem",padding:"0 1rem"},children:Array.from({length:t},(i,o)=>A.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:o+1<=n?"#3b82f6":"#e5e7eb",color:o+1<=n?"white":"#6b7280",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"},onClick:()=>e(o+1),children:o+1},o))}),A.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[A.jsx("h3",{style:{color:"#1f2937",marginBottom:"1rem",fontSize:"1.3rem"},children:r[n-1].title}),r[n-1].content]}),A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsx("button",{onClick:()=>e(Math.max(1,n-1)),disabled:n===1,style:{padding:"0.75rem 1.5rem",background:n===1?"#e5e7eb":"#6b7280",color:"white",border:"none",borderRadius:"8px",cursor:n===1?"not-allowed":"pointer",fontWeight:"600"},children:"← السابق"}),A.jsxs("span",{style:{color:"#6b7280",fontWeight:"600"},children:[n," من ",t]}),A.jsx("button",{onClick:()=>e(Math.min(t,n+1)),disabled:n===t,style:{padding:"0.75rem 1.5rem",background:n===t?"#e5e7eb":"#3b82f6",color:"white",border:"none",borderRadius:"8px",cursor:n===t?"not-allowed":"pointer",fontWeight:"600"},children:"التالي →"})]}),A.jsxs("div",{style:{marginTop:"2rem",padding:"1rem",background:"#eff6ff",border:"1px solid #3b82f6",borderRadius:"8px",textAlign:"center"},children:[A.jsx("p",{style:{margin:"0 0 1rem 0",color:"#1e40af"},children:A.jsx("strong",{children:"🚀 رابط مباشر:"})}),A.jsx("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#3b82f6",textDecoration:"none",fontWeight:"600"},children:"فتح Firebase Console في تبويب جديد ↗️"})]})]})},P6=()=>{const[n,e]=pe.useState(!1),[t,r]=pe.useState([]),[i,o]=pe.useState(!1),[c,d]=pe.useState(!1),u=x=>{r(w=>[...w,`${new Date().toLocaleTimeString("ar-SA")}: ${x}`])},p=async(x=!1)=>{e(!0),r([]),o(!1),u("🚀 بدء إنشاء قاعدة البيانات...");try{const w=console.log;console.log=R=>{u(R),w(R)},await D6(x),console.log=w,u("🎉 تم إنشاء قاعدة البيانات بنجاح!"),o(!0)}catch(w){u(`❌ فشل في إنشاء قاعدة البيانات: ${w}`),w.message&&w.message.includes("permission-denied")&&(u("🔧 يرجى إصلاح صلاحيات Firestore أولاً"),d(!0))}finally{e(!1)}},h=async()=>{e(!0),r([]),o(!1),u("🗑️ بدء حذف قاعدة البيانات...");try{const x=console.log;console.log=w=>{u(w),x(w)},await oE(),console.log=x,u("🎉 تم حذف قاعدة البيانات بنجاح!"),u("💡 يمكنك الآن إنشاء قاعدة بيانات جديدة"),o(!0)}catch(x){u(`❌ فشل في حذف قاعدة البيانات: ${x}`)}finally{e(!1)}},b=async(x=!1)=>{e(!0),r([]),o(!1),u("🔄 بدء حذف وإعادة إنشاء قاعدة البيانات...");try{const w=console.log;console.log=R=>{u(R),w(R)},await L6(x),console.log=w,u("🎉 تم حذف وإعادة إنشاء قاعدة البيانات بنجاح!"),u("💡 يُنصح بإعادة تحميل الصفحة"),o(!0)}catch(w){u(`❌ فشل في حذف وإعادة إنشاء قاعدة البيانات: ${w}`),w.message&&w.message.includes("permission-denied")&&(u("🔧 يرجى إصلاح صلاحيات Firestore أولاً"),d(!0))}finally{e(!1)}};return A.jsxs("div",{style:{maxWidth:"800px",margin:"2rem auto",padding:"2rem",background:"white",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[A.jsx("h2",{style:{textAlign:"center",marginBottom:"2rem"},children:"🗄️ إنشاء قاعدة البيانات في Firestore"}),A.jsxs("div",{style:{marginBottom:"2rem"},children:[A.jsx("h3",{children:"📋 العمليات المتاحة:"}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[A.jsxs("div",{style:{padding:"1rem",background:"#f3f4f6",borderRadius:"8px"},children:[A.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#1f2937"},children:"🏗️ إنشاء جديد"}),A.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#6b7280"},children:"إنشاء قاعدة بيانات جديدة مع الهيكل الأساسي"})]}),A.jsxs("div",{style:{padding:"1rem",background:"#fef2f2",borderRadius:"8px"},children:[A.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#dc2626"},children:"🗑️ حذف كامل"}),A.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#6b7280"},children:"حذف جميع البيانات نهائياً"})]})]}),A.jsxs("div",{style:{padding:"1rem",background:"#eff6ff",borderRadius:"8px"},children:[A.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#1e40af"},children:"🔄 حذف وإعادة إنشاء (الأفضل)"}),A.jsxs("p",{style:{margin:0,fontSize:"0.9rem",color:"#6b7280"},children:["حذف قاعدة البيانات الحالية وإنشاء واحدة جديدة نظيفة - ",A.jsx("strong",{children:"يحل مشكلة التاريخ الهجري"})]})]})]}),A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[A.jsxs("button",{onClick:()=>b(!1),disabled:n,style:{padding:"1rem",background:"linear-gradient(135deg, #1e40af 0%, #1e3a8a 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"600",cursor:n?"not-allowed":"pointer",opacity:n?.6:1,textAlign:"center"},children:["🔄 حذف وإعادة إنشاء",A.jsx("br",{}),A.jsx("small",{style:{opacity:.8},children:"(الأفضل لحل مشكلة التاريخ)"})]}),A.jsxs("button",{onClick:()=>b(!0),disabled:n,style:{padding:"1rem",background:"linear-gradient(135deg, #059669 0%, #047857 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"600",cursor:n?"not-allowed":"pointer",opacity:n?.6:1,textAlign:"center"},children:["🔄 حذف وإعادة إنشاء",A.jsx("br",{}),A.jsx("small",{style:{opacity:.8},children:"(مع بيانات تجريبية)"})]}),A.jsxs("button",{onClick:()=>p(!1),disabled:n,style:{padding:"1rem",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"600",cursor:n?"not-allowed":"pointer",opacity:n?.6:1,textAlign:"center"},children:["🏗️ إنشاء جديد",A.jsx("br",{}),A.jsx("small",{style:{opacity:.8},children:"(بدون حذف الموجود)"})]}),A.jsxs("button",{onClick:h,disabled:n,style:{padding:"1rem",background:"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"600",cursor:n?"not-allowed":"pointer",opacity:n?.6:1,textAlign:"center"},children:["🗑️ حذف كامل",A.jsx("br",{}),A.jsx("small",{style:{opacity:.8},children:"(حذف فقط)"})]}),A.jsxs("button",{onClick:()=>d(!0),style:{padding:"1rem",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"600",cursor:"pointer",textAlign:"center"},children:["🔧 إصلاح الصلاحيات",A.jsx("br",{}),A.jsx("small",{style:{opacity:.8},children:"(في حالة الأخطاء)"})]})]}),A.jsxs("div",{style:{background:"#1f2937",borderRadius:"8px",padding:"1rem",minHeight:"200px",maxHeight:"400px",overflowY:"auto",fontFamily:"monospace"},children:[A.jsx("h4",{style:{color:"#e5e7eb",margin:"0 0 1rem 0"},children:"📋 سجل العمليات:"}),t.length===0?A.jsx("p",{style:{color:"#9ca3af",fontStyle:"italic"},children:"انقر على أحد الأزرار لبدء إنشاء قاعدة البيانات"}):t.map((x,w)=>A.jsx("div",{style:{color:"#e5e7eb",fontSize:"0.9rem",marginBottom:"0.5rem",padding:"0.25rem 0",borderBottom:"1px solid #374151"},children:x},w)),n&&A.jsx("div",{style:{color:"#fbbf24",textAlign:"center",marginTop:"1rem"},children:"⏳ جاري العمل..."}),i&&A.jsx("div",{style:{color:"#10b981",textAlign:"center",marginTop:"1rem",fontWeight:"bold"},children:"✅ تم الانتهاء بنجاح!"})]}),A.jsxs("div",{style:{marginTop:"2rem",padding:"1rem",background:"#fef3c7",border:"1px solid #f59e0b",borderRadius:"8px"},children:[A.jsx("h4",{style:{color:"#92400e",margin:"0 0 1rem 0"},children:"⚠️ معلومات مهمة:"}),A.jsxs("ul",{style:{color:"#92400e",margin:0,lineHeight:"1.6"},children:[A.jsx("li",{children:"تأكد من أن مشروع Firebase متصل بشكل صحيح"}),A.jsx("li",{children:"تحقق من صلاحيات Firestore في قواعد الأمان"}),A.jsx("li",{children:"هذه العملية ستنشئ البنية الأساسية فقط"}),A.jsx("li",{children:"يمكنك إضافة البيانات الحقيقية بعد الانتهاء"})]})]}),c&&A.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"1rem"},children:A.jsxs("div",{style:{position:"relative",maxHeight:"90vh",overflowY:"auto"},children:[A.jsx("button",{onClick:()=>d(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",fontSize:"1.2rem",cursor:"pointer",zIndex:1001},children:"✕"}),A.jsx(O6,{})]})})]})},Hy=n=>{if(n.includes("صفر")&&n.includes("١٤٤٧")&&n.includes("هـ")){const e=new Date(2025,7,9);return rR(e)}return/[٠-٩]/.test(n)?J1(n):n},M6=()=>{console.log("🔄 بدء تحديث البيانات المحلية...");let n=0;return["activities","activity-reports","reports","yearProjects","weeklyActivities","season-archives","nationalDays","holidays"].forEach(t=>{try{const r=JSON.parse(localStorage.getItem(t)||"[]");let i=0;Array.isArray(r)&&(r.forEach(o=>{if(o.date&&(o.date.includes("هـ")||o.date.includes("صفر")||o.date.includes("١٤٤٧")||/[٠-٩]/.test(o.date))){const c=o.date;o.date=Hy(o.date),console.log(`📅 تحديث ${t}: ${o.title||o.name||"عنصر"} من "${c}" إلى "${o.date}"`),i++}["startDate","endDate","createdAt","updatedAt"].forEach(c=>{if(o[c]&&typeof o[c]=="string"&&(o[c].includes("هـ")||o[c].includes("صفر")||o[c].includes("١٤٤٧")||/[٠-٩]/.test(o[c]))){const d=o[c];o[c]=Hy(o[c]),console.log(`📅 تحديث ${t}.${c}: من "${d}" إلى "${o[c]}"`),i++}})}),i>0&&(localStorage.setItem(t,JSON.stringify(r)),n+=i))}catch(r){console.warn(`تعذر تحديث ${t}:`,r)}}),console.log(`✅ تم تحديث ${n} عنصر في البيانات المحلية`),n},k6=async()=>{console.log("🔄 بدء تحديث جميع مجموعات Firestore...");const n=["activities","activity-reports","reports","weekly-activities","season-archives","yearProjects","nationalDays"];let e=0;for(const t of n)try{console.log(`🔍 فحص مجموعة: ${t}`);const r=nr(Yt,t),i=await ra(r),o=Q0(Yt);let c=0;i.forEach(d=>{const u=d.data();let p=!1;const h={};["date","startDate","endDate","createdAt","updatedAt"].forEach(x=>{if(u[x]&&typeof u[x]=="string"&&(u[x].includes("هـ")||u[x].includes("صفر")||u[x].includes("١٤٤٧")||/[٠-٩]/.test(u[x]))){const w=u[x],R=Hy(u[x]);R!==w&&(h[x]=R,p=!0,console.log(`📅 ${t}.${x}: "${w}" → "${R}"`))}}),p&&(h.updatedAt=new Date,o.update(d.ref,h),c++)}),c>0?(await o.commit(),console.log(`✅ تم تحديث ${c} مستند في ${t}`),e+=c):console.log(`ℹ️ لا توجد مستندات تحتاج تحديث في ${t}`)}catch(r){console.warn(`⚠️ تعذر تحديث مجموعة ${t}:`,r)}return console.log(`✅ تم تحديث ${e} مستند في جميع مجموعات Firestore`),e},H6=async()=>{console.log("🚀 بدء التحديث الشامل للبيانات...");try{const n=await k6(),e=M6(),t=n+e;return console.log("📊 ملخص التحديث:"),console.log(`   - مجموع Firestore: ${n}`),console.log(`   - بيانات محلية: ${e}`),console.log(`   - المجموع الكلي: ${t}`),t>0?console.log("🎉 تم تحديث البيانات بنجاح! يُنصح بإعادة تحميل الصفحة."):console.log("ℹ️ جميع البيانات محدثة بالفعل."),{firestoreTotal:n,localStorage:e,total:t}}catch(n){throw console.error("💥 فشل في التحديث الشامل:",n),n}},V6=async()=>{console.log("🔍 فحص البيانات للعثور على التواريخ الهجرية...");const n={firestoreActivities:[],firestoreReports:[],localStorage:[]};try{const r=nr(Yt,"activities");(await ra(r)).forEach(o=>{const c=o.data();c.date&&(c.date.includes("هـ")||c.date.includes("صفر")||c.date.includes("١٤٤٧")||/[٠-٩]/.test(c.date))&&n.firestoreActivities.push(`${c.title}: ${c.date}`)})}catch(r){console.warn("تعذر فحص أنشطة Firestore:",r)}try{const r=nr(Yt,"activity-reports");(await ra(r)).forEach(o=>{const c=o.data();c.date&&(c.date.includes("هـ")||c.date.includes("صفر")||c.date.includes("١٤٤٧")||/[٠-٩]/.test(c.date))&&n.firestoreReports.push(`${c.title}: ${c.date}`)})}catch(r){console.warn("تعذر فحص تقارير Firestore:",r)}return JSON.parse(localStorage.getItem("activities")||"[]").forEach(r=>{r.date&&(r.date.includes("هـ")||r.date.includes("صفر")||r.date.includes("١٤٤٧")||/[٠-٩]/.test(r.date))&&n.localStorage.push(`${r.title}: ${r.date}`)}),JSON.parse(localStorage.getItem("activity-reports")||"[]").forEach(r=>{r.date&&(r.date.includes("هـ")||r.date.includes("صفر")||r.date.includes("١٤٤٧")||/[٠-٩]/.test(r.date))&&n.localStorage.push(`${r.title}: ${r.date}`)}),console.log("📊 نتائج الفحص:"),console.log(`   - أنشطة Firestore: ${n.firestoreActivities.length}`),console.log(`   - تقارير Firestore: ${n.firestoreReports.length}`),console.log(`   - بيانات محلية: ${n.localStorage.length}`),n},K6=()=>{const[n,e]=pe.useState(!1),[t,r]=pe.useState(!1),[i,o]=pe.useState([]),[c,d]=pe.useState(null),[u,p]=pe.useState(null),h=R=>{o(F=>[...F,`${new Date().toLocaleTimeString("ar-SA")}: ${R}`])},b=()=>{o([]),d(null),p(null)},x=async()=>{r(!0),h("🔍 بدء فحص البيانات للعثور على التواريخ الهجرية...");try{const R=await V6();d(R);const F=R.firestoreActivities.length+R.firestoreReports.length+R.localStorage.length;F>0?(h(`📊 تم العثور على ${F} عنصر يحتاج تحديث`),h(`   - أنشطة Firestore: ${R.firestoreActivities.length}`),h(`   - تقارير Firestore: ${R.firestoreReports.length}`),h(`   - بيانات محلية: ${R.localStorage.length}`)):h("✅ جميع البيانات محدثة بالفعل")}catch(R){h(`❌ خطأ في الفحص: ${R}`)}finally{r(!1)}},w=async()=>{e(!0),h("🚀 بدء تحديث البيانات...");try{const R=console.log;console.log=Q=>{h(Q),R(Q)};const F=await H6();p(F),console.log=R,F.total>0?(h("🎉 تم تحديث البيانات بنجاح!"),h("💡 يُنصح بإعادة تحميل الصفحة لرؤية التغييرات")):h("ℹ️ لا توجد بيانات تحتاج تحديث")}catch(R){h(`❌ فشل في التحديث: ${R}`)}finally{e(!1)}};return A.jsxs("div",{style:{maxWidth:"800px",margin:"2rem auto",padding:"2rem",background:"white",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[A.jsx("h2",{style:{textAlign:"center",marginBottom:"2rem",color:"#1f2937"},children:"🔄 تحديث البيانات - تحويل التواريخ الهجرية إلى ميلادية"}),A.jsxs("div",{style:{marginBottom:"2rem"},children:[A.jsx("h3",{style:{color:"#374151",marginBottom:"1rem"},children:"📋 ما سيتم تحديثه:"}),A.jsxs("ul",{style:{lineHeight:"1.8",color:"#6b7280"},children:[A.jsx("li",{children:'تحويل "صفر ١٤٤٧ هـ" إلى "9 غشت 2025"'}),A.jsx("li",{children:"تحويل الأرقام العربية (١٢٣) إلى فرنسية (123)"}),A.jsx("li",{children:"تحديث جميع الأنشطة والتقارير في Firestore"}),A.jsx("li",{children:"تحديث البيانات المحلية في المتصفح"})]})]}),A.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",justifyContent:"center"},children:[A.jsx("button",{onClick:x,disabled:t||n,style:{padding:"1rem 2rem",background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:t||n?"not-allowed":"pointer",opacity:t||n?.6:1},children:t?"🔍 جاري الفحص...":"🔍 فحص البيانات"}),A.jsx("button",{onClick:w,disabled:n||t,style:{padding:"1rem 2rem",background:"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:n||t?"not-allowed":"pointer",opacity:n||t?.6:1},children:n?"🔄 جاري التحديث...":"🔄 تحديث البيانات"}),A.jsx("button",{onClick:b,disabled:i.length===0,style:{padding:"1rem 2rem",background:"#6b7280",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:i.length===0?"not-allowed":"pointer",opacity:i.length===0?.6:1},children:"🧹 مسح السجل"}),u&&u.total>0&&A.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"1rem 2rem",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},children:"🔄 إعادة تحميل الصفحة"})]}),c&&A.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",background:"#f3f4f6",borderRadius:"8px",border:"1px solid #d1d5db"},children:[A.jsx("h4",{style:{margin:"0 0 1rem 0",color:"#374151"},children:"📊 نتائج الفحص:"}),c.firestoreActivities.length>0&&A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsxs("strong",{children:["🔥 أنشطة Firestore (",c.firestoreActivities.length,"):"]}),A.jsxs("ul",{style:{margin:"0.5rem 0",paddingRight:"1.5rem"},children:[c.firestoreActivities.slice(0,5).map((R,F)=>A.jsx("li",{style:{fontSize:"0.9rem",color:"#6b7280"},children:R},F)),c.firestoreActivities.length>5&&A.jsxs("li",{style:{fontSize:"0.9rem",color:"#6b7280",fontStyle:"italic"},children:["... و ",c.firestoreActivities.length-5," أخرى"]})]})]}),c.localStorage.length>0&&A.jsxs("div",{children:[A.jsxs("strong",{children:["💾 بيانات محلية (",c.localStorage.length,"):"]}),A.jsxs("ul",{style:{margin:"0.5rem 0",paddingRight:"1.5rem"},children:[c.localStorage.slice(0,5).map((R,F)=>A.jsx("li",{style:{fontSize:"0.9rem",color:"#6b7280"},children:R},F)),c.localStorage.length>5&&A.jsxs("li",{style:{fontSize:"0.9rem",color:"#6b7280",fontStyle:"italic"},children:["... و ",c.localStorage.length-5," أخرى"]})]})]})]}),u&&A.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",background:"#d1fae5",borderRadius:"8px",border:"1px solid #10b981"},children:[A.jsx("h4",{style:{margin:"0 0 1rem 0",color:"#065f46"},children:"✅ نتائج التحديث:"}),A.jsxs("ul",{style:{margin:0,paddingRight:"1.5rem",color:"#065f46"},children:[A.jsxs("li",{children:["جميع مجموعات Firestore: ",u.firestoreTotal]}),A.jsxs("li",{children:["بيانات محلية: ",u.localStorage]}),A.jsx("li",{children:A.jsxs("strong",{children:["المجموع الكلي: ",u.total]})})]}),u.total>0&&A.jsxs("div",{style:{marginTop:"1rem",padding:"0.5rem",background:"#fef3c7",borderRadius:"4px",color:"#92400e"},children:["💡 ",A.jsx("strong",{children:"مهم:"})," أعد تحميل الصفحة لرؤية التغييرات"]})]}),A.jsxs("div",{style:{background:"#1f2937",borderRadius:"8px",padding:"1rem",minHeight:"200px",maxHeight:"400px",overflowY:"auto",fontFamily:"monospace"},children:[A.jsx("h4",{style:{color:"#e5e7eb",margin:"0 0 1rem 0"},children:"📋 سجل العمليات:"}),i.length===0?A.jsx("p",{style:{color:"#9ca3af",fontStyle:"italic"},children:'انقر على "فحص البيانات" أو "تحديث البيانات" لبدء العملية'}):i.map((R,F)=>A.jsx("div",{style:{color:"#e5e7eb",fontSize:"0.9rem",marginBottom:"0.5rem",padding:"0.25rem 0",borderBottom:"1px solid #374151"},children:R},F))]}),A.jsxs("div",{style:{marginTop:"2rem",padding:"1rem",background:"#fef3c7",border:"1px solid #f59e0b",borderRadius:"8px"},children:[A.jsx("h4",{style:{color:"#92400e",margin:"0 0 1rem 0"},children:"⚠️ معلومات مهمة:"}),A.jsxs("ul",{style:{color:"#92400e",margin:0,lineHeight:"1.6"},children:[A.jsx("li",{children:"افحص البيانات أولاً قبل التحديث"}),A.jsx("li",{children:"التحديث لا يمكن التراجع عنه"}),A.jsx("li",{children:"أعد تحميل الصفحة بعد التحديث"}),A.jsx("li",{children:"تأكد من اتصال الإنترنت لتحديث Firestore"})]})]})]})},G6=()=>{const[n,e]=pe.useState([]),[t,r]=pe.useState(!1),[i,o]=pe.useState(null),[c,d]=pe.useState(""),[u,p]=pe.useState(!1);pe.useEffect(()=>{h()},[]);const h=()=>{const O=localStorage.getItem("customMonths");if(O){const $=JSON.parse(O).map(U=>({...U,createdAt:new Date(U.createdAt)}));e($)}else{const z=kp.map(($,U)=>({id:`month-${U+1}`,name:$,order:U+1,isActive:!0,createdAt:new Date}));e(z),b(z)}},b=O=>{localStorage.setItem("customMonths",JSON.stringify(O))},x=()=>{if(!c.trim())return;const O={id:`month-${Date.now()}`,name:c.trim(),order:n.length+1,isActive:!0,createdAt:new Date},z=[...n,O];e(z),b(z),d(""),p(!1)},w=O=>{o(O),d(O.name),r(!0)},R=()=>{if(!i||!c.trim())return;const O=n.map(z=>z.id===i.id?{...z,name:c.trim()}:z);e(O),b(O),r(!1),o(null),d("")},F=()=>{r(!1),o(null),d("")},Q=O=>{if(n.length<=1){alert("لا يمكن حذف جميع الشهور. يجب أن يبقى شهر واحد على الأقل.");return}if(confirm("هل أنت متأكد من حذف هذا الشهر؟")){const $=n.filter(U=>U.id!==O).map((U,L)=>({...U,order:L+1}));e($),b($)}},I=O=>{const z=n.map($=>$.id===O?{...$,isActive:!$.isActive}:$);e(z),b(z)},T=(O,z)=>{const $=n.findIndex(X=>X.id===O);if($===-1)return;const U=z==="up"?$-1:$+1;if(U<0||U>=n.length)return;const L=[...n];[L[$],L[U]]=[L[U],L[$]];const G=L.map((X,P)=>({...X,order:P+1}));e(G),b(G)},_=()=>{if(confirm("هل أنت متأكد من إعادة تعيين الشهور إلى الترتيب الأكاديمي المغربي (شتنبر إلى يوليوز)؟")){const O=kp.map((z,$)=>({id:`month-${$+1}`,name:z,order:$+1,isActive:!0,createdAt:new Date}));e(O),b(O)}};return A.jsxs("div",{style:{maxWidth:"800px",margin:"2rem auto",padding:"2rem",background:"white",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[A.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"2px solid #f3f4f6"},children:[A.jsx("h2",{style:{margin:0,color:"#1f2937",fontSize:"1.8rem",fontWeight:"700"},children:"📅 إدارة الشهور المغربية"}),A.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[A.jsx("button",{onClick:()=>p(!u),style:{padding:"0.5rem 1rem",background:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:"➕ إضافة شهر"}),A.jsx("button",{onClick:_,style:{padding:"0.5rem 1rem",background:"#6b7280",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:"🔄 إعادة تعيين"})]})]}),u&&A.jsxs("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"12px"},children:[A.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#374151"},children:"➕ إضافة شهر جديد"}),A.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[A.jsx("input",{type:"text",value:c,onChange:O=>d(O.target.value),placeholder:"اسم الشهر الجديد",style:{flex:1,padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"1rem"},onKeyPress:O=>O.key==="Enter"&&x()}),A.jsx("button",{onClick:x,disabled:!c.trim(),style:{padding:"0.75rem 1.5rem",background:c.trim()?"#10b981":"#9ca3af",color:"white",border:"none",borderRadius:"6px",cursor:c.trim()?"pointer":"not-allowed",fontWeight:"600"},children:"إضافة"}),A.jsx("button",{onClick:()=>{p(!1),d("")},style:{padding:"0.75rem 1.5rem",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600"},children:"إلغاء"})]})]}),A.jsx("div",{style:{display:"grid",gap:"1rem"},children:n.map((O,z)=>A.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"1rem",background:O.isActive?"#f9fafb":"#f3f4f6",border:`1px solid ${O.isActive?"#e5e7eb":"#d1d5db"}`,borderRadius:"8px",opacity:O.isActive?1:.6},children:[A.jsx("div",{style:{minWidth:"40px",height:"40px",background:O.isActive?"#3b82f6":"#9ca3af",color:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",marginLeft:"1rem"},children:O.order}),A.jsx("div",{style:{flex:1},children:t&&i?.id===O.id?A.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[A.jsx("input",{type:"text",value:c,onChange:$=>d($.target.value),style:{flex:1,padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"1rem"},onKeyPress:$=>$.key==="Enter"&&R(),autoFocus:!0}),A.jsx("button",{onClick:R,style:{padding:"0.5rem 1rem",background:"#10b981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:"حفظ"}),A.jsx("button",{onClick:F,style:{padding:"0.5rem 1rem",background:"#ef4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:"إلغاء"})]}):A.jsxs("div",{children:[A.jsx("h4",{style:{margin:"0 0 0.25rem 0",color:"#1f2937",fontSize:"1.1rem"},children:O.name}),A.jsxs("p",{style:{margin:0,color:"#6b7280",fontSize:"0.9rem"},children:[O.isActive?"مفعل":"غير مفعل"," • تم الإنشاء: ",O.createdAt.toLocaleDateString("ar-SA")]})]})}),!t&&A.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[A.jsx("button",{onClick:()=>T(O.id,"up"),disabled:z===0,style:{padding:"0.25rem 0.5rem",background:z===0?"#d1d5db":"#6b7280",color:"white",border:"none",borderRadius:"4px",cursor:z===0?"not-allowed":"pointer",fontSize:"0.8rem"},children:"↑"}),A.jsx("button",{onClick:()=>T(O.id,"down"),disabled:z===n.length-1,style:{padding:"0.25rem 0.5rem",background:z===n.length-1?"#d1d5db":"#6b7280",color:"white",border:"none",borderRadius:"4px",cursor:z===n.length-1?"not-allowed":"pointer",fontSize:"0.8rem"},children:"↓"}),A.jsx("button",{onClick:()=>I(O.id),style:{padding:"0.25rem 0.5rem",background:O.isActive?"#f59e0b":"#10b981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:O.isActive?"⏸️":"▶️"}),A.jsx("button",{onClick:()=>w(O),style:{padding:"0.25rem 0.5rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:"✏️"}),A.jsx("button",{onClick:()=>Q(O.id),style:{padding:"0.25rem 0.5rem",background:"#ef4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:"🗑️"})]})]},O.id))}),A.jsxs("div",{style:{marginTop:"2rem",padding:"1rem",background:"#eff6ff",border:"1px solid #3b82f6",borderRadius:"8px"},children:[A.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#1e40af"},children:"📋 معلومات:"}),A.jsxs("ul",{style:{margin:0,paddingRight:"1.5rem",color:"#1e40af",fontSize:"0.9rem"},children:[A.jsx("li",{children:"يمكنك إضافة شهور جديدة أو تعديل الموجودة"}),A.jsx("li",{children:"استخدم أزرار الترتيب (↑↓) لتغيير ترتيب الشهور"}),A.jsx("li",{children:"يمكنك تفعيل/إلغاء تفعيل الشهور حسب الحاجة"}),A.jsx("li",{children:"الشهور المُلغاة لن تظهر في قوائم التواريخ"}),A.jsx("li",{children:"إعادة التعيين ستعيد الترتيب الأكاديمي المغربي (شتنبر → يوليوز)"})]})]})]})},z6=()=>{const n=Ql(),[e,t]=pe.useState(!1),[r,i]=pe.useState(null),[o,c]=pe.useState(""),[d,u]=pe.useState("info"),[p,h]=pe.useState("system"),[b,x]=pe.useState(localStorage.getItem("darkMode")==="true"),[w,R]=pe.useState(localStorage.getItem("notifications")!=="false"),[F,Q]=pe.useState(localStorage.getItem("language")||"ar"),[I,T]=pe.useState(localStorage.getItem("autoSave")!=="false");pe.useEffect(()=>{_()},[]);const _=async()=>{const te=await rE();i(te)},O=(te,ge)=>{c(te),u(ge),setTimeout(()=>c(""),5e3)},z=async()=>{t(!0);try{const te=await S6();te.success?(O("تم إعداد النظام بنجاح! 🎉","success"),i(te.status)):O("فشل في إعداد النظام ❌","error")}catch{O("حدث خطأ في إعداد النظام","error")}finally{t(!1)}},$=()=>{window.confirm("هل أنت متأكد من حذف جميع البيانات التجريبية؟")&&(sE()?(O("تم حذف البيانات التجريبية بنجاح! 🧹","success"),window.location.reload()):O("فشل في حذف البيانات","error"))},U=async()=>{t(!0),await _(),t(!1),O("تم تحديث الحالة","info")},L=()=>{const te=!b;x(te),localStorage.setItem("darkMode",te.toString()),document.documentElement.classList.toggle("dark",te),O(`تم ${te?"تفعيل":"إلغاء"} الوضع المظلم`,"success")},G=()=>{const te=!w;R(te),localStorage.setItem("notifications",te.toString()),O(`تم ${te?"تفعيل":"إلغاء"} الإشعارات`,"success")},X=te=>{Q(te),localStorage.setItem("language",te),O(`تم تغيير اللغة إلى ${te==="ar"?"العربية":"الإنجليزية"}`,"success")},P=()=>{const te=!I;T(te),localStorage.setItem("autoSave",te.toString()),O(`تم ${te?"تفعيل":"إلغاء"} الحفظ التلقائي`,"success")},H=()=>{const te={activities:JSON.parse(localStorage.getItem("activities")||"[]"),reports:JSON.parse(localStorage.getItem("reports")||"[]"),settings:{darkMode:b,notifications:w,language:F,autoSave:I}},ge=new Blob([JSON.stringify(te,null,2)],{type:"application/json"}),oe=URL.createObjectURL(ge),we=document.createElement("a");we.href=oe,we.download=`theatre-data-${new Date().toISOString().split("T")[0]}.json`,we.click(),URL.revokeObjectURL(oe),O("تم تصدير البيانات بنجاح","success")},V=te=>{const ge=te.target.files?.[0];if(!ge)return;const oe=new FileReader;oe.onload=we=>{try{const be=JSON.parse(we.target?.result);if(be.activities&&localStorage.setItem("activities",JSON.stringify(be.activities)),be.reports&&localStorage.setItem("reports",JSON.stringify(be.reports)),be.settings){const{darkMode:je,notifications:re,language:de,autoSave:K}=be.settings;je!==void 0&&(x(je),localStorage.setItem("darkMode",je.toString())),re!==void 0&&(R(re),localStorage.setItem("notifications",re.toString())),de!==void 0&&(Q(de),localStorage.setItem("language",de)),K!==void 0&&(T(K),localStorage.setItem("autoSave",K.toString()))}O("تم استيراد البيانات بنجاح","success"),setTimeout(()=>window.location.reload(),2e3)}catch{O("خطأ في استيراد البيانات","error")}},oe.readAsText(ge)};return A.jsxs("div",{className:"settings-container",dir:"rtl",children:[A.jsx("button",{onClick:()=>n("/"),className:"back-button",title:"العودة للرئيسية",children:"←"}),A.jsxs("div",{className:"settings-header",children:[A.jsx("h1",{className:"settings-title",children:"⚙️ إعدادات النظام"}),A.jsx("p",{className:"settings-subtitle",children:"تخصيص وإدارة إعدادات منصة الأنشطة المسرحية"}),o&&A.jsx("div",{className:`status-message ${d}`,children:o})]}),A.jsxs("div",{className:"settings-tabs",children:[A.jsx("button",{className:`tab-button ${p==="system"?"active":""}`,onClick:()=>h("system"),children:"🛠️ النظام"}),A.jsx("button",{className:`tab-button ${p==="sync"?"active":""}`,onClick:()=>h("sync"),children:"🔄 المزامنة"}),A.jsx("button",{className:`tab-button ${p==="database"?"active":""}`,onClick:()=>h("database"),children:"🗄️ قاعدة البيانات"}),A.jsx("button",{className:`tab-button ${p==="dataUpdate"?"active":""}`,onClick:()=>h("dataUpdate"),children:"🔄 تحديث البيانات"}),A.jsx("button",{className:`tab-button ${p==="monthManager"?"active":""}`,onClick:()=>h("monthManager"),children:"📅 إدارة الشهور"}),A.jsx("button",{className:`tab-button ${p==="appearance"?"active":""}`,onClick:()=>h("appearance"),children:"🎨 المظهر"}),A.jsx("button",{className:`tab-button ${p==="data"?"active":""}`,onClick:()=>h("data"),children:"💾 البيانات"}),A.jsx("button",{className:`tab-button ${p==="about"?"active":""}`,onClick:()=>h("about"),children:"ℹ️ حول"})]}),A.jsxs("div",{className:"settings-content",children:[p==="system"&&A.jsxs("div",{className:"settings-sections",children:[A.jsxs("div",{className:"settings-section",children:[A.jsx("h2",{className:"section-title",children:"🔥 حالة النظام"}),A.jsx("p",{className:"section-description",children:"معلومات حول حالة قاعدة البيانات والنظام"}),r?A.jsxs("div",{className:"status-grid",children:[A.jsxs("div",{className:"status-card",children:[A.jsx("div",{className:"status-number",children:r.activities||0}),A.jsx("div",{className:"status-label",children:"الأنشطة"})]}),A.jsxs("div",{className:"status-card",children:[A.jsx("div",{className:"status-number",children:r["activity-reports"]||0}),A.jsx("div",{className:"status-label",children:"التقارير"})]}),A.jsxs("div",{className:"status-card",children:[A.jsx("div",{className:"status-number",children:r["season-archives"]||0}),A.jsx("div",{className:"status-label",children:"الأرشيف"})]}),A.jsxs("div",{className:"status-card",children:[A.jsx("div",{className:"status-number",children:r.settings||0}),A.jsx("div",{className:"status-label",children:"الإعدادات"})]})]}):A.jsxs("div",{className:"loading-container",children:[A.jsx("div",{className:"loading-spinner"}),A.jsx("p",{children:"جاري فحص حالة النظام..."})]}),A.jsx("div",{className:"settings-buttons",children:A.jsxs("button",{onClick:U,disabled:e,className:"settings-btn info",children:[e&&A.jsx("div",{className:"loading-spinner"}),"🔄 تحديث الحالة"]})})]}),os.isAdmin()&&A.jsxs("div",{className:"settings-section",children:[A.jsx("h2",{className:"section-title",children:"👥 إدارة المستخدمين"}),A.jsx("p",{className:"section-description",children:"إضافة وإدارة حسابات المستخدمين وصلاحياتهم"}),A.jsx("div",{className:"settings-buttons",children:A.jsx("button",{onClick:()=>n("/user-management"),className:"settings-btn primary",children:"👥 إدارة المستخدمين"})})]}),A.jsxs("div",{className:"settings-section",children:[A.jsx("h2",{className:"section-title",children:"🛠️ إجراءات النظام"}),A.jsx("p",{className:"section-description",children:"إعداد وصيانة النظام"}),A.jsxs("div",{className:"settings-buttons",children:[A.jsxs("button",{onClick:z,disabled:e,className:"settings-btn success",children:[e&&A.jsx("div",{className:"loading-spinner"}),"🚀 إعداد النظام الشامل"]}),A.jsx("button",{onClick:$,className:"settings-btn danger",children:"🗑️ حذف البيانات التجريبية"})]})]})]}),p==="sync"&&A.jsx("div",{className:"settings-sections",children:A.jsxs("div",{className:"settings-section",children:[A.jsx("h2",{className:"section-title",children:"🔄 حالة المزامنة"}),A.jsx("p",{className:"section-description",children:"مراقبة وإدارة مزامنة البيانات بين الجهاز وقاعدة البيانات السحابية"}),A.jsx(_6,{compact:!1})]})}),p==="database"&&A.jsx("div",{className:"settings-sections",children:A.jsxs("div",{className:"settings-section",children:[A.jsx("h2",{className:"section-title",children:"🗄️ إدارة قاعدة البيانات"}),A.jsx("p",{className:"section-description",children:"إعداد وإدارة قاعدة البيانات، حذف البيانات التجريبية وإنشاء الهيكل الحقيقي"}),A.jsxs("div",{style:{marginBottom:"3rem"},children:[A.jsx("h3",{style:{marginBottom:"1rem",color:"#374151"},children:"🏗️ إنشاء قاعدة البيانات الجديدة"}),A.jsx(P6,{})]}),A.jsxs("div",{children:[A.jsx("h3",{style:{marginBottom:"1rem",color:"#374151"},children:"🔧 إدارة قاعدة البيانات الموجودة"}),A.jsx(I6,{})]})]})}),p==="dataUpdate"&&A.jsx("div",{className:"settings-sections",children:A.jsxs("div",{className:"settings-section",children:[A.jsx("h2",{className:"section-title",children:"🔄 تحديث البيانات"}),A.jsx("p",{className:"section-description",children:"تحويل التواريخ الهجرية إلى ميلادية مغربية وتحديث الأرقام"}),A.jsx(K6,{})]})}),p==="monthManager"&&A.jsx("div",{className:"settings-sections",children:A.jsxs("div",{className:"settings-section",children:[A.jsx("h2",{className:"section-title",children:"📅 إدارة الشهور الأكاديمية"}),A.jsx("p",{className:"section-description",children:"إدارة الشهور حسب الموسم الدراسي المغربي (شتنبر → يوليوز)"}),A.jsx(G6,{})]})}),p==="appearance"&&A.jsx("div",{className:"settings-sections",children:A.jsxs("div",{className:"settings-section",children:[A.jsx("h2",{className:"section-title",children:"🎨 إعدادات المظهر"}),A.jsx("p",{className:"section-description",children:"تخصيص مظهر التطبيق حسب تفضيلاتك"}),A.jsxs("div",{className:"settings-options",children:[A.jsxs("div",{className:"setting-item",children:[A.jsxs("div",{className:"setting-info",children:[A.jsx("h3",{children:"🌙 الوضع المظلم"}),A.jsx("p",{children:"تفعيل أو إلغاء الوضع المظلم"})]}),A.jsx("button",{onClick:L,className:`toggle-btn ${b?"active":""}`,children:A.jsx("div",{className:"toggle-slider"})})]}),A.jsxs("div",{className:"setting-item",children:[A.jsxs("div",{className:"setting-info",children:[A.jsx("h3",{children:"🔔 الإشعارات"}),A.jsx("p",{children:"تفعيل أو إلغاء الإشعارات"})]}),A.jsx("button",{onClick:G,className:`toggle-btn ${w?"active":""}`,children:A.jsx("div",{className:"toggle-slider"})})]}),A.jsxs("div",{className:"setting-item",children:[A.jsxs("div",{className:"setting-info",children:[A.jsx("h3",{children:"💾 الحفظ التلقائي"}),A.jsx("p",{children:"حفظ التغييرات تلقائياً"})]}),A.jsx("button",{onClick:P,className:`toggle-btn ${I?"active":""}`,children:A.jsx("div",{className:"toggle-slider"})})]}),A.jsxs("div",{className:"setting-item",children:[A.jsxs("div",{className:"setting-info",children:[A.jsx("h3",{children:"🌐 اللغة"}),A.jsx("p",{children:"اختيار لغة التطبيق"})]}),A.jsxs("select",{value:F,onChange:te=>X(te.target.value),className:"language-select",children:[A.jsx("option",{value:"ar",children:"العربية"}),A.jsx("option",{value:"en",children:"English"})]})]})]})]})}),p==="data"&&A.jsx("div",{className:"settings-sections",children:A.jsxs("div",{className:"settings-section",children:[A.jsx("h2",{className:"section-title",children:"💾 إدارة البيانات"}),A.jsx("p",{className:"section-description",children:"تصدير واستيراد البيانات"}),A.jsxs("div",{className:"settings-buttons",children:[A.jsx("button",{onClick:H,className:"settings-btn primary",children:"📤 تصدير البيانات"}),A.jsxs("label",{className:"settings-btn secondary file-input-label",children:["📥 استيراد البيانات",A.jsx("input",{type:"file",accept:".json",onChange:V,className:"file-input"})]})]})]})}),p==="about"&&A.jsxs("div",{className:"settings-sections",children:[A.jsxs("div",{className:"settings-section",children:[A.jsx("h2",{className:"section-title",children:"ℹ️ معلومات التطبيق"}),A.jsx("p",{className:"section-description",children:"معلومات حول النظام والمطور"}),A.jsxs("div",{className:"about-info",children:[A.jsxs("div",{className:"info-item",children:[A.jsx("strong",{children:"اسم التطبيق:"}),A.jsx("span",{children:"منصة الأنشطة المسرحية"})]}),A.jsxs("div",{className:"info-item",children:[A.jsx("strong",{children:"الإصدار:"}),A.jsx("span",{children:"2.0.0"})]}),A.jsxs("div",{className:"info-item",children:[A.jsx("strong",{children:"المسؤول:"}),A.jsx("span",{children:"الأستاذ مصطفى لعرعري"})]}),A.jsxs("div",{className:"info-item",children:[A.jsx("strong",{children:"المؤسسة:"}),A.jsx("span",{children:"مجموعة مدارس العمران"})]}),A.jsxs("div",{className:"info-item",children:[A.jsx("strong",{children:"الموسم الحالي:"}),A.jsx("span",{children:"2024-2025"})]}),A.jsxs("div",{className:"info-item",children:[A.jsx("strong",{children:"التقنيات:"}),A.jsx("span",{children:"React, TypeScript, Firebase"})]})]})]}),A.jsxs("div",{className:"settings-section warning-section",children:[A.jsx("h2",{className:"section-title",children:"⚠️ تحذيرات مهمة"}),A.jsxs("ul",{className:"warning-list",children:[A.jsx("li",{children:"تأكد من اتصالك بالإنترنت قبل إعداد النظام"}),A.jsx("li",{children:"حذف البيانات التجريبية لا يمكن التراجع عنه"}),A.jsx("li",{children:"يُنصح بعمل نسخة احتياطية قبل أي تغيير كبير"}),A.jsx("li",{children:"إعداد النظام يتطلب صلاحيات Firebase"})]})]})]})]})]})},q6=({user:n,compact:e=!1})=>{const t=[{title:"المحتوى العام",permissions:[{key:"canView",label:"مشاهدة",icon:"👁️"},{key:"canEdit",label:"تعديل عام",icon:"✏️"},{key:"canDelete",label:"حذف عام",icon:"🗑️"},{key:"canExportPDF",label:"تصدير PDF",icon:"📄"}]},{title:"التقارير",permissions:[{key:"canCreateReports",label:"إنشاء تقارير",icon:"📝"},{key:"canEditReports",label:"تعديل تقارير",icon:"📝"},{key:"canDeleteReports",label:"حذف تقارير",icon:"🗑️"}]},{title:"الأنشطة",permissions:[{key:"canCreateActivities",label:"إنشاء أنشطة",icon:"🎭"},{key:"canEditActivities",label:"تعديل أنشطة",icon:"🎭"},{key:"canDeleteActivities",label:"حذف أنشطة",icon:"🗑️"}]},{title:"الإدارة",permissions:[{key:"canManageUsers",label:"إدارة مستخدمين",icon:"👥"},{key:"canAccessSettings",label:"الإعدادات",icon:"⚙️"},{key:"canAccessArchive",label:"الأرشيف",icon:"📁"},{key:"canModifyProgram",label:"تعديل البرنامج",icon:"📅"},{key:"canAccessAnalytics",label:"الإحصائيات",icon:"📊"}]}];if(e){const r=t.flatMap(i=>i.permissions).filter(i=>n.permissions[i.key]);return A.jsxs("div",{className:"permissions-summary compact",children:[r.length===0?A.jsx("span",{className:"no-permissions",children:"❌ لا توجد صلاحيات"}):r.slice(0,3).map(i=>A.jsxs("span",{className:"permission-badge",children:[i.icon," ",i.label]},i.key)),r.length>3&&A.jsxs("span",{className:"more-permissions",children:["+",r.length-3," أخرى"]})]})}return A.jsxs("div",{className:"permissions-summary",children:[A.jsx("h4",{children:"الصلاحيات المخولة:"}),t.map(r=>{const i=r.permissions.filter(o=>n.permissions[o.key]);return i.length===0?null:A.jsxs("div",{className:"permission-group",children:[A.jsx("h5",{children:r.title}),A.jsx("div",{className:"permissions-list",children:i.map(o=>A.jsxs("span",{className:"permission-badge",children:[o.icon," ",o.label]},o.key))})]},r.title)}),t.every(r=>r.permissions.every(i=>!n.permissions[i.key]))&&A.jsx("div",{className:"no-permissions-message",children:"❌ لم يتم منح أي صلاحيات لهذا المستخدم"})]})},$6=()=>{const n=Ql(),[e,t]=pe.useState([]),[r,i]=pe.useState(!1),[o,c]=pe.useState(""),[d,u]=pe.useState("info"),[p,h]=pe.useState(!1),[b,x]=pe.useState(null),[w,R]=pe.useState({username:"",password:"",fullName:"",email:"",role:"viewer",permissions:{canView:!0,canEdit:!1,canDelete:!1,canExportPDF:!1,canAccessSettings:!1,canCreateReports:!1,canEditReports:!1,canDeleteReports:!1,canCreateActivities:!1,canEditActivities:!1,canDeleteActivities:!1,canManageUsers:!1,canViewUserList:!1,canEditUserPermissions:!1,canDeactivateUsers:!1,canAccessArchive:!1,canModifyProgram:!1,canAccessAnalytics:!1},isActive:!0});pe.useEffect(()=>{if(!os.isAdmin()){n("/");return}F()},[n]);const F=()=>{const U=os.getAllUsers();t(U)},Q=(U,L)=>{c(U),u(L),setTimeout(()=>c(""),5e3)},I=()=>{R({username:"",password:"",fullName:"",email:"",role:"viewer",permissions:{canView:!0,canEdit:!1,canDelete:!1,canExportPDF:!1,canAccessSettings:!1,canCreateReports:!1,canEditReports:!1,canDeleteReports:!1,canCreateActivities:!1,canEditActivities:!1,canDeleteActivities:!1,canManageUsers:!1,canViewUserList:!1,canEditUserPermissions:!1,canDeactivateUsers:!1,canAccessArchive:!1,canModifyProgram:!1,canAccessAnalytics:!1},isActive:!0}),x(null),h(!1)},T=async U=>{U.preventDefault(),i(!0);try{b?(await os.updateUser(b.id,w),Q("تم تحديث المستخدم بنجاح","success")):(await os.addUser(w),Q("تم إضافة المستخدم بنجاح","success")),F(),I()}catch(L){Q(L.message||"حدث خطأ في العملية","error")}finally{i(!1)}},_=U=>{x(U),R({username:U.username,password:U.password,fullName:U.fullName,email:U.email||"",role:U.role,permissions:U.permissions,isActive:U.isActive}),h(!0)},O=async U=>{if(window.confirm("هل أنت متأكد من حذف هذا المستخدم؟"))try{await os.deleteUser(U),Q("تم حذف المستخدم بنجاح","success"),F()}catch(L){Q(L.message||"حدث خطأ في حذف المستخدم","error")}},z=async(U,L)=>{try{await os.updateUser(U,{isActive:!L}),Q(`تم ${L?"إلغاء تفعيل":"تفعيل"} المستخدم`,"success"),F()}catch(G){Q(G.message||"حدث خطأ في تغيير حالة المستخدم","error")}},$=(U,L)=>{R(G=>({...G,permissions:{...G.permissions,[U]:L}}))};return A.jsxs("div",{className:"user-management-container",dir:"rtl",children:[A.jsx("button",{onClick:()=>n("/settings"),className:"back-button",title:"العودة للإعدادات",children:"←"}),A.jsxs("div",{className:"page-header",children:[A.jsx("h1",{className:"page-title",children:"👥 إدارة المستخدمين"}),A.jsx("p",{className:"page-subtitle",children:"إضافة وإدارة حسابات المستخدمين وصلاحياتهم"}),A.jsx("div",{className:"admin-notice",style:{background:"linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%)",color:"white",padding:"1rem",borderRadius:"8px",marginTop:"1rem",textAlign:"center",fontWeight:"600"},children:"🔐 أنت المدير الوحيد الذي يمكنه إنشاء المستخدمين وتحديد صلاحياتهم"}),o&&A.jsx("div",{className:`status-message ${d}`,children:o})]}),A.jsxs("div",{className:"actions-bar",children:[A.jsx("button",{onClick:()=>h(!0),className:"action-btn primary",children:"➕ إضافة مستخدم جديد"}),A.jsxs("div",{className:"stats",children:[A.jsxs("span",{className:"stat-item",children:["👥 إجمالي المستخدمين: ",A.jsx("strong",{children:e.length})]}),A.jsxs("span",{className:"stat-item",children:["✅ المفعلين: ",A.jsx("strong",{children:e.filter(U=>U.isActive).length})]}),A.jsxs("span",{className:"stat-item",children:["👑 المديرين: ",A.jsx("strong",{children:e.filter(U=>U.role==="admin").length})]})]})]}),A.jsxs("div",{className:"users-grid",children:[e.map(U=>A.jsxs("div",{className:`user-card ${U.isActive?"":"inactive"}`,children:[A.jsxs("div",{className:"user-header",children:[A.jsxs("div",{className:"user-info",children:[A.jsx("h3",{className:"user-name",children:U.fullName}),A.jsxs("p",{className:"user-username",children:["@",U.username]}),U.email&&A.jsx("p",{className:"user-email",children:U.email})]}),A.jsxs("div",{className:"user-badges",children:[A.jsx("span",{className:`role-badge ${U.role}`,children:U.role==="admin"?"👑 مدير":"👤 مشاهد"}),A.jsx("span",{className:`status-badge ${U.isActive?"active":"inactive"}`,children:U.isActive?"✅ مفعل":"❌ معطل"})]})]}),A.jsx(q6,{user:U,compact:!0}),A.jsxs("div",{className:"user-actions",children:[A.jsx("button",{onClick:()=>_(U),className:"action-btn secondary small",children:"✏️ تعديل"}),A.jsx("button",{onClick:()=>z(U.id,U.isActive),className:`action-btn ${U.isActive?"warning":"success"} small`,children:U.isActive?"❌ إلغاء تفعيل":"✅ تفعيل"}),A.jsx("button",{onClick:()=>O(U.id),className:"action-btn danger small",children:"🗑️ حذف"})]}),U.lastLogin&&A.jsxs("div",{className:"user-meta",children:["آخر دخول: ","toDate"in U.lastLogin?U.lastLogin.toDate().toLocaleString("ar-SA"):"غير معروف"]})]},U.id)),e.length===0&&A.jsxs("div",{className:"empty-state",children:[A.jsx("h3",{children:"لا توجد مستخدمين"}),A.jsx("p",{children:"ابدأ بإضافة مستخدم جديد"})]})]}),p&&A.jsx("div",{className:"modal-overlay",children:A.jsxs("div",{className:"modal-content",children:[A.jsxs("div",{className:"modal-header",children:[A.jsx("h2",{children:b?"تعديل المستخدم":"إضافة مستخدم جديد"}),A.jsx("button",{onClick:I,className:"close-btn",children:"✕"})]}),A.jsxs("form",{onSubmit:T,className:"user-form",children:[A.jsxs("div",{className:"form-row",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"اسم المستخدم *"}),A.jsx("input",{type:"text",value:w.username,onChange:U=>R(L=>({...L,username:U.target.value})),required:!0,disabled:!!b})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"كلمة المرور *"}),A.jsx("input",{type:"password",value:w.password,onChange:U=>R(L=>({...L,password:U.target.value})),required:!0})]})]}),A.jsxs("div",{className:"form-row",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"الاسم الكامل *"}),A.jsx("input",{type:"text",value:w.fullName,onChange:U=>R(L=>({...L,fullName:U.target.value})),required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"البريد الإلكتروني"}),A.jsx("input",{type:"email",value:w.email,onChange:U=>R(L=>({...L,email:U.target.value}))})]})]}),A.jsxs("div",{className:"form-row",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"نوع الحساب *"}),A.jsxs("select",{value:w.role,onChange:U=>R(L=>({...L,role:U.target.value})),children:[A.jsx("option",{value:"viewer",children:"مشاهد"}),A.jsx("option",{value:"admin",children:"مدير"})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"حالة الحساب"}),A.jsxs("div",{className:"checkbox-group",children:[A.jsx("input",{type:"checkbox",id:"isActive",checked:w.isActive,onChange:U=>R(L=>({...L,isActive:U.target.checked}))}),A.jsx("label",{htmlFor:"isActive",children:"حساب مفعل"})]})]})]}),A.jsxs("div",{className:"permissions-section",children:[A.jsx("h3",{children:"الصلاحيات"}),A.jsxs("div",{className:"permissions-grid",children:[A.jsxs("div",{className:"permission-item",children:[A.jsx("input",{type:"checkbox",id:"canView",checked:w.permissions.canView,onChange:U=>$("canView",U.target.checked)}),A.jsx("label",{htmlFor:"canView",children:"👁️ مشاهدة المحتوى"})]}),A.jsxs("div",{className:"permission-item",children:[A.jsx("input",{type:"checkbox",id:"canEdit",checked:w.permissions.canEdit,onChange:U=>$("canEdit",U.target.checked)}),A.jsx("label",{htmlFor:"canEdit",children:"✏️ تعديل المحتوى"})]}),A.jsxs("div",{className:"permission-item",children:[A.jsx("input",{type:"checkbox",id:"canDelete",checked:w.permissions.canDelete,onChange:U=>$("canDelete",U.target.checked)}),A.jsx("label",{htmlFor:"canDelete",children:"🗑️ حذف المحتوى"})]}),A.jsxs("div",{className:"permission-item",children:[A.jsx("input",{type:"checkbox",id:"canExportPDF",checked:w.permissions.canExportPDF,onChange:U=>$("canExportPDF",U.target.checked)}),A.jsx("label",{htmlFor:"canExportPDF",children:"📄 تصدير PDF"})]}),A.jsxs("div",{className:"permission-item",children:[A.jsx("input",{type:"checkbox",id:"canAccessSettings",checked:w.permissions.canAccessSettings,onChange:U=>$("canAccessSettings",U.target.checked)}),A.jsx("label",{htmlFor:"canAccessSettings",children:"⚙️ الوصول للإعدادات"})]}),A.jsxs("div",{className:"permission-item",children:[A.jsx("input",{type:"checkbox",id:"canCreateReports",checked:w.permissions.canCreateReports,onChange:U=>$("canCreateReports",U.target.checked)}),A.jsx("label",{htmlFor:"canCreateReports",children:"📝 إنشاء التقارير"})]}),A.jsxs("div",{className:"permission-item",children:[A.jsx("input",{type:"checkbox",id:"canEditReports",checked:w.permissions.canEditReports,onChange:U=>$("canEditReports",U.target.checked)}),A.jsx("label",{htmlFor:"canEditReports",children:"📝 تعديل التقارير"})]}),A.jsxs("div",{className:"permission-item",children:[A.jsx("input",{type:"checkbox",id:"canDeleteReports",checked:w.permissions.canDeleteReports,onChange:U=>$("canDeleteReports",U.target.checked)}),A.jsx("label",{htmlFor:"canDeleteReports",children:"🗑️ حذف التقارير"})]}),A.jsxs("div",{className:"permission-item",children:[A.jsx("input",{type:"checkbox",id:"canCreateActivities",checked:w.permissions.canCreateActivities,onChange:U=>$("canCreateActivities",U.target.checked)}),A.jsx("label",{htmlFor:"canCreateActivities",children:"🎭 إنشاء الأنشطة"})]}),A.jsxs("div",{className:"permission-item",children:[A.jsx("input",{type:"checkbox",id:"canEditActivities",checked:w.permissions.canEditActivities,onChange:U=>$("canEditActivities",U.target.checked)}),A.jsx("label",{htmlFor:"canEditActivities",children:"🎭 تعديل الأنشطة"})]}),A.jsxs("div",{className:"permission-item",children:[A.jsx("input",{type:"checkbox",id:"canDeleteActivities",checked:w.permissions.canDeleteActivities,onChange:U=>$("canDeleteActivities",U.target.checked)}),A.jsx("label",{htmlFor:"canDeleteActivities",children:"🗑️ حذف الأنشطة"})]}),A.jsxs("div",{className:"permission-item",children:[A.jsx("input",{type:"checkbox",id:"canManageUsers",checked:w.permissions.canManageUsers,onChange:U=>$("canManageUsers",U.target.checked)}),A.jsx("label",{htmlFor:"canManageUsers",children:"👥 إدارة المستخدمين"})]}),A.jsxs("div",{className:"permission-item",children:[A.jsx("input",{type:"checkbox",id:"canAccessArchive",checked:w.permissions.canAccessArchive,onChange:U=>$("canAccessArchive",U.target.checked)}),A.jsx("label",{htmlFor:"canAccessArchive",children:"📁 الوصول للأرشيف"})]}),A.jsxs("div",{className:"permission-item",children:[A.jsx("input",{type:"checkbox",id:"canModifyProgram",checked:w.permissions.canModifyProgram,onChange:U=>$("canModifyProgram",U.target.checked)}),A.jsx("label",{htmlFor:"canModifyProgram",children:"📅 تعديل البرنامج"})]}),A.jsxs("div",{className:"permission-item",children:[A.jsx("input",{type:"checkbox",id:"canAccessAnalytics",checked:w.permissions.canAccessAnalytics,onChange:U=>$("canAccessAnalytics",U.target.checked)}),A.jsx("label",{htmlFor:"canAccessAnalytics",children:"📊 الوصول للإحصائيات"})]})]})]}),A.jsxs("div",{className:"form-actions",children:[A.jsx("button",{type:"submit",disabled:r,className:"action-btn primary",children:r?"⏳ جاري الحفظ...":b?"💾 تحديث":"➕ إضافة"}),A.jsx("button",{type:"button",onClick:I,className:"action-btn secondary",children:"❌ إلغاء"})]})]})]})})]})},W6=()=>{const n=Ql(),[e,t]=pe.useState({username:"",password:""}),[r,i]=pe.useState(!1),[o,c]=pe.useState("");pe.useEffect(()=>{os.initializeDefaultAdmin(),os.getCurrentUser()&&(os.refreshCurrentUser(),n("/"))},[n]);const d=async p=>{p.preventDefault(),i(!0),c("");try{await os.login(e.username,e.password)&&(os.refreshCurrentUser(),n("/"))}catch(h){c(h.message||"حدث خطأ في تسجيل الدخول")}finally{i(!1)}},u=p=>{const{name:h,value:b}=p.target;t(x=>({...x,[h]:b}))};return A.jsx("div",{className:"login-container",dir:"rtl",children:A.jsxs("div",{className:"login-card",children:[A.jsx("div",{className:"login-header",children:A.jsxs("div",{className:"logo",children:[A.jsx("h1",{children:"🎭"}),A.jsx("h2",{children:"منصة الأنشطة المسرحية"}),A.jsx("p",{children:"مجموعة مدارس العمران"})]})}),A.jsxs("form",{onSubmit:d,className:"login-form",children:[A.jsx("h3",{children:"تسجيل الدخول"}),o&&A.jsxs("div",{className:"error-message",children:["❌ ",o]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"username",children:"اسم المستخدم"}),A.jsx("input",{type:"text",id:"username",name:"username",value:e.username,onChange:u,required:!0,placeholder:"أدخل اسم المستخدم"})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"password",children:"كلمة المرور"}),A.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:u,required:!0,placeholder:"أدخل كلمة المرور"})]}),A.jsx("button",{type:"submit",disabled:r,className:"login-btn",children:r?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"loading-spinner"}),"جاري تسجيل الدخول..."]}):A.jsx(A.Fragment,{children:"🔑 تسجيل الدخول"})})]}),A.jsx("div",{className:"login-footer",children:A.jsxs("div",{className:"default-credentials",children:[A.jsx("h4",{children:"🔑 الحسابات المتاحة:"}),A.jsxs("div",{className:"credentials-section",children:[A.jsx("h5",{children:"👑 المدير:"}),A.jsxs("p",{children:[A.jsx("strong",{children:"المستخدم:"})," admin | ",A.jsx("strong",{children:"كلمة المرور:"})," admin123"]})]}),A.jsxs("div",{className:"credentials-section",children:[A.jsx("h5",{children:"👥 الإدارة (مشاهدة + PDF فقط):"}),A.jsxs("p",{children:[A.jsx("strong",{children:"المستخدم:"})," manager1 | ",A.jsx("strong",{children:"كلمة المرور:"})," 123456"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"المستخدم:"})," manager2 | ",A.jsx("strong",{children:"كلمة المرور:"})," 123456"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"المستخدم:"})," supervisor | ",A.jsx("strong",{children:"كلمة المرور:"})," 123456"]})]})]})}),A.jsxs("div",{className:"supervisor-info",children:[A.jsxs("p",{children:["تحت إشراف: ",A.jsx("strong",{children:"الأستاذ مصطفى لعرعري"})]}),A.jsx("p",{children:"© 2025 جميع الحقوق محفوظة"})]})]})})},Y6=()=>{const[n,e]=pe.useState(!1),[t,r]=pe.useState(null),[i,o]=pe.useState(null),c=[{id:1,name:"عيد المولد النبوي الشريف",startDate:"2025-09-05",endDate:"2025-09-06",duration:2,type:"دينية",description:"عطلة دينية بمناسبة ذكرى المولد النبوي الشريف"},{id:2,name:"العطلة البينية الأولى",startDate:"2025-10-19",endDate:"2025-10-26",duration:8,type:"بينية",description:"عطلة بينية بعد 6 أسابيع من الدراسة"},{id:3,name:"ذكرى المسيرة الخضراء",startDate:"2025-11-06",endDate:"2025-11-06",duration:1,type:"وطنية",description:"عطلة وطنية بمناسبة ذكرى المسيرة الخضراء"},{id:4,name:"عيد الاستقلال",startDate:"2025-11-18",endDate:"2025-11-18",duration:1,type:"وطنية",description:"عطلة وطنية بمناسبة عيد الاستقلال"},{id:5,name:"العطلة البينية الثانية",startDate:"2025-12-21",endDate:"2025-12-28",duration:8,type:"بينية",description:"عطلة بينية في فصل الشتاء"},{id:6,name:"رأس السنة الميلادية",startDate:"2026-01-01",endDate:"2026-01-01",duration:1,type:"وطنية",description:"عطلة رأس السنة الميلادية"},{id:7,name:"ذكرى تقديم وثيقة الاستقلال",startDate:"2026-01-11",endDate:"2026-01-11",duration:1,type:"وطنية",description:"عطلة وطنية بمناسبة ذكرى تقديم وثيقة الاستقلال"},{id:8,name:"رأس السنة الأمازيغية",startDate:"2026-01-14",endDate:"2026-01-14",duration:1,type:"وطنية",description:"عطلة رسمية بمناسبة رأس السنة الأمازيغية"},{id:9,name:"عطلة منتصف السنة الدراسية",startDate:"2026-01-25",endDate:"2026-02-01",duration:8,type:"منتصف السنة",description:"عطلة منتصف السنة الدراسية"},{id:10,name:"العطلة البينية الثالثة (الربيع)",startDate:"2026-03-14",endDate:"2026-03-21",duration:8,type:"بينية",description:"عطلة بينية في فصل الربيع"},{id:11,name:"عيد الفطر",startDate:"2026-03-30",endDate:"2026-04-02",duration:4,type:"دينية",description:"عطلة دينية بمناسبة عيد الفطر المبارك"},{id:12,name:"عيد الشغل",startDate:"2026-05-01",endDate:"2026-05-01",duration:1,type:"وطنية",description:"عطلة عيد الشغل العالمي"},{id:13,name:"العطلة البينية الرابعة",startDate:"2026-05-16",endDate:"2026-05-23",duration:8,type:"بينية",description:"العطلة البينية الأخيرة قبل نهاية السنة"},{id:14,name:"عيد الأضحى",startDate:"2026-06-06",endDate:"2026-06-09",duration:4,type:"دينية",description:"عطلة دينية بمناسبة عيد الأضحى المبارك"},{id:15,name:"فاتح محرم",startDate:"2026-06-27",endDate:"2026-06-27",duration:1,type:"دينية",description:"عطلة رأس السنة الهجرية"}],[d,u]=Z1("theatre-holidays",c),p=(z,$)=>{o({message:z,type:$})},h=()=>{o(null)},b=()=>{e(!n),r(null)},x=z=>{r(z)},w=z=>{const $=d.map(U=>U.id===z.id?z:U);u($),r(null),p("تم حفظ التعديل بنجاح!","success")},R=z=>{const $=d.find(U=>U.id===z);if(window.confirm(`هل أنت متأكد من حذف عطلة "${$?.name}"؟`)){const U=d.filter(L=>L.id!==z);u(U),p("تم حذف العطلة!","warning")}},F=z=>{const $=new Date(z),U=["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],L=["يناير","فبراير","مارس","أبريل","ماي","يونيو","يوليوز","غشت","شتنبر","أكتوبر","نونبر","دجنبر"],G=U[$.getDay()],X=$.getDate(),P=L[$.getMonth()],H=$.getFullYear();return`${G} ${X} ${P} ${H}`},Q=z=>{switch(z){case"دينية":return"#10b981";case"وطنية":return"#3b82f6";case"بينية":return"#f59e0b";case"منتصف السنة":return"#ef4444";default:return"#6b7280"}},I=()=>d.reduce((z,$)=>z+$.duration,0),T=()=>d.reduce(($,U)=>($[U.type]=($[U.type]||0)+1,$),{}),_=()=>{if(confirm("هل تريد تحديث جميع تواريخ العطل للسنة الدراسية القادمة (2026-2027)؟")){const z=d.map($=>{const U=new Date($.startDate),L=new Date($.endDate);return U.setFullYear(U.getFullYear()+1),L.setFullYear(L.getFullYear()+1),{...$,startDate:U.toISOString().split("T")[0],endDate:L.toISOString().split("T")[0]}});u(z),p("تم تحديث جميع التواريخ للسنة الدراسية 2026-2027","success")}},O=()=>{confirm("هل تريد إعادة تعيين العطل إلى القيم الافتراضية؟")&&(u(c),p("تم إعادة تعيين العطل إلى القيم الافتراضية","success"))};return A.jsxs("div",{className:"page",children:[A.jsx("div",{className:"page-header",children:A.jsxs("div",{className:"container",children:[A.jsx("h1",{children:"📅 العطل المدرسية 2025-2026"}),A.jsx("p",{children:"لائحة العطل المدرسية الرسمية للموسم الدراسي 2025-2026"}),A.jsxs("div",{style:{background:"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)",color:"white",padding:"1rem",borderRadius:"8px",marginTop:"1rem",textAlign:"center"},children:[A.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.1rem"},children:"📋 المقرر الوزاري الرسمي"}),A.jsx("p",{style:{margin:"0 0 1rem 0",fontSize:"0.9rem",opacity:"0.9"},children:"مقرر تنظيم السنة الدراسية 2025-2026 - وزارة التربية الوطنية والتعليم الأولي والرياضة"}),A.jsx("a",{href:"https://moutamadris.ma/%D9%85%D9%82%D8%B1%D8%B1-%D8%AA%D9%86%D8%B8%D9%8A%D9%85-%D8%A7%D9%84%D8%B3%D9%86%D8%A9-%D8%A7%D9%84%D8%AF%D8%B1%D8%A7%D8%B3%D9%8A%D8%A9/",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",background:"rgba(255, 255, 255, 0.2)",color:"white",padding:"0.5rem 1rem",borderRadius:"6px",textDecoration:"none",fontWeight:"600",transition:"all 0.2s ease",border:"1px solid rgba(255, 255, 255, 0.3)"},onMouseOver:z=>{z.currentTarget.style.background="rgba(255, 255, 255, 0.3)"},onMouseOut:z=>{z.currentTarget.style.background="rgba(255, 255, 255, 0.2)"},children:"📄 تحميل المقرر الرسمي (PDF)"})]})]})}),A.jsxs("div",{className:"container",children:[A.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem",padding:"1rem",background:"#f8fafd",borderRadius:"8px"},children:[A.jsxs("div",{style:{textAlign:"center",padding:"1rem",background:"white",borderRadius:"6px"},children:[A.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"#1e40af"},children:"📊 إجمالي أيام العطل"}),A.jsxs("p",{style:{margin:0,fontSize:"2rem",fontWeight:"bold",color:"#059669"},children:[I()," يوم"]})]}),A.jsxs("div",{style:{textAlign:"center",padding:"1rem",background:"white",borderRadius:"6px"},children:[A.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"#1e40af"},children:"🎯 عدد العطل"}),A.jsxs("p",{style:{margin:0,fontSize:"2rem",fontWeight:"bold",color:"#7c3aed"},children:[d.length," عطلة"]})]}),A.jsxs("div",{style:{textAlign:"center",padding:"1rem",background:"white",borderRadius:"6px"},children:[A.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:"#1e40af"},children:"📅 العطل حسب النوع"}),A.jsx("div",{style:{fontSize:"0.9rem"},children:Object.entries(T()).map(([z,$])=>A.jsxs("div",{style:{margin:"0.25rem 0"},children:[A.jsx("span",{style:{color:Q(z)},children:"●"})," ",z,": ",$]},z))})]})]}),A.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",justifyContent:"center",marginBottom:"2rem"},children:[A.jsx("button",{onClick:b,style:{padding:"0.75rem 1.5rem",background:n?"#ef4444":"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},children:n?"❌ إنهاء التعديل":"✏️ تعديل العطل"}),A.jsx("button",{onClick:_,style:{padding:"0.75rem 1.5rem",background:"#f59e0b",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},title:"تحديث جميع التواريخ للسنة الدراسية القادمة",children:"🔄 تحديث للسنة القادمة"}),A.jsx("button",{onClick:O,style:{padding:"0.75rem 1.5rem",background:"#dc2626",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},title:"إعادة تعيين العطل إلى القيم الافتراضية",children:"🔄 إعادة تعيين"})]}),A.jsx("div",{className:"holidays-grid",children:d.map(z=>A.jsx(X6,{holiday:z,isEditing:t===z.id,isEditMode:n,onEdit:()=>x(z.id),onSave:w,onCancel:()=>r(null),onDelete:()=>R(z.id),formatDate:F,getTypeColor:Q},z.id))})]}),i&&A.jsx(Bc,{message:i.message,type:i.type,onClose:h})]})},X6=({holiday:n,isEditing:e,isEditMode:t,onEdit:r,onSave:i,onCancel:o,onDelete:c,formatDate:d,getTypeColor:u})=>{const[p,h]=pe.useState(n),b=x=>{x.preventDefault();const w=new Date(p.startDate),R=new Date(p.endDate),F=Math.ceil((R.getTime()-w.getTime())/(1e3*60*60*24))+1;i({...p,duration:F})};return e?A.jsx("div",{className:"holiday-card editing",children:A.jsxs("form",{onSubmit:b,className:"holiday-edit-form",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"اسم العطلة:"}),A.jsx("input",{type:"text",value:p.name,onChange:x=>h({...p,name:x.target.value}),required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"تاريخ البداية:"}),A.jsx("input",{type:"date",value:p.startDate,onChange:x=>h({...p,startDate:x.target.value}),required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"تاريخ النهاية:"}),A.jsx("input",{type:"date",value:p.endDate,onChange:x=>h({...p,endDate:x.target.value}),required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"نوع العطلة:"}),A.jsxs("select",{value:p.type,onChange:x=>h({...p,type:x.target.value}),required:!0,children:[A.jsx("option",{value:"دينية",children:"دينية"}),A.jsx("option",{value:"وطنية",children:"وطنية"}),A.jsx("option",{value:"بينية",children:"بينية"}),A.jsx("option",{value:"منتصف السنة",children:"منتصف السنة"})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"الوصف:"}),A.jsx("textarea",{value:p.description,onChange:x=>h({...p,description:x.target.value}),rows:3,required:!0})]}),A.jsxs("div",{className:"form-actions",children:[A.jsx("button",{type:"submit",className:"btn btn-primary",children:"حفظ"}),A.jsx("button",{type:"button",onClick:o,className:"btn btn-secondary",children:"إلغاء"})]})]})}):A.jsxs("div",{className:"holiday-card",children:[A.jsxs("div",{className:"holiday-header",children:[A.jsx("h3",{className:"holiday-name",children:n.name}),A.jsx("span",{className:"holiday-type",style:{backgroundColor:u(n.type)},children:n.type})]}),A.jsxs("div",{className:"holiday-dates",children:[A.jsxs("div",{className:"date-info",children:[A.jsx("span",{className:"date-label",children:"من:"}),A.jsx("span",{className:"date-value",children:d(n.startDate)})]}),A.jsxs("div",{className:"date-info",children:[A.jsx("span",{className:"date-label",children:"إلى:"}),A.jsx("span",{className:"date-value",children:d(n.endDate)})]}),A.jsx("div",{className:"duration-info",children:A.jsxs("span",{className:"duration-badge",children:[n.duration," يوم"]})})]}),A.jsx("p",{className:"holiday-description",children:n.description}),t&&A.jsxs("div",{className:"holiday-actions",children:[A.jsx("button",{onClick:r,className:"btn btn-small btn-primary",title:"تعديل",children:"✏️"}),A.jsx("button",{onClick:c,className:"btn btn-small btn-danger",title:"حذف",children:"🗑️"})]})]})},J6=()=>{const[n,e]=pe.useState(""),[t]=pe.useState("الكل"),[r]=pe.useState("الكل"),o=[{date:"1 يناير",name:"رأس السنة الميلادية",type:"وطني",description:"بداية السنة الميلادية الجديدة - عطلة رسمية",category:"الأعياد الوطنية"},{date:"11 يناير",name:"ذكرى تقديم وثيقة الاستقلال",type:"وطني",description:"تقديم وثيقة المطالبة بالاستقلال 1944 - عطلة رسمية",category:"الأعياد الوطنية"},{date:"1 ماي",name:"عيد الشغل",type:"عالمي",description:"اليوم العالمي للعمال - عطلة رسمية",category:"الأعياد الوطنية"},{date:"30 يوليوز",name:"عيد العرش المجيد",type:"وطني",description:"ذكرى تولي جلالة الملك محمد السادس العرش - عطلة رسمية",category:"الأعياد الوطنية"},{date:"14 غشت",name:"ذكرى وادي المخازن",type:"وطني",description:"انتصار المغاربة في معركة وادي المخازن 1578 - عطلة رسمية",category:"الأعياد الوطنية"},{date:"20 غشت",name:"ذكرى ثورة الملك والشعب",type:"وطني",description:"ذكرى نفي الملك محمد الخامس ومقاومة الشعب المغربي - عطلة رسمية",category:"الأعياد الوطنية"},{date:"21 غشت",name:"عيد الشباب",type:"وطني",description:"عيد ميلاد جلالة الملك محمد السادس - عطلة رسمية",category:"الأعياد الوطنية"},{date:"6 نوفمبر",name:"ذكرى المسيرة الخضراء",type:"وطني",description:"المسيرة السلمية لاسترداد الصحراء المغربية 1975 - عطلة رسمية",category:"الأعياد الوطنية"},{date:"18 نوفمبر",name:"عيد الاستقلال",type:"وطني",description:"ذكرى استقلال المغرب 1956 - عطلة رسمية",category:"الأعياد الوطنية"},{date:"13 يناير",name:"رأس السنة الأمازيغية",type:"وطني",description:"رأس السنة الأمازيغية (يناير) - عطلة رسمية منذ 2024",category:"الأعياد الوطنية"},{date:"8 مارس",name:"اليوم العالمي للمرأة",type:"عالمي",description:"تكريم المرأة المغربية وإنجازاتها في جميع المجالات",category:"القيم الاجتماعية"},{date:"2 مارس",name:"عيد العرش للملك الحسن الثاني",type:"وطني",description:"ذكرى تولي الملك الحسن الثاني العرش 1961",category:"التاريخ المغربي"},{date:"23 مايو",name:"ذكرى عودة الملك محمد الخامس",type:"وطني",description:"عودة الملك محمد الخامس من المنفى 1955",category:"التاريخ المغربي"},{date:"متغير",name:"رأس السنة الهجرية",type:"ديني",description:"بداية السنة الهجرية الجديدة - عطلة رسمية",category:"الأعياد الدينية"},{date:"متغير",name:"عاشوراء",type:"ديني",description:"اليوم العاشر من شهر محرم - عطلة رسمية",category:"الأعياد الدينية"},{date:"متغير",name:"المولد النبوي الشريف",type:"ديني",description:"ذكرى مولد الرسول صلى الله عليه وسلم - عطلة رسمية",category:"الأعياد الدينية"},{date:"متغير",name:"ليلة الإسراء والمعراج",type:"ديني",description:"ذكرى رحلة الإسراء والمعراج - مناسبة دينية",category:"الأعياد الدينية"},{date:"متغير",name:"عيد الفطر المبارك",type:"ديني",description:"عيد انتهاء شهر رمضان المبارك - عطلة رسمية",category:"الأعياد الدينية"},{date:"متغير",name:"عيد الأضحى المبارك",type:"ديني",description:"عيد الحج الأكبر - عطلة رسمية",category:"الأعياد الدينية"},{date:"4 فبراير",name:"اليوم الوطني للسلامة الطرقية",type:"وطني",description:"التوعية بأهمية السلامة الطرقية والوقاية من حوادث السير",category:"أيام التوعية"},{date:"21 فبراير",name:"اليوم العالمي للغة الأم",type:"عالمي",description:"تعزيز التنوع اللغوي والثقافي والحفاظ على اللغات الأم",category:"التربية والثقافة"},{date:"8 مارس",name:"اليوم العالمي للمرأة",type:"عالمي",description:"الاحتفاء بإنجازات المرأة وتعزيز المساواة بين الجنسين",category:"حقوق الإنسان"},{date:"21 مارس",name:"اليوم العالمي للشعر",type:"عالمي",description:"تعزيز الشعر كفن أدبي وتشجيع الإبداع الشعري",category:"التربية والثقافة"},{date:"22 مارس",name:"اليوم العالمي للماء",type:"عالمي",description:"التوعية بأهمية المياه والحفاظ على الموارد المائية",category:"البيئة والتنمية المستدامة"},{date:"2 أبريل",name:"اليوم العالمي لكتاب الطفل",type:"عالمي",description:"تشجيع القراءة لدى الأطفال وتعزيز أدب الطفل",category:"التربية والثقافة"},{date:"7 أبريل",name:"اليوم العالمي للصحة",type:"عالمي",description:"التوعية الصحية وتعزيز الصحة العامة",category:"الصحة والسلامة"},{date:"23 أبريل",name:"اليوم العالمي للكتاب وحقوق المؤلف",type:"عالمي",description:"تعزيز القراءة والكتابة وحماية حقوق المؤلفين",category:"التربية والثقافة"},{date:"15 مايو",name:"اليوم العالمي للأسرة",type:"عالمي",description:"تعزيز قيم الأسرة وأهميتها في المجتمع",category:"القيم الاجتماعية"},{date:"31 مايو",name:"اليوم العالمي بدون تدخين",type:"عالمي",description:"التوعية بأضرار التدخين وتشجيع الإقلاع عنه",category:"الصحة والسلامة"},{date:"5 يونيو",name:"اليوم العالمي للبيئة",type:"عالمي",description:"حماية البيئة والتنمية المستدامة والوعي البيئي",category:"البيئة والتنمية المستدامة"},{date:"26 يونيو",name:"اليوم العالمي لمكافحة المخدرات",type:"عالمي",description:"التوعية بأخطار المخدرات والوقاية من الإدمان",category:"أيام التوعية"},{date:"8 شتنبر",name:"اليوم العالمي لمحو الأمية",type:"عالمي",description:"تعزيز التعليم ومحو الأمية وتطوير المهارات",category:"التربية والثقافة"},{date:"5 أكتوبر",name:"اليوم العالمي للمدرس",type:"عالمي",description:"تقدير دور المعلمين والمدرسين في التربية والتعليم وبناء مستقبل الأجيال",category:"التربية والثقافة"},{date:"16 أكتوبر",name:"اليوم العالمي للغذاء",type:"عالمي",description:"مكافحة الجوع وسوء التغذية وتعزيز الأمن الغذائي",category:"الصحة والسلامة"},{date:"24 أكتوبر",name:"يوم الأمم المتحدة",type:"عالمي",description:"ذكرى تأسيس الأمم المتحدة وتعزيز السلام العالمي",category:"حقوق الإنسان"},{date:"20 نوفمبر",name:"اليوم العالمي لحقوق الطفل",type:"عالمي",description:"حماية حقوق الأطفال وتعزيز رفاهيتهم",category:"حقوق الإنسان"},{date:"25 نوفمبر",name:"اليوم العالمي للقضاء على العنف ضد المرأة",type:"عالمي",description:"مناهضة العنف ضد المرأة وتعزيز حقوقها",category:"حقوق الإنسان"},{date:"1 دجنبر",name:"اليوم العالمي لمكافحة الإيدز",type:"عالمي",description:"التوعية بمرض الإيدز والوقاية منه",category:"الصحة والسلامة"},{date:"3 دجنبر",name:"اليوم العالمي للأشخاص ذوي الإعاقة",type:"عالمي",description:"تعزيز حقوق ذوي الإعاقة ودمجهم في المجتمع",category:"حقوق الإنسان"},{date:"10 دجنبر",name:"اليوم العالمي لحقوق الإنسان",type:"عالمي",description:"تعزيز حقوق الإنسان والكرامة الإنسانية",category:"حقوق الإنسان"},{date:"18 دجنبر",name:"اليوم العالمي للغة العربية",type:"عالمي",description:"الاحتفاء باللغة العربية وتعزيز مكانتها العالمية",category:"التربية والثقافة"},{date:"24 يناير",name:"اليوم العالمي للتعليم",type:"عالمي",description:"تعزيز التعليم الجيد والشامل للجميع",category:"التربية والثقافة"},{date:"21 فبراير",name:"اليوم العالمي للغة الأم",type:"عالمي",description:"تعزيز التنوع اللغوي والثقافي",category:"التربية والثقافة"},{date:"20 مارس",name:"اليوم العالمي للسعادة",type:"عالمي",description:"تعزيز السعادة والرفاهية النفسية",category:"القيم الاجتماعية"},{date:"21 مارس",name:"اليوم العالمي للقضاء على التمييز العنصري",type:"عالمي",description:"مكافحة العنصرية وتعزيز التسامح",category:"حقوق الإنسان"},{date:"12 أغسطس",name:"اليوم العالمي للشباب",type:"عالمي",description:"تمكين الشباب ودورهم في التنمية",category:"القيم الاجتماعية"},{date:"21 سبتمبر",name:"اليوم العالمي للسلام",type:"عالمي",description:"تعزيز السلام والأمن في العالم",category:"القيم الاجتماعية"},{date:"16 نوفمبر",name:"اليوم العالمي للتسامح",type:"عالمي",description:"تعزيز قيم التسامح والتعايش",category:"القيم الاجتماعية"}].filter(p=>{const h=p.name.toLowerCase().includes(n.toLowerCase())||p.description.toLowerCase().includes(n.toLowerCase()),b=t==="الكل"||p.type===t,x=r==="الكل"||p.category===r;return h&&b&&x}),d=(()=>{const p=["شتنبر","أكتوبر","نوفمبر","دجنبر","يناير","فبراير","مارس","أبريل","ماي","يونيو","يوليوز","غشت"],h={};return p.forEach(b=>{h[b]=o.filter(x=>x.date.includes(b)||b==="متغير"&&x.date==="متغير")}),h["المناسبات الدينية"]=o.filter(b=>b.date==="متغير"),h})(),u=p=>{switch(p){case"وطني":return"linear-gradient(135deg, #1e40af 0%, #1e3a8a 100%)";case"ديني":return"linear-gradient(135deg, #059669 0%, #047857 100%)";case"عالمي":return"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)";default:return"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)"}};return A.jsxs("div",{className:"page",children:[A.jsx("div",{className:"page-header",children:A.jsxs("div",{className:"container",children:[A.jsx("h1",{children:"🇲🇦 الأيام الوطنية والدينية والعالمية"}),A.jsx("p",{children:"المناسبات المحتفى بها في المؤسسات التعليمية المغربية"})]})}),A.jsx("div",{className:"container",children:A.jsxs("div",{className:"national-days-container",children:[A.jsx("div",{className:"filters-section",children:A.jsx("div",{className:"search-filter",children:A.jsx("input",{type:"text",placeholder:"🔍 ابحث عن يوم أو مناسبة...",value:n,onChange:p=>e(p.target.value),className:"search-input"})})}),A.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"2rem",marginBottom:"2rem"},children:Object.entries(d).map(([p,h])=>A.jsxs("div",{style:{background:"white",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",overflow:"hidden",border:"1px solid #e5e7eb"},children:[A.jsxs("div",{style:{background:"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)",color:"white",padding:"1.5rem",textAlign:"center"},children:[A.jsxs("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"bold"},children:["📅 ",p]}),A.jsxs("p",{style:{margin:"0.5rem 0 0 0",opacity:.9,fontSize:"0.9rem"},children:[h.length," مناسبة"]})]}),A.jsx("div",{style:{padding:"1.5rem"},children:h.length>0?A.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:h.map((b,x)=>A.jsxs("div",{style:{padding:"1rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0",transition:"all 0.2s ease"},onMouseOver:w=>{w.currentTarget.style.background="#f1f5f9",w.currentTarget.style.transform="translateY(-2px)",w.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.1)"},onMouseOut:w=>{w.currentTarget.style.background="#f8fafc",w.currentTarget.style.transform="translateY(0)",w.currentTarget.style.boxShadow="none"},children:[A.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},children:[A.jsx("span",{style:{background:u(b.type),color:"white",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"600",marginLeft:"0.5rem"},children:b.type}),A.jsx("span",{style:{background:"#e5e7eb",color:"#374151",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"500"},children:b.date})]}),A.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.1rem",fontWeight:"bold",color:"#1f2937"},children:b.name}),A.jsx("p",{style:{margin:"0 0 0.5rem 0",fontSize:"0.9rem",color:"#6b7280",lineHeight:"1.5"},children:b.description}),A.jsxs("div",{style:{fontSize:"0.8rem",color:"#9ca3af",fontStyle:"italic"},children:["📂 ",b.category]})]},x))}):A.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#9ca3af"},children:[A.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"📭"}),A.jsx("p",{style:{margin:0,fontSize:"1rem"},children:"لا توجد مناسبات في هذا الشهر"})]})})]},p))}),o.length===0&&A.jsxs("div",{className:"no-results",children:[A.jsx("h3",{children:"لا توجد نتائج"}),A.jsx("p",{children:"لم يتم العثور على أيام تطابق البحث أو التصفية المحددة"})]}),A.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"2rem",flexWrap:"wrap"},children:[A.jsx("button",{onClick:()=>alert("ميزة إضافة مناسبة جديدة ستكون متاحة قريباً!"),style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #059669 0%, #047857 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"transform 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseOver:p=>p.currentTarget.style.transform="translateY(-2px)",onMouseOut:p=>p.currentTarget.style.transform="translateY(0)",children:"➕ إضافة مناسبة جديدة"}),A.jsx("button",{onClick:()=>alert("ميزة تصدير التقويم ستكون متاحة قريباً!"),style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #1e40af 0%, #1e3a8a 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"transform 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseOver:p=>p.currentTarget.style.transform="translateY(-2px)",onMouseOut:p=>p.currentTarget.style.transform="translateY(0)",children:"📅 تصدير للتقويم"})]}),A.jsx("div",{className:"print-section",style:{marginTop:"1rem"},children:A.jsx(Xy,{data:o,title:"الأيام الوطنية والدينية والعالمية",type:"activities"})})]})})]})},Z6=({isOpen:n,onClose:e,onSuccess:t})=>{const[r,i]=pe.useState(!0),[o,c]=pe.useState({email:"",password:"",displayName:"",role:"teacher"}),[d,u]=pe.useState(!1),[p,h]=pe.useState(""),b=async R=>{R.preventDefault(),u(!0),h("");try{r?await cu.signInWithEmail(o.email,o.password):await cu.createAccount(o.email,o.password,o.displayName,o.role),t(),e()}catch(F){h(w(F.code))}finally{u(!1)}},x=async()=>{u(!0),h("");try{await cu.signInWithGoogle(),t(),e()}catch(R){h(w(R.code))}finally{u(!1)}},w=R=>{switch(R){case"auth/user-not-found":return"المستخدم غير موجود";case"auth/wrong-password":return"كلمة المرور خاطئة";case"auth/email-already-in-use":return"البريد الإلكتروني مستخدم بالفعل";case"auth/weak-password":return"كلمة المرور ضعيفة";case"auth/invalid-email":return"البريد الإلكتروني غير صحيح";default:return"حدث خطأ غير متوقع"}};return n?A.jsx("div",{className:"auth-modal-overlay",onClick:e,children:A.jsxs("div",{className:"auth-modal",onClick:R=>R.stopPropagation(),children:[A.jsxs("div",{className:"auth-modal-header",children:[A.jsx("h2",{children:r?"🔐 تسجيل الدخول":"📝 إنشاء حساب جديد"}),A.jsx("button",{className:"close-btn",onClick:e,children:"×"})]}),A.jsxs("div",{className:"auth-modal-body",children:[p&&A.jsxs("div",{className:"error-message",children:["⚠️ ",p]}),A.jsxs("form",{onSubmit:b,className:"auth-form",children:[!r&&A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"الاسم الكامل:"}),A.jsx("input",{type:"text",value:o.displayName,onChange:R=>c({...o,displayName:R.target.value}),placeholder:"أدخل اسمك الكامل",required:!r})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"البريد الإلكتروني:"}),A.jsx("input",{type:"email",value:o.email,onChange:R=>c({...o,email:R.target.value}),placeholder:"example@email.com",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"كلمة المرور:"}),A.jsx("input",{type:"password",value:o.password,onChange:R=>c({...o,password:R.target.value}),placeholder:"أدخل كلمة المرور",required:!0})]}),!r&&A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"الدور:"}),A.jsxs("select",{value:o.role,onChange:R=>c({...o,role:R.target.value}),children:[A.jsx("option",{value:"teacher",children:"مدرس"}),A.jsx("option",{value:"student",children:"طالب"}),A.jsx("option",{value:"admin",children:"مدير"})]})]}),A.jsx("button",{type:"submit",className:"auth-submit-btn",disabled:d,children:d?"⏳ جاري المعالجة...":r?"🔓 دخول":"✅ إنشاء حساب"})]}),A.jsx("div",{className:"auth-divider",children:A.jsx("span",{children:"أو"})}),A.jsx("button",{className:"google-signin-btn",onClick:x,disabled:d,children:"🌐 تسجيل الدخول بـ Google"}),A.jsx("div",{className:"auth-switch",children:r?A.jsxs("p",{children:["ليس لديك حساب؟",A.jsx("button",{type:"button",className:"switch-btn",onClick:()=>i(!1),children:"إنشاء حساب جديد"})]}):A.jsxs("p",{children:["لديك حساب بالفعل؟",A.jsx("button",{type:"button",className:"switch-btn",onClick:()=>i(!0),children:"تسجيل الدخول"})]})})]})]})}):null},eL=({user:n,userProfile:e,onSignOut:t})=>{const[r,i]=pe.useState(!1),[o,c]=pe.useState(!1),d=async()=>{try{await cu.signOut(),t()}catch(h){console.error("خطأ في تسجيل الخروج:",h)}},u=h=>{switch(h){case"admin":return"👑";case"teacher":return"👨‍🏫";case"student":return"🎓";default:return"👤"}},p=h=>{switch(h){case"admin":return"مدير";case"teacher":return"مدرس";case"student":return"طالب";default:return"مستخدم"}};return A.jsxs("div",{className:"user-profile-container",children:[A.jsxs("div",{className:"user-profile-trigger",onClick:()=>i(!r),children:[A.jsx("div",{className:"user-avatar",children:n.photoURL?A.jsx("img",{src:n.photoURL,alt:"صورة المستخدم"}):A.jsx("span",{className:"avatar-placeholder",children:e?.displayName?.charAt(0)||n.email?.charAt(0)||"👤"})}),A.jsxs("div",{className:"user-info",children:[A.jsx("span",{className:"user-name",children:e?.displayName||n.displayName||"مستخدم"}),A.jsx("span",{className:"user-role",children:e?.role&&A.jsxs(A.Fragment,{children:[u(e.role)," ",p(e.role)]})})]}),A.jsx("span",{className:"dropdown-arrow",children:"▼"})]}),r&&A.jsxs("div",{className:"user-dropdown",children:[A.jsxs("div",{className:"dropdown-header",children:[A.jsx("div",{className:"user-email",children:n.email}),A.jsx("div",{className:"user-status",children:"🟢 متصل"})]}),A.jsxs("div",{className:"dropdown-menu",children:[A.jsx("button",{className:"dropdown-item",onClick:()=>{c(!0),i(!1)},children:"⚙️ إعدادات الحساب"}),A.jsx("button",{className:"dropdown-item",onClick:()=>i(!1),children:"📊 الإحصائيات الشخصية"}),A.jsx("div",{className:"dropdown-divider"}),A.jsx("button",{className:"dropdown-item signout-item",onClick:d,children:"🚪 تسجيل الخروج"})]})]}),o&&A.jsx("div",{className:"profile-modal-overlay",onClick:()=>c(!1),children:A.jsxs("div",{className:"profile-modal",onClick:h=>h.stopPropagation(),children:[A.jsxs("div",{className:"profile-modal-header",children:[A.jsx("h3",{children:"⚙️ إعدادات الحساب"}),A.jsx("button",{className:"close-btn",onClick:()=>c(!1),children:"×"})]}),A.jsxs("div",{className:"profile-modal-body",children:[A.jsxs("div",{className:"profile-info",children:[A.jsx("div",{className:"profile-avatar-large",children:n.photoURL?A.jsx("img",{src:n.photoURL,alt:"صورة المستخدم"}):A.jsx("span",{className:"avatar-placeholder-large",children:e?.displayName?.charAt(0)||n.email?.charAt(0)||"👤"})}),A.jsxs("div",{className:"profile-details",children:[A.jsxs("div",{className:"detail-item",children:[A.jsx("label",{children:"الاسم:"}),A.jsx("span",{children:e?.displayName||n.displayName||"غير محدد"})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("label",{children:"البريد الإلكتروني:"}),A.jsx("span",{children:n.email})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("label",{children:"الدور:"}),A.jsx("span",{children:e?.role&&A.jsxs(A.Fragment,{children:[u(e.role)," ",p(e.role)]})})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("label",{children:"تاريخ الانضمام:"}),A.jsx("span",{children:e?.createdAt?new Date(e.createdAt).toLocaleDateString("ar-SA"):"غير محدد"})]})]})]}),A.jsxs("div",{className:"profile-actions",children:[A.jsx("button",{className:"profile-btn primary",children:"✏️ تعديل الملف الشخصي"}),A.jsx("button",{className:"profile-btn secondary",children:"🔒 تغيير كلمة المرور"})]})]})]})})]})};class tL extends pe.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Error Boundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?A.jsx("div",{className:"error-boundary",children:A.jsxs("div",{className:"error-container",children:[A.jsx("div",{className:"error-icon",children:"⚠️"}),A.jsx("h2",{children:"عذراً، حدث خطأ غير متوقع"}),A.jsx("p",{children:"نعتذر عن هذا الإزعاج. يرجى تحديث الصفحة أو المحاولة لاحقاً."}),A.jsxs("div",{className:"error-actions",children:[A.jsx("button",{className:"error-btn primary",onClick:()=>window.location.reload(),children:"🔄 تحديث الصفحة"}),A.jsx("button",{className:"error-btn secondary",onClick:()=>this.setState({hasError:!1}),children:"🔙 المحاولة مرة أخرى"})]}),!1]})}):this.props.children}}const nL=({title:n,icon:e,items:t,onItemClick:r})=>{const[i,o]=pe.useState(!1),c=pe.useRef(null);pe.useEffect(()=>{const p=h=>{c.current&&!c.current.contains(h.target)&&o(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]);const d=()=>{o(!i)},u=()=>{o(!1),r&&r()};return A.jsxs("div",{className:"dropdown-menu-container",ref:c,style:{position:"relative",display:"inline-block"},id:"dropdown-container",children:[A.jsxs("button",{className:`dropdown-trigger ${i?"active":""}`,onClick:d,"aria-expanded":i,"aria-haspopup":"true",children:[e&&A.jsx("span",{className:"dropdown-icon",children:e}),A.jsx("span",{className:"dropdown-title",children:n}),A.jsx("span",{className:`dropdown-arrow ${i?"open":""}`,children:"▼"})]}),i&&A.jsx("div",{className:"dropdown-menu",children:A.jsx("div",{className:"dropdown-menu-content",children:t.map((p,h)=>A.jsxs(dc,{to:p.to,onClick:u,className:"dropdown-item",children:[p.icon&&A.jsx("span",{className:"dropdown-item-icon",children:p.icon}),A.jsx("span",{className:"dropdown-item-label",children:p.label})]},h))})})]})},nA=({children:n,requireAdmin:e=!1,requirePermission:t})=>{const r=os.getCurrentUser();return r?r.isActive?e&&!os.isAdmin()?A.jsx("div",{className:"access-denied",dir:"rtl",children:A.jsxs("div",{className:"access-denied-content",children:[A.jsx("h2",{children:"🚫 غير مسموح بالوصول"}),A.jsx("p",{children:"هذه الصفحة مخصصة للمديرين فقط"}),A.jsx("button",{onClick:()=>window.history.back(),children:"← العودة"})]})}):t&&!os.hasPermission(t)?A.jsx("div",{className:"access-denied",dir:"rtl",children:A.jsxs("div",{className:"access-denied-content",children:[A.jsx("h2",{children:"🚫 غير مسموح بالوصول"}),A.jsx("p",{children:"ليس لديك الصلاحية للوصول لهذه الصفحة"}),A.jsx("button",{onClick:()=>window.history.back(),children:"← العودة"})]})}):A.jsx(A.Fragment,{children:n}):A.jsx("div",{className:"access-denied",dir:"rtl",children:A.jsxs("div",{className:"access-denied-content",children:[A.jsx("h2",{children:"🚫 الحساب غير مفعل"}),A.jsx("p",{children:"تم إلغاء تفعيل حسابك. يرجى التواصل مع المدير"}),A.jsx("button",{onClick:()=>{os.logout(),window.location.href="/login"},children:"🚪 تسجيل الخروج"})]})}):A.jsx(ym,{to:"/login",replace:!0})};async function AE(){try{return await FA(sr(Yt,"yearProjects","antigone-2025"),{title:"مشروع أنتيغون 2025",description:"مشروع مسرحي تجريبي لطلاب المرحلة الثانوية يهدف إلى تطوير المهارات التمثيلية والإبداعية",userId:"demo-user",status:"قيد التخطيط",director:"المخرج التجريبي",startDate:"2025-01-01",endDate:"2025-06-30",budget:5e4,venue:"المسرح المدرسي",targetAudience:"طلاب المرحلة الثانوية",notes:"مشروع تجريبي للاختبار - يمكن تعديله أو حذفه لاحقاً",createdAt:_n(),updatedAt:_n(),cast:["طالب 1","طالب 2","طالب 3"],crew:["فني الإضاءة","فني الصوت","مصمم الديكور"],objectives:["تطوير المهارات التمثيلية","بناء الثقة بالنفس","تعزيز العمل الجماعي","فهم النصوص الكلاسيكية"],timeline:[],resources:["أزياء","ديكور","إضاءة","نظام صوتي"],challenges:[],achievements:[],images:[]}),console.log("✅ تمت إضافة مشروع أنتيغون 2025 بنجاح"),!0}catch(n){return console.error("❌ خطأ أثناء إضافة المشروع:",n),!1}}async function lE(){try{return await AE(),await FA(sr(Yt,"yearProjects","shakespeare-festival"),{title:"مهرجان شكسبير المدرسي",description:"مهرجان سنوي لعرض مقاطع من أعمال شكسبير",userId:"demo-user",status:"قيد التخطيط",director:"مدرس اللغة الإنجليزية",startDate:"2025-03-01",endDate:"2025-05-15",budget:3e4,venue:"قاعة المدرسة الكبرى",targetAudience:"جميع طلاب المدرسة والأهالي",notes:"مشروع سنوي تقليدي",createdAt:_n(),updatedAt:_n(),cast:["فريق الصف العاشر","فريق الصف الحادي عشر"],crew:["طلاب النادي التقني"],objectives:["تعريف الطلاب بالأدب الإنجليزي","تحسين مهارات اللغة الإنجليزية","تنظيم فعالية مدرسية كبرى"],timeline:[],resources:["مسرح متنقل","أزياء تاريخية","موسيقى كلاسيكية"],challenges:[],achievements:[],images:[]}),console.log("✅ تمت إضافة جميع المشاريع التجريبية بنجاح"),!0}catch(n){return console.error("❌ خطأ أثناء إضافة المشاريع:",n),!1}}async function rL(){try{const n=[{title:"ورشة التمثيل الأساسي",date:"2025-02-15",time:"14:00",location:"قاعة المسرح",description:"ورشة تدريبية لتعلم أساسيات التمثيل والإلقاء",participants:"طلاب المرحلة الثانوية",status:"قيد التحضير",createdAt:_n(),updatedAt:_n()},{title:"عرض مسرحية الملك لير",date:"2025-03-20",time:"19:00",location:"المسرح الرئيسي",description:"عرض مسرحي لمسرحية الملك لير لشكسبير",participants:"فرقة المسرح المدرسي",status:"مؤكد",createdAt:_n(),updatedAt:_n()},{title:"مهرجان المسرح الطلابي",date:"2025-04-10",time:"16:00",location:"الساحة الخارجية",description:"مهرجان سنوي لعرض إبداعات الطلاب المسرحية",participants:"جميع طلاب المدرسة",status:"قيد التحضير",createdAt:_n(),updatedAt:_n()}];for(const e of n)await Tl(nr(Yt,"activities"),e);return console.log("✅ تمت إضافة الأنشطة التجريبية بنجاح"),!0}catch(n){return console.error("❌ خطأ أثناء إضافة الأنشطة:",n),!1}}async function sL(){try{const n=[{title:"تقرير شهر فبراير 2025",date:"2025-02-28",content:"تقرير شامل عن أنشطة شهر فبراير المسرحية",images:[],activities:["ورشة التمثيل الأساسي"],isArchived:!1,createdAt:_n(),updatedAt:_n()},{title:"تقرير مهرجان المسرح",date:"2025-04-15",content:"تقرير مفصل عن مهرجان المسرح الطلابي السنوي",images:[],activities:["مهرجان المسرح الطلابي"],isArchived:!1,createdAt:_n(),updatedAt:_n()}];for(const e of n)await Tl(nr(Yt,"reports"),e);return console.log("✅ تمت إضافة التقارير التجريبية بنجاح"),!0}catch(n){return console.error("❌ خطأ أثناء إضافة التقارير:",n),!1}}async function iL(){try{const n=[{username:"teacher1",password:"teacher123",fullName:"الأستاذ أحمد المسرحي",email:"teacher1@school.com",role:"teacher",isActive:!0,createdAt:_n(),permissions:{canView:!0,canEdit:!0,canDelete:!1,canExportPDF:!0,canAccessSettings:!1,canCreateReports:!0,canEditReports:!0,canDeleteReports:!1,canCreateActivities:!0,canEditActivities:!0,canDeleteActivities:!1,canManageUsers:!1,canViewUserList:!1,canEditUserPermissions:!1,canDeactivateUsers:!1,canAccessArchive:!0,canModifyProgram:!0,canAccessAnalytics:!1}},{username:"student1",password:"student123",fullName:"الطالب محمد الممثل",email:"student1@school.com",role:"student",isActive:!0,createdAt:_n(),permissions:{canView:!0,canEdit:!1,canDelete:!1,canExportPDF:!1,canAccessSettings:!1,canCreateReports:!1,canEditReports:!1,canDeleteReports:!1,canCreateActivities:!1,canEditActivities:!1,canDeleteActivities:!1,canManageUsers:!1,canViewUserList:!1,canEditUserPermissions:!1,canDeactivateUsers:!1,canAccessArchive:!1,canModifyProgram:!1,canAccessAnalytics:!1}}];for(const e of n)await Tl(nr(Yt,"users"),e);return console.log("✅ تمت إضافة المستخدمين التجريبيين بنجاح"),!0}catch(n){return console.error("❌ خطأ أثناء إضافة المستخدمين:",n),!1}}async function aL(){try{return console.log("🚀 بدء إضافة جميع البيانات التجريبية..."),await lE(),await rL(),await sL(),await iL(),console.log("🎉 تمت إضافة جميع البيانات التجريبية بنجاح!"),!0}catch(n){return console.error("❌ خطأ أثناء إضافة البيانات:",n),!1}}async function oL(){try{console.log("🗑️ بدء حذف البيانات التجريبية...");const n=wh(nr(Yt,"yearProjects"),t0("userId","==","demo-user")),e=await ra(n);for(const c of e.docs)await ou(c.ref);const t=await ra(nr(Yt,"activities"));for(const c of t.docs){const d=c.data();(d.title?.includes("ورشة")||d.title?.includes("عرض")||d.title?.includes("مهرجان"))&&await ou(c.ref)}const r=await ra(nr(Yt,"reports"));for(const c of r.docs)c.data().title?.includes("تقرير")&&await ou(c.ref);const i=wh(nr(Yt,"users"),t0("username","in",["teacher1","student1"])),o=await ra(i);for(const c of o.docs)await ou(c.ref);return console.log("✅ تم حذف البيانات التجريبية بنجاح"),!0}catch(n){return console.error("❌ خطأ أثناء حذف البيانات:",n),!1}}const AL=()=>{const[n,e]=pe.useState(!1),[t,r]=pe.useState(""),[i,o]=pe.useState({}),c=async()=>{e(!0),r("جاري فحص قاعدة البيانات...");try{const x=["activities","yearProjects","weeklySchedule","reports","archive","holidays","nationalDays","users"],w={};for(const F of x)try{const Q=await ra(nr(Yt,F));w[F]=Q.size}catch{w[F]=-1}o(w);const R=Object.values(w).reduce((F,Q)=>F+Math.max(0,Q),0);r(`✅ تم فحص قاعدة البيانات. إجمالي المستندات: ${R}`)}catch(x){r("❌ خطأ في فحص قاعدة البيانات: "+x.message)}finally{e(!1)}},d=async()=>{e(!0),r("");try{const x=await lE();r(x?"✅ تمت إضافة البيانات التجريبية بنجاح":"❌ فشل في إضافة البيانات")}catch(x){r("❌ خطأ: "+x.message)}finally{e(!1)}},u=async()=>{e(!0),r("");try{const x=await AE();r(x?"✅ تمت إضافة مشروع أنتيغون بنجاح":"❌ فشل في إضافة مشروع أنتيغون")}catch(x){r("❌ خطأ: "+x.message)}finally{e(!1)}},p=async()=>{e(!0),r("");try{const x=await aL();r(x?"🎉 تمت إضافة جميع البيانات التجريبية بنجاح!":"❌ فشل في إضافة البيانات")}catch(x){r("❌ خطأ: "+x.message)}finally{e(!1)}},h=async()=>{if(window.confirm("هل أنت متأكد من حذف جميع البيانات التجريبية؟ هذا الإجراء لا يمكن التراجع عنه.")){e(!0),r("");try{const x=await oL();r(x?"🗑️ تم حذف البيانات التجريبية بنجاح":"❌ فشل في حذف البيانات")}catch(x){r("❌ خطأ: "+x.message)}finally{e(!1)}}},b=async()=>{if(window.confirm("هل تريد إنشاء قاعدة البيانات الكاملة لجميع المكونات؟ سيتم إنشاء جميع Collections المطلوبة.")){e(!0),r("جاري إنشاء قاعدة البيانات...");try{const x=Q0(Yt),w="demo-user",R=_n(),F=sr(nr(Yt,"activities"),"sample-activity");x.set(F,{title:"نشاط تجريبي",description:"هذا نشاط تجريبي لاختبار قاعدة البيانات",date:"2025-01-15",time:"10:00",location:"قاعة الأنشطة",participants:"جميع المستويات",status:"مخطط",notes:"نشاط تجريبي - يمكن حذفه",userId:w,createdAt:R,updatedAt:R});const Q=sr(nr(Yt,"yearProjects"),"sample-project");x.set(Q,{title:"مشروع تجريبي",description:"مشروع تجريبي لاختبار قاعدة البيانات",startDate:"2025-01-01",endDate:"2025-06-30",status:"قيد التخطيط",director:"مخرج تجريبي",budget:1e4,venue:"المسرح المدرسي",targetAudience:"الطلاب",cast:["ممثل 1","ممثل 2"],crew:["تقني 1","تقني 2"],objectives:["هدف 1","هدف 2"],timeline:[],resources:["مورد 1","مورد 2"],challenges:["تحدي 1","تحدي 2"],achievements:["إنجاز 1","إنجاز 2"],images:[],notes:"مشروع تجريبي - يمكن حذفه",userId:w,createdAt:R,updatedAt:R});const I=sr(nr(Yt,"weeklySchedule"),"main-schedule");x.set(I,{title:"البرنامج الأسبوعي الرئيسي",schedule:[{day:"الأحد",sessions:[{time:"8:00 - 9:30",class:"الأول ابتدائي",activity:"تمارين التعبير",room:"قاعة الأنشطة"}]}],userId:w,createdAt:R,updatedAt:R});const T=sr(nr(Yt,"reports"),"sample-report");x.set(T,{title:"تقرير تجريبي",date:"2025-01-15",summary:"ملخص التقرير التجريبي",activities:["نشاط 1","نشاط 2"],achievements:["إنجاز 1","إنجاز 2"],gallery:[],userId:w,createdAt:R,updatedAt:R});const _=sr(nr(Yt,"archive"),"sample-archive");x.set(_,{title:"أرشيف تجريبي",year:"2025",description:"أرشيف تجريبي للاختبار",reports:[],totalReports:0,userId:w,createdAt:R,archivedBy:"النظام"});const O=sr(nr(Yt,"holidays"),"sample-holiday");x.set(O,{title:"عطلة تجريبية",startDate:"2025-07-01",endDate:"2025-08-31",type:"عطلة صيفية",description:"عطلة تجريبية للاختبار",userId:w,createdAt:R});const z=sr(nr(Yt,"nationalDays"),"sample-national-day");x.set(z,{title:"يوم وطني تجريبي",date:"2025-05-01",description:"يوم وطني تجريبي للاختبار",activities:["نشاط احتفالي"],userId:w,createdAt:R});const $=sr(nr(Yt,"users"),w);x.set($,{name:"مستخدم تجريبي",email:"demo@example.com",role:"admin",permissions:{canModifyProgram:!0,canCreateReports:!0,canManageUsers:!0,canViewArchive:!0},createdAt:R,lastLogin:R}),await x.commit(),r("🎉 تم إنشاء قاعدة البيانات الكاملة بنجاح! تم إنشاء 8 Collections مع بيانات تجريبية.")}catch(x){console.error("خطأ في إنشاء قاعدة البيانات:",x),r("❌ خطأ في إنشاء قاعدة البيانات: "+x.message)}finally{e(!1)}}};return A.jsx("div",{className:"min-h-screen bg-gray-100 p-8",children:A.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-md p-6",children:[A.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"🔧 إعدادات المطور"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[A.jsx("h2",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"⚠️ تحذير"}),A.jsx("p",{className:"text-yellow-700",children:"هذه الصفحة مخصصة للمطورين فقط. لا تستخدمها إلا إذا كنت تعرف ما تفعل."})]}),A.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[A.jsx("h2",{className:"text-lg font-semibold text-green-800 mb-2",children:"🔗 حالة الاتصال"}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),A.jsx("span",{className:"text-green-700",children:"متصل بـ Firebase: theatre-activities"})]})]}),A.jsxs("div",{className:"border border-blue-200 rounded-lg p-4 bg-blue-50",children:[A.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"🔍 فحص قاعدة البيانات"}),A.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"فحص حالة جميع Collections ومعرفة عدد المستندات في كل منها"}),A.jsx("button",{onClick:c,disabled:n,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed mb-3",children:n?"جاري الفحص...":"🔍 فحص حالة قاعدة البيانات"}),Object.keys(i).length>0&&A.jsxs("div",{className:"bg-white rounded-lg p-3 border",children:[A.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"نتائج الفحص:"}),A.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:Object.entries(i).map(([x,w])=>A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("span",{className:"text-gray-700",children:[x,":"]}),A.jsx("span",{className:`font-semibold ${w===-1?"text-red-600":w===0?"text-yellow-600":"text-green-600"}`,children:w===-1?"خطأ":w===0?"فارغ":`${w} مستند`})]},x))})]})]}),A.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[A.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-3",children:"🗄️ إنشاء قاعدة البيانات"}),A.jsx("p",{className:"text-sm text-red-700 mb-3",children:"إنشاء جميع Collections المطلوبة لجميع مكونات التطبيق"}),A.jsx("button",{onClick:b,disabled:n,className:"w-full bg-red-600 text-white py-3 px-4 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold",children:n?"جاري إنشاء قاعدة البيانات...":"🚀 إنشاء قاعدة البيانات الكاملة"})]}),A.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"📊 إضافة بيانات تجريبية"}),A.jsxs("div",{className:"space-y-3",children:[A.jsx("button",{onClick:u,disabled:n,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"جاري الإضافة...":"إضافة مشروع أنتيغون فقط"}),A.jsx("button",{onClick:d,disabled:n,className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"جاري الإضافة...":"إضافة جميع المشاريع التجريبية"}),A.jsx("button",{onClick:p,disabled:n,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"جاري الإضافة...":"🎯 إضافة جميع البيانات (شامل)"})]})]}),A.jsxs("div",{className:"border border-orange-200 rounded-lg p-4 bg-orange-50",children:[A.jsx("h3",{className:"text-lg font-semibold text-orange-800 mb-3",children:"🗑️ إدارة البيانات"}),A.jsx("button",{onClick:h,disabled:n,className:"w-full bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"جاري الحذف...":"🗑️ حذف جميع البيانات التجريبية"})]}),t&&A.jsx("div",{className:`p-4 rounded-lg ${t.includes("✅")?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:t}),A.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"📋 معلومات قاعدة البيانات"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Collections سيتم إنشاؤها:"}),A.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[A.jsxs("li",{children:["• ",A.jsx("strong",{children:"activities"})," - الأنشطة المسرحية"]}),A.jsxs("li",{children:["• ",A.jsx("strong",{children:"yearProjects"})," - مشاريع السنة"]}),A.jsxs("li",{children:["• ",A.jsx("strong",{children:"weeklySchedule"})," - البرنامج الأسبوعي"]}),A.jsxs("li",{children:["• ",A.jsx("strong",{children:"reports"})," - التقارير"]}),A.jsxs("li",{children:["• ",A.jsx("strong",{children:"archive"})," - الأرشيف"]}),A.jsxs("li",{children:["• ",A.jsx("strong",{children:"holidays"})," - العطل"]}),A.jsxs("li",{children:["• ",A.jsx("strong",{children:"nationalDays"})," - الأيام الوطنية"]}),A.jsxs("li",{children:["• ",A.jsx("strong",{children:"users"})," - المستخدمين"]})]})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"معلومات إضافية:"}),A.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[A.jsx("li",{children:'• البيانات مرتبطة بـ userId: "demo-user"'}),A.jsx("li",{children:"• يمكن حذف البيانات من Firestore Console"}),A.jsx("li",{children:"• للوصول لهذه الصفحة: /dev-settings"}),A.jsx("li",{children:"• جميع البيانات تحتوي على timestamps"}),A.jsx("li",{children:"• البيانات التجريبية آمنة للحذف"})]})]})]})]})]})]})})};function lL(){const[n,e]=pe.useState(!1),[t,r]=pe.useState(null),[i,o]=pe.useState(null),[c,d]=pe.useState(!0),[u,p]=pe.useState(!1),[h,b]=pe.useState(null),x=()=>{const I=window.location.pathname;return I.startsWith("/theatre-management-system")?"/theatre-management-system":I.startsWith("/theatre-activities")?"/theatre-activities":I.startsWith("/theatre")?"/theatre":"/theatre-management-system"};pe.useEffect(()=>{os.initializeDefaultAdmin();const I=()=>{const O=os.getCurrentUser();b(O),d(!1)};I();const T=()=>{I()};window.addEventListener("storage",T);const _=cu.onAuthStateChanged(async O=>{if(r(O),O){const z=await cu.getUserProfile(O.uid);o(z)}else o(null)});return()=>{window.removeEventListener("storage",T),_()}},[]),pe.useEffect(()=>{const I=setInterval(()=>{const T=os.getCurrentUser();JSON.stringify(T)!==JSON.stringify(h)&&b(T)},500);return()=>clearInterval(I)},[h]);const w=I=>{I.stopPropagation(),e(!n)},R=()=>{e(!1)},F=()=>{p(!1)},Q=()=>{os.logout(),b(null),r(null),o(null);const I=x();window.location.href=I||"/"};return yf.useEffect(()=>{const I=T=>{const _=T.target;n&&!_.closest(".header")&&e(!1)};return document.addEventListener("click",I),()=>document.removeEventListener("click",I)},[n]),A.jsx(tL,{children:A.jsx(lR,{children:A.jsx(B4,{basename:x(),children:A.jsxs("div",{className:"App",children:[h&&A.jsxs("div",{className:"top-logout-bar",children:[A.jsxs("span",{children:["مرحباً ",h.fullName," (",h.role==="admin"?"مدير":"مشاهد",")"]}),A.jsx("button",{onClick:Q,className:"top-logout-btn",children:"🚪 تسجيل الخروج"})]}),A.jsx("header",{className:"header",children:A.jsxs("div",{className:"container",children:[A.jsxs("div",{className:"header-top-row",children:[A.jsx("h1",{className:"logo",children:"الأستاذ مصطفى لعرعري"}),A.jsxs("nav",{className:`nav ${n?"nav-open":""}`,onClick:I=>I.stopPropagation(),children:[A.jsx(dc,{to:"/",className:"nav-link",onClick:R,children:"الرئيسية"}),A.jsx(dc,{to:"/holidays",className:"nav-link",onClick:R,children:"العطل المدرسية"}),A.jsx(dc,{to:"/national-days",className:"nav-link",onClick:R,children:"المناسبات الوطنية والعالمية"}),A.jsx(nL,{title:"البرنامج",icon:"📅",items:[{to:"/program",label:"البرنامج العام",icon:"📊"},{to:"/weekly",label:"البرنامج الأسبوعي",icon:"📆"},{to:"/year-project",label:"مشروع السنة",icon:"🎭"}],onItemClick:R}),A.jsx(dc,{to:"/reports",className:"nav-link",onClick:R,children:"التقارير"}),A.jsx(dc,{to:"/archive",className:"nav-link",onClick:R,children:"الأرشيف"}),os.isAdmin()&&A.jsx(dc,{to:"/settings",className:"nav-link",onClick:R,children:"⚙️ الإعدادات"})]}),A.jsx("div",{className:"auth-section",children:c?A.jsx("div",{className:"auth-loading",children:"⏳"}):h?A.jsxs("div",{className:"user-info",children:[A.jsxs("span",{className:"user-name",children:["مرحباً، ",h.fullName]}),A.jsx("span",{className:"user-role",children:h.role==="admin"?"👑 مدير":"👤 مشاهد"}),A.jsx("button",{className:"logout-btn-text",onClick:Q,title:"تسجيل الخروج",children:"🚪 خروج"})]}):t?A.jsx(eL,{user:t,userProfile:i,onSignOut:Q}):A.jsx(dc,{to:"/login",className:"auth-btn",children:"🔐 تسجيل الدخول"})}),A.jsx("button",{className:"mobile-menu-btn",onClick:w,children:"☰"})]}),A.jsx("div",{className:"header-info",children:A.jsx("p",{className:"supervisor-name",children:"مسؤول عن الأنشطة المسرحية - مجموعة مدارس العمران"})})]})}),A.jsx("main",{className:"main",children:A.jsxs(ZS,{children:[A.jsx(Gi,{path:"/",element:h?A.jsx(nA,{children:A.jsx(O4,{})}):A.jsx(ym,{to:"/login",replace:!0})}),A.jsx(Gi,{path:"/theatre",element:A.jsx(ym,{to:"/",replace:!0})}),A.jsx(Gi,{path:"/holidays",element:A.jsx(nA,{children:A.jsx(Y6,{})})}),A.jsx(Gi,{path:"/national-days",element:A.jsx(nA,{children:A.jsx(J6,{})})}),A.jsx(Gi,{path:"/program",element:A.jsx(nA,{children:A.jsx(iR,{})})}),A.jsx(Gi,{path:"/weekly",element:A.jsx(nA,{children:A.jsx(aR,{})})}),A.jsx(Gi,{path:"/year-project",element:A.jsx(nA,{children:A.jsx(dR,{})})}),A.jsx(Gi,{path:"/reports",element:A.jsx(nA,{children:A.jsx(hR,{})})}),A.jsx(Gi,{path:"/create-report",element:A.jsx(nA,{requirePermission:"canCreateReports",children:A.jsx(gR,{})})}),A.jsx(Gi,{path:"/edit-report/:id",element:A.jsx(nA,{requirePermission:"canEditReports",children:A.jsx(vR,{})})}),A.jsx(Gi,{path:"/archive",element:A.jsx(nA,{requirePermission:"canAccessArchive",children:A.jsx(x6,{})})}),A.jsx(Gi,{path:"/activity-report/:activityId",element:A.jsx(nA,{children:A.jsx(C6,{})})}),A.jsx(Gi,{path:"/settings",element:A.jsx(nA,{requireAdmin:!0,children:A.jsx(z6,{})})}),A.jsx(Gi,{path:"/user-management",element:A.jsx(nA,{requireAdmin:!0,children:A.jsx($6,{})})}),A.jsx(Gi,{path:"/login",element:A.jsx(W6,{})}),A.jsx(Gi,{path:"/dev-settings",element:A.jsx(AL,{})}),A.jsx(Gi,{path:"*",element:A.jsx(ym,{to:"/login",replace:!0})})]})}),A.jsx("footer",{className:"footer",children:A.jsx("div",{className:"container",children:A.jsx("p",{children:"© 2025 مصطفى لعرعري - جميع الحقوق محفوظة"})})}),A.jsx(Z6,{isOpen:u,onClose:()=>p(!1),onSuccess:F})]})})})})}lS.createRoot(document.getElementById("root")).render(A.jsx(pe.StrictMode,{children:A.jsx(lL,{})}));export{Qr as _,im as c,gB as g};
